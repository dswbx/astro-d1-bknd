const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/JsonSchemaForm-BB9_PcWW.js","assets/TextareaWidget-PeljeH7F.js","assets/index-BigF3_9g.js"])))=>i.map(i=>d[i]);
var _ie=Object.defineProperty;var HD=e=>{throw TypeError(e)};var $ie=(e,t,n)=>t in e?_ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>$ie(e,typeof t!="symbol"?t+"":t,n),nC=(e,t,n)=>t.has(e)||HD("Cannot "+n);var G=(e,t,n)=>(nC(e,t,"read from private field"),n?n.call(e):t.get(e)),Ve=(e,t,n)=>t.has(e)?HD("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Le=(e,t,n,r)=>(nC(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),nt=(e,t,n)=>(nC(e,t,"access private method"),n);var WD=(e,t,n,r)=>({set _(i){Le(e,t,i,n)},get _(){return G(e,t,r)}});function Cie(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const jie=Object.freeze(Object.defineProperty({__proto__:null,get createUser(){return FY}},Symbol.toStringTag,{value:"Module"}));var rJe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ga(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var rC={exports:{}},E0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GD;function Aie(){if(GD)return E0;GD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var a in i)a!=="key"&&(o[a]=i[a])}else o=i;return i=o.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:o}}return E0.Fragment=t,E0.jsx=n,E0.jsxs=n,E0}var KD;function Tie(){return KD||(KD=1,rC.exports=Aie()),rC.exports}var m=Tie(),iC={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function Rie(){if(YD)return xt;YD=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function p(D){return D===null||typeof D!="object"?null:(D=h&&D[h]||D["@@iterator"],typeof D=="function"?D:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function E(D,W,X){this.props=D,this.context=W,this.refs=v,this.updater=X||y}E.prototype.isReactComponent={},E.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},E.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function N(){}N.prototype=E.prototype;function O(D,W,X){this.props=D,this.context=W,this.refs=v,this.updater=X||y}var _=O.prototype=new N;_.constructor=O,x(_,E.prototype),_.isPureReactComponent=!0;var C=Array.isArray,j={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,W,X,oe,se,ie){return X=ie.ref,{$$typeof:e,type:D,key:W,ref:X!==void 0?X:null,props:ie}}function I(D,W){return R(D.type,W,void 0,void 0,void 0,D.props)}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function z(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return W[X]})}var B=/\/+/g;function U(D,W){return typeof D=="object"&&D!==null&&D.key!=null?z(""+D.key):W.toString(36)}function H(){}function M(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(H,H):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,W,X,oe,se){var ie=typeof D;(ie==="undefined"||ie==="boolean")&&(D=null);var le=!1;if(D===null)le=!0;else switch(ie){case"bigint":case"string":case"number":le=!0;break;case"object":switch(D.$$typeof){case e:case t:le=!0;break;case f:return le=D._init,L(le(D._payload),W,X,oe,se)}}if(le)return se=se(D),le=oe===""?"."+U(D,0):oe,C(se)?(X="",le!=null&&(X=le.replace(B,"$&/")+"/"),L(se,W,X,"",function(je){return je})):se!=null&&(P(se)&&(se=I(se,X+(se.key==null||D&&D.key===se.key?"":(""+se.key).replace(B,"$&/")+"/")+le)),W.push(se)),1;le=0;var pe=oe===""?".":oe+":";if(C(D))for(var ye=0;ye<D.length;ye++)oe=D[ye],ie=pe+U(oe,ye),le+=L(oe,W,X,ie,se);else if(ye=p(D),typeof ye=="function")for(D=ye.call(D),ye=0;!(oe=D.next()).done;)oe=oe.value,ie=pe+U(oe,ye++),le+=L(oe,W,X,ie,se);else if(ie==="object"){if(typeof D.then=="function")return L(M(D),W,X,oe,se);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return le}function T(D,W,X){if(D==null)return D;var oe=[],se=0;return L(D,oe,"","",function(ie){return W.call(X,ie,se++)}),oe}function F(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var k=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function q(){}return xt.Children={map:T,forEach:function(D,W,X){T(D,function(){W.apply(this,arguments)},X)},count:function(D){var W=0;return T(D,function(){W++}),W},toArray:function(D){return T(D,function(W){return W})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},xt.Component=E,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=O,xt.StrictMode=r,xt.Suspense=c,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,xt.act=function(){throw Error("act(...) is not supported in production builds of React.")},xt.cache=function(D){return function(){return D.apply(null,arguments)}},xt.cloneElement=function(D,W,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=x({},D.props),se=D.key,ie=void 0;if(W!=null)for(le in W.ref!==void 0&&(ie=void 0),W.key!==void 0&&(se=""+W.key),W)!A.call(W,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&W.ref===void 0||(oe[le]=W[le]);var le=arguments.length-2;if(le===1)oe.children=X;else if(1<le){for(var pe=Array(le),ye=0;ye<le;ye++)pe[ye]=arguments[ye+2];oe.children=pe}return R(D.type,se,void 0,void 0,ie,oe)},xt.createContext=function(D){return D={$$typeof:s,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},xt.createElement=function(D,W,X){var oe,se={},ie=null;if(W!=null)for(oe in W.key!==void 0&&(ie=""+W.key),W)A.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(se[oe]=W[oe]);var le=arguments.length-2;if(le===1)se.children=X;else if(1<le){for(var pe=Array(le),ye=0;ye<le;ye++)pe[ye]=arguments[ye+2];se.children=pe}if(D&&D.defaultProps)for(oe in le=D.defaultProps,le)se[oe]===void 0&&(se[oe]=le[oe]);return R(D,ie,void 0,void 0,null,se)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(D){return{$$typeof:a,render:D}},xt.isValidElement=P,xt.lazy=function(D){return{$$typeof:f,_payload:{_status:-1,_result:D},_init:F}},xt.memo=function(D,W){return{$$typeof:u,type:D,compare:W===void 0?null:W}},xt.startTransition=function(D){var W=j.T,X={};j.T=X;try{var oe=D(),se=j.S;se!==null&&se(X,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(q,k)}catch(ie){k(ie)}finally{j.T=W}},xt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},xt.use=function(D){return j.H.use(D)},xt.useActionState=function(D,W,X){return j.H.useActionState(D,W,X)},xt.useCallback=function(D,W){return j.H.useCallback(D,W)},xt.useContext=function(D){return j.H.useContext(D)},xt.useDebugValue=function(){},xt.useDeferredValue=function(D,W){return j.H.useDeferredValue(D,W)},xt.useEffect=function(D,W){return j.H.useEffect(D,W)},xt.useId=function(){return j.H.useId()},xt.useImperativeHandle=function(D,W,X){return j.H.useImperativeHandle(D,W,X)},xt.useInsertionEffect=function(D,W){return j.H.useInsertionEffect(D,W)},xt.useLayoutEffect=function(D,W){return j.H.useLayoutEffect(D,W)},xt.useMemo=function(D,W){return j.H.useMemo(D,W)},xt.useOptimistic=function(D,W){return j.H.useOptimistic(D,W)},xt.useReducer=function(D,W,X){return j.H.useReducer(D,W,X)},xt.useRef=function(D){return j.H.useRef(D)},xt.useState=function(D){return j.H.useState(D)},xt.useSyncExternalStore=function(D,W,X){return j.H.useSyncExternalStore(D,W,X)},xt.useTransition=function(){return j.H.useTransition()},xt.version="19.0.0",xt}var JD;function Fg(){return JD||(JD=1,iC.exports=Rie()),iC.exports}var w=Fg();const De=ga(w),dU=Cie({__proto__:null,default:De},[w]);var oC={exports:{}},N0={},sC={exports:{}},aC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD;function Iie(){return XD||(XD=1,function(e){function t(T,F){var k=T.length;T.push(F);e:for(;0<k;){var q=k-1>>>1,D=T[q];if(0<i(D,F))T[q]=F,T[k]=D,k=q;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var F=T[0],k=T.pop();if(k!==F){T[0]=k;e:for(var q=0,D=T.length,W=D>>>1;q<W;){var X=2*(q+1)-1,oe=T[X],se=X+1,ie=T[se];if(0>i(oe,k))se<D&&0>i(ie,oe)?(T[q]=ie,T[se]=k,q=se):(T[q]=oe,T[X]=k,q=X);else if(se<D&&0>i(ie,k))T[q]=ie,T[se]=k,q=se;else break e}}return F}function i(T,F){var k=T.sortIndex-F.sortIndex;return k!==0?k:T.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],f=1,h=null,p=3,y=!1,x=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function _(T){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=T)r(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function C(T){if(v=!1,_(T),!x)if(n(c)!==null)x=!0,M();else{var F=n(u);F!==null&&L(C,F.startTime-T)}}var j=!1,A=-1,R=5,I=-1;function P(){return!(e.unstable_now()-I<R)}function z(){if(j){var T=e.unstable_now();I=T;var F=!0;try{e:{x=!1,v&&(v=!1,N(A),A=-1),y=!0;var k=p;try{t:{for(_(T),h=n(c);h!==null&&!(h.expirationTime>T&&P());){var q=h.callback;if(typeof q=="function"){h.callback=null,p=h.priorityLevel;var D=q(h.expirationTime<=T);if(T=e.unstable_now(),typeof D=="function"){h.callback=D,_(T),F=!0;break t}h===n(c)&&r(c),_(T)}else r(c);h=n(c)}if(h!==null)F=!0;else{var W=n(u);W!==null&&L(C,W.startTime-T),F=!1}}break e}finally{h=null,p=k,y=!1}F=void 0}}finally{F?B():j=!1}}}var B;if(typeof O=="function")B=function(){O(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,H=U.port2;U.port1.onmessage=z,B=function(){H.postMessage(null)}}else B=function(){E(z,0)};function M(){j||(j=!0,B())}function L(T,F){A=E(function(){T(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||y||(x=!0,M())},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var k=p;p=F;try{return T()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,F){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var k=p;p=T;try{return F()}finally{p=k}},e.unstable_scheduleCallback=function(T,F,k){var q=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?q+k:q):k=q,T){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=k+D,T={id:f++,callback:F,priorityLevel:T,startTime:k,expirationTime:D,sortIndex:-1},k>q?(T.sortIndex=k,t(u,T),n(c)===null&&T===n(u)&&(v?(N(A),A=-1):v=!0,L(C,k-q))):(T.sortIndex=D,t(c,T),x||y||(x=!0,M())),T},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(T){var F=p;return function(){var k=p;p=F;try{return T.apply(this,arguments)}finally{p=k}}}}(aC)),aC}var QD;function Mie(){return QD||(QD=1,sC.exports=Iie()),sC.exports}var lC={exports:{}},oi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZD;function kie(){if(ZD)return oi;ZD=1;var e=Fg();function t(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,u,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:c,containerInfo:u,implementation:f}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return oi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,oi.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(t(299));return o(c,u,null,f)},oi.flushSync=function(c){var u=s.T,f=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=u,r.p=f,r.d.f()}},oi.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(c,u))},oi.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},oi.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,h=a(f,u.crossOrigin),p=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?r.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:y}):f==="script"&&r.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},oi.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=a(u.as,u.crossOrigin);r.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(c)},oi.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,h=a(f,u.crossOrigin);r.d.L(c,f,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},oi.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=a(u.as,u.crossOrigin);r.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(c)},oi.requestFormReset=function(c){r.d.r(c)},oi.unstable_batchedUpdates=function(c,u){return c(u)},oi.useFormState=function(c,u,f){return s.H.useFormState(c,u,f)},oi.useFormStatus=function(){return s.H.useHostTransitionStatus()},oi.version="19.0.0",oi}var e9;function fU(){if(e9)return lC.exports;e9=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lC.exports=kie(),lC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t9;function Pie(){if(t9)return N0;t9=1;var e=Mie(),t=Fg(),n=fU();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}var o=Symbol.for("react.element"),s=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.consumer"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),C=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function A(l){return l===null||typeof l!="object"?null:(l=j&&l[j]||l["@@iterator"],typeof l=="function"?l:null)}var R=Symbol.for("react.client.reference");function I(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===R?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case c:return"Fragment";case a:return"Portal";case f:return"Profiler";case u:return"StrictMode";case v:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case y:return(l.displayName||"Context")+".Provider";case p:return(l._context.displayName||"Context")+".Consumer";case x:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case N:return d=l.displayName||null,d!==null?d:I(l.type)||"Memo";case O:d=l._payload,l=l._init;try{return I(l(d))}catch{}}return null}var P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,B,U;function H(l){if(B===void 0)try{throw Error()}catch(g){var d=g.stack.trim().match(/\n( *(at )?)/);B=d&&d[1]||"",U=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+B+l+U}var M=!1;function L(l,d){if(!l||M)return"";M=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Ce){var ve=Ce}Reflect.construct(l,[],Me)}else{try{Me.call()}catch(Ce){ve=Ce}l.call(Me.prototype)}}else{try{throw Error()}catch(Ce){ve=Ce}(Me=l())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Ce){if(Ce&&ve&&typeof Ce.stack=="string")return[Ce.stack,ve.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=b.DetermineComponentFrameRoot(),V=$[0],K=$[1];if(V&&K){var te=V.split(`
`),fe=K.split(`
`);for(S=b=0;b<te.length&&!te[b].includes("DetermineComponentFrameRoot");)b++;for(;S<fe.length&&!fe[S].includes("DetermineComponentFrameRoot");)S++;if(b===te.length||S===fe.length)for(b=te.length-1,S=fe.length-1;1<=b&&0<=S&&te[b]!==fe[S];)S--;for(;1<=b&&0<=S;b--,S--)if(te[b]!==fe[S]){if(b!==1||S!==1)do if(b--,S--,0>S||te[b]!==fe[S]){var Ae=`
`+te[b].replace(" at new "," at ");return l.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",l.displayName)),Ae}while(1<=b&&0<=S);break}}}finally{M=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?H(g):""}function T(l){switch(l.tag){case 26:case 27:case 5:return H(l.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 15:return l=L(l.type,!1),l;case 11:return l=L(l.type.render,!1),l;case 1:return l=L(l.type,!0),l;default:return""}}function F(l){try{var d="";do d+=T(l),l=l.return;while(l);return d}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}function k(l){var d=l,g=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(g=d.return),l=d.return;while(l)}return d.tag===3?g:null}function q(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function D(l){if(k(l)!==l)throw Error(r(188))}function W(l){var d=l.alternate;if(!d){if(d=k(l),d===null)throw Error(r(188));return d!==l?null:l}for(var g=l,b=d;;){var S=g.return;if(S===null)break;var $=S.alternate;if($===null){if(b=S.return,b!==null){g=b;continue}break}if(S.child===$.child){for($=S.child;$;){if($===g)return D(S),l;if($===b)return D(S),d;$=$.sibling}throw Error(r(188))}if(g.return!==b.return)g=S,b=$;else{for(var V=!1,K=S.child;K;){if(K===g){V=!0,g=S,b=$;break}if(K===b){V=!0,b=S,g=$;break}K=K.sibling}if(!V){for(K=$.child;K;){if(K===g){V=!0,g=$,b=S;break}if(K===b){V=!0,b=$,g=S;break}K=K.sibling}if(!V)throw Error(r(189))}}if(g.alternate!==b)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:d}function X(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=X(l),d!==null)return d;l=l.sibling}return null}var oe=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},le=[],pe=-1;function ye(l){return{current:l}}function je(l){0>pe||(l.current=le[pe],le[pe]=null,pe--)}function Te(l,d){pe++,le[pe]=l.current,l.current=d}var J=ye(null),me=ye(null),Z=ye(null),we=ye(null);function Ne(l,d){switch(Te(Z,d),Te(me,l),Te(J,null),l=d.nodeType,l){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?vD(d):0;break;default:if(l=l===8?d.parentNode:d,d=l.tagName,l=l.namespaceURI)l=vD(l),d=wD(l,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}je(J),Te(J,d)}function $e(){je(J),je(me),je(Z)}function _e(l){l.memoizedState!==null&&Te(we,l);var d=J.current,g=wD(d,l.type);d!==g&&(Te(me,l),Te(J,g))}function Y(l){me.current===l&&(je(J),je(me)),we.current===l&&(je(we),b0._currentValue=ie)}var re=Object.prototype.hasOwnProperty,Q=e.unstable_scheduleCallback,xe=e.unstable_cancelCallback,ue=e.unstable_shouldYield,de=e.unstable_requestPaint,ae=e.unstable_now,he=e.unstable_getCurrentPriorityLevel,Ee=e.unstable_ImmediatePriority,ke=e.unstable_UserBlockingPriority,Fe=e.unstable_NormalPriority,gt=e.unstable_LowPriority,Xt=e.unstable_IdlePriority,Mt=e.log,_a=e.unstable_setDisableYieldValue,Qt=null,Kt=null;function Uo(l){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(Qt,l,void 0,(l.current.flags&128)===128)}catch{}}function Vo(l){if(typeof Mt=="function"&&_a(l),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(Qt,l)}catch{}}var Ar=Math.clz32?Math.clz32:Cy,Xd=Math.log,lm=Math.LN2;function Cy(l){return l>>>=0,l===0?32:31-(Xd(l)/lm|0)|0}var vl=128,Zc=4194304;function Tr(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function wl(l,d){var g=l.pendingLanes;if(g===0)return 0;var b=0,S=l.suspendedLanes,$=l.pingedLanes,V=l.warmLanes;l=l.finishedLanes!==0;var K=g&134217727;return K!==0?(g=K&~S,g!==0?b=Tr(g):($&=K,$!==0?b=Tr($):l||(V=K&~V,V!==0&&(b=Tr(V))))):(K=g&~S,K!==0?b=Tr(K):$!==0?b=Tr($):l||(V=g&~V,V!==0&&(b=Tr(V)))),b===0?0:d!==0&&d!==b&&(d&S)===0&&(S=b&-b,V=d&-d,S>=V||S===32&&(V&4194176)!==0)?d:b}function eu(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function jy(l,d){switch(l){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cm(){var l=vl;return vl<<=1,(vl&4194176)===0&&(vl=128),l}function $n(){var l=Zc;return Zc<<=1,(Zc&62914560)===0&&(Zc=4194304),l}function ho(l){for(var d=[],g=0;31>g;g++)d.push(l);return d}function gi(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function $a(l,d,g,b,S,$){var V=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var K=l.entanglements,te=l.expirationTimes,fe=l.hiddenUpdates;for(g=V&~g;0<g;){var Ae=31-Ar(g),Me=1<<Ae;K[Ae]=0,te[Ae]=-1;var ve=fe[Ae];if(ve!==null)for(fe[Ae]=null,Ae=0;Ae<ve.length;Ae++){var Ce=ve[Ae];Ce!==null&&(Ce.lane&=-536870913)}g&=~Me}b!==0&&tu(l,b,0),$!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=$&~(V&~d))}function tu(l,d,g){l.pendingLanes|=d,l.suspendedLanes&=~d;var b=31-Ar(d);l.entangledLanes|=d,l.entanglements[b]=l.entanglements[b]|1073741824|g&4194218}function Qd(l,d){var g=l.entangledLanes|=d;for(l=l.entanglements;g;){var b=31-Ar(g),S=1<<b;S&d|l[b]&d&&(l[b]|=d),g&=~S}}function Zd(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function ef(){var l=se.p;return l!==0?l:(l=window.event,l===void 0?32:LD(l.type))}function Ay(l,d){var g=se.p;try{return se.p=l,d()}finally{se.p=g}}var qo=Math.random().toString(36).slice(2),rr="__reactFiber$"+qo,Rr="__reactProps$"+qo,ht="__reactContainer$"+qo,Ir="__reactEvents$"+qo,Ho="__reactListeners$"+qo,aw="__reactHandles$"+qo,lw="__reactResources$"+qo,tf="__reactMarker$"+qo;function Ty(l){delete l[rr],delete l[Rr],delete l[Ir],delete l[Ho],delete l[aw]}function Sl(l){var d=l[rr];if(d)return d;for(var g=l.parentNode;g;){if(d=g[ht]||g[rr]){if(g=d.alternate,d.child!==null||g!==null&&g.child!==null)for(l=ND(l);l!==null;){if(g=l[rr])return g;l=ND(l)}return d}l=g,g=l.parentNode}return null}function nu(l){if(l=l[rr]||l[ht]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function ru(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function iu(l){var d=l[lw];return d||(d=l[lw]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function ir(l){l[tf]=!0}var cw=new Set,uw={};function El(l,d){ou(l,d),ou(l+"Capture",d)}function ou(l,d){for(uw[l]=d,l=0;l<d.length;l++)cw.add(d[l])}var Ms=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fw={},hw={};function XO(l){return re.call(hw,l)?!0:re.call(fw,l)?!1:dw.test(l)?hw[l]=!0:(fw[l]=!0,!1)}function um(l,d,g){if(XO(d))if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+g)}}function dm(l,d,g){if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+g)}}function ks(l,d,g,b){if(b===null)l.removeAttribute(g);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(d,g,""+b)}}function zi(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function nf(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function QO(l){var d=nf(l)?"checked":"value",g=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),b=""+l[d];if(!l.hasOwnProperty(d)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var S=g.get,$=g.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return S.call(this)},set:function(V){b=""+V,$.call(this,V)}}),Object.defineProperty(l,d,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(V){b=""+V},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function fm(l){l._valueTracker||(l._valueTracker=QO(l))}function hm(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var g=d.getValue(),b="";return l&&(b=nf(l)?l.checked?"true":"false":l.value),l=b,l!==g?(d.setValue(l),!0):!1}function mm(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var ZO=/[\n"\\]/g;function yi(l){return l.replace(ZO,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function e_(l,d,g,b,S,$,V,K){l.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?l.type=V:l.removeAttribute("type"),d!=null?V==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+zi(d)):l.value!==""+zi(d)&&(l.value=""+zi(d)):V!=="submit"&&V!=="reset"||l.removeAttribute("value"),d!=null?t_(l,V,zi(d)):g!=null?t_(l,V,zi(g)):b!=null&&l.removeAttribute("value"),S==null&&$!=null&&(l.defaultChecked=!!$),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?l.name=""+zi(K):l.removeAttribute("name")}function Ok(l,d,g,b,S,$,V,K){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(l.type=$),d!=null||g!=null){if(!($!=="submit"&&$!=="reset"||d!=null))return;g=g!=null?""+zi(g):"",d=d!=null?""+zi(d):g,K||d===l.value||(l.value=d),l.defaultValue=d}b=b??S,b=typeof b!="function"&&typeof b!="symbol"&&!!b,l.checked=K?l.checked:!!b,l.defaultChecked=!!b,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(l.name=V)}function t_(l,d,g){d==="number"&&mm(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function pm(l,d,g,b){if(l=l.options,d){d={};for(var S=0;S<g.length;S++)d["$"+g[S]]=!0;for(g=0;g<l.length;g++)S=d.hasOwnProperty("$"+l[g].value),l[g].selected!==S&&(l[g].selected=S),S&&b&&(l[g].defaultSelected=!0)}else{for(g=""+zi(g),d=null,S=0;S<l.length;S++){if(l[S].value===g){l[S].selected=!0,b&&(l[S].defaultSelected=!0);return}d!==null||l[S].disabled||(d=l[S])}d!==null&&(d.selected=!0)}}function _k(l,d,g){if(d!=null&&(d=""+zi(d),d!==l.value&&(l.value=d),g==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=g!=null?""+zi(g):""}function $k(l,d,g,b){if(d==null){if(b!=null){if(g!=null)throw Error(r(92));if(oe(b)){if(1<b.length)throw Error(r(93));b=b[0]}g=b}g==null&&(g=""),d=g}g=zi(d),l.defaultValue=g,b=l.textContent,b===g&&b!==""&&b!==null&&(l.value=b)}function gm(l,d){if(d){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=d;return}}l.textContent=d}var Ene=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ck(l,d,g){var b=d.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?b?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":b?l.setProperty(d,g):typeof g!="number"||g===0||Ene.has(d)?d==="float"?l.cssFloat=g:l[d]=(""+g).trim():l[d]=g+"px"}function jk(l,d,g){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,g!=null){for(var b in g)!g.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?l.setProperty(b,""):b==="float"?l.cssFloat="":l[b]="");for(var S in d)b=d[S],d.hasOwnProperty(S)&&g[S]!==b&&Ck(l,S,b)}else for(var $ in d)d.hasOwnProperty($)&&Ck(l,$,d[$])}function n_(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nne=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),One=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mw(l){return One.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var r_=null;function i_(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ym=null,bm=null;function Ak(l){var d=nu(l);if(d&&(l=d.stateNode)){var g=l[Rr]||null;e:switch(l=d.stateNode,d.type){case"input":if(e_(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),d=g.name,g.type==="radio"&&d!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+yi(""+d)+'"][type="radio"]'),d=0;d<g.length;d++){var b=g[d];if(b!==l&&b.form===l.form){var S=b[Rr]||null;if(!S)throw Error(r(90));e_(b,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(d=0;d<g.length;d++)b=g[d],b.form===l.form&&hm(b)}break e;case"textarea":_k(l,g.value,g.defaultValue);break e;case"select":d=g.value,d!=null&&pm(l,!!g.multiple,d,!1)}}}var o_=!1;function Tk(l,d,g){if(o_)return l(d,g);o_=!0;try{var b=l(d);return b}finally{if(o_=!1,(ym!==null||bm!==null)&&(Xw(),ym&&(d=ym,l=bm,bm=ym=null,Ak(d),l)))for(d=0;d<l.length;d++)Ak(l[d])}}function Ry(l,d){var g=l.stateNode;if(g===null)return null;var b=g[Rr]||null;if(b===null)return null;g=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(l=l.type,b=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!b;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,d,typeof g));return g}var s_=!1;if(Ms)try{var Iy={};Object.defineProperty(Iy,"passive",{get:function(){s_=!0}}),window.addEventListener("test",Iy,Iy),window.removeEventListener("test",Iy,Iy)}catch{s_=!1}var su=null,a_=null,pw=null;function Rk(){if(pw)return pw;var l,d=a_,g=d.length,b,S="value"in su?su.value:su.textContent,$=S.length;for(l=0;l<g&&d[l]===S[l];l++);var V=g-l;for(b=1;b<=V&&d[g-b]===S[$-b];b++);return pw=S.slice(l,1<b?1-b:void 0)}function gw(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function yw(){return!0}function Ik(){return!1}function Ui(l){function d(g,b,S,$,V){this._reactName=g,this._targetInst=S,this.type=b,this.nativeEvent=$,this.target=V,this.currentTarget=null;for(var K in l)l.hasOwnProperty(K)&&(g=l[K],this[K]=g?g($):$[K]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?yw:Ik,this.isPropagationStopped=Ik,this}return z(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=yw)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=yw)},persist:function(){},isPersistent:yw}),d}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bw=Ui(rf),My=z({},rf,{view:0,detail:0}),_ne=Ui(My),l_,c_,ky,xw=z({},My,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d_,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ky&&(ky&&l.type==="mousemove"?(l_=l.screenX-ky.screenX,c_=l.screenY-ky.screenY):c_=l_=0,ky=l),l_)},movementY:function(l){return"movementY"in l?l.movementY:c_}}),Mk=Ui(xw),$ne=z({},xw,{dataTransfer:0}),Cne=Ui($ne),jne=z({},My,{relatedTarget:0}),u_=Ui(jne),Ane=z({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),Tne=Ui(Ane),Rne=z({},rf,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ine=Ui(Rne),Mne=z({},rf,{data:0}),kk=Ui(Mne),kne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fne(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Dne[l])?!!d[l]:!1}function d_(){return Fne}var Lne=z({},My,{key:function(l){if(l.key){var d=kne[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=gw(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Pne[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d_,charCode:function(l){return l.type==="keypress"?gw(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?gw(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Bne=Ui(Lne),zne=z({},xw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pk=Ui(zne),Une=z({},My,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d_}),Vne=Ui(Une),qne=z({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hne=Ui(qne),Wne=z({},xw,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Gne=Ui(Wne),Kne=z({},rf,{newState:0,oldState:0}),Yne=Ui(Kne),Jne=[9,13,27,32],f_=Ms&&"CompositionEvent"in window,Py=null;Ms&&"documentMode"in document&&(Py=document.documentMode);var Xne=Ms&&"TextEvent"in window&&!Py,Dk=Ms&&(!f_||Py&&8<Py&&11>=Py),Fk=" ",Lk=!1;function Bk(l,d){switch(l){case"keyup":return Jne.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zk(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var xm=!1;function Qne(l,d){switch(l){case"compositionend":return zk(d);case"keypress":return d.which!==32?null:(Lk=!0,Fk);case"textInput":return l=d.data,l===Fk&&Lk?null:l;default:return null}}function Zne(l,d){if(xm)return l==="compositionend"||!f_&&Bk(l,d)?(l=Rk(),pw=a_=su=null,xm=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Dk&&d.locale!=="ko"?null:d.data;default:return null}}var ere={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uk(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!ere[l.type]:d==="textarea"}function Vk(l,d,g,b){ym?bm?bm.push(b):bm=[b]:ym=b,d=n1(d,"onChange"),0<d.length&&(g=new bw("onChange","change",null,g,b),l.push({event:g,listeners:d}))}var Dy=null,Fy=null;function tre(l){pD(l,0)}function vw(l){var d=ru(l);if(hm(d))return l}function qk(l,d){if(l==="change")return d}var Hk=!1;if(Ms){var h_;if(Ms){var m_="oninput"in document;if(!m_){var Wk=document.createElement("div");Wk.setAttribute("oninput","return;"),m_=typeof Wk.oninput=="function"}h_=m_}else h_=!1;Hk=h_&&(!document.documentMode||9<document.documentMode)}function Gk(){Dy&&(Dy.detachEvent("onpropertychange",Kk),Fy=Dy=null)}function Kk(l){if(l.propertyName==="value"&&vw(Fy)){var d=[];Vk(d,Fy,l,i_(l)),Tk(tre,d)}}function nre(l,d,g){l==="focusin"?(Gk(),Dy=d,Fy=g,Dy.attachEvent("onpropertychange",Kk)):l==="focusout"&&Gk()}function rre(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return vw(Fy)}function ire(l,d){if(l==="click")return vw(d)}function ore(l,d){if(l==="input"||l==="change")return vw(d)}function sre(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var mo=typeof Object.is=="function"?Object.is:sre;function Ly(l,d){if(mo(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var g=Object.keys(l),b=Object.keys(d);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var S=g[b];if(!re.call(d,S)||!mo(l[S],d[S]))return!1}return!0}function Yk(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Jk(l,d){var g=Yk(l);l=0;for(var b;g;){if(g.nodeType===3){if(b=l+g.textContent.length,l<=d&&b>=d)return{node:g,offset:d-l};l=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=Yk(g)}}function Xk(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?Xk(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function Qk(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=mm(l.document);d instanceof l.HTMLIFrameElement;){try{var g=typeof d.contentWindow.location.href=="string"}catch{g=!1}if(g)l=d.contentWindow;else break;d=mm(l.document)}return d}function p_(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}function are(l,d){var g=Qk(d);d=l.focusedElem;var b=l.selectionRange;if(g!==d&&d&&d.ownerDocument&&Xk(d.ownerDocument.documentElement,d)){if(b!==null&&p_(d)){if(l=b.start,g=b.end,g===void 0&&(g=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(g,d.value.length);else if(g=(l=d.ownerDocument||document)&&l.defaultView||window,g.getSelection){g=g.getSelection();var S=d.textContent.length,$=Math.min(b.start,S);b=b.end===void 0?$:Math.min(b.end,S),!g.extend&&$>b&&(S=b,b=$,$=S),S=Jk(d,$);var V=Jk(d,b);S&&V&&(g.rangeCount!==1||g.anchorNode!==S.node||g.anchorOffset!==S.offset||g.focusNode!==V.node||g.focusOffset!==V.offset)&&(l=l.createRange(),l.setStart(S.node,S.offset),g.removeAllRanges(),$>b?(g.addRange(l),g.extend(V.node,V.offset)):(l.setEnd(V.node,V.offset),g.addRange(l)))}}for(l=[],g=d;g=g.parentNode;)g.nodeType===1&&l.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)g=l[d],g.element.scrollLeft=g.left,g.element.scrollTop=g.top}}var lre=Ms&&"documentMode"in document&&11>=document.documentMode,vm=null,g_=null,By=null,y_=!1;function Zk(l,d,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;y_||vm==null||vm!==mm(b)||(b=vm,"selectionStart"in b&&p_(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),By&&Ly(By,b)||(By=b,b=n1(g_,"onSelect"),0<b.length&&(d=new bw("onSelect","select",null,d,g),l.push({event:d,listeners:b}),d.target=vm)))}function of(l,d){var g={};return g[l.toLowerCase()]=d.toLowerCase(),g["Webkit"+l]="webkit"+d,g["Moz"+l]="moz"+d,g}var wm={animationend:of("Animation","AnimationEnd"),animationiteration:of("Animation","AnimationIteration"),animationstart:of("Animation","AnimationStart"),transitionrun:of("Transition","TransitionRun"),transitionstart:of("Transition","TransitionStart"),transitioncancel:of("Transition","TransitionCancel"),transitionend:of("Transition","TransitionEnd")},b_={},eP={};Ms&&(eP=document.createElement("div").style,"AnimationEvent"in window||(delete wm.animationend.animation,delete wm.animationiteration.animation,delete wm.animationstart.animation),"TransitionEvent"in window||delete wm.transitionend.transition);function sf(l){if(b_[l])return b_[l];if(!wm[l])return l;var d=wm[l],g;for(g in d)if(d.hasOwnProperty(g)&&g in eP)return b_[l]=d[g];return l}var tP=sf("animationend"),nP=sf("animationiteration"),rP=sf("animationstart"),cre=sf("transitionrun"),ure=sf("transitionstart"),dre=sf("transitioncancel"),iP=sf("transitionend"),oP=new Map,sP="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ps(l,d){oP.set(l,d),El(d,[l])}var Wo=[],Sm=0,x_=0;function ww(){for(var l=Sm,d=x_=Sm=0;d<l;){var g=Wo[d];Wo[d++]=null;var b=Wo[d];Wo[d++]=null;var S=Wo[d];Wo[d++]=null;var $=Wo[d];if(Wo[d++]=null,b!==null&&S!==null){var V=b.pending;V===null?S.next=S:(S.next=V.next,V.next=S),b.pending=S}$!==0&&aP(g,S,$)}}function Sw(l,d,g,b){Wo[Sm++]=l,Wo[Sm++]=d,Wo[Sm++]=g,Wo[Sm++]=b,x_|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function v_(l,d,g,b){return Sw(l,d,g,b),Ew(l)}function au(l,d){return Sw(l,null,null,d),Ew(l)}function aP(l,d,g){l.lanes|=g;var b=l.alternate;b!==null&&(b.lanes|=g);for(var S=!1,$=l.return;$!==null;)$.childLanes|=g,b=$.alternate,b!==null&&(b.childLanes|=g),$.tag===22&&(l=$.stateNode,l===null||l._visibility&1||(S=!0)),l=$,$=$.return;S&&d!==null&&l.tag===3&&($=l.stateNode,S=31-Ar(g),$=$.hiddenUpdates,l=$[S],l===null?$[S]=[d]:l.push(d),d.lane=g|536870912)}function Ew(l){if(50<d0)throw d0=0,_$=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var Em={},lP=new WeakMap;function Go(l,d){if(typeof l=="object"&&l!==null){var g=lP.get(l);return g!==void 0?g:(d={value:l,source:d,stack:F(d)},lP.set(l,d),d)}return{value:l,source:d,stack:F(d)}}var Nm=[],Om=0,Nw=null,Ow=0,Ko=[],Yo=0,af=null,Nl=1,Ol="";function lf(l,d){Nm[Om++]=Ow,Nm[Om++]=Nw,Nw=l,Ow=d}function cP(l,d,g){Ko[Yo++]=Nl,Ko[Yo++]=Ol,Ko[Yo++]=af,af=l;var b=Nl;l=Ol;var S=32-Ar(b)-1;b&=~(1<<S),g+=1;var $=32-Ar(d)+S;if(30<$){var V=S-S%5;$=(b&(1<<V)-1).toString(32),b>>=V,S-=V,Nl=1<<32-Ar(d)+S|g<<S|b,Ol=$+l}else Nl=1<<$|g<<S|b,Ol=l}function w_(l){l.return!==null&&(lf(l,1),cP(l,1,0))}function S_(l){for(;l===Nw;)Nw=Nm[--Om],Nm[Om]=null,Ow=Nm[--Om],Nm[Om]=null;for(;l===af;)af=Ko[--Yo],Ko[Yo]=null,Ol=Ko[--Yo],Ko[Yo]=null,Nl=Ko[--Yo],Ko[Yo]=null}var bi=null,Kr=null,Ht=!1,Ds=null,Ca=!1,E_=Error(r(519));function cf(l){var d=Error(r(418,""));throw Vy(Go(d,l)),E_}function uP(l){var d=l.stateNode,g=l.type,b=l.memoizedProps;switch(d[rr]=l,d[Rr]=b,g){case"dialog":It("cancel",d),It("close",d);break;case"iframe":case"object":case"embed":It("load",d);break;case"video":case"audio":for(g=0;g<h0.length;g++)It(h0[g],d);break;case"source":It("error",d);break;case"img":case"image":case"link":It("error",d),It("load",d);break;case"details":It("toggle",d);break;case"input":It("invalid",d),Ok(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),fm(d);break;case"select":It("invalid",d);break;case"textarea":It("invalid",d),$k(d,b.value,b.defaultValue,b.children),fm(d)}g=b.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||d.textContent===""+g||b.suppressHydrationWarning===!0||xD(d.textContent,g)?(b.popover!=null&&(It("beforetoggle",d),It("toggle",d)),b.onScroll!=null&&It("scroll",d),b.onScrollEnd!=null&&It("scrollend",d),b.onClick!=null&&(d.onclick=r1),d=!0):d=!1,d||cf(l)}function dP(l){for(bi=l.return;bi;)switch(bi.tag){case 3:case 27:Ca=!0;return;case 5:case 13:Ca=!1;return;default:bi=bi.return}}function zy(l){if(l!==bi)return!1;if(!Ht)return dP(l),Ht=!0,!1;var d=!1,g;if((g=l.tag!==3&&l.tag!==27)&&((g=l.tag===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||V$(l.type,l.memoizedProps)),g=!g),g&&(d=!0),d&&Kr&&cf(l),dP(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(g=l.data,g==="/$"){if(d===0){Kr=Ls(l.nextSibling);break e}d--}else g!=="$"&&g!=="$!"&&g!=="$?"||d++;l=l.nextSibling}Kr=null}}else Kr=bi?Ls(l.stateNode.nextSibling):null;return!0}function Uy(){Kr=bi=null,Ht=!1}function Vy(l){Ds===null?Ds=[l]:Ds.push(l)}var qy=Error(r(460)),fP=Error(r(474)),N_={then:function(){}};function hP(l){return l=l.status,l==="fulfilled"||l==="rejected"}function _w(){}function mP(l,d,g){switch(g=l[g],g===void 0?l.push(d):g!==d&&(d.then(_w,_w),d=g),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,l===qy?Error(r(483)):l;default:if(typeof d.status=="string")d.then(_w,_w);else{if(l=hn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(b){if(d.status==="pending"){var S=d;S.status="fulfilled",S.value=b}},function(b){if(d.status==="pending"){var S=d;S.status="rejected",S.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,l===qy?Error(r(483)):l}throw Hy=d,qy}}var Hy=null;function pP(){if(Hy===null)throw Error(r(459));var l=Hy;return Hy=null,l}var _m=null,Wy=0;function $w(l){var d=Wy;return Wy+=1,_m===null&&(_m=[]),mP(_m,l,d)}function Gy(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function Cw(l,d){throw d.$$typeof===o?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function gP(l){var d=l._init;return d(l._payload)}function yP(l){function d(ge,ce){if(l){var be=ge.deletions;be===null?(ge.deletions=[ce],ge.flags|=16):be.push(ce)}}function g(ge,ce){if(!l)return null;for(;ce!==null;)d(ge,ce),ce=ce.sibling;return null}function b(ge){for(var ce=new Map;ge!==null;)ge.key!==null?ce.set(ge.key,ge):ce.set(ge.index,ge),ge=ge.sibling;return ce}function S(ge,ce){return ge=xu(ge,ce),ge.index=0,ge.sibling=null,ge}function $(ge,ce,be){return ge.index=be,l?(be=ge.alternate,be!==null?(be=be.index,be<ce?(ge.flags|=33554434,ce):be):(ge.flags|=33554434,ce)):(ge.flags|=1048576,ce)}function V(ge){return l&&ge.alternate===null&&(ge.flags|=33554434),ge}function K(ge,ce,be,Re){return ce===null||ce.tag!==6?(ce=b$(be,ge.mode,Re),ce.return=ge,ce):(ce=S(ce,be),ce.return=ge,ce)}function te(ge,ce,be,Re){var Je=be.type;return Je===c?Ae(ge,ce,be.props.children,Re,be.key):ce!==null&&(ce.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===O&&gP(Je)===ce.type)?(ce=S(ce,be.props),Gy(ce,be),ce.return=ge,ce):(ce=Ww(be.type,be.key,be.props,null,ge.mode,Re),Gy(ce,be),ce.return=ge,ce)}function fe(ge,ce,be,Re){return ce===null||ce.tag!==4||ce.stateNode.containerInfo!==be.containerInfo||ce.stateNode.implementation!==be.implementation?(ce=x$(be,ge.mode,Re),ce.return=ge,ce):(ce=S(ce,be.children||[]),ce.return=ge,ce)}function Ae(ge,ce,be,Re,Je){return ce===null||ce.tag!==7?(ce=xf(be,ge.mode,Re,Je),ce.return=ge,ce):(ce=S(ce,be),ce.return=ge,ce)}function Me(ge,ce,be){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return ce=b$(""+ce,ge.mode,be),ce.return=ge,ce;if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case s:return be=Ww(ce.type,ce.key,ce.props,null,ge.mode,be),Gy(be,ce),be.return=ge,be;case a:return ce=x$(ce,ge.mode,be),ce.return=ge,ce;case O:var Re=ce._init;return ce=Re(ce._payload),Me(ge,ce,be)}if(oe(ce)||A(ce))return ce=xf(ce,ge.mode,be,null),ce.return=ge,ce;if(typeof ce.then=="function")return Me(ge,$w(ce),be);if(ce.$$typeof===y)return Me(ge,Vw(ge,ce),be);Cw(ge,ce)}return null}function ve(ge,ce,be,Re){var Je=ce!==null?ce.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return Je!==null?null:K(ge,ce,""+be,Re);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case s:return be.key===Je?te(ge,ce,be,Re):null;case a:return be.key===Je?fe(ge,ce,be,Re):null;case O:return Je=be._init,be=Je(be._payload),ve(ge,ce,be,Re)}if(oe(be)||A(be))return Je!==null?null:Ae(ge,ce,be,Re,null);if(typeof be.then=="function")return ve(ge,ce,$w(be),Re);if(be.$$typeof===y)return ve(ge,ce,Vw(ge,be),Re);Cw(ge,be)}return null}function Ce(ge,ce,be,Re,Je){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return ge=ge.get(be)||null,K(ce,ge,""+Re,Je);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case s:return ge=ge.get(Re.key===null?be:Re.key)||null,te(ce,ge,Re,Je);case a:return ge=ge.get(Re.key===null?be:Re.key)||null,fe(ce,ge,Re,Je);case O:var Nt=Re._init;return Re=Nt(Re._payload),Ce(ge,ce,be,Re,Je)}if(oe(Re)||A(Re))return ge=ge.get(be)||null,Ae(ce,ge,Re,Je,null);if(typeof Re.then=="function")return Ce(ge,ce,be,$w(Re),Je);if(Re.$$typeof===y)return Ce(ge,ce,be,Vw(ce,Re),Je);Cw(ce,Re)}return null}function rt(ge,ce,be,Re){for(var Je=null,Nt=null,ot=ce,ct=ce=0,Pr=null;ot!==null&&ct<be.length;ct++){ot.index>ct?(Pr=ot,ot=null):Pr=ot.sibling;var Wt=ve(ge,ot,be[ct],Re);if(Wt===null){ot===null&&(ot=Pr);break}l&&ot&&Wt.alternate===null&&d(ge,ot),ce=$(Wt,ce,ct),Nt===null?Je=Wt:Nt.sibling=Wt,Nt=Wt,ot=Pr}if(ct===be.length)return g(ge,ot),Ht&&lf(ge,ct),Je;if(ot===null){for(;ct<be.length;ct++)ot=Me(ge,be[ct],Re),ot!==null&&(ce=$(ot,ce,ct),Nt===null?Je=ot:Nt.sibling=ot,Nt=ot);return Ht&&lf(ge,ct),Je}for(ot=b(ot);ct<be.length;ct++)Pr=Ce(ot,ge,ct,be[ct],Re),Pr!==null&&(l&&Pr.alternate!==null&&ot.delete(Pr.key===null?ct:Pr.key),ce=$(Pr,ce,ct),Nt===null?Je=Pr:Nt.sibling=Pr,Nt=Pr);return l&&ot.forEach(function(_u){return d(ge,_u)}),Ht&&lf(ge,ct),Je}function mt(ge,ce,be,Re){if(be==null)throw Error(r(151));for(var Je=null,Nt=null,ot=ce,ct=ce=0,Pr=null,Wt=be.next();ot!==null&&!Wt.done;ct++,Wt=be.next()){ot.index>ct?(Pr=ot,ot=null):Pr=ot.sibling;var _u=ve(ge,ot,Wt.value,Re);if(_u===null){ot===null&&(ot=Pr);break}l&&ot&&_u.alternate===null&&d(ge,ot),ce=$(_u,ce,ct),Nt===null?Je=_u:Nt.sibling=_u,Nt=_u,ot=Pr}if(Wt.done)return g(ge,ot),Ht&&lf(ge,ct),Je;if(ot===null){for(;!Wt.done;ct++,Wt=be.next())Wt=Me(ge,Wt.value,Re),Wt!==null&&(ce=$(Wt,ce,ct),Nt===null?Je=Wt:Nt.sibling=Wt,Nt=Wt);return Ht&&lf(ge,ct),Je}for(ot=b(ot);!Wt.done;ct++,Wt=be.next())Wt=Ce(ot,ge,ct,Wt.value,Re),Wt!==null&&(l&&Wt.alternate!==null&&ot.delete(Wt.key===null?ct:Wt.key),ce=$(Wt,ce,ct),Nt===null?Je=Wt:Nt.sibling=Wt,Nt=Wt);return l&&ot.forEach(function(Oie){return d(ge,Oie)}),Ht&&lf(ge,ct),Je}function Vn(ge,ce,be,Re){if(typeof be=="object"&&be!==null&&be.type===c&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case s:e:{for(var Je=be.key;ce!==null;){if(ce.key===Je){if(Je=be.type,Je===c){if(ce.tag===7){g(ge,ce.sibling),Re=S(ce,be.props.children),Re.return=ge,ge=Re;break e}}else if(ce.elementType===Je||typeof Je=="object"&&Je!==null&&Je.$$typeof===O&&gP(Je)===ce.type){g(ge,ce.sibling),Re=S(ce,be.props),Gy(Re,be),Re.return=ge,ge=Re;break e}g(ge,ce);break}else d(ge,ce);ce=ce.sibling}be.type===c?(Re=xf(be.props.children,ge.mode,Re,be.key),Re.return=ge,ge=Re):(Re=Ww(be.type,be.key,be.props,null,ge.mode,Re),Gy(Re,be),Re.return=ge,ge=Re)}return V(ge);case a:e:{for(Je=be.key;ce!==null;){if(ce.key===Je)if(ce.tag===4&&ce.stateNode.containerInfo===be.containerInfo&&ce.stateNode.implementation===be.implementation){g(ge,ce.sibling),Re=S(ce,be.children||[]),Re.return=ge,ge=Re;break e}else{g(ge,ce);break}else d(ge,ce);ce=ce.sibling}Re=x$(be,ge.mode,Re),Re.return=ge,ge=Re}return V(ge);case O:return Je=be._init,be=Je(be._payload),Vn(ge,ce,be,Re)}if(oe(be))return rt(ge,ce,be,Re);if(A(be)){if(Je=A(be),typeof Je!="function")throw Error(r(150));return be=Je.call(be),mt(ge,ce,be,Re)}if(typeof be.then=="function")return Vn(ge,ce,$w(be),Re);if(be.$$typeof===y)return Vn(ge,ce,Vw(ge,be),Re);Cw(ge,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,ce!==null&&ce.tag===6?(g(ge,ce.sibling),Re=S(ce,be),Re.return=ge,ge=Re):(g(ge,ce),Re=b$(be,ge.mode,Re),Re.return=ge,ge=Re),V(ge)):g(ge,ce)}return function(ge,ce,be,Re){try{Wy=0;var Je=Vn(ge,ce,be,Re);return _m=null,Je}catch(ot){if(ot===qy)throw ot;var Nt=Zo(29,ot,null,ge.mode);return Nt.lanes=Re,Nt.return=ge,Nt}finally{}}}var uf=yP(!0),bP=yP(!1),$m=ye(null),jw=ye(0);function xP(l,d){l=Pl,Te(jw,l),Te($m,d),Pl=l|d.baseLanes}function O_(){Te(jw,Pl),Te($m,$m.current)}function __(){Pl=jw.current,je($m),je(jw)}var Jo=ye(null),ja=null;function lu(l){var d=l.alternate;Te(gr,gr.current&1),Te(Jo,l),ja===null&&(d===null||$m.current!==null||d.memoizedState!==null)&&(ja=l)}function vP(l){if(l.tag===22){if(Te(gr,gr.current),Te(Jo,l),ja===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(ja=l)}}else cu()}function cu(){Te(gr,gr.current),Te(Jo,Jo.current)}function _l(l){je(Jo),ja===l&&(ja=null),je(gr)}var gr=ye(0);function Aw(l){for(var d=l;d!==null;){if(d.tag===13){var g=d.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var fre=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(g,b){l.push(b)}};this.abort=function(){d.aborted=!0,l.forEach(function(g){return g()})}},hre=e.unstable_scheduleCallback,mre=e.unstable_NormalPriority,yr={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $_(){return{controller:new fre,data:new Map,refCount:0}}function Ky(l){l.refCount--,l.refCount===0&&hre(mre,function(){l.controller.abort()})}var Yy=null,C_=0,Cm=0,jm=null;function pre(l,d){if(Yy===null){var g=Yy=[];C_=0,Cm=M$(),jm={status:"pending",value:void 0,then:function(b){g.push(b)}}}return C_++,d.then(wP,wP),d}function wP(){if(--C_===0&&Yy!==null){jm!==null&&(jm.status="fulfilled");var l=Yy;Yy=null,Cm=0,jm=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function gre(l,d){var g=[],b={status:"pending",value:null,reason:null,then:function(S){g.push(S)}};return l.then(function(){b.status="fulfilled",b.value=d;for(var S=0;S<g.length;S++)(0,g[S])(d)},function(S){for(b.status="rejected",b.reason=S,S=0;S<g.length;S++)(0,g[S])(void 0)}),b}var SP=P.S;P.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&pre(l,d),SP!==null&&SP(l,d)};var df=ye(null);function j_(){var l=df.current;return l!==null?l:hn.pooledCache}function Tw(l,d){d===null?Te(df,df.current):Te(df,d.pool)}function EP(){var l=j_();return l===null?null:{parent:yr._currentValue,pool:l}}var uu=0,Et=null,nn=null,or=null,Rw=!1,Am=!1,ff=!1,Iw=0,Jy=0,Tm=null,yre=0;function Yn(){throw Error(r(321))}function A_(l,d){if(d===null)return!1;for(var g=0;g<d.length&&g<l.length;g++)if(!mo(l[g],d[g]))return!1;return!0}function T_(l,d,g,b,S,$){return uu=$,Et=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,P.H=l===null||l.memoizedState===null?hf:du,ff=!1,$=g(b,S),ff=!1,Am&&($=OP(d,g,b,S)),NP(l),$}function NP(l){P.H=Aa;var d=nn!==null&&nn.next!==null;if(uu=0,or=nn=Et=null,Rw=!1,Jy=0,Tm=null,d)throw Error(r(300));l===null||Mr||(l=l.dependencies,l!==null&&Uw(l)&&(Mr=!0))}function OP(l,d,g,b){Et=l;var S=0;do{if(Am&&(Tm=null),Jy=0,Am=!1,25<=S)throw Error(r(301));if(S+=1,or=nn=null,l.updateQueue!=null){var $=l.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}P.H=mf,$=d(g,b)}while(Am);return $}function bre(){var l=P.H,d=l.useState()[0];return d=typeof d.then=="function"?Xy(d):d,l=l.useState()[0],(nn!==null?nn.memoizedState:null)!==l&&(Et.flags|=1024),d}function R_(){var l=Iw!==0;return Iw=0,l}function I_(l,d,g){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~g}function M_(l){if(Rw){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Rw=!1}uu=0,or=nn=Et=null,Am=!1,Jy=Iw=0,Tm=null}function Vi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Et.memoizedState=or=l:or=or.next=l,or}function sr(){if(nn===null){var l=Et.alternate;l=l!==null?l.memoizedState:null}else l=nn.next;var d=or===null?Et.memoizedState:or.next;if(d!==null)or=d,nn=l;else{if(l===null)throw Et.alternate===null?Error(r(467)):Error(r(310));nn=l,l={memoizedState:nn.memoizedState,baseState:nn.baseState,baseQueue:nn.baseQueue,queue:nn.queue,next:null},or===null?Et.memoizedState=or=l:or=or.next=l}return or}var Mw;Mw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xy(l){var d=Jy;return Jy+=1,Tm===null&&(Tm=[]),l=mP(Tm,l,d),d=Et,(or===null?d.memoizedState:or.next)===null&&(d=d.alternate,P.H=d===null||d.memoizedState===null?hf:du),l}function kw(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Xy(l);if(l.$$typeof===y)return ii(l)}throw Error(r(438,String(l)))}function k_(l){var d=null,g=Et.updateQueue;if(g!==null&&(d=g.memoCache),d==null){var b=Et.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function(S){return S.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),g===null&&(g=Mw(),Et.updateQueue=g),g.memoCache=d,g=d.data[d.index],g===void 0)for(g=d.data[d.index]=Array(l),b=0;b<l;b++)g[b]=C;return d.index++,g}function $l(l,d){return typeof d=="function"?d(l):d}function Pw(l){var d=sr();return P_(d,nn,l)}function P_(l,d,g){var b=l.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=g;var S=l.baseQueue,$=b.pending;if($!==null){if(S!==null){var V=S.next;S.next=$.next,$.next=V}d.baseQueue=S=$,b.pending=null}if($=l.baseState,S===null)l.memoizedState=$;else{d=S.next;var K=V=null,te=null,fe=d,Ae=!1;do{var Me=fe.lane&-536870913;if(Me!==fe.lane?(kt&Me)===Me:(uu&Me)===Me){var ve=fe.revertLane;if(ve===0)te!==null&&(te=te.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Me===Cm&&(Ae=!0);else if((uu&ve)===ve){fe=fe.next,ve===Cm&&(Ae=!0);continue}else Me={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},te===null?(K=te=Me,V=$):te=te.next=Me,Et.lanes|=ve,vu|=ve;Me=fe.action,ff&&g($,Me),$=fe.hasEagerState?fe.eagerState:g($,Me)}else ve={lane:Me,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},te===null?(K=te=ve,V=$):te=te.next=ve,Et.lanes|=Me,vu|=Me;fe=fe.next}while(fe!==null&&fe!==d);if(te===null?V=$:te.next=K,!mo($,l.memoizedState)&&(Mr=!0,Ae&&(g=jm,g!==null)))throw g;l.memoizedState=$,l.baseState=V,l.baseQueue=te,b.lastRenderedState=$}return S===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function D_(l){var d=sr(),g=d.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var b=g.dispatch,S=g.pending,$=d.memoizedState;if(S!==null){g.pending=null;var V=S=S.next;do $=l($,V.action),V=V.next;while(V!==S);mo($,d.memoizedState)||(Mr=!0),d.memoizedState=$,d.baseQueue===null&&(d.baseState=$),g.lastRenderedState=$}return[$,b]}function _P(l,d,g){var b=Et,S=sr(),$=Ht;if($){if(g===void 0)throw Error(r(407));g=g()}else g=d();var V=!mo((nn||S).memoizedState,g);if(V&&(S.memoizedState=g,Mr=!0),S=S.queue,B_(jP.bind(null,b,S,l),[l]),S.getSnapshot!==d||V||or!==null&&or.memoizedState.tag&1){if(b.flags|=2048,Rm(9,CP.bind(null,b,S,g,d),{destroy:void 0},null),hn===null)throw Error(r(349));$||(uu&60)!==0||$P(b,d,g)}return g}function $P(l,d,g){l.flags|=16384,l={getSnapshot:d,value:g},d=Et.updateQueue,d===null?(d=Mw(),Et.updateQueue=d,d.stores=[l]):(g=d.stores,g===null?d.stores=[l]:g.push(l))}function CP(l,d,g,b){d.value=g,d.getSnapshot=b,AP(d)&&TP(l)}function jP(l,d,g){return g(function(){AP(d)&&TP(l)})}function AP(l){var d=l.getSnapshot;l=l.value;try{var g=d();return!mo(l,g)}catch{return!0}}function TP(l){var d=au(l,2);d!==null&&xi(d,l,2)}function F_(l){var d=Vi();if(typeof l=="function"){var g=l;if(l=g(),ff){Vo(!0);try{g()}finally{Vo(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:l},d}function RP(l,d,g,b){return l.baseState=g,P_(l,nn,typeof b=="function"?b:$l)}function xre(l,d,g,b,S){if(Lw(l))throw Error(r(485));if(l=d.action,l!==null){var $={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){$.listeners.push(V)}};P.T!==null?g(!0):$.isTransition=!1,b($),g=d.pending,g===null?($.next=d.pending=$,IP(d,$)):($.next=g.next,d.pending=g.next=$)}}function IP(l,d){var g=d.action,b=d.payload,S=l.state;if(d.isTransition){var $=P.T,V={};P.T=V;try{var K=g(S,b),te=P.S;te!==null&&te(V,K),MP(l,d,K)}catch(fe){L_(l,d,fe)}finally{P.T=$}}else try{$=g(S,b),MP(l,d,$)}catch(fe){L_(l,d,fe)}}function MP(l,d,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(b){kP(l,d,b)},function(b){return L_(l,d,b)}):kP(l,d,g)}function kP(l,d,g){d.status="fulfilled",d.value=g,PP(d),l.state=g,d=l.pending,d!==null&&(g=d.next,g===d?l.pending=null:(g=g.next,d.next=g,IP(l,g)))}function L_(l,d,g){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=g,PP(d),d=d.next;while(d!==b)}l.action=null}function PP(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function DP(l,d){return d}function FP(l,d){if(Ht){var g=hn.formState;if(g!==null){e:{var b=Et;if(Ht){if(Kr){t:{for(var S=Kr,$=Ca;S.nodeType!==8;){if(!$){S=null;break t}if(S=Ls(S.nextSibling),S===null){S=null;break t}}$=S.data,S=$==="F!"||$==="F"?S:null}if(S){Kr=Ls(S.nextSibling),b=S.data==="F!";break e}}cf(b)}b=!1}b&&(d=g[0])}}return g=Vi(),g.memoizedState=g.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:DP,lastRenderedState:d},g.queue=b,g=n6.bind(null,Et,b),b.dispatch=g,b=F_(!1),$=H_.bind(null,Et,!1,b.queue),b=Vi(),S={state:d,dispatch:null,action:l,pending:null},b.queue=S,g=xre.bind(null,Et,S,$,g),S.dispatch=g,b.memoizedState=l,[d,g,!1]}function LP(l){var d=sr();return BP(d,nn,l)}function BP(l,d,g){d=P_(l,d,DP)[0],l=Pw($l)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Xy(d):d;var b=sr(),S=b.queue,$=S.dispatch;return g!==b.memoizedState&&(Et.flags|=2048,Rm(9,vre.bind(null,S,g),{destroy:void 0},null)),[d,$,l]}function vre(l,d){l.action=d}function zP(l){var d=sr(),g=nn;if(g!==null)return BP(d,g,l);sr(),d=d.memoizedState,g=sr();var b=g.queue.dispatch;return g.memoizedState=l,[d,b,!1]}function Rm(l,d,g,b){return l={tag:l,create:d,inst:g,deps:b,next:null},d=Et.updateQueue,d===null&&(d=Mw(),Et.updateQueue=d),g=d.lastEffect,g===null?d.lastEffect=l.next=l:(b=g.next,g.next=l,l.next=b,d.lastEffect=l),l}function UP(){return sr().memoizedState}function Dw(l,d,g,b){var S=Vi();Et.flags|=l,S.memoizedState=Rm(1|d,g,{destroy:void 0},b===void 0?null:b)}function Fw(l,d,g,b){var S=sr();b=b===void 0?null:b;var $=S.memoizedState.inst;nn!==null&&b!==null&&A_(b,nn.memoizedState.deps)?S.memoizedState=Rm(d,g,$,b):(Et.flags|=l,S.memoizedState=Rm(1|d,g,$,b))}function VP(l,d){Dw(8390656,8,l,d)}function B_(l,d){Fw(2048,8,l,d)}function qP(l,d){return Fw(4,2,l,d)}function HP(l,d){return Fw(4,4,l,d)}function WP(l,d){if(typeof d=="function"){l=l();var g=d(l);return function(){typeof g=="function"?g():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function GP(l,d,g){g=g!=null?g.concat([l]):null,Fw(4,4,WP.bind(null,d,l),g)}function z_(){}function KP(l,d){var g=sr();d=d===void 0?null:d;var b=g.memoizedState;return d!==null&&A_(d,b[1])?b[0]:(g.memoizedState=[l,d],l)}function YP(l,d){var g=sr();d=d===void 0?null:d;var b=g.memoizedState;if(d!==null&&A_(d,b[1]))return b[0];if(b=l(),ff){Vo(!0);try{l()}finally{Vo(!1)}}return g.memoizedState=[b,d],b}function U_(l,d,g){return g===void 0||(uu&1073741824)!==0?l.memoizedState=d:(l.memoizedState=g,l=X6(),Et.lanes|=l,vu|=l,g)}function JP(l,d,g,b){return mo(g,d)?g:$m.current!==null?(l=U_(l,g,b),mo(l,d)||(Mr=!0),l):(uu&42)===0?(Mr=!0,l.memoizedState=g):(l=X6(),Et.lanes|=l,vu|=l,d)}function XP(l,d,g,b,S){var $=se.p;se.p=$!==0&&8>$?$:8;var V=P.T,K={};P.T=K,H_(l,!1,d,g);try{var te=S(),fe=P.S;if(fe!==null&&fe(K,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var Ae=gre(te,b);Qy(l,d,Ae,bo(l))}else Qy(l,d,b,bo(l))}catch(Me){Qy(l,d,{then:function(){},status:"rejected",reason:Me},bo())}finally{se.p=$,P.T=V}}function wre(){}function V_(l,d,g,b){if(l.tag!==5)throw Error(r(476));var S=QP(l).queue;XP(l,S,d,ie,g===null?wre:function(){return ZP(l),g(b)})}function QP(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:ie},next:null};var g={};return d.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:g},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function ZP(l){var d=QP(l).next.queue;Qy(l,d,{},bo())}function q_(){return ii(b0)}function e6(){return sr().memoizedState}function t6(){return sr().memoizedState}function Sre(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var g=bo();l=mu(g);var b=pu(d,l,g);b!==null&&(xi(b,d,g),t0(b,d,g)),d={cache:$_()},l.payload=d;return}d=d.return}}function Ere(l,d,g){var b=bo();g={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null},Lw(l)?r6(d,g):(g=v_(l,d,g,b),g!==null&&(xi(g,l,b),i6(g,d,b)))}function n6(l,d,g){var b=bo();Qy(l,d,g,b)}function Qy(l,d,g,b){var S={lane:b,revertLane:0,action:g,hasEagerState:!1,eagerState:null,next:null};if(Lw(l))r6(d,S);else{var $=l.alternate;if(l.lanes===0&&($===null||$.lanes===0)&&($=d.lastRenderedReducer,$!==null))try{var V=d.lastRenderedState,K=$(V,g);if(S.hasEagerState=!0,S.eagerState=K,mo(K,V))return Sw(l,d,S,0),hn===null&&ww(),!1}catch{}finally{}if(g=v_(l,d,S,b),g!==null)return xi(g,l,b),i6(g,d,b),!0}return!1}function H_(l,d,g,b){if(b={lane:2,revertLane:M$(),action:b,hasEagerState:!1,eagerState:null,next:null},Lw(l)){if(d)throw Error(r(479))}else d=v_(l,g,b,2),d!==null&&xi(d,l,2)}function Lw(l){var d=l.alternate;return l===Et||d!==null&&d===Et}function r6(l,d){Am=Rw=!0;var g=l.pending;g===null?d.next=d:(d.next=g.next,g.next=d),l.pending=d}function i6(l,d,g){if((g&4194176)!==0){var b=d.lanes;b&=l.pendingLanes,g|=b,d.lanes=g,Qd(l,g)}}var Aa={readContext:ii,use:kw,useCallback:Yn,useContext:Yn,useEffect:Yn,useImperativeHandle:Yn,useLayoutEffect:Yn,useInsertionEffect:Yn,useMemo:Yn,useReducer:Yn,useRef:Yn,useState:Yn,useDebugValue:Yn,useDeferredValue:Yn,useTransition:Yn,useSyncExternalStore:Yn,useId:Yn};Aa.useCacheRefresh=Yn,Aa.useMemoCache=Yn,Aa.useHostTransitionStatus=Yn,Aa.useFormState=Yn,Aa.useActionState=Yn,Aa.useOptimistic=Yn;var hf={readContext:ii,use:kw,useCallback:function(l,d){return Vi().memoizedState=[l,d===void 0?null:d],l},useContext:ii,useEffect:VP,useImperativeHandle:function(l,d,g){g=g!=null?g.concat([l]):null,Dw(4194308,4,WP.bind(null,d,l),g)},useLayoutEffect:function(l,d){return Dw(4194308,4,l,d)},useInsertionEffect:function(l,d){Dw(4,2,l,d)},useMemo:function(l,d){var g=Vi();d=d===void 0?null:d;var b=l();if(ff){Vo(!0);try{l()}finally{Vo(!1)}}return g.memoizedState=[b,d],b},useReducer:function(l,d,g){var b=Vi();if(g!==void 0){var S=g(d);if(ff){Vo(!0);try{g(d)}finally{Vo(!1)}}}else S=d;return b.memoizedState=b.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},b.queue=l,l=l.dispatch=Ere.bind(null,Et,l),[b.memoizedState,l]},useRef:function(l){var d=Vi();return l={current:l},d.memoizedState=l},useState:function(l){l=F_(l);var d=l.queue,g=n6.bind(null,Et,d);return d.dispatch=g,[l.memoizedState,g]},useDebugValue:z_,useDeferredValue:function(l,d){var g=Vi();return U_(g,l,d)},useTransition:function(){var l=F_(!1);return l=XP.bind(null,Et,l.queue,!0,!1),Vi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,g){var b=Et,S=Vi();if(Ht){if(g===void 0)throw Error(r(407));g=g()}else{if(g=d(),hn===null)throw Error(r(349));(kt&60)!==0||$P(b,d,g)}S.memoizedState=g;var $={value:g,getSnapshot:d};return S.queue=$,VP(jP.bind(null,b,$,l),[l]),b.flags|=2048,Rm(9,CP.bind(null,b,$,g,d),{destroy:void 0},null),g},useId:function(){var l=Vi(),d=hn.identifierPrefix;if(Ht){var g=Ol,b=Nl;g=(b&~(1<<32-Ar(b)-1)).toString(32)+g,d=":"+d+"R"+g,g=Iw++,0<g&&(d+="H"+g.toString(32)),d+=":"}else g=yre++,d=":"+d+"r"+g.toString(32)+":";return l.memoizedState=d},useCacheRefresh:function(){return Vi().memoizedState=Sre.bind(null,Et)}};hf.useMemoCache=k_,hf.useHostTransitionStatus=q_,hf.useFormState=FP,hf.useActionState=FP,hf.useOptimistic=function(l){var d=Vi();d.memoizedState=d.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=g,d=H_.bind(null,Et,!0,g),g.dispatch=d,[l,d]};var du={readContext:ii,use:kw,useCallback:KP,useContext:ii,useEffect:B_,useImperativeHandle:GP,useInsertionEffect:qP,useLayoutEffect:HP,useMemo:YP,useReducer:Pw,useRef:UP,useState:function(){return Pw($l)},useDebugValue:z_,useDeferredValue:function(l,d){var g=sr();return JP(g,nn.memoizedState,l,d)},useTransition:function(){var l=Pw($l)[0],d=sr().memoizedState;return[typeof l=="boolean"?l:Xy(l),d]},useSyncExternalStore:_P,useId:e6};du.useCacheRefresh=t6,du.useMemoCache=k_,du.useHostTransitionStatus=q_,du.useFormState=LP,du.useActionState=LP,du.useOptimistic=function(l,d){var g=sr();return RP(g,nn,l,d)};var mf={readContext:ii,use:kw,useCallback:KP,useContext:ii,useEffect:B_,useImperativeHandle:GP,useInsertionEffect:qP,useLayoutEffect:HP,useMemo:YP,useReducer:D_,useRef:UP,useState:function(){return D_($l)},useDebugValue:z_,useDeferredValue:function(l,d){var g=sr();return nn===null?U_(g,l,d):JP(g,nn.memoizedState,l,d)},useTransition:function(){var l=D_($l)[0],d=sr().memoizedState;return[typeof l=="boolean"?l:Xy(l),d]},useSyncExternalStore:_P,useId:e6};mf.useCacheRefresh=t6,mf.useMemoCache=k_,mf.useHostTransitionStatus=q_,mf.useFormState=zP,mf.useActionState=zP,mf.useOptimistic=function(l,d){var g=sr();return nn!==null?RP(g,nn,l,d):(g.baseState=l,[l,g.queue.dispatch])};function W_(l,d,g,b){d=l.memoizedState,g=g(b,d),g=g==null?d:z({},d,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var G_={isMounted:function(l){return(l=l._reactInternals)?k(l)===l:!1},enqueueSetState:function(l,d,g){l=l._reactInternals;var b=bo(),S=mu(b);S.payload=d,g!=null&&(S.callback=g),d=pu(l,S,b),d!==null&&(xi(d,l,b),t0(d,l,b))},enqueueReplaceState:function(l,d,g){l=l._reactInternals;var b=bo(),S=mu(b);S.tag=1,S.payload=d,g!=null&&(S.callback=g),d=pu(l,S,b),d!==null&&(xi(d,l,b),t0(d,l,b))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var g=bo(),b=mu(g);b.tag=2,d!=null&&(b.callback=d),d=pu(l,b,g),d!==null&&(xi(d,l,g),t0(d,l,g))}};function o6(l,d,g,b,S,$,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,$,V):d.prototype&&d.prototype.isPureReactComponent?!Ly(g,b)||!Ly(S,$):!0}function s6(l,d,g,b){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(g,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(g,b),d.state!==l&&G_.enqueueReplaceState(d,d.state,null)}function pf(l,d){var g=d;if("ref"in d){g={};for(var b in d)b!=="ref"&&(g[b]=d[b])}if(l=l.defaultProps){g===d&&(g=z({},g));for(var S in l)g[S]===void 0&&(g[S]=l[S])}return g}var Bw=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function a6(l){Bw(l)}function l6(l){console.error(l)}function c6(l){Bw(l)}function zw(l,d){try{var g=l.onUncaughtError;g(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function u6(l,d,g){try{var b=l.onCaughtError;b(g.value,{componentStack:g.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function K_(l,d,g){return g=mu(g),g.tag=3,g.payload={element:null},g.callback=function(){zw(l,d)},g}function d6(l){return l=mu(l),l.tag=3,l}function f6(l,d,g,b){var S=g.type.getDerivedStateFromError;if(typeof S=="function"){var $=b.value;l.payload=function(){return S($)},l.callback=function(){u6(d,g,b)}}var V=g.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){u6(d,g,b),typeof S!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var K=b.stack;this.componentDidCatch(b.value,{componentStack:K!==null?K:""})})}function Nre(l,d,g,b,S){if(g.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=g.alternate,d!==null&&e0(d,g,S,!0),g=Jo.current,g!==null){switch(g.tag){case 13:return ja===null?j$():g.alternate===null&&Un===0&&(Un=3),g.flags&=-257,g.flags|=65536,g.lanes=S,b===N_?g.flags|=16384:(d=g.updateQueue,d===null?g.updateQueue=new Set([b]):d.add(b),T$(l,b,S)),!1;case 22:return g.flags|=65536,b===N_?g.flags|=16384:(d=g.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},g.updateQueue=d):(g=d.retryQueue,g===null?d.retryQueue=new Set([b]):g.add(b)),T$(l,b,S)),!1}throw Error(r(435,g.tag))}return T$(l,b,S),j$(),!1}if(Ht)return d=Jo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=S,b!==E_&&(l=Error(r(422),{cause:b}),Vy(Go(l,g)))):(b!==E_&&(d=Error(r(423),{cause:b}),Vy(Go(d,g))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,b=Go(b,g),S=K_(l.stateNode,b,S),c$(l,S),Un!==4&&(Un=2)),!1;var $=Error(r(520),{cause:b});if($=Go($,g),c0===null?c0=[$]:c0.push($),Un!==4&&(Un=2),d===null)return!0;b=Go(b,g),g=d;do{switch(g.tag){case 3:return g.flags|=65536,l=S&-S,g.lanes|=l,l=K_(g.stateNode,b,l),c$(g,l),!1;case 1:if(d=g.type,$=g.stateNode,(g.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(wu===null||!wu.has($))))return g.flags|=65536,S&=-S,g.lanes|=S,S=d6(S),f6(S,l,g,b),c$(g,S),!1}g=g.return}while(g!==null);return!1}var h6=Error(r(461)),Mr=!1;function Yr(l,d,g,b){d.child=l===null?bP(d,null,g,b):uf(d,l.child,g,b)}function m6(l,d,g,b,S){g=g.render;var $=d.ref;if("ref"in b){var V={};for(var K in b)K!=="ref"&&(V[K]=b[K])}else V=b;return yf(d),b=T_(l,d,g,V,$,S),K=R_(),l!==null&&!Mr?(I_(l,d,S),Cl(l,d,S)):(Ht&&K&&w_(d),d.flags|=1,Yr(l,d,b,S),d.child)}function p6(l,d,g,b,S){if(l===null){var $=g.type;return typeof $=="function"&&!y$($)&&$.defaultProps===void 0&&g.compare===null?(d.tag=15,d.type=$,g6(l,d,$,b,S)):(l=Ww(g.type,null,b,d,d.mode,S),l.ref=d.ref,l.return=d,d.child=l)}if($=l.child,!r$(l,S)){var V=$.memoizedProps;if(g=g.compare,g=g!==null?g:Ly,g(V,b)&&l.ref===d.ref)return Cl(l,d,S)}return d.flags|=1,l=xu($,b),l.ref=d.ref,l.return=d,d.child=l}function g6(l,d,g,b,S){if(l!==null){var $=l.memoizedProps;if(Ly($,b)&&l.ref===d.ref)if(Mr=!1,d.pendingProps=b=$,r$(l,S))(l.flags&131072)!==0&&(Mr=!0);else return d.lanes=l.lanes,Cl(l,d,S)}return Y_(l,d,g,b,S)}function y6(l,d,g){var b=d.pendingProps,S=b.children,$=(d.stateNode._pendingVisibility&2)!==0,V=l!==null?l.memoizedState:null;if(Zy(l,d),b.mode==="hidden"||$){if((d.flags&128)!==0){if(b=V!==null?V.baseLanes|g:g,l!==null){for(S=d.child=l.child,$=0;S!==null;)$=$|S.lanes|S.childLanes,S=S.sibling;d.childLanes=$&~b}else d.childLanes=0,d.child=null;return b6(l,d,b,g)}if((g&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&Tw(d,V!==null?V.cachePool:null),V!==null?xP(d,V):O_(),vP(d);else return d.lanes=d.childLanes=536870912,b6(l,d,V!==null?V.baseLanes|g:g,g)}else V!==null?(Tw(d,V.cachePool),xP(d,V),cu(),d.memoizedState=null):(l!==null&&Tw(d,null),O_(),cu());return Yr(l,d,S,g),d.child}function b6(l,d,g,b){var S=j_();return S=S===null?null:{parent:yr._currentValue,pool:S},d.memoizedState={baseLanes:g,cachePool:S},l!==null&&Tw(d,null),O_(),vP(d),l!==null&&e0(l,d,b,!0),null}function Zy(l,d){var g=d.ref;if(g===null)l!==null&&l.ref!==null&&(d.flags|=2097664);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(l===null||l.ref!==g)&&(d.flags|=2097664)}}function Y_(l,d,g,b,S){return yf(d),g=T_(l,d,g,b,void 0,S),b=R_(),l!==null&&!Mr?(I_(l,d,S),Cl(l,d,S)):(Ht&&b&&w_(d),d.flags|=1,Yr(l,d,g,S),d.child)}function x6(l,d,g,b,S,$){return yf(d),d.updateQueue=null,g=OP(d,b,g,S),NP(l),b=R_(),l!==null&&!Mr?(I_(l,d,$),Cl(l,d,$)):(Ht&&b&&w_(d),d.flags|=1,Yr(l,d,g,$),d.child)}function v6(l,d,g,b,S){if(yf(d),d.stateNode===null){var $=Em,V=g.contextType;typeof V=="object"&&V!==null&&($=ii(V)),$=new g(b,$),d.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=G_,d.stateNode=$,$._reactInternals=d,$=d.stateNode,$.props=b,$.state=d.memoizedState,$.refs={},a$(d),V=g.contextType,$.context=typeof V=="object"&&V!==null?ii(V):Em,$.state=d.memoizedState,V=g.getDerivedStateFromProps,typeof V=="function"&&(W_(d,g,V,b),$.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(V=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),V!==$.state&&G_.enqueueReplaceState($,$.state,null),r0(d,b,$,S),n0(),$.state=d.memoizedState),typeof $.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(l===null){$=d.stateNode;var K=d.memoizedProps,te=pf(g,K);$.props=te;var fe=$.context,Ae=g.contextType;V=Em,typeof Ae=="object"&&Ae!==null&&(V=ii(Ae));var Me=g.getDerivedStateFromProps;Ae=typeof Me=="function"||typeof $.getSnapshotBeforeUpdate=="function",K=d.pendingProps!==K,Ae||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(K||fe!==V)&&s6(d,$,b,V),hu=!1;var ve=d.memoizedState;$.state=ve,r0(d,b,$,S),n0(),fe=d.memoizedState,K||ve!==fe||hu?(typeof Me=="function"&&(W_(d,g,Me,b),fe=d.memoizedState),(te=hu||o6(d,g,te,b,ve,fe,V))?(Ae||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(d.flags|=4194308)):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=fe),$.props=b,$.state=fe,$.context=V,b=te):(typeof $.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{$=d.stateNode,l$(l,d),V=d.memoizedProps,Ae=pf(g,V),$.props=Ae,Me=d.pendingProps,ve=$.context,fe=g.contextType,te=Em,typeof fe=="object"&&fe!==null&&(te=ii(fe)),K=g.getDerivedStateFromProps,(fe=typeof K=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(V!==Me||ve!==te)&&s6(d,$,b,te),hu=!1,ve=d.memoizedState,$.state=ve,r0(d,b,$,S),n0();var Ce=d.memoizedState;V!==Me||ve!==Ce||hu||l!==null&&l.dependencies!==null&&Uw(l.dependencies)?(typeof K=="function"&&(W_(d,g,K,b),Ce=d.memoizedState),(Ae=hu||o6(d,g,Ae,b,ve,Ce,te)||l!==null&&l.dependencies!==null&&Uw(l.dependencies))?(fe||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(b,Ce,te),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(b,Ce,te)),typeof $.componentDidUpdate=="function"&&(d.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof $.componentDidUpdate!="function"||V===l.memoizedProps&&ve===l.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&ve===l.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Ce),$.props=b,$.state=Ce,$.context=te,b=Ae):(typeof $.componentDidUpdate!="function"||V===l.memoizedProps&&ve===l.memoizedState||(d.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&ve===l.memoizedState||(d.flags|=1024),b=!1)}return $=b,Zy(l,d),b=(d.flags&128)!==0,$||b?($=d.stateNode,g=b&&typeof g.getDerivedStateFromError!="function"?null:$.render(),d.flags|=1,l!==null&&b?(d.child=uf(d,l.child,null,S),d.child=uf(d,null,g,S)):Yr(l,d,g,S),d.memoizedState=$.state,l=d.child):l=Cl(l,d,S),l}function w6(l,d,g,b){return Uy(),d.flags|=256,Yr(l,d,g,b),d.child}var J_={dehydrated:null,treeContext:null,retryLane:0};function X_(l){return{baseLanes:l,cachePool:EP()}}function Q_(l,d,g){return l=l!==null?l.childLanes&~g:0,d&&(l|=es),l}function S6(l,d,g){var b=d.pendingProps,S=!1,$=(d.flags&128)!==0,V;if((V=$)||(V=l!==null&&l.memoizedState===null?!1:(gr.current&2)!==0),V&&(S=!0,d.flags&=-129),V=(d.flags&32)!==0,d.flags&=-33,l===null){if(Ht){if(S?lu(d):cu(),Ht){var K=Kr,te;if(te=K){e:{for(te=K,K=Ca;te.nodeType!==8;){if(!K){K=null;break e}if(te=Ls(te.nextSibling),te===null){K=null;break e}}K=te}K!==null?(d.memoizedState={dehydrated:K,treeContext:af!==null?{id:Nl,overflow:Ol}:null,retryLane:536870912},te=Zo(18,null,null,0),te.stateNode=K,te.return=d,d.child=te,bi=d,Kr=null,te=!0):te=!1}te||cf(d)}if(K=d.memoizedState,K!==null&&(K=K.dehydrated,K!==null))return K.data==="$!"?d.lanes=16:d.lanes=536870912,null;_l(d)}return K=b.children,b=b.fallback,S?(cu(),S=d.mode,K=e$({mode:"hidden",children:K},S),b=xf(b,S,g,null),K.return=d,b.return=d,K.sibling=b,d.child=K,S=d.child,S.memoizedState=X_(g),S.childLanes=Q_(l,V,g),d.memoizedState=J_,b):(lu(d),Z_(d,K))}if(te=l.memoizedState,te!==null&&(K=te.dehydrated,K!==null)){if($)d.flags&256?(lu(d),d.flags&=-257,d=t$(l,d,g)):d.memoizedState!==null?(cu(),d.child=l.child,d.flags|=128,d=null):(cu(),S=b.fallback,K=d.mode,b=e$({mode:"visible",children:b.children},K),S=xf(S,K,g,null),S.flags|=2,b.return=d,S.return=d,b.sibling=S,d.child=b,uf(d,l.child,null,g),b=d.child,b.memoizedState=X_(g),b.childLanes=Q_(l,V,g),d.memoizedState=J_,d=S);else if(lu(d),K.data==="$!"){if(V=K.nextSibling&&K.nextSibling.dataset,V)var fe=V.dgst;V=fe,b=Error(r(419)),b.stack="",b.digest=V,Vy({value:b,source:null,stack:null}),d=t$(l,d,g)}else if(Mr||e0(l,d,g,!1),V=(g&l.childLanes)!==0,Mr||V){if(V=hn,V!==null){if(b=g&-g,(b&42)!==0)b=1;else switch(b){case 2:b=1;break;case 8:b=4;break;case 32:b=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:b=64;break;case 268435456:b=134217728;break;default:b=0}if(b=(b&(V.suspendedLanes|g))!==0?0:b,b!==0&&b!==te.retryLane)throw te.retryLane=b,au(l,b),xi(V,l,b),h6}K.data==="$?"||j$(),d=t$(l,d,g)}else K.data==="$?"?(d.flags|=128,d.child=l.child,d=Lre.bind(null,l),K._reactRetry=d,d=null):(l=te.treeContext,Kr=Ls(K.nextSibling),bi=d,Ht=!0,Ds=null,Ca=!1,l!==null&&(Ko[Yo++]=Nl,Ko[Yo++]=Ol,Ko[Yo++]=af,Nl=l.id,Ol=l.overflow,af=d),d=Z_(d,b.children),d.flags|=4096);return d}return S?(cu(),S=b.fallback,K=d.mode,te=l.child,fe=te.sibling,b=xu(te,{mode:"hidden",children:b.children}),b.subtreeFlags=te.subtreeFlags&31457280,fe!==null?S=xu(fe,S):(S=xf(S,K,g,null),S.flags|=2),S.return=d,b.return=d,b.sibling=S,d.child=b,b=S,S=d.child,K=l.child.memoizedState,K===null?K=X_(g):(te=K.cachePool,te!==null?(fe=yr._currentValue,te=te.parent!==fe?{parent:fe,pool:fe}:te):te=EP(),K={baseLanes:K.baseLanes|g,cachePool:te}),S.memoizedState=K,S.childLanes=Q_(l,V,g),d.memoizedState=J_,b):(lu(d),g=l.child,l=g.sibling,g=xu(g,{mode:"visible",children:b.children}),g.return=d,g.sibling=null,l!==null&&(V=d.deletions,V===null?(d.deletions=[l],d.flags|=16):V.push(l)),d.child=g,d.memoizedState=null,g)}function Z_(l,d){return d=e$({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function e$(l,d){return K6(l,d,0,null)}function t$(l,d,g){return uf(d,l.child,null,g),l=Z_(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function E6(l,d,g){l.lanes|=d;var b=l.alternate;b!==null&&(b.lanes|=d),o$(l.return,d,g)}function n$(l,d,g,b,S){var $=l.memoizedState;$===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:S}:($.isBackwards=d,$.rendering=null,$.renderingStartTime=0,$.last=b,$.tail=g,$.tailMode=S)}function N6(l,d,g){var b=d.pendingProps,S=b.revealOrder,$=b.tail;if(Yr(l,d,b.children,g),b=gr.current,(b&2)!==0)b=b&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&E6(l,g,d);else if(l.tag===19)E6(l,g,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}b&=1}switch(Te(gr,b),S){case"forwards":for(g=d.child,S=null;g!==null;)l=g.alternate,l!==null&&Aw(l)===null&&(S=g),g=g.sibling;g=S,g===null?(S=d.child,d.child=null):(S=g.sibling,g.sibling=null),n$(d,!1,S,g,$);break;case"backwards":for(g=null,S=d.child,d.child=null;S!==null;){if(l=S.alternate,l!==null&&Aw(l)===null){d.child=S;break}l=S.sibling,S.sibling=g,g=S,S=l}n$(d,!0,g,null,$);break;case"together":n$(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function Cl(l,d,g){if(l!==null&&(d.dependencies=l.dependencies),vu|=d.lanes,(g&d.childLanes)===0)if(l!==null){if(e0(l,d,g,!1),(g&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,g=xu(l,l.pendingProps),d.child=g,g.return=d;l.sibling!==null;)l=l.sibling,g=g.sibling=xu(l,l.pendingProps),g.return=d;g.sibling=null}return d.child}function r$(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&Uw(l)))}function Ore(l,d,g){switch(d.tag){case 3:Ne(d,d.stateNode.containerInfo),fu(d,yr,l.memoizedState.cache),Uy();break;case 27:case 5:_e(d);break;case 4:Ne(d,d.stateNode.containerInfo);break;case 10:fu(d,d.type,d.memoizedProps.value);break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(lu(d),d.flags|=128,null):(g&d.child.childLanes)!==0?S6(l,d,g):(lu(d),l=Cl(l,d,g),l!==null?l.sibling:null);lu(d);break;case 19:var S=(l.flags&128)!==0;if(b=(g&d.childLanes)!==0,b||(e0(l,d,g,!1),b=(g&d.childLanes)!==0),S){if(b)return N6(l,d,g);d.flags|=128}if(S=d.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Te(gr,gr.current),b)break;return null;case 22:case 23:return d.lanes=0,y6(l,d,g);case 24:fu(d,yr,l.memoizedState.cache)}return Cl(l,d,g)}function O6(l,d,g){if(l!==null)if(l.memoizedProps!==d.pendingProps)Mr=!0;else{if(!r$(l,g)&&(d.flags&128)===0)return Mr=!1,Ore(l,d,g);Mr=(l.flags&131072)!==0}else Mr=!1,Ht&&(d.flags&1048576)!==0&&cP(d,Ow,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var b=d.elementType,S=b._init;if(b=S(b._payload),d.type=b,typeof b=="function")y$(b)?(l=pf(b,l),d.tag=1,d=v6(null,d,b,l,g)):(d.tag=0,d=Y_(null,d,b,l,g));else{if(b!=null){if(S=b.$$typeof,S===x){d.tag=11,d=m6(null,d,b,l,g);break e}else if(S===N){d.tag=14,d=p6(null,d,b,l,g);break e}}throw d=I(b)||b,Error(r(306,d,""))}}return d;case 0:return Y_(l,d,d.type,d.pendingProps,g);case 1:return b=d.type,S=pf(b,d.pendingProps),v6(l,d,b,S,g);case 3:e:{if(Ne(d,d.stateNode.containerInfo),l===null)throw Error(r(387));var $=d.pendingProps;S=d.memoizedState,b=S.element,l$(l,d),r0(d,$,null,g);var V=d.memoizedState;if($=V.cache,fu(d,yr,$),$!==S.cache&&s$(d,[yr],g,!0),n0(),$=V.element,S.isDehydrated)if(S={element:$,isDehydrated:!1,cache:V.cache},d.updateQueue.baseState=S,d.memoizedState=S,d.flags&256){d=w6(l,d,$,g);break e}else if($!==b){b=Go(Error(r(424)),d),Vy(b),d=w6(l,d,$,g);break e}else for(Kr=Ls(d.stateNode.containerInfo.firstChild),bi=d,Ht=!0,Ds=null,Ca=!0,g=bP(d,null,$,g),d.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Uy(),$===b){d=Cl(l,d,g);break e}Yr(l,d,$,g)}d=d.child}return d;case 26:return Zy(l,d),l===null?(g=CD(d.type,null,d.pendingProps,null))?d.memoizedState=g:Ht||(g=d.type,l=d.pendingProps,b=i1(Z.current).createElement(g),b[rr]=d,b[Rr]=l,Jr(b,g,l),ir(b),d.stateNode=b):d.memoizedState=CD(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return _e(d),l===null&&Ht&&(b=d.stateNode=OD(d.type,d.pendingProps,Z.current),bi=d,Ca=!0,Kr=Ls(b.firstChild)),b=d.pendingProps.children,l!==null||Ht?Yr(l,d,b,g):d.child=uf(d,null,b,g),Zy(l,d),d.child;case 5:return l===null&&Ht&&((S=b=Kr)&&(b=tie(b,d.type,d.pendingProps,Ca),b!==null?(d.stateNode=b,bi=d,Kr=Ls(b.firstChild),Ca=!1,S=!0):S=!1),S||cf(d)),_e(d),S=d.type,$=d.pendingProps,V=l!==null?l.memoizedProps:null,b=$.children,V$(S,$)?b=null:V!==null&&V$(S,V)&&(d.flags|=32),d.memoizedState!==null&&(S=T_(l,d,bre,null,null,g),b0._currentValue=S),Zy(l,d),Yr(l,d,b,g),d.child;case 6:return l===null&&Ht&&((l=g=Kr)&&(g=nie(g,d.pendingProps,Ca),g!==null?(d.stateNode=g,bi=d,Kr=null,l=!0):l=!1),l||cf(d)),null;case 13:return S6(l,d,g);case 4:return Ne(d,d.stateNode.containerInfo),b=d.pendingProps,l===null?d.child=uf(d,null,b,g):Yr(l,d,b,g),d.child;case 11:return m6(l,d,d.type,d.pendingProps,g);case 7:return Yr(l,d,d.pendingProps,g),d.child;case 8:return Yr(l,d,d.pendingProps.children,g),d.child;case 12:return Yr(l,d,d.pendingProps.children,g),d.child;case 10:return b=d.pendingProps,fu(d,d.type,b.value),Yr(l,d,b.children,g),d.child;case 9:return S=d.type._context,b=d.pendingProps.children,yf(d),S=ii(S),b=b(S),d.flags|=1,Yr(l,d,b,g),d.child;case 14:return p6(l,d,d.type,d.pendingProps,g);case 15:return g6(l,d,d.type,d.pendingProps,g);case 19:return N6(l,d,g);case 22:return y6(l,d,g);case 24:return yf(d),b=ii(yr),l===null?(S=j_(),S===null&&(S=hn,$=$_(),S.pooledCache=$,$.refCount++,$!==null&&(S.pooledCacheLanes|=g),S=$),d.memoizedState={parent:b,cache:S},a$(d),fu(d,yr,S)):((l.lanes&g)!==0&&(l$(l,d),r0(d,null,null,g),n0()),S=l.memoizedState,$=d.memoizedState,S.parent!==b?(S={parent:b,cache:b},d.memoizedState=S,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=S),fu(d,yr,b)):(b=$.cache,fu(d,yr,b),b!==S.cache&&s$(d,[yr],g,!0))),Yr(l,d,d.pendingProps.children,g),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}var i$=ye(null),gf=null,jl=null;function fu(l,d,g){Te(i$,d._currentValue),d._currentValue=g}function Al(l){l._currentValue=i$.current,je(i$)}function o$(l,d,g){for(;l!==null;){var b=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),l===g)break;l=l.return}}function s$(l,d,g,b){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var $=S.dependencies;if($!==null){var V=S.child;$=$.firstContext;e:for(;$!==null;){var K=$;$=S;for(var te=0;te<d.length;te++)if(K.context===d[te]){$.lanes|=g,K=$.alternate,K!==null&&(K.lanes|=g),o$($.return,g,l),b||(V=null);break e}$=K.next}}else if(S.tag===18){if(V=S.return,V===null)throw Error(r(341));V.lanes|=g,$=V.alternate,$!==null&&($.lanes|=g),o$(V,g,l),V=null}else V=S.child;if(V!==null)V.return=S;else for(V=S;V!==null;){if(V===l){V=null;break}if(S=V.sibling,S!==null){S.return=V.return,V=S;break}V=V.return}S=V}}function e0(l,d,g,b){l=null;for(var S=d,$=!1;S!==null;){if(!$){if((S.flags&524288)!==0)$=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var V=S.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var K=S.type;mo(S.pendingProps.value,V.value)||(l!==null?l.push(K):l=[K])}}else if(S===we.current){if(V=S.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(b0):l=[b0])}S=S.return}l!==null&&s$(d,l,g,b),d.flags|=262144}function Uw(l){for(l=l.firstContext;l!==null;){if(!mo(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function yf(l){gf=l,jl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ii(l){return _6(gf,l)}function Vw(l,d){return gf===null&&yf(l),_6(l,d)}function _6(l,d){var g=d._currentValue;if(d={context:d,memoizedValue:g,next:null},jl===null){if(l===null)throw Error(r(308));jl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else jl=jl.next=d;return g}var hu=!1;function a$(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function l$(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function mu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function pu(l,d,g){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(Pn&2)!==0){var S=b.pending;return S===null?d.next=d:(d.next=S.next,S.next=d),b.pending=d,d=Ew(l),aP(l,null,g),d}return Sw(l,b,d,g),Ew(l)}function t0(l,d,g){if(d=d.updateQueue,d!==null&&(d=d.shared,(g&4194176)!==0)){var b=d.lanes;b&=l.pendingLanes,g|=b,d.lanes=g,Qd(l,g)}}function c$(l,d){var g=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var S=null,$=null;if(g=g.firstBaseUpdate,g!==null){do{var V={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};$===null?S=$=V:$=$.next=V,g=g.next}while(g!==null);$===null?S=$=d:$=$.next=d}else S=$=d;g={baseState:b.baseState,firstBaseUpdate:S,lastBaseUpdate:$,shared:b.shared,callbacks:b.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=d:l.next=d,g.lastBaseUpdate=d}var u$=!1;function n0(){if(u$){var l=jm;if(l!==null)throw l}}function r0(l,d,g,b){u$=!1;var S=l.updateQueue;hu=!1;var $=S.firstBaseUpdate,V=S.lastBaseUpdate,K=S.shared.pending;if(K!==null){S.shared.pending=null;var te=K,fe=te.next;te.next=null,V===null?$=fe:V.next=fe,V=te;var Ae=l.alternate;Ae!==null&&(Ae=Ae.updateQueue,K=Ae.lastBaseUpdate,K!==V&&(K===null?Ae.firstBaseUpdate=fe:K.next=fe,Ae.lastBaseUpdate=te))}if($!==null){var Me=S.baseState;V=0,Ae=fe=te=null,K=$;do{var ve=K.lane&-536870913,Ce=ve!==K.lane;if(Ce?(kt&ve)===ve:(b&ve)===ve){ve!==0&&ve===Cm&&(u$=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var rt=l,mt=K;ve=d;var Vn=g;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){Me=rt.call(Vn,Me,ve);break e}Me=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,ve=typeof rt=="function"?rt.call(Vn,Me,ve):rt,ve==null)break e;Me=z({},Me,ve);break e;case 2:hu=!0}}ve=K.callback,ve!==null&&(l.flags|=64,Ce&&(l.flags|=8192),Ce=S.callbacks,Ce===null?S.callbacks=[ve]:Ce.push(ve))}else Ce={lane:ve,tag:K.tag,payload:K.payload,callback:K.callback,next:null},Ae===null?(fe=Ae=Ce,te=Me):Ae=Ae.next=Ce,V|=ve;if(K=K.next,K===null){if(K=S.shared.pending,K===null)break;Ce=K,K=Ce.next,Ce.next=null,S.lastBaseUpdate=Ce,S.shared.pending=null}}while(!0);Ae===null&&(te=Me),S.baseState=te,S.firstBaseUpdate=fe,S.lastBaseUpdate=Ae,$===null&&(S.shared.lanes=0),vu|=V,l.lanes=V,l.memoizedState=Me}}function $6(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function C6(l,d){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)$6(g[l],d)}function i0(l,d){try{var g=d.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var S=b.next;g=S;do{if((g.tag&l)===l){b=void 0;var $=g.create,V=g.inst;b=$(),V.destroy=b}g=g.next}while(g!==S)}}catch(K){ln(d,d.return,K)}}function gu(l,d,g){try{var b=d.updateQueue,S=b!==null?b.lastEffect:null;if(S!==null){var $=S.next;b=$;do{if((b.tag&l)===l){var V=b.inst,K=V.destroy;if(K!==void 0){V.destroy=void 0,S=d;var te=g;try{K()}catch(fe){ln(S,te,fe)}}}b=b.next}while(b!==$)}}catch(fe){ln(d,d.return,fe)}}function j6(l){var d=l.updateQueue;if(d!==null){var g=l.stateNode;try{C6(d,g)}catch(b){ln(l,l.return,b)}}}function A6(l,d,g){g.props=pf(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(b){ln(l,d,b)}}function bf(l,d){try{var g=l.ref;if(g!==null){var b=l.stateNode;switch(l.tag){case 26:case 27:case 5:var S=b;break;default:S=b}typeof g=="function"?l.refCleanup=g(S):g.current=S}}catch($){ln(l,d,$)}}function po(l,d){var g=l.ref,b=l.refCleanup;if(g!==null)if(typeof b=="function")try{b()}catch(S){ln(l,d,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(S){ln(l,d,S)}else g.current=null}function T6(l){var d=l.type,g=l.memoizedProps,b=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":g.autoFocus&&b.focus();break e;case"img":g.src?b.src=g.src:g.srcSet&&(b.srcset=g.srcSet)}}catch(S){ln(l,l.return,S)}}function R6(l,d,g){try{var b=l.stateNode;Jre(b,l.type,g,d),b[Rr]=d}catch(S){ln(l,l.return,S)}}function I6(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27||l.tag===4}function d$(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||I6(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==27&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function f$(l,d,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?g.nodeType===8?g.parentNode.insertBefore(l,d):g.insertBefore(l,d):(g.nodeType===8?(d=g.parentNode,d.insertBefore(l,g)):(d=g,d.appendChild(l)),g=g._reactRootContainer,g!=null||d.onclick!==null||(d.onclick=r1));else if(b!==4&&b!==27&&(l=l.child,l!==null))for(f$(l,d,g),l=l.sibling;l!==null;)f$(l,d,g),l=l.sibling}function qw(l,d,g){var b=l.tag;if(b===5||b===6)l=l.stateNode,d?g.insertBefore(l,d):g.appendChild(l);else if(b!==4&&b!==27&&(l=l.child,l!==null))for(qw(l,d,g),l=l.sibling;l!==null;)qw(l,d,g),l=l.sibling}var Tl=!1,zn=!1,h$=!1,M6=typeof WeakSet=="function"?WeakSet:Set,kr=null,k6=!1;function _re(l,d){if(l=l.containerInfo,z$=u1,l=Qk(l),p_(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var S=b.anchorOffset,$=b.focusNode;b=b.focusOffset;try{g.nodeType,$.nodeType}catch{g=null;break e}var V=0,K=-1,te=-1,fe=0,Ae=0,Me=l,ve=null;t:for(;;){for(var Ce;Me!==g||S!==0&&Me.nodeType!==3||(K=V+S),Me!==$||b!==0&&Me.nodeType!==3||(te=V+b),Me.nodeType===3&&(V+=Me.nodeValue.length),(Ce=Me.firstChild)!==null;)ve=Me,Me=Ce;for(;;){if(Me===l)break t;if(ve===g&&++fe===S&&(K=V),ve===$&&++Ae===b&&(te=V),(Ce=Me.nextSibling)!==null)break;Me=ve,ve=Me.parentNode}Me=Ce}g=K===-1||te===-1?null:{start:K,end:te}}else g=null}g=g||{start:0,end:0}}else g=null;for(U$={focusedElem:l,selectionRange:g},u1=!1,kr=d;kr!==null;)if(d=kr,l=d.child,(d.subtreeFlags&1028)!==0&&l!==null)l.return=d,kr=l;else for(;kr!==null;){switch(d=kr,$=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&$!==null){l=void 0,g=d,S=$.memoizedProps,$=$.memoizedState,b=g.stateNode;try{var rt=pf(g.type,S,g.elementType===g.type);l=b.getSnapshotBeforeUpdate(rt,$),b.__reactInternalSnapshotBeforeUpdate=l}catch(mt){ln(g,g.return,mt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,g=l.nodeType,g===9)W$(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":W$(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,kr=l;break}kr=d.return}return rt=k6,k6=!1,rt}function P6(l,d,g){var b=g.flags;switch(g.tag){case 0:case 11:case 15:Il(l,g),b&4&&i0(5,g);break;case 1:if(Il(l,g),b&4)if(l=g.stateNode,d===null)try{l.componentDidMount()}catch(K){ln(g,g.return,K)}else{var S=pf(g.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(S,d,l.__reactInternalSnapshotBeforeUpdate)}catch(K){ln(g,g.return,K)}}b&64&&j6(g),b&512&&bf(g,g.return);break;case 3:if(Il(l,g),b&64&&(b=g.updateQueue,b!==null)){if(l=null,g.child!==null)switch(g.child.tag){case 27:case 5:l=g.child.stateNode;break;case 1:l=g.child.stateNode}try{C6(b,l)}catch(K){ln(g,g.return,K)}}break;case 26:Il(l,g),b&512&&bf(g,g.return);break;case 27:case 5:Il(l,g),d===null&&b&4&&T6(g),b&512&&bf(g,g.return);break;case 12:Il(l,g);break;case 13:Il(l,g),b&4&&L6(l,g);break;case 22:if(S=g.memoizedState!==null||Tl,!S){d=d!==null&&d.memoizedState!==null||zn;var $=Tl,V=zn;Tl=S,(zn=d)&&!V?yu(l,g,(g.subtreeFlags&8772)!==0):Il(l,g),Tl=$,zn=V}b&512&&(g.memoizedProps.mode==="manual"?bf(g,g.return):po(g,g.return));break;default:Il(l,g)}}function D6(l){var d=l.alternate;d!==null&&(l.alternate=null,D6(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Ty(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var ar=null,go=!1;function Rl(l,d,g){for(g=g.child;g!==null;)F6(l,d,g),g=g.sibling}function F6(l,d,g){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(Qt,g)}catch{}switch(g.tag){case 26:zn||po(g,d),Rl(l,d,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:zn||po(g,d);var b=ar,S=go;for(ar=g.stateNode,Rl(l,d,g),g=g.stateNode,d=g.attributes;d.length;)g.removeAttributeNode(d[0]);Ty(g),ar=b,go=S;break;case 5:zn||po(g,d);case 6:S=ar;var $=go;if(ar=null,Rl(l,d,g),ar=S,go=$,ar!==null)if(go)try{l=ar,b=g.stateNode,l.nodeType===8?l.parentNode.removeChild(b):l.removeChild(b)}catch(V){ln(g,d,V)}else try{ar.removeChild(g.stateNode)}catch(V){ln(g,d,V)}break;case 18:ar!==null&&(go?(d=ar,g=g.stateNode,d.nodeType===8?H$(d.parentNode,g):d.nodeType===1&&H$(d,g),S0(d)):H$(ar,g.stateNode));break;case 4:b=ar,S=go,ar=g.stateNode.containerInfo,go=!0,Rl(l,d,g),ar=b,go=S;break;case 0:case 11:case 14:case 15:zn||gu(2,g,d),zn||gu(4,g,d),Rl(l,d,g);break;case 1:zn||(po(g,d),b=g.stateNode,typeof b.componentWillUnmount=="function"&&A6(g,d,b)),Rl(l,d,g);break;case 21:Rl(l,d,g);break;case 22:zn||po(g,d),zn=(b=zn)||g.memoizedState!==null,Rl(l,d,g),zn=b;break;default:Rl(l,d,g)}}function L6(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{S0(l)}catch(g){ln(d,d.return,g)}}function $re(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new M6),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new M6),d;default:throw Error(r(435,l.tag))}}function m$(l,d){var g=$re(l);d.forEach(function(b){var S=Bre.bind(null,l,b);g.has(b)||(g.add(b),b.then(S,S))})}function Xo(l,d){var g=d.deletions;if(g!==null)for(var b=0;b<g.length;b++){var S=g[b],$=l,V=d,K=V;e:for(;K!==null;){switch(K.tag){case 27:case 5:ar=K.stateNode,go=!1;break e;case 3:ar=K.stateNode.containerInfo,go=!0;break e;case 4:ar=K.stateNode.containerInfo,go=!0;break e}K=K.return}if(ar===null)throw Error(r(160));F6($,V,S),ar=null,go=!1,$=S.alternate,$!==null&&($.return=null),S.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)B6(d,l),d=d.sibling}var Fs=null;function B6(l,d){var g=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Xo(d,l),Qo(l),b&4&&(gu(3,l,l.return),i0(3,l),gu(5,l,l.return));break;case 1:Xo(d,l),Qo(l),b&512&&(zn||g===null||po(g,g.return)),b&64&&Tl&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?b:g.concat(b))));break;case 26:var S=Fs;if(Xo(d,l),Qo(l),b&512&&(zn||g===null||po(g,g.return)),b&4){var $=g!==null?g.memoizedState:null;if(b=l.memoizedState,g===null)if(b===null)if(l.stateNode===null){e:{b=l.type,g=l.memoizedProps,S=S.ownerDocument||S;t:switch(b){case"title":$=S.getElementsByTagName("title")[0],(!$||$[tf]||$[rr]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=S.createElement(b),S.head.insertBefore($,S.querySelector("head > title"))),Jr($,b,g),$[rr]=l,ir($),b=$;break e;case"link":var V=TD("link","href",S).get(b+(g.href||""));if(V){for(var K=0;K<V.length;K++)if($=V[K],$.getAttribute("href")===(g.href==null?null:g.href)&&$.getAttribute("rel")===(g.rel==null?null:g.rel)&&$.getAttribute("title")===(g.title==null?null:g.title)&&$.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){V.splice(K,1);break t}}$=S.createElement(b),Jr($,b,g),S.head.appendChild($);break;case"meta":if(V=TD("meta","content",S).get(b+(g.content||""))){for(K=0;K<V.length;K++)if($=V[K],$.getAttribute("content")===(g.content==null?null:""+g.content)&&$.getAttribute("name")===(g.name==null?null:g.name)&&$.getAttribute("property")===(g.property==null?null:g.property)&&$.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&$.getAttribute("charset")===(g.charSet==null?null:g.charSet)){V.splice(K,1);break t}}$=S.createElement(b),Jr($,b,g),S.head.appendChild($);break;default:throw Error(r(468,b))}$[rr]=l,ir($),b=$}l.stateNode=b}else RD(S,l.type,l.stateNode);else l.stateNode=AD(S,b,l.memoizedProps);else $!==b?($===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):$.count--,b===null?RD(S,l.type,l.stateNode):AD(S,b,l.memoizedProps)):b===null&&l.stateNode!==null&&R6(l,l.memoizedProps,g.memoizedProps)}break;case 27:if(b&4&&l.alternate===null){S=l.stateNode,$=l.memoizedProps;try{for(var te=S.firstChild;te;){var fe=te.nextSibling,Ae=te.nodeName;te[tf]||Ae==="HEAD"||Ae==="BODY"||Ae==="SCRIPT"||Ae==="STYLE"||Ae==="LINK"&&te.rel.toLowerCase()==="stylesheet"||S.removeChild(te),te=fe}for(var Me=l.type,ve=S.attributes;ve.length;)S.removeAttributeNode(ve[0]);Jr(S,Me,$),S[rr]=l,S[Rr]=$}catch(rt){ln(l,l.return,rt)}}case 5:if(Xo(d,l),Qo(l),b&512&&(zn||g===null||po(g,g.return)),l.flags&32){S=l.stateNode;try{gm(S,"")}catch(rt){ln(l,l.return,rt)}}b&4&&l.stateNode!=null&&(S=l.memoizedProps,R6(l,S,g!==null?g.memoizedProps:S)),b&1024&&(h$=!0);break;case 6:if(Xo(d,l),Qo(l),b&4){if(l.stateNode===null)throw Error(r(162));b=l.memoizedProps,g=l.stateNode;try{g.nodeValue=b}catch(rt){ln(l,l.return,rt)}}break;case 3:if(a1=null,S=Fs,Fs=o1(d.containerInfo),Xo(d,l),Fs=S,Qo(l),b&4&&g!==null&&g.memoizedState.isDehydrated)try{S0(d.containerInfo)}catch(rt){ln(l,l.return,rt)}h$&&(h$=!1,z6(l));break;case 4:b=Fs,Fs=o1(l.stateNode.containerInfo),Xo(d,l),Qo(l),Fs=b;break;case 12:Xo(d,l),Qo(l);break;case 13:Xo(d,l),Qo(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(E$=ae()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,m$(l,b)));break;case 22:if(b&512&&(zn||g===null||po(g,g.return)),te=l.memoizedState!==null,fe=g!==null&&g.memoizedState!==null,Ae=Tl,Me=zn,Tl=Ae||te,zn=Me||fe,Xo(d,l),zn=Me,Tl=Ae,Qo(l),d=l.stateNode,d._current=l,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,b&8192&&(d._visibility=te?d._visibility&-2:d._visibility|1,te&&(d=Tl||zn,g===null||fe||d||Im(l)),l.memoizedProps===null||l.memoizedProps.mode!=="manual"))e:for(g=null,d=l;;){if(d.tag===5||d.tag===26||d.tag===27){if(g===null){fe=g=d;try{if(S=fe.stateNode,te)$=S.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{V=fe.stateNode,K=fe.memoizedProps.style;var Ce=K!=null&&K.hasOwnProperty("display")?K.display:null;V.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(rt){ln(fe,fe.return,rt)}}}else if(d.tag===6){if(g===null){fe=d;try{fe.stateNode.nodeValue=te?"":fe.memoizedProps}catch(rt){ln(fe,fe.return,rt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;g===d&&(g=null),d=d.return}g===d&&(g=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=l.updateQueue,b!==null&&(g=b.retryQueue,g!==null&&(b.retryQueue=null,m$(l,g))));break;case 19:Xo(d,l),Qo(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,m$(l,b)));break;case 21:break;default:Xo(d,l),Qo(l)}}function Qo(l){var d=l.flags;if(d&2){try{if(l.tag!==27){e:{for(var g=l.return;g!==null;){if(I6(g)){var b=g;break e}g=g.return}throw Error(r(160))}switch(b.tag){case 27:var S=b.stateNode,$=d$(l);qw(l,$,S);break;case 5:var V=b.stateNode;b.flags&32&&(gm(V,""),b.flags&=-33);var K=d$(l);qw(l,K,V);break;case 3:case 4:var te=b.stateNode.containerInfo,fe=d$(l);f$(l,fe,te);break;default:throw Error(r(161))}}}catch(Ae){ln(l,l.return,Ae)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function z6(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;z6(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function Il(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)P6(l,d.alternate,d),d=d.sibling}function Im(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:gu(4,d,d.return),Im(d);break;case 1:po(d,d.return);var g=d.stateNode;typeof g.componentWillUnmount=="function"&&A6(d,d.return,g),Im(d);break;case 26:case 27:case 5:po(d,d.return),Im(d);break;case 22:po(d,d.return),d.memoizedState===null&&Im(d);break;default:Im(d)}l=l.sibling}}function yu(l,d,g){for(g=g&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,S=l,$=d,V=$.flags;switch($.tag){case 0:case 11:case 15:yu(S,$,g),i0(4,$);break;case 1:if(yu(S,$,g),b=$,S=b.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(fe){ln(b,b.return,fe)}if(b=$,S=b.updateQueue,S!==null){var K=b.stateNode;try{var te=S.shared.hiddenCallbacks;if(te!==null)for(S.shared.hiddenCallbacks=null,S=0;S<te.length;S++)$6(te[S],K)}catch(fe){ln(b,b.return,fe)}}g&&V&64&&j6($),bf($,$.return);break;case 26:case 27:case 5:yu(S,$,g),g&&b===null&&V&4&&T6($),bf($,$.return);break;case 12:yu(S,$,g);break;case 13:yu(S,$,g),g&&V&4&&L6(S,$);break;case 22:$.memoizedState===null&&yu(S,$,g),bf($,$.return);break;default:yu(S,$,g)}d=d.sibling}}function p$(l,d){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&Ky(g))}function g$(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Ky(l))}function bu(l,d,g,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)U6(l,d,g,b),d=d.sibling}function U6(l,d,g,b){var S=d.flags;switch(d.tag){case 0:case 11:case 15:bu(l,d,g,b),S&2048&&i0(9,d);break;case 3:bu(l,d,g,b),S&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Ky(l)));break;case 12:if(S&2048){bu(l,d,g,b),l=d.stateNode;try{var $=d.memoizedProps,V=$.id,K=$.onPostCommit;typeof K=="function"&&K(V,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(te){ln(d,d.return,te)}}else bu(l,d,g,b);break;case 23:break;case 22:$=d.stateNode,d.memoizedState!==null?$._visibility&4?bu(l,d,g,b):o0(l,d):$._visibility&4?bu(l,d,g,b):($._visibility|=4,Mm(l,d,g,b,(d.subtreeFlags&10256)!==0)),S&2048&&p$(d.alternate,d);break;case 24:bu(l,d,g,b),S&2048&&g$(d.alternate,d);break;default:bu(l,d,g,b)}}function Mm(l,d,g,b,S){for(S=S&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var $=l,V=d,K=g,te=b,fe=V.flags;switch(V.tag){case 0:case 11:case 15:Mm($,V,K,te,S),i0(8,V);break;case 23:break;case 22:var Ae=V.stateNode;V.memoizedState!==null?Ae._visibility&4?Mm($,V,K,te,S):o0($,V):(Ae._visibility|=4,Mm($,V,K,te,S)),S&&fe&2048&&p$(V.alternate,V);break;case 24:Mm($,V,K,te,S),S&&fe&2048&&g$(V.alternate,V);break;default:Mm($,V,K,te,S)}d=d.sibling}}function o0(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var g=l,b=d,S=b.flags;switch(b.tag){case 22:o0(g,b),S&2048&&p$(b.alternate,b);break;case 24:o0(g,b),S&2048&&g$(b.alternate,b);break;default:o0(g,b)}d=d.sibling}}var s0=8192;function km(l){if(l.subtreeFlags&s0)for(l=l.child;l!==null;)V6(l),l=l.sibling}function V6(l){switch(l.tag){case 26:km(l),l.flags&s0&&l.memoizedState!==null&&pie(Fs,l.memoizedState,l.memoizedProps);break;case 5:km(l);break;case 3:case 4:var d=Fs;Fs=o1(l.stateNode.containerInfo),km(l),Fs=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=s0,s0=16777216,km(l),s0=d):km(l));break;default:km(l)}}function q6(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function a0(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];kr=b,W6(b,l)}q6(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)H6(l),l=l.sibling}function H6(l){switch(l.tag){case 0:case 11:case 15:a0(l),l.flags&2048&&gu(9,l,l.return);break;case 3:a0(l);break;case 12:a0(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&4&&(l.return===null||l.return.tag!==13)?(d._visibility&=-5,Hw(l)):a0(l);break;default:a0(l)}}function Hw(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var g=0;g<d.length;g++){var b=d[g];kr=b,W6(b,l)}q6(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:gu(8,d,d.return),Hw(d);break;case 22:g=d.stateNode,g._visibility&4&&(g._visibility&=-5,Hw(d));break;default:Hw(d)}l=l.sibling}}function W6(l,d){for(;kr!==null;){var g=kr;switch(g.tag){case 0:case 11:case 15:gu(8,g,d);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var b=g.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Ky(g.memoizedState.cache)}if(b=g.child,b!==null)b.return=g,kr=b;else e:for(g=l;kr!==null;){b=kr;var S=b.sibling,$=b.return;if(D6(b),b===g){kr=null;break e}if(S!==null){S.return=$,kr=S;break e}kr=$}}}function Cre(l,d,g,b){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zo(l,d,g,b){return new Cre(l,d,g,b)}function y$(l){return l=l.prototype,!(!l||!l.isReactComponent)}function xu(l,d){var g=l.alternate;return g===null?(g=Zo(l.tag,d,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=d,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&31457280,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,d=l.dependencies,g.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function G6(l,d){l.flags&=31457282;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,d=g.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function Ww(l,d,g,b,S,$){var V=0;if(b=l,typeof l=="function")y$(l)&&(V=1);else if(typeof l=="string")V=hie(l,g,J.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case c:return xf(g.children,S,$,d);case u:V=8,S|=24;break;case f:return l=Zo(12,g,d,S|2),l.elementType=f,l.lanes=$,l;case v:return l=Zo(13,g,d,S),l.elementType=v,l.lanes=$,l;case E:return l=Zo(19,g,d,S),l.elementType=E,l.lanes=$,l;case _:return K6(g,S,$,d);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case h:case y:V=10;break e;case p:V=9;break e;case x:V=11;break e;case N:V=14;break e;case O:V=16,b=null;break e}V=29,g=Error(r(130,l===null?"null":typeof l,"")),b=null}return d=Zo(V,g,d,S),d.elementType=l,d.type=b,d.lanes=$,d}function xf(l,d,g,b){return l=Zo(7,l,b,d),l.lanes=g,l}function K6(l,d,g,b){l=Zo(22,l,b,d),l.elementType=_,l.lanes=g;var S={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var $=S._current;if($===null)throw Error(r(456));if((S._pendingVisibility&2)===0){var V=au($,2);V!==null&&(S._pendingVisibility|=2,xi(V,$,2))}},attach:function(){var $=S._current;if($===null)throw Error(r(456));if((S._pendingVisibility&2)!==0){var V=au($,2);V!==null&&(S._pendingVisibility&=-3,xi(V,$,2))}}};return l.stateNode=S,l}function b$(l,d,g){return l=Zo(6,l,null,d),l.lanes=g,l}function x$(l,d,g){return d=Zo(4,l.children!==null?l.children:[],l.key,d),d.lanes=g,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}function Ml(l){l.flags|=4}function Y6(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!ID(d)){if(d=Jo.current,d!==null&&((kt&4194176)===kt?ja!==null:(kt&62914560)!==kt&&(kt&536870912)===0||d!==ja))throw Hy=N_,fP;l.flags|=8192}}function Gw(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?$n():536870912,l.lanes|=d,Dm|=d)}function l0(l,d){if(!Ht)switch(l.tailMode){case"hidden":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function kn(l){var d=l.alternate!==null&&l.alternate.child===l.child,g=0,b=0;if(d)for(var S=l.child;S!==null;)g|=S.lanes|S.childLanes,b|=S.subtreeFlags&31457280,b|=S.flags&31457280,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)g|=S.lanes|S.childLanes,b|=S.subtreeFlags,b|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=b,l.childLanes=g,d}function jre(l,d,g){var b=d.pendingProps;switch(S_(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(d),null;case 1:return kn(d),null;case 3:return g=d.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),Al(yr),$e(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(zy(d)?Ml(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,Ds!==null&&($$(Ds),Ds=null))),kn(d),null;case 26:return g=d.memoizedState,l===null?(Ml(d),g!==null?(kn(d),Y6(d,g)):(kn(d),d.flags&=-16777217)):g?g!==l.memoizedState?(Ml(d),kn(d),Y6(d,g)):(kn(d),d.flags&=-16777217):(l.memoizedProps!==b&&Ml(d),kn(d),d.flags&=-16777217),null;case 27:Y(d),g=Z.current;var S=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Ml(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return kn(d),null}l=J.current,zy(d)?uP(d):(l=OD(S,b,g),d.stateNode=l,Ml(d))}return kn(d),null;case 5:if(Y(d),g=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==b&&Ml(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return kn(d),null}if(l=J.current,zy(d))uP(d);else{switch(S=i1(Z.current),l){case 1:l=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:l=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":l=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":l=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":l=S.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof b.is=="string"?S.createElement("select",{is:b.is}):S.createElement("select"),b.multiple?l.multiple=!0:b.size&&(l.size=b.size);break;default:l=typeof b.is=="string"?S.createElement(g,{is:b.is}):S.createElement(g)}}l[rr]=d,l[Rr]=b;e:for(S=d.child;S!==null;){if(S.tag===5||S.tag===6)l.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break e;for(;S.sibling===null;){if(S.return===null||S.return===d)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}d.stateNode=l;e:switch(Jr(l,g,b),g){case"button":case"input":case"select":case"textarea":l=!!b.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ml(d)}}return kn(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==b&&Ml(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(l=Z.current,zy(d)){if(l=d.stateNode,g=d.memoizedProps,b=null,S=bi,S!==null)switch(S.tag){case 27:case 5:b=S.memoizedProps}l[rr]=d,l=!!(l.nodeValue===g||b!==null&&b.suppressHydrationWarning===!0||xD(l.nodeValue,g)),l||cf(d)}else l=i1(l).createTextNode(b),l[rr]=d,d.stateNode=l}return kn(d),null;case 13:if(b=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=zy(d),b!==null&&b.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=d.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[rr]=d}else Uy(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;kn(d),S=!1}else Ds!==null&&($$(Ds),Ds=null),S=!0;if(!S)return d.flags&256?(_l(d),d):(_l(d),null)}if(_l(d),(d.flags&128)!==0)return d.lanes=g,d;if(g=b!==null,l=l!==null&&l.memoizedState!==null,g){b=d.child,S=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(S=b.alternate.memoizedState.cachePool.pool);var $=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&($=b.memoizedState.cachePool.pool),$!==S&&(b.flags|=2048)}return g!==l&&g&&(d.child.flags|=8192),Gw(d,d.updateQueue),kn(d),null;case 4:return $e(),l===null&&F$(d.stateNode.containerInfo),kn(d),null;case 10:return Al(d.type),kn(d),null;case 19:if(je(gr),S=d.memoizedState,S===null)return kn(d),null;if(b=(d.flags&128)!==0,$=S.rendering,$===null)if(b)l0(S,!1);else{if(Un!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if($=Aw(l),$!==null){for(d.flags|=128,l0(S,!1),l=$.updateQueue,d.updateQueue=l,Gw(d,l),d.subtreeFlags=0,l=g,g=d.child;g!==null;)G6(g,l),g=g.sibling;return Te(gr,gr.current&1|2),d.child}l=l.sibling}S.tail!==null&&ae()>Kw&&(d.flags|=128,b=!0,l0(S,!1),d.lanes=4194304)}else{if(!b)if(l=Aw($),l!==null){if(d.flags|=128,b=!0,l=l.updateQueue,d.updateQueue=l,Gw(d,l),l0(S,!0),S.tail===null&&S.tailMode==="hidden"&&!$.alternate&&!Ht)return kn(d),null}else 2*ae()-S.renderingStartTime>Kw&&g!==536870912&&(d.flags|=128,b=!0,l0(S,!1),d.lanes=4194304);S.isBackwards?($.sibling=d.child,d.child=$):(l=S.last,l!==null?l.sibling=$:d.child=$,S.last=$)}return S.tail!==null?(d=S.tail,S.rendering=d,S.tail=d.sibling,S.renderingStartTime=ae(),d.sibling=null,l=gr.current,Te(gr,b?l&1|2:l&1),d):(kn(d),null);case 22:case 23:return _l(d),__(),b=d.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(g&536870912)!==0&&(d.flags&128)===0&&(kn(d),d.subtreeFlags&6&&(d.flags|=8192)):kn(d),g=d.updateQueue,g!==null&&Gw(d,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==g&&(d.flags|=2048),l!==null&&je(df),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),d.memoizedState.cache!==g&&(d.flags|=2048),Al(yr),kn(d),null;case 25:return null}throw Error(r(156,d.tag))}function Are(l,d){switch(S_(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return Al(yr),$e(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return Y(d),null;case 13:if(_l(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Uy()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return je(gr),null;case 4:return $e(),null;case 10:return Al(d.type),null;case 22:case 23:return _l(d),__(),l!==null&&je(df),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return Al(yr),null;case 25:return null;default:return null}}function J6(l,d){switch(S_(d),d.tag){case 3:Al(yr),$e();break;case 26:case 27:case 5:Y(d);break;case 4:$e();break;case 13:_l(d);break;case 19:je(gr);break;case 10:Al(d.type);break;case 22:case 23:_l(d),__(),l!==null&&je(df);break;case 24:Al(yr)}}var Tre={getCacheForType:function(l){var d=ii(yr),g=d.data.get(l);return g===void 0&&(g=l(),d.data.set(l,g)),g}},Rre=typeof WeakMap=="function"?WeakMap:Map,Pn=0,hn=null,Ct=null,kt=0,mn=0,yo=null,kl=!1,Pm=!1,v$=!1,Pl=0,Un=0,vu=0,vf=0,w$=0,es=0,Dm=0,c0=null,Ta=null,S$=!1,E$=0,Kw=1/0,Yw=null,wu=null,Jw=!1,wf=null,u0=0,N$=0,O$=null,d0=0,_$=null;function bo(){if((Pn&2)!==0&&kt!==0)return kt&-kt;if(P.T!==null){var l=Cm;return l!==0?l:M$()}return ef()}function X6(){es===0&&(es=(kt&536870912)===0||Ht?cm():536870912);var l=Jo.current;return l!==null&&(l.flags|=32),es}function xi(l,d,g){(l===hn&&mn===2||l.cancelPendingCommit!==null)&&(Fm(l,0),Dl(l,kt,es,!1)),gi(l,g),((Pn&2)===0||l!==hn)&&(l===hn&&((Pn&2)===0&&(vf|=g),Un===4&&Dl(l,kt,es,!1)),Ra(l))}function Q6(l,d,g){if((Pn&6)!==0)throw Error(r(327));var b=!g&&(d&60)===0&&(d&l.expiredLanes)===0||eu(l,d),S=b?kre(l,d):A$(l,d,!0),$=b;do{if(S===0){Pm&&!b&&Dl(l,d,0,!1);break}else if(S===6)Dl(l,d,0,!kl);else{if(g=l.current.alternate,$&&!Ire(g)){S=A$(l,d,!1),$=!1;continue}if(S===2){if($=d,l.errorRecoveryDisabledLanes&$)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){d=V;e:{var K=l;S=c0;var te=K.current.memoizedState.isDehydrated;if(te&&(Fm(K,V).flags|=256),V=A$(K,V,!1),V!==2){if(v$&&!te){K.errorRecoveryDisabledLanes|=$,vf|=$,S=4;break e}$=Ta,Ta=S,$!==null&&$$($)}S=V}if($=!1,S!==2)continue}}if(S===1){Fm(l,0),Dl(l,d,0,!0);break}e:{switch(b=l,S){case 0:case 1:throw Error(r(345));case 4:if((d&4194176)===d){Dl(b,d,es,!kl);break e}break;case 2:Ta=null;break;case 3:case 5:break;default:throw Error(r(329))}if(b.finishedWork=g,b.finishedLanes=d,(d&62914560)===d&&($=E$+300-ae(),10<$)){if(Dl(b,d,es,!kl),wl(b,0)!==0)break e;b.timeoutHandle=SD(Z6.bind(null,b,g,Ta,Yw,S$,d,es,vf,Dm,kl,2,-0,0),$);break e}Z6(b,g,Ta,Yw,S$,d,es,vf,Dm,kl,0,-0,0)}}break}while(!0);Ra(l)}function $$(l){Ta===null?Ta=l:Ta.push.apply(Ta,l)}function Z6(l,d,g,b,S,$,V,K,te,fe,Ae,Me,ve){var Ce=d.subtreeFlags;if((Ce&8192||(Ce&16785408)===16785408)&&(y0={stylesheets:null,count:0,unsuspend:mie},V6(d),d=gie(),d!==null)){l.cancelPendingCommit=d(sD.bind(null,l,g,b,S,V,K,te,1,Me,ve)),Dl(l,$,V,!fe);return}sD(l,g,b,S,V,K,te,Ae,Me,ve)}function Ire(l){for(var d=l;;){var g=d.tag;if((g===0||g===11||g===15)&&d.flags&16384&&(g=d.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var b=0;b<g.length;b++){var S=g[b],$=S.getSnapshot;S=S.value;try{if(!mo($(),S))return!1}catch{return!1}}if(g=d.child,d.subtreeFlags&16384&&g!==null)g.return=d,d=g;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Dl(l,d,g,b){d&=~w$,d&=~vf,l.suspendedLanes|=d,l.pingedLanes&=~d,b&&(l.warmLanes|=d),b=l.expirationTimes;for(var S=d;0<S;){var $=31-Ar(S),V=1<<$;b[$]=-1,S&=~V}g!==0&&tu(l,g,d)}function Xw(){return(Pn&6)===0?(f0(0),!1):!0}function C$(){if(Ct!==null){if(mn===0)var l=Ct.return;else l=Ct,jl=gf=null,M_(l),_m=null,Wy=0,l=Ct;for(;l!==null;)J6(l.alternate,l),l=l.return;Ct=null}}function Fm(l,d){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,Qre(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),C$(),hn=l,Ct=g=xu(l.current,null),kt=d,mn=0,yo=null,kl=!1,Pm=eu(l,d),v$=!1,Dm=es=w$=vf=vu=Un=0,Ta=c0=null,S$=!1,(d&8)!==0&&(d|=d&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=d;0<b;){var S=31-Ar(b),$=1<<S;d|=l[S],b&=~$}return Pl=d,ww(),g}function eD(l,d){Et=null,P.H=Aa,d===qy?(d=pP(),mn=3):d===fP?(d=pP(),mn=4):mn=d===h6?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,yo=d,Ct===null&&(Un=1,zw(l,Go(d,l.current)))}function tD(){var l=P.H;return P.H=Aa,l===null?Aa:l}function nD(){var l=P.A;return P.A=Tre,l}function j$(){Un=4,kl||(kt&4194176)!==kt&&Jo.current!==null||(Pm=!0),(vu&134217727)===0&&(vf&134217727)===0||hn===null||Dl(hn,kt,es,!1)}function A$(l,d,g){var b=Pn;Pn|=2;var S=tD(),$=nD();(hn!==l||kt!==d)&&(Yw=null,Fm(l,d)),d=!1;var V=Un;e:do try{if(mn!==0&&Ct!==null){var K=Ct,te=yo;switch(mn){case 8:C$(),V=6;break e;case 3:case 2:case 6:Jo.current===null&&(d=!0);var fe=mn;if(mn=0,yo=null,Lm(l,K,te,fe),g&&Pm){V=0;break e}break;default:fe=mn,mn=0,yo=null,Lm(l,K,te,fe)}}Mre(),V=Un;break}catch(Ae){eD(l,Ae)}while(!0);return d&&l.shellSuspendCounter++,jl=gf=null,Pn=b,P.H=S,P.A=$,Ct===null&&(hn=null,kt=0,ww()),V}function Mre(){for(;Ct!==null;)rD(Ct)}function kre(l,d){var g=Pn;Pn|=2;var b=tD(),S=nD();hn!==l||kt!==d?(Yw=null,Kw=ae()+500,Fm(l,d)):Pm=eu(l,d);e:do try{if(mn!==0&&Ct!==null){d=Ct;var $=yo;t:switch(mn){case 1:mn=0,yo=null,Lm(l,d,$,1);break;case 2:if(hP($)){mn=0,yo=null,iD(d);break}d=function(){mn===2&&hn===l&&(mn=7),Ra(l)},$.then(d,d);break e;case 3:mn=7;break e;case 4:mn=5;break e;case 7:hP($)?(mn=0,yo=null,iD(d)):(mn=0,yo=null,Lm(l,d,$,7));break;case 5:var V=null;switch(Ct.tag){case 26:V=Ct.memoizedState;case 5:case 27:var K=Ct;if(!V||ID(V)){mn=0,yo=null;var te=K.sibling;if(te!==null)Ct=te;else{var fe=K.return;fe!==null?(Ct=fe,Qw(fe)):Ct=null}break t}}mn=0,yo=null,Lm(l,d,$,5);break;case 6:mn=0,yo=null,Lm(l,d,$,6);break;case 8:C$(),Un=6;break e;default:throw Error(r(462))}}Pre();break}catch(Ae){eD(l,Ae)}while(!0);return jl=gf=null,P.H=b,P.A=S,Pn=g,Ct!==null?0:(hn=null,kt=0,ww(),Un)}function Pre(){for(;Ct!==null&&!ue();)rD(Ct)}function rD(l){var d=O6(l.alternate,l,Pl);l.memoizedProps=l.pendingProps,d===null?Qw(l):Ct=d}function iD(l){var d=l,g=d.alternate;switch(d.tag){case 15:case 0:d=x6(g,d,d.pendingProps,d.type,void 0,kt);break;case 11:d=x6(g,d,d.pendingProps,d.type.render,d.ref,kt);break;case 5:M_(d);default:J6(g,d),d=Ct=G6(d,Pl),d=O6(g,d,Pl)}l.memoizedProps=l.pendingProps,d===null?Qw(l):Ct=d}function Lm(l,d,g,b){jl=gf=null,M_(d),_m=null,Wy=0;var S=d.return;try{if(Nre(l,S,d,g,kt)){Un=1,zw(l,Go(g,l.current)),Ct=null;return}}catch($){if(S!==null)throw Ct=S,$;Un=1,zw(l,Go(g,l.current)),Ct=null;return}d.flags&32768?(Ht||b===1?l=!0:Pm||(kt&536870912)!==0?l=!1:(kl=l=!0,(b===2||b===3||b===6)&&(b=Jo.current,b!==null&&b.tag===13&&(b.flags|=16384))),oD(d,l)):Qw(d)}function Qw(l){var d=l;do{if((d.flags&32768)!==0){oD(d,kl);return}l=d.return;var g=jre(d.alternate,d,Pl);if(g!==null){Ct=g;return}if(d=d.sibling,d!==null){Ct=d;return}Ct=d=l}while(d!==null);Un===0&&(Un=5)}function oD(l,d){do{var g=Are(l.alternate,l);if(g!==null){g.flags&=32767,Ct=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!d&&(l=l.sibling,l!==null)){Ct=l;return}Ct=l=g}while(l!==null);Un=6,Ct=null}function sD(l,d,g,b,S,$,V,K,te,fe){var Ae=P.T,Me=se.p;try{se.p=2,P.T=null,Dre(l,d,g,b,Me,S,$,V,K,te,fe)}finally{P.T=Ae,se.p=Me}}function Dre(l,d,g,b,S,$,V,K){do Bm();while(wf!==null);if((Pn&6)!==0)throw Error(r(327));var te=l.finishedWork;if(b=l.finishedLanes,te===null)return null;if(l.finishedWork=null,l.finishedLanes=0,te===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var fe=te.lanes|te.childLanes;if(fe|=x_,$a(l,b,fe,$,V,K),l===hn&&(Ct=hn=null,kt=0),(te.subtreeFlags&10256)===0&&(te.flags&10256)===0||Jw||(Jw=!0,N$=fe,O$=g,zre(Fe,function(){return Bm(),null})),g=(te.flags&15990)!==0,(te.subtreeFlags&15990)!==0||g?(g=P.T,P.T=null,$=se.p,se.p=2,V=Pn,Pn|=4,_re(l,te),B6(te,l),are(U$,l.containerInfo),u1=!!z$,U$=z$=null,l.current=te,P6(l,te.alternate,te),de(),Pn=V,se.p=$,P.T=g):l.current=te,Jw?(Jw=!1,wf=l,u0=b):aD(l,fe),fe=l.pendingLanes,fe===0&&(wu=null),Uo(te.stateNode),Ra(l),d!==null)for(S=l.onRecoverableError,te=0;te<d.length;te++)fe=d[te],S(fe.value,{componentStack:fe.stack});return(u0&3)!==0&&Bm(),fe=l.pendingLanes,(b&4194218)!==0&&(fe&42)!==0?l===_$?d0++:(d0=0,_$=l):d0=0,f0(0),null}function aD(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Ky(d)))}function Bm(){if(wf!==null){var l=wf,d=N$;N$=0;var g=Zd(u0),b=P.T,S=se.p;try{if(se.p=32>g?32:g,P.T=null,wf===null)var $=!1;else{g=O$,O$=null;var V=wf,K=u0;if(wf=null,u0=0,(Pn&6)!==0)throw Error(r(331));var te=Pn;if(Pn|=4,H6(V.current),U6(V,V.current,K,g),Pn=te,f0(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(Qt,V)}catch{}$=!0}return $}finally{se.p=S,P.T=b,aD(l,d)}}return!1}function lD(l,d,g){d=Go(g,d),d=K_(l.stateNode,d,2),l=pu(l,d,2),l!==null&&(gi(l,2),Ra(l))}function ln(l,d,g){if(l.tag===3)lD(l,l,g);else for(;d!==null;){if(d.tag===3){lD(d,l,g);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(wu===null||!wu.has(b))){l=Go(g,l),g=d6(2),b=pu(d,g,2),b!==null&&(f6(g,b,d,l),gi(b,2),Ra(b));break}}d=d.return}}function T$(l,d,g){var b=l.pingCache;if(b===null){b=l.pingCache=new Rre;var S=new Set;b.set(d,S)}else S=b.get(d),S===void 0&&(S=new Set,b.set(d,S));S.has(g)||(v$=!0,S.add(g),l=Fre.bind(null,l,d,g),d.then(l,l))}function Fre(l,d,g){var b=l.pingCache;b!==null&&b.delete(d),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,hn===l&&(kt&g)===g&&(Un===4||Un===3&&(kt&62914560)===kt&&300>ae()-E$?(Pn&2)===0&&Fm(l,0):w$|=g,Dm===kt&&(Dm=0)),Ra(l)}function cD(l,d){d===0&&(d=$n()),l=au(l,d),l!==null&&(gi(l,d),Ra(l))}function Lre(l){var d=l.memoizedState,g=0;d!==null&&(g=d.retryLane),cD(l,g)}function Bre(l,d){var g=0;switch(l.tag){case 13:var b=l.stateNode,S=l.memoizedState;S!==null&&(g=S.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),cD(l,g)}function zre(l,d){return Q(l,d)}var Zw=null,zm=null,R$=!1,e1=!1,I$=!1,Sf=0;function Ra(l){l!==zm&&l.next===null&&(zm===null?Zw=zm=l:zm=zm.next=l),e1=!0,R$||(R$=!0,Vre(Ure))}function f0(l,d){if(!I$&&e1){I$=!0;do for(var g=!1,b=Zw;b!==null;){if(l!==0){var S=b.pendingLanes;if(S===0)var $=0;else{var V=b.suspendedLanes,K=b.pingedLanes;$=(1<<31-Ar(42|l)+1)-1,$&=S&~(V&~K),$=$&201326677?$&201326677|1:$?$|2:0}$!==0&&(g=!0,fD(b,$))}else $=kt,$=wl(b,b===hn?$:0),($&3)===0||eu(b,$)||(g=!0,fD(b,$));b=b.next}while(g);I$=!1}}function Ure(){e1=R$=!1;var l=0;Sf!==0&&(Xre()&&(l=Sf),Sf=0);for(var d=ae(),g=null,b=Zw;b!==null;){var S=b.next,$=uD(b,d);$===0?(b.next=null,g===null?Zw=S:g.next=S,S===null&&(zm=g)):(g=b,(l!==0||($&3)!==0)&&(e1=!0)),b=S}f0(l)}function uD(l,d){for(var g=l.suspendedLanes,b=l.pingedLanes,S=l.expirationTimes,$=l.pendingLanes&-62914561;0<$;){var V=31-Ar($),K=1<<V,te=S[V];te===-1?((K&g)===0||(K&b)!==0)&&(S[V]=jy(K,d)):te<=d&&(l.expiredLanes|=K),$&=~K}if(d=hn,g=kt,g=wl(l,l===d?g:0),b=l.callbackNode,g===0||l===d&&mn===2||l.cancelPendingCommit!==null)return b!==null&&b!==null&&xe(b),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||eu(l,g)){if(d=g&-g,d===l.callbackPriority)return d;switch(b!==null&&xe(b),Zd(g)){case 2:case 8:g=ke;break;case 32:g=Fe;break;case 268435456:g=Xt;break;default:g=Fe}return b=dD.bind(null,l),g=Q(g,b),l.callbackPriority=d,l.callbackNode=g,d}return b!==null&&b!==null&&xe(b),l.callbackPriority=2,l.callbackNode=null,2}function dD(l,d){var g=l.callbackNode;if(Bm()&&l.callbackNode!==g)return null;var b=kt;return b=wl(l,l===hn?b:0),b===0?null:(Q6(l,b,d),uD(l,ae()),l.callbackNode!=null&&l.callbackNode===g?dD.bind(null,l):null)}function fD(l,d){if(Bm())return null;Q6(l,d,!0)}function Vre(l){Zre(function(){(Pn&6)!==0?Q(Ee,l):l()})}function M$(){return Sf===0&&(Sf=cm()),Sf}function hD(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:mw(""+l)}function mD(l,d){var g=d.ownerDocument.createElement("input");return g.name=d.name,g.value=d.value,l.id&&g.setAttribute("form",l.id),d.parentNode.insertBefore(g,d),l=new FormData(l),g.parentNode.removeChild(g),l}function qre(l,d,g,b,S){if(d==="submit"&&g&&g.stateNode===S){var $=hD((S[Rr]||null).action),V=b.submitter;V&&(d=(d=V[Rr]||null)?hD(d.formAction):V.getAttribute("formAction"),d!==null&&($=d,V=null));var K=new bw("action","action",null,b,S);l.push({event:K,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(Sf!==0){var te=V?mD(S,V):new FormData(S);V_(g,{pending:!0,data:te,method:S.method,action:$},null,te)}}else typeof $=="function"&&(K.preventDefault(),te=V?mD(S,V):new FormData(S),V_(g,{pending:!0,data:te,method:S.method,action:$},$,te))},currentTarget:S}]})}}for(var k$=0;k$<sP.length;k$++){var P$=sP[k$],Hre=P$.toLowerCase(),Wre=P$[0].toUpperCase()+P$.slice(1);Ps(Hre,"on"+Wre)}Ps(tP,"onAnimationEnd"),Ps(nP,"onAnimationIteration"),Ps(rP,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(cre,"onTransitionRun"),Ps(ure,"onTransitionStart"),Ps(dre,"onTransitionCancel"),Ps(iP,"onTransitionEnd"),ou("onMouseEnter",["mouseout","mouseover"]),ou("onMouseLeave",["mouseout","mouseover"]),ou("onPointerEnter",["pointerout","pointerover"]),ou("onPointerLeave",["pointerout","pointerover"]),El("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),El("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),El("onBeforeInput",["compositionend","keypress","textInput","paste"]),El("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),El("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),El("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var h0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gre=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(h0));function pD(l,d){d=(d&4)!==0;for(var g=0;g<l.length;g++){var b=l[g],S=b.event;b=b.listeners;e:{var $=void 0;if(d)for(var V=b.length-1;0<=V;V--){var K=b[V],te=K.instance,fe=K.currentTarget;if(K=K.listener,te!==$&&S.isPropagationStopped())break e;$=K,S.currentTarget=fe;try{$(S)}catch(Ae){Bw(Ae)}S.currentTarget=null,$=te}else for(V=0;V<b.length;V++){if(K=b[V],te=K.instance,fe=K.currentTarget,K=K.listener,te!==$&&S.isPropagationStopped())break e;$=K,S.currentTarget=fe;try{$(S)}catch(Ae){Bw(Ae)}S.currentTarget=null,$=te}}}}function It(l,d){var g=d[Ir];g===void 0&&(g=d[Ir]=new Set);var b=l+"__bubble";g.has(b)||(gD(d,l,2,!1),g.add(b))}function D$(l,d,g){var b=0;d&&(b|=4),gD(g,l,b,d)}var t1="_reactListening"+Math.random().toString(36).slice(2);function F$(l){if(!l[t1]){l[t1]=!0,cw.forEach(function(g){g!=="selectionchange"&&(Gre.has(g)||D$(g,!1,l),D$(g,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[t1]||(d[t1]=!0,D$("selectionchange",!1,d))}}function gD(l,d,g,b){switch(LD(d)){case 2:var S=xie;break;case 8:S=vie;break;default:S=X$}g=S.bind(null,d,g,l),S=void 0,!s_||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(S=!0),b?S!==void 0?l.addEventListener(d,g,{capture:!0,passive:S}):l.addEventListener(d,g,!0):S!==void 0?l.addEventListener(d,g,{passive:S}):l.addEventListener(d,g,!1)}function L$(l,d,g,b,S){var $=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var K=b.stateNode.containerInfo;if(K===S||K.nodeType===8&&K.parentNode===S)break;if(V===4)for(V=b.return;V!==null;){var te=V.tag;if((te===3||te===4)&&(te=V.stateNode.containerInfo,te===S||te.nodeType===8&&te.parentNode===S))return;V=V.return}for(;K!==null;){if(V=Sl(K),V===null)return;if(te=V.tag,te===5||te===6||te===26||te===27){b=$=V;continue e}K=K.parentNode}}b=b.return}Tk(function(){var fe=$,Ae=i_(g),Me=[];e:{var ve=oP.get(l);if(ve!==void 0){var Ce=bw,rt=l;switch(l){case"keypress":if(gw(g)===0)break e;case"keydown":case"keyup":Ce=Bne;break;case"focusin":rt="focus",Ce=u_;break;case"focusout":rt="blur",Ce=u_;break;case"beforeblur":case"afterblur":Ce=u_;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=Mk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=Cne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=Vne;break;case tP:case nP:case rP:Ce=Tne;break;case iP:Ce=Hne;break;case"scroll":case"scrollend":Ce=_ne;break;case"wheel":Ce=Gne;break;case"copy":case"cut":case"paste":Ce=Ine;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=Pk;break;case"toggle":case"beforetoggle":Ce=Yne}var mt=(d&4)!==0,Vn=!mt&&(l==="scroll"||l==="scrollend"),ge=mt?ve!==null?ve+"Capture":null:ve;mt=[];for(var ce=fe,be;ce!==null;){var Re=ce;if(be=Re.stateNode,Re=Re.tag,Re!==5&&Re!==26&&Re!==27||be===null||ge===null||(Re=Ry(ce,ge),Re!=null&&mt.push(m0(ce,Re,be))),Vn)break;ce=ce.return}0<mt.length&&(ve=new Ce(ve,rt,null,g,Ae),Me.push({event:ve,listeners:mt}))}}if((d&7)===0){e:{if(ve=l==="mouseover"||l==="pointerover",Ce=l==="mouseout"||l==="pointerout",ve&&g!==r_&&(rt=g.relatedTarget||g.fromElement)&&(Sl(rt)||rt[ht]))break e;if((Ce||ve)&&(ve=Ae.window===Ae?Ae:(ve=Ae.ownerDocument)?ve.defaultView||ve.parentWindow:window,Ce?(rt=g.relatedTarget||g.toElement,Ce=fe,rt=rt?Sl(rt):null,rt!==null&&(Vn=k(rt),mt=rt.tag,rt!==Vn||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(Ce=null,rt=fe),Ce!==rt)){if(mt=Mk,Re="onMouseLeave",ge="onMouseEnter",ce="mouse",(l==="pointerout"||l==="pointerover")&&(mt=Pk,Re="onPointerLeave",ge="onPointerEnter",ce="pointer"),Vn=Ce==null?ve:ru(Ce),be=rt==null?ve:ru(rt),ve=new mt(Re,ce+"leave",Ce,g,Ae),ve.target=Vn,ve.relatedTarget=be,Re=null,Sl(Ae)===fe&&(mt=new mt(ge,ce+"enter",rt,g,Ae),mt.target=be,mt.relatedTarget=Vn,Re=mt),Vn=Re,Ce&&rt)t:{for(mt=Ce,ge=rt,ce=0,be=mt;be;be=Um(be))ce++;for(be=0,Re=ge;Re;Re=Um(Re))be++;for(;0<ce-be;)mt=Um(mt),ce--;for(;0<be-ce;)ge=Um(ge),be--;for(;ce--;){if(mt===ge||ge!==null&&mt===ge.alternate)break t;mt=Um(mt),ge=Um(ge)}mt=null}else mt=null;Ce!==null&&yD(Me,ve,Ce,mt,!1),rt!==null&&Vn!==null&&yD(Me,Vn,rt,mt,!0)}}e:{if(ve=fe?ru(fe):window,Ce=ve.nodeName&&ve.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ve.type==="file")var Je=qk;else if(Uk(ve))if(Hk)Je=ore;else{Je=rre;var Nt=nre}else Ce=ve.nodeName,!Ce||Ce.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?fe&&n_(fe.elementType)&&(Je=qk):Je=ire;if(Je&&(Je=Je(l,fe))){Vk(Me,Je,g,Ae);break e}Nt&&Nt(l,ve,fe),l==="focusout"&&fe&&ve.type==="number"&&fe.memoizedProps.value!=null&&t_(ve,"number",ve.value)}switch(Nt=fe?ru(fe):window,l){case"focusin":(Uk(Nt)||Nt.contentEditable==="true")&&(vm=Nt,g_=fe,By=null);break;case"focusout":By=g_=vm=null;break;case"mousedown":y_=!0;break;case"contextmenu":case"mouseup":case"dragend":y_=!1,Zk(Me,g,Ae);break;case"selectionchange":if(lre)break;case"keydown":case"keyup":Zk(Me,g,Ae)}var ot;if(f_)e:{switch(l){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else xm?Bk(l,g)&&(ct="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(ct="onCompositionStart");ct&&(Dk&&g.locale!=="ko"&&(xm||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&xm&&(ot=Rk()):(su=Ae,a_="value"in su?su.value:su.textContent,xm=!0)),Nt=n1(fe,ct),0<Nt.length&&(ct=new kk(ct,l,null,g,Ae),Me.push({event:ct,listeners:Nt}),ot?ct.data=ot:(ot=zk(g),ot!==null&&(ct.data=ot)))),(ot=Xne?Qne(l,g):Zne(l,g))&&(ct=n1(fe,"onBeforeInput"),0<ct.length&&(Nt=new kk("onBeforeInput","beforeinput",null,g,Ae),Me.push({event:Nt,listeners:ct}),Nt.data=ot)),qre(Me,l,fe,g,Ae)}pD(Me,d)})}function m0(l,d,g){return{instance:l,listener:d,currentTarget:g}}function n1(l,d){for(var g=d+"Capture",b=[];l!==null;){var S=l,$=S.stateNode;S=S.tag,S!==5&&S!==26&&S!==27||$===null||(S=Ry(l,g),S!=null&&b.unshift(m0(l,S,$)),S=Ry(l,d),S!=null&&b.push(m0(l,S,$))),l=l.return}return b}function Um(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function yD(l,d,g,b,S){for(var $=d._reactName,V=[];g!==null&&g!==b;){var K=g,te=K.alternate,fe=K.stateNode;if(K=K.tag,te!==null&&te===b)break;K!==5&&K!==26&&K!==27||fe===null||(te=fe,S?(fe=Ry(g,$),fe!=null&&V.unshift(m0(g,fe,te))):S||(fe=Ry(g,$),fe!=null&&V.push(m0(g,fe,te)))),g=g.return}V.length!==0&&l.push({event:d,listeners:V})}var Kre=/\r\n?/g,Yre=/\u0000|\uFFFD/g;function bD(l){return(typeof l=="string"?l:""+l).replace(Kre,`
`).replace(Yre,"")}function xD(l,d){return d=bD(d),bD(l)===d}function r1(){}function rn(l,d,g,b,S,$){switch(g){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||gm(l,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&gm(l,""+b);break;case"className":dm(l,"class",b);break;case"tabIndex":dm(l,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":dm(l,g,b);break;case"style":jk(l,b,$);break;case"data":if(d!=="object"){dm(l,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||g!=="href")){l.removeAttribute(g);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=mw(""+b),l.setAttribute(g,b);break;case"action":case"formAction":if(typeof b=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(g==="formAction"?(d!=="input"&&rn(l,d,"name",S.name,S,null),rn(l,d,"formEncType",S.formEncType,S,null),rn(l,d,"formMethod",S.formMethod,S,null),rn(l,d,"formTarget",S.formTarget,S,null)):(rn(l,d,"encType",S.encType,S,null),rn(l,d,"method",S.method,S,null),rn(l,d,"target",S.target,S,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){l.removeAttribute(g);break}b=mw(""+b),l.setAttribute(g,b);break;case"onClick":b!=null&&(l.onclick=r1);break;case"onScroll":b!=null&&It("scroll",l);break;case"onScrollEnd":b!=null&&It("scrollend",l);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"multiple":l.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":l.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){l.removeAttribute("xlink:href");break}g=mw(""+b),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""+b):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":b===!0?l.setAttribute(g,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?l.setAttribute(g,b):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?l.setAttribute(g,b):l.removeAttribute(g);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?l.removeAttribute(g):l.setAttribute(g,b);break;case"popover":It("beforetoggle",l),It("toggle",l),um(l,"popover",b);break;case"xlinkActuate":ks(l,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":ks(l,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":ks(l,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":ks(l,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":ks(l,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":ks(l,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":ks(l,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":ks(l,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":ks(l,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":um(l,"is",b);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=Nne.get(g)||g,um(l,g,b))}}function B$(l,d,g,b,S,$){switch(g){case"style":jk(l,b,$);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(g=b.__html,g!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"children":typeof b=="string"?gm(l,b):(typeof b=="number"||typeof b=="bigint")&&gm(l,""+b);break;case"onScroll":b!=null&&It("scroll",l);break;case"onScrollEnd":b!=null&&It("scrollend",l);break;case"onClick":b!=null&&(l.onclick=r1);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uw.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(S=g.endsWith("Capture"),d=g.slice(2,S?g.length-7:void 0),$=l[Rr]||null,$=$!=null?$[g]:null,typeof $=="function"&&l.removeEventListener(d,$,S),typeof b=="function")){typeof $!="function"&&$!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(d,b,S);break e}g in l?l[g]=b:b===!0?l.setAttribute(g,""):um(l,g,b)}}}function Jr(l,d,g){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",l),It("load",l);var b=!1,S=!1,$;for($ in g)if(g.hasOwnProperty($)){var V=g[$];if(V!=null)switch($){case"src":b=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:rn(l,d,$,V,g,null)}}S&&rn(l,d,"srcSet",g.srcSet,g,null),b&&rn(l,d,"src",g.src,g,null);return;case"input":It("invalid",l);var K=$=V=S=null,te=null,fe=null;for(b in g)if(g.hasOwnProperty(b)){var Ae=g[b];if(Ae!=null)switch(b){case"name":S=Ae;break;case"type":V=Ae;break;case"checked":te=Ae;break;case"defaultChecked":fe=Ae;break;case"value":$=Ae;break;case"defaultValue":K=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(r(137,d));break;default:rn(l,d,b,Ae,g,null)}}Ok(l,$,K,te,fe,V,S,!1),fm(l);return;case"select":It("invalid",l),b=V=$=null;for(S in g)if(g.hasOwnProperty(S)&&(K=g[S],K!=null))switch(S){case"value":$=K;break;case"defaultValue":V=K;break;case"multiple":b=K;default:rn(l,d,S,K,g,null)}d=$,g=V,l.multiple=!!b,d!=null?pm(l,!!b,d,!1):g!=null&&pm(l,!!b,g,!0);return;case"textarea":It("invalid",l),$=S=b=null;for(V in g)if(g.hasOwnProperty(V)&&(K=g[V],K!=null))switch(V){case"value":b=K;break;case"defaultValue":S=K;break;case"children":$=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:rn(l,d,V,K,g,null)}$k(l,b,S,$),fm(l);return;case"option":for(te in g)if(g.hasOwnProperty(te)&&(b=g[te],b!=null))switch(te){case"selected":l.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:rn(l,d,te,b,g,null)}return;case"dialog":It("cancel",l),It("close",l);break;case"iframe":case"object":It("load",l);break;case"video":case"audio":for(b=0;b<h0.length;b++)It(h0[b],l);break;case"image":It("error",l),It("load",l);break;case"details":It("toggle",l);break;case"embed":case"source":case"link":It("error",l),It("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in g)if(g.hasOwnProperty(fe)&&(b=g[fe],b!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:rn(l,d,fe,b,g,null)}return;default:if(n_(d)){for(Ae in g)g.hasOwnProperty(Ae)&&(b=g[Ae],b!==void 0&&B$(l,d,Ae,b,g,void 0));return}}for(K in g)g.hasOwnProperty(K)&&(b=g[K],b!=null&&rn(l,d,K,b,g,null))}function Jre(l,d,g,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,$=null,V=null,K=null,te=null,fe=null,Ae=null;for(Ce in g){var Me=g[Ce];if(g.hasOwnProperty(Ce)&&Me!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":te=Me;default:b.hasOwnProperty(Ce)||rn(l,d,Ce,null,b,Me)}}for(var ve in b){var Ce=b[ve];if(Me=g[ve],b.hasOwnProperty(ve)&&(Ce!=null||Me!=null))switch(ve){case"type":$=Ce;break;case"name":S=Ce;break;case"checked":fe=Ce;break;case"defaultChecked":Ae=Ce;break;case"value":V=Ce;break;case"defaultValue":K=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,d));break;default:Ce!==Me&&rn(l,d,ve,Ce,b,Me)}}e_(l,V,K,te,fe,Ae,$,S);return;case"select":Ce=V=K=ve=null;for($ in g)if(te=g[$],g.hasOwnProperty($)&&te!=null)switch($){case"value":break;case"multiple":Ce=te;default:b.hasOwnProperty($)||rn(l,d,$,null,b,te)}for(S in b)if($=b[S],te=g[S],b.hasOwnProperty(S)&&($!=null||te!=null))switch(S){case"value":ve=$;break;case"defaultValue":K=$;break;case"multiple":V=$;default:$!==te&&rn(l,d,S,$,b,te)}d=K,g=V,b=Ce,ve!=null?pm(l,!!g,ve,!1):!!b!=!!g&&(d!=null?pm(l,!!g,d,!0):pm(l,!!g,g?[]:"",!1));return;case"textarea":Ce=ve=null;for(K in g)if(S=g[K],g.hasOwnProperty(K)&&S!=null&&!b.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:rn(l,d,K,null,b,S)}for(V in b)if(S=b[V],$=g[V],b.hasOwnProperty(V)&&(S!=null||$!=null))switch(V){case"value":ve=S;break;case"defaultValue":Ce=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==$&&rn(l,d,V,S,b,$)}_k(l,ve,Ce);return;case"option":for(var rt in g)if(ve=g[rt],g.hasOwnProperty(rt)&&ve!=null&&!b.hasOwnProperty(rt))switch(rt){case"selected":l.selected=!1;break;default:rn(l,d,rt,null,b,ve)}for(te in b)if(ve=b[te],Ce=g[te],b.hasOwnProperty(te)&&ve!==Ce&&(ve!=null||Ce!=null))switch(te){case"selected":l.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:rn(l,d,te,ve,b,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in g)ve=g[mt],g.hasOwnProperty(mt)&&ve!=null&&!b.hasOwnProperty(mt)&&rn(l,d,mt,null,b,ve);for(fe in b)if(ve=b[fe],Ce=g[fe],b.hasOwnProperty(fe)&&ve!==Ce&&(ve!=null||Ce!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,d));break;default:rn(l,d,fe,ve,b,Ce)}return;default:if(n_(d)){for(var Vn in g)ve=g[Vn],g.hasOwnProperty(Vn)&&ve!==void 0&&!b.hasOwnProperty(Vn)&&B$(l,d,Vn,void 0,b,ve);for(Ae in b)ve=b[Ae],Ce=g[Ae],!b.hasOwnProperty(Ae)||ve===Ce||ve===void 0&&Ce===void 0||B$(l,d,Ae,ve,b,Ce);return}}for(var ge in g)ve=g[ge],g.hasOwnProperty(ge)&&ve!=null&&!b.hasOwnProperty(ge)&&rn(l,d,ge,null,b,ve);for(Me in b)ve=b[Me],Ce=g[Me],!b.hasOwnProperty(Me)||ve===Ce||ve==null&&Ce==null||rn(l,d,Me,ve,b,Ce)}var z$=null,U$=null;function i1(l){return l.nodeType===9?l:l.ownerDocument}function vD(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wD(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function V$(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var q$=null;function Xre(){var l=window.event;return l&&l.type==="popstate"?l===q$?!1:(q$=l,!0):(q$=null,!1)}var SD=typeof setTimeout=="function"?setTimeout:void 0,Qre=typeof clearTimeout=="function"?clearTimeout:void 0,ED=typeof Promise=="function"?Promise:void 0,Zre=typeof queueMicrotask=="function"?queueMicrotask:typeof ED<"u"?function(l){return ED.resolve(null).then(l).catch(eie)}:SD;function eie(l){setTimeout(function(){throw l})}function H$(l,d){var g=d,b=0;do{var S=g.nextSibling;if(l.removeChild(g),S&&S.nodeType===8)if(g=S.data,g==="/$"){if(b===0){l.removeChild(S),S0(d);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=S}while(g);S0(d)}function W$(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var g=d;switch(d=d.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":W$(g),Ty(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function tie(l,d,g,b){for(;l.nodeType===1;){var S=g;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(b){if(!l[tf])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if($=l.getAttribute("rel"),$==="stylesheet"&&l.hasAttribute("data-precedence"))break;if($!==S.rel||l.getAttribute("href")!==(S.href==null?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if($=l.getAttribute("src"),($!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&$&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var $=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===$)return l}else return l;if(l=Ls(l.nextSibling),l===null)break}return null}function nie(l,d,g){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Ls(l.nextSibling),l===null))return null;return l}function Ls(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}function ND(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"){if(d===0)return l;d--}else g==="/$"&&d++}l=l.previousSibling}return null}function OD(l,d,g){switch(d=i1(g),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}var ts=new Map,_D=new Set;function o1(l){return typeof l.getRootNode=="function"?l.getRootNode():l.ownerDocument}var Fl=se.d;se.d={f:rie,r:iie,D:oie,C:sie,L:aie,m:lie,X:uie,S:cie,M:die};function rie(){var l=Fl.f(),d=Xw();return l||d}function iie(l){var d=nu(l);d!==null&&d.tag===5&&d.type==="form"?ZP(d):Fl.r(l)}var Vm=typeof document>"u"?null:document;function $D(l,d,g){var b=Vm;if(b&&typeof d=="string"&&d){var S=yi(d);S='link[rel="'+l+'"][href="'+S+'"]',typeof g=="string"&&(S+='[crossorigin="'+g+'"]'),_D.has(S)||(_D.add(S),l={rel:l,crossOrigin:g,href:d},b.querySelector(S)===null&&(d=b.createElement("link"),Jr(d,"link",l),ir(d),b.head.appendChild(d)))}}function oie(l){Fl.D(l),$D("dns-prefetch",l,null)}function sie(l,d){Fl.C(l,d),$D("preconnect",l,d)}function aie(l,d,g){Fl.L(l,d,g);var b=Vm;if(b&&l&&d){var S='link[rel="preload"][as="'+yi(d)+'"]';d==="image"&&g&&g.imageSrcSet?(S+='[imagesrcset="'+yi(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(S+='[imagesizes="'+yi(g.imageSizes)+'"]')):S+='[href="'+yi(l)+'"]';var $=S;switch(d){case"style":$=qm(l);break;case"script":$=Hm(l)}ts.has($)||(l=z({rel:"preload",href:d==="image"&&g&&g.imageSrcSet?void 0:l,as:d},g),ts.set($,l),b.querySelector(S)!==null||d==="style"&&b.querySelector(p0($))||d==="script"&&b.querySelector(g0($))||(d=b.createElement("link"),Jr(d,"link",l),ir(d),b.head.appendChild(d)))}}function lie(l,d){Fl.m(l,d);var g=Vm;if(g&&l){var b=d&&typeof d.as=="string"?d.as:"script",S='link[rel="modulepreload"][as="'+yi(b)+'"][href="'+yi(l)+'"]',$=S;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=Hm(l)}if(!ts.has($)&&(l=z({rel:"modulepreload",href:l},d),ts.set($,l),g.querySelector(S)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(g0($)))return}b=g.createElement("link"),Jr(b,"link",l),ir(b),g.head.appendChild(b)}}}function cie(l,d,g){Fl.S(l,d,g);var b=Vm;if(b&&l){var S=iu(b).hoistableStyles,$=qm(l);d=d||"default";var V=S.get($);if(!V){var K={loading:0,preload:null};if(V=b.querySelector(p0($)))K.loading=5;else{l=z({rel:"stylesheet",href:l,"data-precedence":d},g),(g=ts.get($))&&G$(l,g);var te=V=b.createElement("link");ir(te),Jr(te,"link",l),te._p=new Promise(function(fe,Ae){te.onload=fe,te.onerror=Ae}),te.addEventListener("load",function(){K.loading|=1}),te.addEventListener("error",function(){K.loading|=2}),K.loading|=4,s1(V,d,b)}V={type:"stylesheet",instance:V,count:1,state:K},S.set($,V)}}}function uie(l,d){Fl.X(l,d);var g=Vm;if(g&&l){var b=iu(g).hoistableScripts,S=Hm(l),$=b.get(S);$||($=g.querySelector(g0(S)),$||(l=z({src:l,async:!0},d),(d=ts.get(S))&&K$(l,d),$=g.createElement("script"),ir($),Jr($,"link",l),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},b.set(S,$))}}function die(l,d){Fl.M(l,d);var g=Vm;if(g&&l){var b=iu(g).hoistableScripts,S=Hm(l),$=b.get(S);$||($=g.querySelector(g0(S)),$||(l=z({src:l,async:!0,type:"module"},d),(d=ts.get(S))&&K$(l,d),$=g.createElement("script"),ir($),Jr($,"link",l),g.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},b.set(S,$))}}function CD(l,d,g,b){var S=(S=Z.current)?o1(S):null;if(!S)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(d=qm(g.href),g=iu(S).hoistableStyles,b=g.get(d),b||(b={type:"style",instance:null,count:0,state:null},g.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=qm(g.href);var $=iu(S).hoistableStyles,V=$.get(l);if(V||(S=S.ownerDocument||S,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(l,V),($=S.querySelector(p0(l)))&&!$._p&&(V.instance=$,V.state.loading=5),ts.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ts.set(l,g),$||fie(S,l,g,V.state))),d&&b===null)throw Error(r(528,""));return V}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=g.async,g=g.src,typeof g=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Hm(g),g=iu(S).hoistableScripts,b=g.get(d),b||(b={type:"script",instance:null,count:0,state:null},g.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function qm(l){return'href="'+yi(l)+'"'}function p0(l){return'link[rel="stylesheet"]['+l+"]"}function jD(l){return z({},l,{"data-precedence":l.precedence,precedence:null})}function fie(l,d,g,b){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=l.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),Jr(d,"link",g),ir(d),l.head.appendChild(d))}function Hm(l){return'[src="'+yi(l)+'"]'}function g0(l){return"script[async]"+l}function AD(l,d,g){if(d.count++,d.instance===null)switch(d.type){case"style":var b=l.querySelector('style[data-href~="'+yi(g.href)+'"]');if(b)return d.instance=b,ir(b),b;var S=z({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return b=(l.ownerDocument||l).createElement("style"),ir(b),Jr(b,"style",S),s1(b,g.precedence,l),d.instance=b;case"stylesheet":S=qm(g.href);var $=l.querySelector(p0(S));if($)return d.state.loading|=4,d.instance=$,ir($),$;b=jD(g),(S=ts.get(S))&&G$(b,S),$=(l.ownerDocument||l).createElement("link"),ir($);var V=$;return V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),Jr($,"link",b),d.state.loading|=4,s1($,g.precedence,l),d.instance=$;case"script":return $=Hm(g.src),(S=l.querySelector(g0($)))?(d.instance=S,ir(S),S):(b=g,(S=ts.get($))&&(b=z({},g),K$(b,S)),l=l.ownerDocument||l,S=l.createElement("script"),ir(S),Jr(S,"link",b),l.head.appendChild(S),d.instance=S);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,s1(b,g.precedence,l));return d.instance}function s1(l,d,g){for(var b=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=b.length?b[b.length-1]:null,$=S,V=0;V<b.length;V++){var K=b[V];if(K.dataset.precedence===d)$=K;else if($!==S)break}$?$.parentNode.insertBefore(l,$.nextSibling):(d=g.nodeType===9?g.head:g,d.insertBefore(l,d.firstChild))}function G$(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function K$(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var a1=null;function TD(l,d,g){if(a1===null){var b=new Map,S=a1=new Map;S.set(g,b)}else S=a1,b=S.get(g),b||(b=new Map,S.set(g,b));if(b.has(l))return b;for(b.set(l,null),g=g.getElementsByTagName(l),S=0;S<g.length;S++){var $=g[S];if(!($[tf]||$[rr]||l==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var V=$.getAttribute(d)||"";V=l+V;var K=b.get(V);K?K.push($):b.set(V,[$])}}return b}function RD(l,d,g){l=l.ownerDocument||l,l.head.insertBefore(g,d==="title"?l.querySelector("head > title"):null)}function hie(l,d,g){if(g===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function ID(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var y0=null;function mie(){}function pie(l,d,g){if(y0===null)throw Error(r(475));var b=y0;if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var S=qm(g.href),$=l.querySelector(p0(S));if($){l=$._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(b.count++,b=l1.bind(b),l.then(b,b)),d.state.loading|=4,d.instance=$,ir($);return}$=l.ownerDocument||l,g=jD(g),(S=ts.get(S))&&G$(g,S),$=$.createElement("link"),ir($);var V=$;V._p=new Promise(function(K,te){V.onload=K,V.onerror=te}),Jr($,"link",g),d.instance=$}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(b.count++,d=l1.bind(b),l.addEventListener("load",d),l.addEventListener("error",d))}}function gie(){if(y0===null)throw Error(r(475));var l=y0;return l.stylesheets&&l.count===0&&Y$(l,l.stylesheets),0<l.count?function(d){var g=setTimeout(function(){if(l.stylesheets&&Y$(l,l.stylesheets),l.unsuspend){var b=l.unsuspend;l.unsuspend=null,b()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(g)}}:null}function l1(){if(this.count--,this.count===0){if(this.stylesheets)Y$(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var c1=null;function Y$(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,c1=new Map,d.forEach(yie,l),c1=null,l1.call(l))}function yie(l,d){if(!(d.state.loading&4)){var g=c1.get(l);if(g)var b=g.get(null);else{g=new Map,c1.set(l,g);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<S.length;$++){var V=S[$];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(g.set(V.dataset.precedence,V),b=V)}b&&g.set(null,b)}S=d.instance,V=S.getAttribute("data-precedence"),$=g.get(V)||b,$===b&&g.set(null,S),g.set(V,S),this.count++,b=l1.bind(this),S.addEventListener("load",b),S.addEventListener("error",b),$?$.parentNode.insertBefore(S,$.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),d.state.loading|=4}}var b0={$$typeof:y,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function bie(l,d,g,b,S,$,V,K){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=b,this.onUncaughtError=S,this.onCaughtError=$,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=K,this.incompleteTransitions=new Map}function MD(l,d,g,b,S,$,V,K,te,fe,Ae,Me){return l=new bie(l,d,g,V,K,te,fe,Me),d=1,$===!0&&(d|=24),$=Zo(3,null,null,d),l.current=$,$.stateNode=l,d=$_(),d.refCount++,l.pooledCache=d,d.refCount++,$.memoizedState={element:b,isDehydrated:g,cache:d},a$($),l}function kD(l){return l?(l=Em,l):Em}function PD(l,d,g,b,S,$){S=kD(S),b.context===null?b.context=S:b.pendingContext=S,b=mu(d),b.payload={element:g},$=$===void 0?null:$,$!==null&&(b.callback=$),g=pu(l,b,d),g!==null&&(xi(g,l,d),t0(g,l,d))}function DD(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<d?g:d}}function J$(l,d){DD(l,d),(l=l.alternate)&&DD(l,d)}function FD(l){if(l.tag===13){var d=au(l,67108864);d!==null&&xi(d,l,67108864),J$(l,67108864)}}var u1=!0;function xie(l,d,g,b){var S=P.T;P.T=null;var $=se.p;try{se.p=2,X$(l,d,g,b)}finally{se.p=$,P.T=S}}function vie(l,d,g,b){var S=P.T;P.T=null;var $=se.p;try{se.p=8,X$(l,d,g,b)}finally{se.p=$,P.T=S}}function X$(l,d,g,b){if(u1){var S=Q$(b);if(S===null)L$(l,d,b,d1,g),BD(l,b);else if(Sie(S,l,d,g,b))b.stopPropagation();else if(BD(l,b),d&4&&-1<wie.indexOf(l)){for(;S!==null;){var $=nu(S);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var V=Tr($.pendingLanes);if(V!==0){var K=$;for(K.pendingLanes|=2,K.entangledLanes|=2;V;){var te=1<<31-Ar(V);K.entanglements[1]|=te,V&=~te}Ra($),(Pn&6)===0&&(Kw=ae()+500,f0(0))}}break;case 13:K=au($,2),K!==null&&xi(K,$,2),Xw(),J$($,2)}if($=Q$(b),$===null&&L$(l,d,b,d1,g),$===S)break;S=$}S!==null&&b.stopPropagation()}else L$(l,d,b,null,g)}}function Q$(l){return l=i_(l),Z$(l)}var d1=null;function Z$(l){if(d1=null,l=Sl(l),l!==null){var d=k(l);if(d===null)l=null;else{var g=d.tag;if(g===13){if(l=q(d),l!==null)return l;l=null}else if(g===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return d1=l,null}function LD(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(he()){case Ee:return 2;case ke:return 8;case Fe:case gt:return 32;case Xt:return 268435456;default:return 32}default:return 32}}var eC=!1,Su=null,Eu=null,Nu=null,x0=new Map,v0=new Map,Ou=[],wie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BD(l,d){switch(l){case"focusin":case"focusout":Su=null;break;case"dragenter":case"dragleave":Eu=null;break;case"mouseover":case"mouseout":Nu=null;break;case"pointerover":case"pointerout":x0.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":v0.delete(d.pointerId)}}function w0(l,d,g,b,S,$){return l===null||l.nativeEvent!==$?(l={blockedOn:d,domEventName:g,eventSystemFlags:b,nativeEvent:$,targetContainers:[S]},d!==null&&(d=nu(d),d!==null&&FD(d)),l):(l.eventSystemFlags|=b,d=l.targetContainers,S!==null&&d.indexOf(S)===-1&&d.push(S),l)}function Sie(l,d,g,b,S){switch(d){case"focusin":return Su=w0(Su,l,d,g,b,S),!0;case"dragenter":return Eu=w0(Eu,l,d,g,b,S),!0;case"mouseover":return Nu=w0(Nu,l,d,g,b,S),!0;case"pointerover":var $=S.pointerId;return x0.set($,w0(x0.get($)||null,l,d,g,b,S)),!0;case"gotpointercapture":return $=S.pointerId,v0.set($,w0(v0.get($)||null,l,d,g,b,S)),!0}return!1}function zD(l){var d=Sl(l.target);if(d!==null){var g=k(d);if(g!==null){if(d=g.tag,d===13){if(d=q(g),d!==null){l.blockedOn=d,Ay(l.priority,function(){if(g.tag===13){var b=bo(),S=au(g,b);S!==null&&xi(S,g,b),J$(g,b)}});return}}else if(d===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function f1(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var g=Q$(l.nativeEvent);if(g===null){g=l.nativeEvent;var b=new g.constructor(g.type,g);r_=b,g.target.dispatchEvent(b),r_=null}else return d=nu(g),d!==null&&FD(d),l.blockedOn=g,!1;d.shift()}return!0}function UD(l,d,g){f1(l)&&g.delete(d)}function Eie(){eC=!1,Su!==null&&f1(Su)&&(Su=null),Eu!==null&&f1(Eu)&&(Eu=null),Nu!==null&&f1(Nu)&&(Nu=null),x0.forEach(UD),v0.forEach(UD)}function h1(l,d){l.blockedOn===d&&(l.blockedOn=null,eC||(eC=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eie)))}var m1=null;function VD(l){m1!==l&&(m1=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){m1===l&&(m1=null);for(var d=0;d<l.length;d+=3){var g=l[d],b=l[d+1],S=l[d+2];if(typeof b!="function"){if(Z$(b||g)===null)continue;break}var $=nu(g);$!==null&&(l.splice(d,3),d-=3,V_($,{pending:!0,data:S,method:g.method,action:b},b,S))}}))}function S0(l){function d(te){return h1(te,l)}Su!==null&&h1(Su,l),Eu!==null&&h1(Eu,l),Nu!==null&&h1(Nu,l),x0.forEach(d),v0.forEach(d);for(var g=0;g<Ou.length;g++){var b=Ou[g];b.blockedOn===l&&(b.blockedOn=null)}for(;0<Ou.length&&(g=Ou[0],g.blockedOn===null);)zD(g),g.blockedOn===null&&Ou.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(b=0;b<g.length;b+=3){var S=g[b],$=g[b+1],V=S[Rr]||null;if(typeof $=="function")V||VD(g);else if(V){var K=null;if($&&$.hasAttribute("formAction")){if(S=$,V=$[Rr]||null)K=V.formAction;else if(Z$(S)!==null)continue}else K=V.action;typeof K=="function"?g[b+1]=K:(g.splice(b,3),b-=3),VD(g)}}}function tC(l){this._internalRoot=l}p1.prototype.render=tC.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var g=d.current,b=bo();PD(g,b,l,d,null,null)},p1.prototype.unmount=tC.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;l.tag===0&&Bm(),PD(l.current,2,null,l,null,null),Xw(),d[ht]=null}};function p1(l){this._internalRoot=l}p1.prototype.unstable_scheduleHydration=function(l){if(l){var d=ef();l={blockedOn:null,target:l,priority:d};for(var g=0;g<Ou.length&&d!==0&&d<Ou[g].priority;g++);Ou.splice(g,0,l),g===0&&zD(l)}};var qD=t.version;if(qD!=="19.0.0")throw Error(r(527,qD,"19.0.0"));se.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=W(d),l=l!==null?X(l):null,l=l===null?null:l.stateNode,l};var Nie={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:P,findFiberByHostInstance:Sl,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var g1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!g1.isDisabled&&g1.supportsFiber)try{Qt=g1.inject(Nie),Kt=g1}catch{}}return N0.createRoot=function(l,d){if(!i(l))throw Error(r(299));var g=!1,b="",S=a6,$=l6,V=c6,K=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&($=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(K=d.unstable_transitionCallbacks)),d=MD(l,1,!1,null,null,g,b,S,$,V,K,null),l[ht]=d.current,F$(l.nodeType===8?l.parentNode:l),new tC(d)},N0.hydrateRoot=function(l,d,g){if(!i(l))throw Error(r(299));var b=!1,S="",$=a6,V=l6,K=c6,te=null,fe=null;return g!=null&&(g.unstable_strictMode===!0&&(b=!0),g.identifierPrefix!==void 0&&(S=g.identifierPrefix),g.onUncaughtError!==void 0&&($=g.onUncaughtError),g.onCaughtError!==void 0&&(V=g.onCaughtError),g.onRecoverableError!==void 0&&(K=g.onRecoverableError),g.unstable_transitionCallbacks!==void 0&&(te=g.unstable_transitionCallbacks),g.formState!==void 0&&(fe=g.formState)),d=MD(l,1,!0,d,g??null,b,S,$,V,K,te,fe),d.context=kD(null),g=d.current,b=bo(),S=mu(b),S.callback=null,pu(g,S,b),d.current.lanes=b,gi(d,b),Ra(d),l[ht]=d.current,F$(l),new p1(d)},N0.version="19.0.0",N0}var n9;function Die(){if(n9)return oC.exports;n9=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oC.exports=Pie(),oC.exports}var Fie=Die(),qu=function(){return qu=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qu.apply(this,arguments)};function Lie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Bie(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var lS="right-scroll-bar-position",cS="width-before-scroll-bar",zie="with-scroll-bars-hidden",Uie="--removed-body-scroll-bar-size";function cC(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Vie(e,t){var n=w.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var qie=typeof window<"u"?w.useLayoutEffect:w.useEffect,r9=new WeakMap;function Hie(e,t){var n=Vie(null,function(r){return e.forEach(function(i){return cC(i,r)})});return qie(function(){var r=r9.get(n);if(r){var i=new Set(r),o=new Set(e),s=n.current;i.forEach(function(a){o.has(a)||cC(a,null)}),o.forEach(function(a){i.has(a)||cC(a,s)})}r9.set(n,e)},[e]),n}var DS=function(){return DS=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},DS.apply(this,arguments)};function Wie(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Gie(e){return e}function Kie(e,t){t===void 0&&(t=Gie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var c=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return i}function Yie(e){e===void 0&&(e={});var t=Kie(null);return t.options=DS({async:!0,ssr:!1},e),t}var hU=function(e){var t=e.sideCar,n=Wie(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,DS({},n))};hU.isSideCarExport=!0;function Jie(e,t){return e.useMedium(t),hU}var mU=Yie(),uC=function(){},S2=w.forwardRef(function(e,t){var n=w.useRef(null),r=w.useState({onScrollCapture:uC,onWheelCapture:uC,onTouchMoveCapture:uC}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,y=e.noIsolation,x=e.inert,v=e.allowPinchZoom,E=e.as,N=E===void 0?"div":E,O=e.gapMode,_=Lie(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,j=Hie([n,t]),A=qu(qu({},_),i);return w.createElement(w.Fragment,null,f&&w.createElement(C,{sideCar:mU,removeScrollBar:u,shards:h,noIsolation:y,inert:x,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:O}),s?w.cloneElement(w.Children.only(a),qu(qu({},A),{ref:j})):w.createElement(N,qu({},A,{className:c,ref:j}),a))});S2.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};S2.classNames={fullWidth:cS,zeroRight:lS};var Xie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Qie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Xie();return t&&e.setAttribute("nonce",t),e}function Zie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function eoe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var toe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Qie())&&(Zie(t,n),eoe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},noe=function(){var e=toe();return function(t,n){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},pU=function(){var e=noe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},roe={left:0,top:0,right:0,gap:0},dC=function(e){return parseInt(e||"",10)||0},ioe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[dC(n),dC(r),dC(i)]},ooe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return roe;var t=ioe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},soe=pU(),_p="data-scroll-locked",aoe=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(zie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(_p,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lS,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cS,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(lS," .").concat(lS,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(cS," .").concat(cS,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(_p,`] {
    `).concat(Uie,": ").concat(a,`px;
  }
`)},i9=function(){var e=parseInt(document.body.getAttribute(_p)||"0",10);return isFinite(e)?e:0},loe=function(){w.useEffect(function(){return document.body.setAttribute(_p,(i9()+1).toString()),function(){var e=i9()-1;e<=0?document.body.removeAttribute(_p):document.body.setAttribute(_p,e.toString())}},[])},coe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;loe();var o=w.useMemo(function(){return ooe(i)},[i]);return w.createElement(soe,{styles:aoe(o,!t,i,n?"":"!important")})},SA=!1;if(typeof window<"u")try{var y1=Object.defineProperty({},"passive",{get:function(){return SA=!0,!0}});window.addEventListener("test",y1,y1),window.removeEventListener("test",y1,y1)}catch{SA=!1}var Wm=SA?{passive:!1}:!1,uoe=function(e){return e.tagName==="TEXTAREA"},gU=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!uoe(e)&&n[t]==="visible")},doe=function(e){return gU(e,"overflowY")},foe=function(e){return gU(e,"overflowX")},o9=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=yU(e,r);if(i){var o=bU(e,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},hoe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},moe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},yU=function(e,t){return e==="v"?doe(t):foe(t)},bU=function(e,t){return e==="v"?hoe(t):moe(t)},poe=function(e,t){return e==="h"&&t==="rtl"?-1:1},goe=function(e,t,n,r,i){var o=poe(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,c=t.contains(a),u=!1,f=s>0,h=0,p=0;do{var y=bU(e,a),x=y[0],v=y[1],E=y[2],N=v-E-o*x;(x||N)&&yU(e,a)&&(h+=N,p+=x),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(f&&Math.abs(h)<1||!f&&Math.abs(p)<1)&&(u=!0),u},b1=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},s9=function(e){return[e.deltaX,e.deltaY]},a9=function(e){return e&&"current"in e?e.current:e},yoe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},boe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},xoe=0,Gm=[];function voe(e){var t=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(xoe++)[0],o=w.useState(pU)[0],s=w.useRef(e);w.useEffect(function(){s.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=Bie([e.lockRef.current],(e.shards||[]).map(a9),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=w.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!s.current.allowPinchZoom;var N=b1(v),O=n.current,_="deltaX"in v?v.deltaX:O[0]-N[0],C="deltaY"in v?v.deltaY:O[1]-N[1],j,A=v.target,R=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in v&&R==="h"&&A.type==="range")return!1;var I=o9(R,A);if(!I)return!0;if(I?j=R:(j=R==="v"?"h":"v",I=o9(R,A)),!I)return!1;if(!r.current&&"changedTouches"in v&&(_||C)&&(r.current=j),!j)return!0;var P=r.current||j;return goe(P,E,v,P==="h"?_:C)},[]),c=w.useCallback(function(v){var E=v;if(!(!Gm.length||Gm[Gm.length-1]!==o)){var N="deltaY"in E?s9(E):b1(E),O=t.current.filter(function(j){return j.name===E.type&&(j.target===E.target||E.target===j.shadowParent)&&yoe(j.delta,N)})[0];if(O&&O.should){E.cancelable&&E.preventDefault();return}if(!O){var _=(s.current.shards||[]).map(a9).filter(Boolean).filter(function(j){return j.contains(E.target)}),C=_.length>0?a(E,_[0]):!s.current.noIsolation;C&&E.cancelable&&E.preventDefault()}}},[]),u=w.useCallback(function(v,E,N,O){var _={name:v,delta:E,target:N,should:O,shadowParent:woe(N)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(C){return C!==_})},1)},[]),f=w.useCallback(function(v){n.current=b1(v),r.current=void 0},[]),h=w.useCallback(function(v){u(v.type,s9(v),v.target,a(v,e.lockRef.current))},[]),p=w.useCallback(function(v){u(v.type,b1(v),v.target,a(v,e.lockRef.current))},[]);w.useEffect(function(){return Gm.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Wm),document.addEventListener("touchmove",c,Wm),document.addEventListener("touchstart",f,Wm),function(){Gm=Gm.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,Wm),document.removeEventListener("touchmove",c,Wm),document.removeEventListener("touchstart",f,Wm)}},[]);var y=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(o,{styles:boe(i)}):null,y?w.createElement(coe,{gapMode:e.gapMode}):null)}function woe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Soe=Jie(mU,voe);var FS=w.forwardRef(function(e,t){return w.createElement(S2,qu({},e,{ref:t,sideCar:Soe}))});FS.classNames=S2.classNames;function Ya(e){return Object.keys(e)}function fC(e){return e&&typeof e=="object"&&!Array.isArray(e)}function p5(e,t){const n={...e},r=t;return fC(e)&&fC(t)&&Object.keys(t).forEach(i=>{fC(r[i])&&i in e?n[i]=p5(n[i],r[i]):n[i]=r[i]}),n}function Eoe(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function Noe(e){var t;return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:(t=e.match(/^calc\((.*?)\)$/))==null?void 0:t[1].split("*")[0].trim()}function Ooe(e){const t=Noe(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function hC(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function xU(e,{shouldScale:t=!1}={}){function n(r){if(r===0||r==="0")return`0${e}`;if(typeof r=="number"){const i=`${r/16}${e}`;return t?hC(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(e))return t?hC(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${e}`;return t?hC(o):o}}return r}return n}const Ie=xU("rem",{shouldScale:!0}),l9=xU("em");function g5(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[n]=e[n]),t),{})}function vU(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(r=>t.test(r))}return!1}function $d(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==w.Fragment:!1}function Pc(e){const t=w.createContext(null);return[({children:i,value:o})=>m.jsx(t.Provider,{value:o,children:i}),()=>{const i=w.useContext(t);if(i===null)throw new Error(e);return i}]}function Th(e=null){const t=w.createContext(e);return[({children:i,value:o})=>m.jsx(t.Provider,{value:o,children:i}),()=>w.useContext(t)]}function c9(e,t){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(t);return`${e}-${n}`}}function LS(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}function _oe(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].disabled)return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].disabled)return r}return e}function $oe(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].disabled)return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].disabled)return r}return e}function Coe(e,t,n){return LS(e,n)===LS(t,n)}function wU({parentSelector:e,siblingSelector:t,onKeyDown:n,loop:r=!0,activateOnFocus:i=!1,dir:o="rtl",orientation:s}){return a=>{var x;n==null||n(a);const c=Array.from(((x=LS(a.currentTarget,e))==null?void 0:x.querySelectorAll(t))||[]).filter(v=>Coe(a.currentTarget,v,e)),u=c.findIndex(v=>a.currentTarget===v),f=$oe(u,c,r),h=_oe(u,c,r),p=o==="rtl"?h:f,y=o==="rtl"?f:h;switch(a.key){case"ArrowRight":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[p].focus(),i&&c[p].click());break}case"ArrowLeft":{s==="horizontal"&&(a.stopPropagation(),a.preventDefault(),c[y].focus(),i&&c[y].click());break}case"ArrowUp":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[h].focus(),i&&c[h].click());break}case"ArrowDown":{s==="vertical"&&(a.stopPropagation(),a.preventDefault(),c[f].focus(),i&&c[f].click());break}case"Home":{a.stopPropagation(),a.preventDefault(),!c[0].disabled&&c[0].focus();break}case"End":{a.stopPropagation(),a.preventDefault();const v=c.length-1;!c[v].disabled&&c[v].focus();break}}}}const joe={app:100,modal:200,popover:300,overlay:400,max:9999};function ya(e){return joe[e]}const EA=()=>{};function Aoe(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||EA:n=>{var r;n.key==="Escape"&&(e(n),(r=t.onTrigger)==null||r.call(t))}}function Ut(e,t="size",n=!0){if(e!==void 0)return vU(e)?n?Ie(e):e:`var(--${t}-${e})`}function y5(e){return Ut(e,"mantine-spacing")}function Nr(e){return e===void 0?"var(--mantine-radius-default)":Ut(e,"mantine-radius")}function Mi(e){return Ut(e,"mantine-font-size")}function b5(e){if(e)return Ut(e,"mantine-shadow",!1)}function Wa(e,t){return n=>{e==null||e(n),t==null||t(n)}}function Toe(e,t,n){var r;return n?Array.from(((r=LS(n,t))==null?void 0:r.querySelectorAll(e))||[]).findIndex(i=>i===n):null}function Roe(){const[e,t]=w.useState(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}function uc(e,t,n){return t===void 0&&n===void 0?e:t!==void 0&&n===void 0?Math.max(e,t):Math.min(t===void 0&&n!==void 0?e:Math.max(e,t),n)}function $p(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Pf(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Ioe=()=>{};function E2(e,t){const n=typeof t=="number"?t:t.delay,r=typeof t=="number"?!1:t.flushOnUnmount,i=Pf(e),o=w.useRef(0),s=Object.assign(w.useCallback((...a)=>{window.clearTimeout(o.current);const c=()=>{o.current!==0&&(o.current=0,i(...a))};s.flush=c,o.current=window.setTimeout(c,n)},[i,n]),{flush:Ioe});return w.useEffect(()=>()=>{window.clearTimeout(o.current),r&&s.flush()},[s,r]),s}const u9=["mousedown","touchstart"];function Fx(e,t,n){const r=w.useRef(null);return w.useEffect(()=>{const i=o=>{const{target:s}=o??{};if(Array.isArray(n)){const a=(s==null?void 0:s.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(s)&&s.tagName!=="HTML";n.every(u=>!!u&&!o.composedPath().includes(u))&&!a&&e()}else r.current&&!r.current.contains(s)&&e()};return(t||u9).forEach(o=>document.addEventListener(o,i)),()=>{(t||u9).forEach(o=>document.removeEventListener(o,i))}},[r,e,n]),r}function Moe({timeout:e=2e3}={}){const[t,n]=w.useState(null),[r,i]=w.useState(!1),[o,s]=w.useState(null),a=f=>{window.clearTimeout(o),s(window.setTimeout(()=>i(!1),e)),i(f)};return{copy:f=>{"clipboard"in navigator?navigator.clipboard.writeText(f).then(()=>a(!0)).catch(h=>n(h)):n(new Error("useClipboard: navigator.clipboard is not supported"))},reset:()=>{i(!1),n(null),window.clearTimeout(o)},error:t,copied:r}}function koe(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function Poe(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function Doe(e,t,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=w.useState(n?t:Poe(e)),o=w.useRef(null);return w.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(e),i(o.current.matches),koe(o.current,s=>i(s.matches))},[e]),r}const Lg=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ec(e,t){const n=w.useRef(!1);w.useEffect(()=>()=>{n.current=!1},[]),w.useEffect(()=>{if(n.current)return e();n.current=!0},t)}function SU({opened:e,shouldReturnFocus:t=!0}){const n=w.useRef(null),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return Ec(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),e?n.current=document.activeElement:t&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[e,t]),r}const Foe=/input|select|textarea|button|object/,EU="a, input, select, textarea, button, object, [tabindex]";function Loe(e){return e.style.display==="none"}function Boe(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let n=e;for(;n&&!(n===document.body||n.nodeType===11);){if(Loe(n))return!1;n=n.parentNode}return!0}function NU(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function NA(e){const t=e.nodeName.toLowerCase(),n=!Number.isNaN(NU(e));return(Foe.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||n)&&Boe(e)}function OU(e){const t=NU(e);return(Number.isNaN(t)||t>=0)&&NA(e)}function zoe(e){return Array.from(e.querySelectorAll(EU)).filter(OU)}function Uoe(e,t){const n=zoe(e);if(!n.length){t.preventDefault();return}const r=n[t.shiftKey?0:n.length-1],i=e.getRootNode();let o=r===i.activeElement||e===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;t.preventDefault();const c=n[t.shiftKey?n.length-1:0];c&&c.focus()}function N2(e=!0){const t=w.useRef(null),n=i=>{let o=i.querySelector("[data-autofocus]");if(!o){const s=Array.from(i.querySelectorAll(EU));o=s.find(OU)||s.find(NA)||null,!o&&NA(i)&&(o=i)}o&&o.focus({preventScroll:!0})},r=w.useCallback(i=>{e&&i!==null&&t.current!==i&&(i?(setTimeout(()=>{i.getRootNode()&&n(i)}),t.current=i):t.current=null)},[e]);return w.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>n(t.current));const i=o=>{o.key==="Tab"&&t.current&&Uoe(t.current,o)};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),r}const Voe=e=>(e+1)%1e6;function qoe(){const[,e]=w.useReducer(Voe,0);return e}const Hoe=De.useId||(()=>{});function Woe(){const e=Hoe();return e?`mantine-${e.replace(/:/g,"")}`:""}function Ns(e){const t=Woe(),[n,r]=w.useState(t);return Lg(()=>{r($p())},[]),typeof e=="string"?e:typeof window>"u"?t:n}function OA(e,t,n){w.useEffect(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}function BS(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function Goe(...e){const t=new Map;return n=>{if(e.forEach(r=>{const i=BS(r,n);i&&t.set(r,i)}),t.size>0)return()=>{e.forEach(r=>{const i=t.get(r);i?i():BS(r,null)}),t.clear()}}}function Gn(...e){return w.useCallback(Goe(...e),e)}function Koe(e,t,n="ltr"){const r=w.useRef(null),i=w.useRef(!1),o=w.useRef(!1),s=w.useRef(0),[a,c]=w.useState(!1);return w.useEffect(()=>{i.current=!0},[]),w.useEffect(()=>{const u=r.current,f=({x:_,y:C})=>{cancelAnimationFrame(s.current),s.current=requestAnimationFrame(()=>{if(i.current&&u){u.style.userSelect="none";const j=u.getBoundingClientRect();if(j.width&&j.height){const A=uc((_-j.left)/j.width,0,1);e({x:n==="ltr"?A:1-A,y:uc((C-j.top)/j.height,0,1)})}}})},h=()=>{document.addEventListener("mousemove",E),document.addEventListener("mouseup",x),document.addEventListener("touchmove",O),document.addEventListener("touchend",x)},p=()=>{document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",O),document.removeEventListener("touchend",x)},y=()=>{!o.current&&i.current&&(o.current=!0,typeof(t==null?void 0:t.onScrubStart)=="function"&&t.onScrubStart(),c(!0),h())},x=()=>{o.current&&i.current&&(o.current=!1,c(!1),p(),setTimeout(()=>{typeof(t==null?void 0:t.onScrubEnd)=="function"&&t.onScrubEnd()},0))},v=_=>{y(),_.preventDefault(),E(_)},E=_=>f({x:_.clientX,y:_.clientY}),N=_=>{_.cancelable&&_.preventDefault(),y(),O(_)},O=_=>{_.cancelable&&_.preventDefault(),f({x:_.changedTouches[0].clientX,y:_.changedTouches[0].clientY})};return u==null||u.addEventListener("mousedown",v),u==null||u.addEventListener("touchstart",N,{passive:!1}),()=>{u&&(u.removeEventListener("mousedown",v),u.removeEventListener("touchstart",N))}},[n,e]),{ref:r,active:a}}function no({value:e,defaultValue:t,finalValue:n,onChange:r=()=>{}}){const[i,o]=w.useState(t!==void 0?t:n),s=(a,...c)=>{o(a),r==null||r(a,...c)};return e!==void 0?[e,r,!0]:[i,s,!1]}function x5(e,t){return Doe("(prefers-reduced-motion: reduce)",e,t)}function _U(e=[!1,!0]){const[[t],n]=w.useReducer((r,i)=>{const o=i instanceof Function?i(r[0]):i,s=Math.abs(r.indexOf(o));return r.slice(s).concat(r.slice(0,s))},e);return[t,n]}const d9={passive:!0};function Yoe(){const[e,t]=w.useState({width:0,height:0}),n=w.useCallback(()=>{t({width:window.innerWidth||0,height:window.innerHeight||0})},[]);return OA("resize",n,d9),OA("orientationchange",n,d9),w.useEffect(n,[]),e}function Joe(e){const t=e.toLowerCase().split("+").map(o=>o.trim()),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift"),plus:t.includes("[plus]")},r=["alt","ctrl","meta","shift","mod"],i=t.find(o=>!r.includes(o));return{...n,key:i==="[plus]"?"+":i}}function Xoe(e,t,n){const{alt:r,ctrl:i,meta:o,mod:s,shift:a,key:c}=e,{altKey:u,ctrlKey:f,metaKey:h,shiftKey:p,key:y,code:x}=t;if(r!==u)return!1;if(s){if(!f&&!h)return!1}else if(i!==f||o!==h)return!1;return a!==p?!1:!!(c&&(!n&&y.toLowerCase()===c.toLowerCase()||x.replace("Key","").toLowerCase()===c.toLowerCase()))}function $U(e,t){return n=>Xoe(Joe(e),n,t)}function Qoe(e){return t=>{const n="nativeEvent"in t?t.nativeEvent:t;e.forEach(([r,i,o={preventDefault:!0,usePhysicalKeys:!1}])=>{$U(r,o.usePhysicalKeys)(n)&&(o.preventDefault&&t.preventDefault(),i(n))})}}function Zoe(e,t,n=!1){return e.target instanceof HTMLElement?(n||!e.target.isContentEditable)&&!t.includes(e.target.tagName):!0}function v5(e,t=["INPUT","TEXTAREA","SELECT"],n=!1){w.useEffect(()=>{const r=i=>{e.forEach(([o,s,a={preventDefault:!0,usePhysicalKeys:!1}])=>{$U(o,a.usePhysicalKeys)(i)&&Zoe(i,t,n)&&(a.preventDefault&&i.preventDefault(),s(i))})};return document.documentElement.addEventListener("keydown",r),()=>document.documentElement.removeEventListener("keydown",r)},[e])}function Bg(e=!1,t){const{onOpen:n,onClose:r}={},[i,o]=w.useState(e),s=w.useCallback(()=>{o(u=>u||(n==null||n(),!0))},[n]),a=w.useCallback(()=>{o(u=>u&&(r==null||r(),!1))},[r]),c=w.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:c}]}function ese(e,t,n={autoInvoke:!1}){const r=w.useRef(null),i=w.useCallback((...s)=>{r.current||(r.current=window.setTimeout(()=>{e(s),r.current=null},t))},[t]),o=w.useCallback(()=>{r.current&&(window.clearTimeout(r.current),r.current=null)},[]);return w.useEffect(()=>(n.autoInvoke&&i(),o),[o,i]),{start:i,clear:o}}function tse(e){const t=w.useRef(void 0);return w.useEffect(()=>{t.current=e},[e]),t.current}function nse(){const e=w.useRef(null),[t,n]=w.useState(!1);return{ref:w.useCallback(i=>{var o,s;typeof IntersectionObserver<"u"&&(i&&!e.current?e.current=new IntersectionObserver(a=>n(a.some(c=>c.isIntersecting))):(o=e.current)==null||o.disconnect(),i?(s=e.current)==null||s.observe(i):n(!1))},[]),inViewport:t}}function rse(e,t,n){const r=w.useRef(null),i=w.useRef(null);return w.useEffect(()=>{const o=typeof n=="function"?n():n;return(o||i.current)&&(r.current=new MutationObserver(e),r.current.observe(o||i.current,t)),()=>{var s;(s=r.current)==null||s.disconnect()}},[e,t]),i}function ise(){const[e,t]=w.useState(!1);return w.useEffect(()=>t(!0),[]),e}function ose(e,t){window.dispatchEvent(new CustomEvent(e,{detail:t}))}function sse(e){function t(r){const i=Object.keys(r).reduce((o,s)=>(o[`${e}:${s}`]=a=>r[s](a.detail),o),{});Lg(()=>(Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o]),window.addEventListener(o,i[o])}),()=>Object.keys(i).forEach(o=>{window.removeEventListener(o,i[o])})),[i])}function n(r){return(...i)=>ose(`${e}:${String(r)}`,i[0])}return[t,n]}var ase={};function CU(){return typeof process<"u"&&ase?"production":"development"}function f9(e,t){return t.length===0?e:t.reduce((n,r)=>Math.abs(r-e)<Math.abs(n-e)?r:n)}function O2(e){var n;const t=De.version;return typeof De.version!="string"||t.startsWith("18.")?e==null?void 0:e.ref:(n=e==null?void 0:e.props)==null?void 0:n.ref}function jU(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=jU(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=jU(e))&&(r&&(r+=" "),r+=t);return r}const lse={};function cse(e){const t={};return e.forEach(n=>{Object.entries(n).forEach(([r,i])=>{t[r]?t[r]=Rn(t[r],i):t[r]=i})}),t}function _2({theme:e,classNames:t,props:n,stylesCtx:r}){const o=(Array.isArray(t)?t:[t]).map(s=>typeof s=="function"?s(e,n,r):s||lse);return cse(o)}function zS({theme:e,styles:t,props:n,stylesCtx:r}){return(Array.isArray(t)?t:[t]).reduce((o,s)=>typeof s=="function"?{...o,...s(e,n,r)}:{...o,...s},{})}const AU=w.createContext(null);function Cd(){const e=w.useContext(AU);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function use(){return Cd().cssVariablesResolver}function dse(){return Cd().classNamesPrefix}function w5(){return Cd().getStyleNonce}function fse(){return Cd().withStaticClasses}function hse(){return Cd().headless}function mse(){var e;return(e=Cd().stylesTransform)==null?void 0:e.sx}function pse(){var e;return(e=Cd().stylesTransform)==null?void 0:e.styles}function TU(){return Cd().env||"default"}function gse(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function yse(e){let t=e.replace("#","");if(t.length===3){const s=t.split("");t=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(t.length===8){const s=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:s}}const n=parseInt(t,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function bse(e){const[t,n,r,i]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:n,b:r,a:i||1}}function xse(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=e.match(t);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,c=r/60,u=a*(1-Math.abs(c%2-1)),f=o-a/2;let h,p,y;return c>=0&&c<1?(h=a,p=u,y=0):c>=1&&c<2?(h=u,p=a,y=0):c>=2&&c<3?(h=0,p=a,y=u):c>=3&&c<4?(h=0,p=u,y=a):c>=4&&c<5?(h=u,p=0,y=a):(h=a,p=0,y=u),{r:Math.round((h+f)*255),g:Math.round((p+f)*255),b:Math.round((y+f)*255),a:s||1}}function S5(e){return gse(e)?yse(e):e.startsWith("rgb")?bse(e):e.startsWith("hsl")?xse(e):{r:0,g:0,b:0,a:1}}function x1(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r:n,g:r,b:i,a:o}=S5(e),s=1-t,a=c=>Math.round(c*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function Ab(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function mC(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function vse(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function wse(e){if(e.startsWith("oklch("))return(vse(e)||0)/100;const{r:t,g:n,b:r}=S5(e),i=t/255,o=n/255,s=r/255,a=mC(i),c=mC(o),u=mC(s);return .2126*a+.7152*c+.0722*u}function O0(e,t=.179){return e.startsWith("var(")?!1:wse(e)>t}function jd({color:e,theme:t,colorScheme:n}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:n==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:O0(n==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:n==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:O0(n==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:O0(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[r,i]=e.split("."),o=i?Number(i):void 0,s=r in t.colors;if(s){const a=o!==void 0?t.colors[r][o]:t.colors[r][Ab(t,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:O0(a,t.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:e,value:e,isThemeColor:s,isLight:O0(e,t.luminanceThreshold),shade:o,variable:void 0}}function di(e,t){const n=jd({color:e||t.primaryColor,theme:t});return n.variable?`var(${n.variable})`:e}function h9(e,t){const n={from:(e==null?void 0:e.from)||t.defaultGradient.from,to:(e==null?void 0:e.to)||t.defaultGradient.to,deg:(e==null?void 0:e.deg)??t.defaultGradient.deg??0},r=di(n.from,t),i=di(n.to,t);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function Fa(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const o=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${o}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r:n,g:r,b:i}=S5(e);return`rgba(${n}, ${r}, ${i}, ${t})`}const Km=Fa,Sse=({color:e,theme:t,variant:n,gradient:r,autoContrast:i})=>{const o=jd({color:e,theme:t}),s=typeof i=="boolean"?i:t.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:a,border:`${Ie(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${Ie(1)} solid transparent`}:{background:e,hover:x1(e,.1),color:a,border:`${Ie(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ie(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:Fa(a,.1),hover:Fa(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ie(1)} solid transparent`}}return{background:Fa(e,.1),hover:Fa(e,.12),color:e,border:`${Ie(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ie(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Fa(t.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ie(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:Fa(e,.05),color:e,border:`${Ie(1)} solid ${e}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ie(1)} solid transparent`};const a=t.colors[o.color][o.shade];return{background:"transparent",hover:Fa(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ie(1)} solid transparent`}}return{background:"transparent",hover:Fa(e,.12),color:e,border:`${Ie(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ie(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${Ie(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ie(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:x1(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ie(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:x1(t.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${Ie(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:x1(t.white,.01),color:e,border:`${Ie(1)} solid transparent`}:n==="gradient"?{background:h9(r,t),hover:h9(r,t),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ie(1)} solid var(--mantine-color-default-border)`}:{}},Ese={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},m9="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",E5={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:Ese,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:Sse,autoContrast:!1,luminanceThreshold:.3,fontFamily:m9,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:m9,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ie(34),lineHeight:"1.3"},h2:{fontSize:Ie(26),lineHeight:"1.35"},h3:{fontSize:Ie(22),lineHeight:"1.4"},h4:{fontSize:Ie(18),lineHeight:"1.45"},h5:{fontSize:Ie(16),lineHeight:"1.5"},h6:{fontSize:Ie(14),lineHeight:"1.5"}}},fontSizes:{xs:Ie(12),sm:Ie(14),md:Ie(16),lg:Ie(18),xl:Ie(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ie(2),sm:Ie(4),md:Ie(8),lg:Ie(16),xl:Ie(32)},spacing:{xs:Ie(10),sm:Ie(12),md:Ie(16),lg:Ie(20),xl:Ie(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), 0 ${Ie(1)} ${Ie(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(10)} ${Ie(15)} ${Ie(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ie(7)} ${Ie(7)} ${Ie(-5)}`,md:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(20)} ${Ie(25)} ${Ie(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ie(10)} ${Ie(10)} ${Ie(-5)}`,lg:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(28)} ${Ie(23)} ${Ie(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ie(12)} ${Ie(12)} ${Ie(-7)}`,xl:`0 ${Ie(1)} ${Ie(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ie(36)} ${Ie(28)} ${Ie(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ie(17)} ${Ie(17)} ${Ie(-7)}`},other:{},components:{}};function p9(e){return e==="auto"||e==="dark"||e==="light"}function Nse({key:e="mantine-color-scheme-value"}={}){let t;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(e);return p9(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(e,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{t=r=>{r.storageArea===window.localStorage&&r.key===e&&p9(r.newValue)&&n(r.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const Ose="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",g9="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function pC(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function y9(e){if(!(e.primaryColor in e.colors))throw new Error(Ose);if(typeof e.primaryShade=="object"&&(!pC(e.primaryShade.dark)||!pC(e.primaryShade.light)))throw new Error(g9);if(typeof e.primaryShade=="number"&&!pC(e.primaryShade))throw new Error(g9)}function _se(e,t){var r;if(!t)return y9(e),e;const n=p5(e,t);return t.fontFamily&&!((r=t.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=t.fontFamily),y9(n),n}const N5=w.createContext(null),$se=()=>w.useContext(N5)||E5;function Fo(){const e=w.useContext(N5);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function RU({theme:e,children:t,inherit:n=!0}){const r=$se(),i=w.useMemo(()=>_se(n?r:E5,e),[e,r,n]);return m.jsx(N5.Provider,{value:i,children:t})}RU.displayName="@mantine/core/MantineThemeProvider";function Cse(){const e=Fo(),t=w5(),n=Ya(e.breakpoints).reduce((r,i)=>{const o=e.breakpoints[i].includes("px"),s=Ooe(e.breakpoints[i]),a=o?`${s-.1}px`:l9(s-.1),c=o?`${s}px`:l9(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${c}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return m.jsx("style",{"data-mantine-styles":"classes",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:n}})}function gC(e){return Object.entries(e).map(([t,n])=>`${t}: ${n};`).join("")}function _0(e,t){return(Array.isArray(e)?e:[e]).reduce((r,i)=>`${i}{${r}}`,t)}function jse(e,t){const n=gC(e.variables),r=n?_0(t,n):"",i=gC(e.dark),o=gC(e.light),s=i?_0(t===":host"?`${t}([data-mantine-color-scheme="dark"])`:`${t}[data-mantine-color-scheme="dark"]`,i):"",a=o?_0(t===":host"?`${t}([data-mantine-color-scheme="light"])`:`${t}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function Lx({color:e,theme:t,autoContrast:n}){return(typeof n=="boolean"?n:t.autoContrast)&&jd({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function b9(e,t){return Lx({color:e.colors[e.primaryColor][Ab(e,t)],theme:e,autoContrast:null})}function v1({theme:e,color:t,colorScheme:n,name:r=t,withColorValues:i=!0}){if(!e.colors[t])return{};if(n==="light"){const a=Ab(e,"light"),c={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Km(e.colors[t][a],.1),[`--mantine-color-${r}-light-hover`]:Km(e.colors[t][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Km(e.colors[t][a],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...c}:c}const o=Ab(e,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:Km(e.colors[t][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:Km(e.colors[t][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Km(e.colors[t][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:e.colors[t][0],[`--mantine-color-${r}-1`]:e.colors[t][1],[`--mantine-color-${r}-2`]:e.colors[t][2],[`--mantine-color-${r}-3`]:e.colors[t][3],[`--mantine-color-${r}-4`]:e.colors[t][4],[`--mantine-color-${r}-5`]:e.colors[t][5],[`--mantine-color-${r}-6`]:e.colors[t][6],[`--mantine-color-${r}-7`]:e.colors[t][7],[`--mantine-color-${r}-8`]:e.colors[t][8],[`--mantine-color-${r}-9`]:e.colors[t][9],...s}:s}function Ase(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ym(e,t,n){Ya(t).forEach(r=>Object.assign(e,{[`--mantine-${n}-${r}`]:t[r]}))}const IU=e=>{const t=Ab(e,"light"),n=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ie(e.defaultRadius),r={variables:{"--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":b9(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":b9(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Ym(r.variables,e.breakpoints,"breakpoint"),Ym(r.variables,e.spacing,"spacing"),Ym(r.variables,e.fontSizes,"font-size"),Ym(r.variables,e.lineHeights,"line-height"),Ym(r.variables,e.shadows,"shadow"),Ym(r.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${e.primaryColor}-${s})`}),Ya(e.colors).forEach(o=>{const s=e.colors[o];if(Ase(s)){Object.assign(r.light,v1({theme:e,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,v1({theme:e,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,c)=>{r.variables[`--mantine-color-${o}-${c}`]=a}),Object.assign(r.light,v1({theme:e,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,v1({theme:e,color:o,colorScheme:"dark",withColorValues:!1}))});const i=e.headings.sizes;return Ya(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||e.headings.fontWeight}),r};function Tse({theme:e,generator:t}){const n=IU(e),r=t==null?void 0:t(e);return r?p5(n,r):n}const yC=IU(E5);function Rse(e){const t={variables:{},light:{},dark:{}};return Ya(e.variables).forEach(n=>{yC.variables[n]!==e.variables[n]&&(t.variables[n]=e.variables[n])}),Ya(e.light).forEach(n=>{yC.light[n]!==e.light[n]&&(t.light[n]=e.light[n])}),Ya(e.dark).forEach(n=>{yC.dark[n]!==e.dark[n]&&(t.dark[n]=e.dark[n])}),t}function Ise(e){return`
  ${e}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${e}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function MU({cssVariablesSelector:e,deduplicateCssVariables:t}){const n=Fo(),r=w5(),i=use(),o=Tse({theme:n,generator:i}),s=e===":root"&&t,a=s?Rse(o):o,c=jse(a,e);return c?m.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${c}${s?"":Ise(e)}`}}):null}MU.displayName="@mantine/CssVariables";function Mse(){const e=console.error;console.error=(...t)=>{t.length>1&&typeof t[0]=="string"&&t[0].toLowerCase().includes("extra attributes from the server")&&typeof t[1]=="string"&&t[1].toLowerCase().includes("data-mantine-color-scheme")||e(...t)}}function Jm(e,t){var i,o;const n=typeof window<"u"&&"matchMedia"in window&&((i=window.matchMedia("(prefers-color-scheme: dark)"))==null?void 0:i.matches),r=e!=="auto"?e:n?"dark":"light";(o=t())==null||o.setAttribute("data-mantine-color-scheme",r)}function kse({manager:e,defaultColorScheme:t,getRootElement:n,forceColorScheme:r}){const i=w.useRef(null),[o,s]=w.useState(()=>e.get(t)),a=r||o,c=w.useCallback(f=>{r||(Jm(f,n),s(f),e.set(f))},[e.set,a,r]),u=w.useCallback(()=>{s(t),Jm(t,n),e.clear()},[e.clear,t]);return w.useEffect(()=>(e.subscribe(c),e.unsubscribe),[e.subscribe,e.unsubscribe]),Lg(()=>{Jm(e.get(t),n)},[]),w.useEffect(()=>{var h;if(r)return Jm(r,n),()=>{};r===void 0&&Jm(o,n),typeof window<"u"&&"matchMedia"in window&&(i.current=window.matchMedia("(prefers-color-scheme: dark)"));const f=p=>{o==="auto"&&Jm(p.matches?"dark":"light",n)};return(h=i.current)==null||h.addEventListener("change",f),()=>{var p;return(p=i.current)==null?void 0:p.removeEventListener("change",f)}},[o,r]),{colorScheme:a,setColorScheme:c,clearColorScheme:u}}function Pse({respectReducedMotion:e,getRootElement:t}){Lg(()=>{var n;e&&((n=t())==null||n.setAttribute("data-respect-reduced-motion","true"))},[e])}Mse();function kU({theme:e,children:t,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:c="mantine",colorSchemeManager:u=Nse(),defaultColorScheme:f="light",getRootElement:h=()=>document.documentElement,cssVariablesResolver:p,forceColorScheme:y,stylesTransform:x,env:v}){const{colorScheme:E,setColorScheme:N,clearColorScheme:O}=kse({defaultColorScheme:f,forceColorScheme:y,manager:u,getRootElement:h});return Pse({respectReducedMotion:(e==null?void 0:e.respectReducedMotion)||!1,getRootElement:h}),m.jsx(AU.Provider,{value:{colorScheme:E,setColorScheme:N,clearColorScheme:O,getRootElement:h,classNamesPrefix:c,getStyleNonce:n,cssVariablesResolver:p,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:x,env:v},children:m.jsxs(RU,{theme:e,children:[s&&m.jsx(MU,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&m.jsx(Cse,{}),t]})})}kU.displayName="@mantine/core/MantineProvider";function zg({classNames:e,styles:t,props:n,stylesCtx:r}){const i=Fo();return{resolvedClassNames:_2({theme:i,classNames:e,props:n,stylesCtx:r||void 0}),resolvedStyles:zS({theme:i,styles:t,props:n,stylesCtx:r||void 0})}}const Dse={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function Fse({theme:e,options:t,unstyled:n}){return Rn((t==null?void 0:t.focusable)&&!n&&(e.focusClassName||Dse[e.focusRing]),(t==null?void 0:t.active)&&!n&&e.activeClassName)}function Lse({selector:e,stylesCtx:t,options:n,props:r,theme:i}){return _2({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:t})[e]}function x9({selector:e,stylesCtx:t,theme:n,classNames:r,props:i}){return _2({theme:n,classNames:r,props:i,stylesCtx:t})[e]}function Bse({rootSelector:e,selector:t,className:n}){return e===t?n:void 0}function zse({selector:e,classes:t,unstyled:n}){return n?void 0:t[e]}function Use({themeName:e,classNamesPrefix:t,selector:n,withStaticClass:r}){return r===!1?[]:e.map(i=>`${t}-${i}-${n}`)}function Vse({themeName:e,theme:t,selector:n,props:r,stylesCtx:i}){return e.map(o=>{var s,a;return(a=_2({theme:t,classNames:(s=t.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function qse({options:e,classes:t,selector:n,unstyled:r}){return e!=null&&e.variant&&!r?t[`${n}--${e.variant}`]:void 0}function Hse({theme:e,options:t,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:c,rootSelector:u,props:f,stylesCtx:h,withStaticClasses:p,headless:y,transformedStyles:x}){return Rn(Fse({theme:e,options:t,unstyled:a||y}),Vse({theme:e,themeName:n,selector:r,props:f,stylesCtx:h}),qse({options:t,classes:s,selector:r,unstyled:a}),x9({selector:r,stylesCtx:h,theme:e,classNames:o,props:f}),x9({selector:r,stylesCtx:h,theme:e,classNames:x,props:f}),Lse({selector:r,stylesCtx:h,options:t,props:f,theme:e}),Bse({rootSelector:u,selector:r,className:c}),zse({selector:r,classes:s,unstyled:a||y}),p&&!y&&Use({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:t==null?void 0:t.withStaticClass}),t==null?void 0:t.className)}function Wse({theme:e,themeName:t,props:n,stylesCtx:r,selector:i}){return t.map(o=>{var s;return zS({theme:e,styles:(s=e.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function _A({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,..._A({style:r,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function Gse(e){return e.reduce((t,n)=>(n&&Object.keys(n).forEach(r=>{t[r]={...t[r],...g5(n[r])}}),t),{})}function Kse({vars:e,varsResolver:t,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){var c;return(c=Gse([a?{}:t==null?void 0:t(n,r,i),...s.map(u=>{var f,h,p;return(p=(h=(f=n.components)==null?void 0:f[u])==null?void 0:h.vars)==null?void 0:p.call(h,n,r,i)}),e==null?void 0:e(n,r,i)]))==null?void 0:c[o]}function Yse({theme:e,themeName:t,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:c,vars:u,varsResolver:f,headless:h,withStylesTransform:p}){return{...!p&&Wse({theme:e,themeName:t,props:i,stylesCtx:o,selector:n}),...!p&&zS({theme:e,styles:a,props:i,stylesCtx:o})[n],...!p&&zS({theme:e,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...Kse({theme:e,props:i,stylesCtx:o,vars:u,varsResolver:f,selector:n,themeName:t,headless:h}),...s===n?_A({style:c,theme:e}):null,..._A({style:r==null?void 0:r.style,theme:e})}}function Jse({props:e,stylesCtx:t,themeName:n}){var s;const r=Fo(),i=(s=pse())==null?void 0:s();return{getTransformedStyles:a=>i?[...a.map(u=>i(u,{props:e,theme:r,ctx:t})),...n.map(u=>{var f;return i((f=r.components[u])==null?void 0:f.styles,{props:e,theme:r,ctx:t})})].filter(Boolean):[],withStylesTransform:!!i}}function St({name:e,classes:t,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:c,styles:u,vars:f,varsResolver:h}){const p=Fo(),y=dse(),x=fse(),v=hse(),E=(Array.isArray(e)?e:[e]).filter(_=>_),{withStylesTransform:N,getTransformedStyles:O}=Jse({props:n,stylesCtx:r,themeName:E});return(_,C)=>({className:Hse({theme:p,options:C,themeName:E,selector:_,classNamesPrefix:y,classNames:c,classes:t,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:x,headless:v,transformedStyles:O([C==null?void 0:C.styles,u])}),style:Yse({theme:p,themeName:E,selector:_,options:C,props:n,stylesCtx:r,rootSelector:s,styles:u,style:o,vars:f,varsResolver:h,headless:v,withStylesTransform:N})})}function O5(e,t){return typeof e=="boolean"?e:t.autoContrast}function ze(e,t,n){var s;const r=Fo(),i=(s=r.components[e])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...t,...o,...g5(n)}}function bC(e){return Ya(e).reduce((t,n)=>e[n]!==void 0?`${t}${Eoe(n)}:${e[n]};`:t,"").trim()}function Xse({selector:e,styles:t,media:n,container:r}){const i=t?bC(t):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${e}{${bC(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${e}{${bC(a.styles)}}}`):[];return`${i?`${e}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function Qse(e){const t=w5();return m.jsx("style",{"data-mantine-styles":"inline",nonce:t==null?void 0:t(),dangerouslySetInnerHTML:{__html:Xse(e)}})}function Ug(e){const{m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:c,ms:u,p:f,px:h,py:p,pt:y,pb:x,pl:v,pr:E,pe:N,ps:O,bd:_,bg:C,c:j,opacity:A,ff:R,fz:I,fw:P,lts:z,ta:B,lh:U,fs:H,tt:M,td:L,w:T,miw:F,maw:k,h:q,mih:D,mah:W,bgsz:X,bgp:oe,bgr:se,bga:ie,pos:le,top:pe,left:ye,bottom:je,right:Te,inset:J,display:me,flex:Z,hiddenFrom:we,visibleFrom:Ne,lightHidden:$e,darkHidden:_e,sx:Y,...re}=e;return{styleProps:g5({m:t,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:c,ms:u,p:f,px:h,py:p,pt:y,pb:x,pl:v,pr:E,pe:N,ps:O,bd:_,bg:C,c:j,opacity:A,ff:R,fz:I,fw:P,lts:z,ta:B,lh:U,fs:H,tt:M,td:L,w:T,miw:F,maw:k,h:q,mih:D,mah:W,bgsz:X,bgp:oe,bgr:se,bga:ie,pos:le,top:pe,left:ye,bottom:je,right:Te,inset:J,display:me,flex:Z,hiddenFrom:we,visibleFrom:Ne,lightHidden:$e,darkHidden:_e,sx:Y}),rest:re}}const Zse={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function _5(e,t){const n=jd({color:e,theme:t});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function eae(e,t){const n=jd({color:e,theme:t});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:_5(e,t)}function tae(e,t){if(typeof e=="number")return Ie(e);if(typeof e=="string"){const[n,r,...i]=e.split(" ").filter(s=>s.trim()!=="");let o=`${Ie(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${_5(i.join(" "),t)}`),o.trim()}return e}const v9={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function nae(e){return typeof e=="string"&&e in v9?v9[e]:e}const rae=["h1","h2","h3","h4","h5","h6"];function iae(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&rae.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ie(e):e}function oae(e){return e}const sae=["h1","h2","h3","h4","h5","h6"];function aae(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&sae.includes(e)?`var(--mantine-${e}-line-height)`:e}function lae(e){return typeof e=="number"?Ie(e):e}function cae(e,t){if(typeof e=="number")return Ie(e);if(typeof e=="string"){const n=e.replace("-","");if(!(n in t.spacing))return Ie(e);const r=`--mantine-spacing-${n}`;return e.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return e}const xC={color:_5,textColor:eae,fontSize:iae,spacing:cae,identity:oae,size:lae,lineHeight:aae,fontFamily:nae,border:tae};function w9(e){return e.replace("(min-width: ","").replace("em)","")}function uae({media:e,...t}){const r=Object.keys(e).sort((i,o)=>Number(w9(i))-Number(w9(o))).map(i=>({query:i,styles:e[i]}));return{...t,media:r}}function dae(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function fae(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function hae(e){return typeof e=="object"&&e!==null?Ya(e).filter(t=>t!=="base"):[]}function mae(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function pae({styleProps:e,data:t,theme:n}){return uae(Ya(e).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=t[i],s=Array.isArray(o.property)?o.property:[o.property],a=fae(e[i]);if(!dae(e[i]))return s.forEach(u=>{r.inlineStyles[u]=xC[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const c=hae(e[i]);return s.forEach(u=>{a&&(r.styles[u]=xC[o.type](a,n)),c.forEach(f=>{const h=`(min-width: ${n.breakpoints[f]})`;r.media[h]={...r.media[h],[u]:xC[o.type](mae(e[i],f),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function gae(){return`__m__-${w.useId().replace(/:/g,"")}`}function PU(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...PU(r,t)}),{}):typeof e=="function"?e(t):e??{}}function DU(e){return e.startsWith("data-")?e:`data-${e}`}function yae(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return r===void 0||r===""||r===!1||r===null||(t[DU(n)]=e[n]),t},{})}function FU(e){return e?typeof e=="string"?{[DU(e)]:!0}:Array.isArray(e)?[...e].reduce((t,n)=>({...t,...FU(n)}),{}):yae(e):null}function $A(e,t){return Array.isArray(e)?[...e].reduce((n,r)=>({...n,...$A(r,t)}),{}):typeof e=="function"?e(t):e??{}}function bae({theme:e,style:t,vars:n,styleProps:r}){const i=$A(t,e),o=$A(n,e);return{...i,...o,...r}}const LU=w.forwardRef(({component:e,style:t,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:c,lightHidden:u,darkHidden:f,renderRoot:h,__size:p,...y},x)=>{var I;const v=Fo(),E=e||"div",{styleProps:N,rest:O}=Ug(y),_=mse(),C=(I=_==null?void 0:_())==null?void 0:I(N.sx),j=gae(),A=pae({styleProps:N,theme:v,data:Zse}),R={ref:x,style:bae({theme:v,style:t,vars:n,styleProps:A.inlineStyles}),className:Rn(r,C,{[j]:A.hasResponsiveStyles,"mantine-light-hidden":u,"mantine-dark-hidden":f,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${c}`]:c}),"data-variant":i,"data-size":vU(s)?void 0:s||void 0,size:p,...FU(o),...O};return m.jsxs(m.Fragment,{children:[A.hasResponsiveStyles&&m.jsx(Qse,{selector:`.${j}`,styles:A.styles,media:A.media}),typeof h=="function"?h(R):m.jsx(E,{...R})]})});LU.displayName="@mantine/core/Box";const We=LU;function BU(e){return e}function Ye(e){const t=w.forwardRef(e);return t.extend=BU,t.withProps=n=>{const r=w.forwardRef((i,o)=>m.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t}function Ad(e){const t=w.forwardRef(e);return t.withProps=n=>{const r=w.forwardRef((i,o)=>m.jsx(t,{...n,...i,ref:o}));return r.extend=t.extend,r.displayName=`WithProps(${t.displayName})`,r},t.extend=BU,t}const xae=w.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Td(){return w.useContext(xae)}var Bx=fU();const bp=ga(Bx),[vae,Os]=Pc("ScrollArea.Root component was not found in tree");function rg(e,t){const n=Pf(t);Lg(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}const wae=w.forwardRef((e,t)=>{const{style:n,...r}=e,i=Os(),[o,s]=w.useState(0),[a,c]=w.useState(0),u=!!(o&&a);return rg(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),rg(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),u?m.jsx("div",{...r,ref:t,style:{...n,width:o,height:a}}):null}),Sae=w.forwardRef((e,t)=>{const n=Os(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(wae,{...e,ref:t}):null}),Eae={scrollHideDelay:1e3,type:"hover"},zU=w.forwardRef((e,t)=>{const n=ze("ScrollAreaRoot",Eae,e),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,c]=w.useState(null),[u,f]=w.useState(null),[h,p]=w.useState(null),[y,x]=w.useState(null),[v,E]=w.useState(null),[N,O]=w.useState(0),[_,C]=w.useState(0),[j,A]=w.useState(!1),[R,I]=w.useState(!1),P=Gn(t,z=>c(z));return m.jsx(vae,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:R,onScrollbarYEnabledChange:I,onCornerWidthChange:O,onCornerHeightChange:C},children:m.jsx(We,{...s,ref:P,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${N}px`,"--sa-corner-height":o!=="xy"?"0px":`${_}px`}})})});zU.displayName="@mantine/core/ScrollAreaRoot";function UU(e,t){const n=e/t;return Number.isNaN(n)?0:n}function $2(e){const t=UU(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function VU(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Nae(e,[t,n]){return Math.min(n,Math.max(t,e))}function S9(e,t,n="ltr"){const r=$2(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,s]:[s*-1,0],u=Nae(e,c);return VU([0,s],[0,a])(u)}function Oae(e,t,n,r="ltr"){const i=$2(n),o=i/2,s=t||o,a=i-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return VU([c,u],h)(e)}function qU(e,t){return e>0&&e<t}function id(e){return e?parseInt(e,10):0}function ah(e,t,{checkForDefaultPrevented:n=!0}={}){return r=>{e==null||e(r),(n===!1||!r.defaultPrevented)&&(t==null||t(r))}}const[_ae,HU]=Pc("ScrollAreaScrollbar was not found in tree"),WU=w.forwardRef((e,t)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:c,onWheelScroll:u,onResize:f,...h}=e,p=Os(),[y,x]=w.useState(null),v=Gn(t,I=>x(I)),E=w.useRef(null),N=w.useRef(""),{viewport:O}=p,_=n.content-n.viewport,C=Pf(u),j=Pf(a),A=E2(f,10),R=I=>{if(E.current){const P=I.clientX-E.current.left,z=I.clientY-E.current.top;c({x:P,y:z})}};return w.useEffect(()=>{const I=P=>{const z=P.target;(y==null?void 0:y.contains(z))&&C(P,_)};return document.addEventListener("wheel",I,{passive:!1}),()=>document.removeEventListener("wheel",I,{passive:!1})},[O,y,_,C]),w.useEffect(j,[n,j]),rg(y,A),rg(p.content,A),m.jsx(_ae,{value:{scrollbar:y,hasThumb:r,onThumbChange:Pf(i),onThumbPointerUp:Pf(o),onThumbPositionChange:j,onThumbPointerDown:Pf(s)},children:m.jsx("div",{...h,ref:v,"data-mantine-scrollbar":!0,style:{position:"absolute",...h.style},onPointerDown:ah(e.onPointerDown,I=>{I.preventDefault(),I.button===0&&(I.target.setPointerCapture(I.pointerId),E.current=y.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",R(I))}),onPointerMove:ah(e.onPointerMove,R),onPointerUp:ah(e.onPointerUp,I=>{const P=I.target;P.hasPointerCapture(I.pointerId)&&(I.preventDefault(),P.releasePointerCapture(I.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=N.current,E.current=null}})})}),GU=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Os(),[a,c]=w.useState(),u=w.useRef(null),f=Gn(t,u,s.onScrollbarXChange);return w.useEffect(()=>{u.current&&c(getComputedStyle(u.current))},[u]),m.jsx(WU,{"data-orientation":"horizontal",...o,ref:f,sizes:n,style:{...i,"--sa-thumb-width":`${$2(n)}px`},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,p)=>{if(s.viewport){const y=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(y),qU(y,p)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:id(a.paddingLeft),paddingEnd:id(a.paddingRight)}})}})});GU.displayName="@mantine/core/ScrollAreaScrollbarX";const KU=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,style:i,...o}=e,s=Os(),[a,c]=w.useState(),u=w.useRef(null),f=Gn(t,u,s.onScrollbarYChange);return w.useEffect(()=>{u.current&&c(window.getComputedStyle(u.current))},[]),m.jsx(WU,{...o,"data-orientation":"vertical",ref:f,sizes:n,style:{"--sa-thumb-height":`${$2(n)}px`,...i},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,p)=>{if(s.viewport){const y=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(y),qU(y,p)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:id(a.paddingTop),paddingEnd:id(a.paddingBottom)}})}})});KU.displayName="@mantine/core/ScrollAreaScrollbarY";const C2=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,{dir:i}=Td(),o=Os(),s=w.useRef(null),a=w.useRef(0),[c,u]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=UU(c.viewport,c.content),h={...r,sizes:c,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:y=>{s.current=y},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:y=>{a.current=y}},p=(y,x)=>Oae(y,a.current,c,x);return n==="horizontal"?m.jsx(GU,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const y=o.viewport.scrollLeft,x=S9(y,c,i);s.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollLeft=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollLeft=p(y,i))}}):n==="vertical"?m.jsx(KU,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&s.current){const y=o.viewport.scrollTop,x=S9(y,c);c.scrollbar.size===0?s.current.style.setProperty("--thumb-opacity","0"):s.current.style.setProperty("--thumb-opacity","1"),s.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:y=>{o.viewport&&(o.viewport.scrollTop=y)},onDragScroll:y=>{o.viewport&&(o.viewport.scrollTop=p(y))}}):null});C2.displayName="@mantine/core/ScrollAreaScrollbarVisible";const $5=w.forwardRef((e,t)=>{const n=Os(),{forceMount:r,...i}=e,[o,s]=w.useState(!1),a=e.orientation==="horizontal",c=E2(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:f)}},10);return rg(n.viewport,c),rg(n.content,c),r||o?m.jsx(C2,{"data-state":o?"visible":"hidden",...i,ref:t}):null});$5.displayName="@mantine/core/ScrollAreaScrollbarAuto";const YU=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Os(),[o,s]=w.useState(!1);return w.useEffect(()=>{const{scrollArea:a}=i;let c=0;if(a){const u=()=>{window.clearTimeout(c),s(!0)},f=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),n||o?m.jsx($5,{"data-state":o?"visible":"hidden",...r,ref:t}):null});YU.displayName="@mantine/core/ScrollAreaScrollbarHover";const $ae=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Os(),o=e.orientation==="horizontal",[s,a]=w.useState("hidden"),c=E2(()=>a("idle"),100);return w.useEffect(()=>{if(s==="idle"){const u=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[s,i.scrollHideDelay]),w.useEffect(()=>{const{viewport:u}=i,f=o?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const y=u[f];h!==y&&(a("scrolling"),c()),h=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,o,c]),n||s!=="hidden"?m.jsx(C2,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:ah(e.onPointerEnter,()=>a("interacting")),onPointerLeave:ah(e.onPointerLeave,()=>a("idle"))}):null}),CA=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Os(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?m.jsx(YU,{...r,ref:t,forceMount:n}):i.type==="scroll"?m.jsx($ae,{...r,ref:t,forceMount:n}):i.type==="auto"?m.jsx($5,{...r,ref:t,forceMount:n}):i.type==="always"?m.jsx(C2,{...r,ref:t}):null});CA.displayName="@mantine/core/ScrollAreaScrollbar";function Cae(e,t=()=>{}){let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const JU=w.forwardRef((e,t)=>{const{style:n,...r}=e,i=Os(),o=HU(),{onThumbPositionChange:s}=o,a=Gn(t,f=>o.onThumbChange(f)),c=w.useRef(void 0),u=E2(()=>{c.current&&(c.current(),c.current=void 0)},100);return w.useEffect(()=>{const{viewport:f}=i;if(f){const h=()=>{if(u(),!c.current){const p=Cae(f,s);c.current=p,s()}};return s(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,u,s]),m.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:ah(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),y=f.clientX-p.left,x=f.clientY-p.top;o.onThumbPointerDown({x:y,y:x})}),onPointerUp:ah(e.onPointerUp,o.onThumbPointerUp)})});JU.displayName="@mantine/core/ScrollAreaThumb";const jA=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=HU();return n||i.hasThumb?m.jsx(JU,{ref:t,...r}):null});jA.displayName="@mantine/core/ScrollAreaThumb";const XU=w.forwardRef(({children:e,style:t,...n},r)=>{const i=Os(),o=Gn(r,i.onViewportChange);return m.jsx(We,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t},children:m.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:e})})});XU.displayName="@mantine/core/ScrollAreaViewport";var C5={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const QU={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},jae=(e,{scrollbarSize:t,overscrollBehavior:n})=>({root:{"--scrollarea-scrollbar-size":Ie(t),"--scrollarea-over-scroll-behavior":n}}),zx=Ye((e,t)=>{const n=ze("ScrollArea",QU,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:c,vars:u,type:f,scrollHideDelay:h,viewportProps:p,viewportRef:y,onScrollPositionChange:x,children:v,offsetScrollbars:E,scrollbars:N,onBottomReached:O,onTopReached:_,overscrollBehavior:C,...j}=n,[A,R]=w.useState(!1),I=St({name:"ScrollArea",props:n,classes:C5,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:jae});return m.jsxs(zU,{type:f==="never"?"always":f,scrollHideDelay:h,ref:t,scrollbars:N,...I("root"),...j,children:[m.jsx(XU,{...p,...I("viewport",{style:p==null?void 0:p.style}),ref:y,"data-offset-scrollbars":E===!0?"xy":E||void 0,"data-scrollbars":N||void 0,onScroll:P=>{var H;(H=p==null?void 0:p.onScroll)==null||H.call(p,P),x==null||x({x:P.currentTarget.scrollLeft,y:P.currentTarget.scrollTop});const{scrollTop:z,scrollHeight:B,clientHeight:U}=P.currentTarget;z-(B-U)>=0&&(O==null||O()),z===0&&(_==null||_())},children:v}),(N==="xy"||N==="x")&&m.jsx(CA,{...I("scrollbar"),orientation:"horizontal","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:m.jsx(jA,{...I("thumb")})}),(N==="xy"||N==="y")&&m.jsx(CA,{...I("scrollbar"),orientation:"vertical","data-hidden":f==="never"||void 0,forceMount:!0,onMouseEnter:()=>R(!0),onMouseLeave:()=>R(!1),children:m.jsx(jA,{...I("thumb")})}),m.jsx(Sae,{...I("corner"),"data-hovered":A||void 0,"data-hidden":f==="never"||void 0})]})});zx.displayName="@mantine/core/ScrollArea";const j5=Ye((e,t)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:c,offsetScrollbars:u,viewportRef:f,onScrollPositionChange:h,unstyled:p,variant:y,viewportProps:x,scrollbars:v,style:E,vars:N,onBottomReached:O,onTopReached:_,...C}=ze("ScrollAreaAutosize",QU,e);return m.jsx(We,{...C,ref:t,style:[{display:"flex",overflow:"auto"},E],children:m.jsx(We,{style:{display:"flex",flexDirection:"column",flex:1},children:m.jsx(zx,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:c,offsetScrollbars:u,viewportRef:f,onScrollPositionChange:h,unstyled:p,variant:y,viewportProps:x,vars:N,scrollbars:v,onBottomReached:O,onTopReached:_,children:n})})})});zx.classes=C5;j5.displayName="@mantine/core/ScrollAreaAutosize";j5.classes=C5;zx.Autosize=j5;var ZU={root:"m_87cf2631"};const Aae={__staticSelector:"UnstyledButton"},Nc=Ad((e,t)=>{const n=ze("UnstyledButton",Aae,e),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:c,style:u,...f}=n,h=St({name:o,props:n,classes:ZU,className:r,style:u,classNames:a,styles:c,unstyled:s});return m.jsx(We,{...h("root",{focusable:!0}),component:i,ref:t,type:i==="button"?"button":void 0,...f})});Nc.classes=ZU;Nc.displayName="@mantine/core/UnstyledButton";var eV={root:"m_515a97f8"};const Tae={},A5=Ye((e,t)=>{const n=ze("VisuallyHidden",Tae,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,...u}=n,f=St({name:"VisuallyHidden",classes:eV,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return m.jsx(We,{component:"span",ref:t,...f("root"),...u})});A5.classes=eV;A5.displayName="@mantine/core/VisuallyHidden";var tV={root:"m_1b7284a3"};const Rae={},Iae=(e,{radius:t,shadow:n})=>({root:{"--paper-radius":t===void 0?void 0:Nr(t),"--paper-shadow":b5(n)}}),T5=Ad((e,t)=>{const n=ze("Paper",Rae,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:c,vars:u,radius:f,shadow:h,variant:p,mod:y,...x}=n,v=St({name:"Paper",props:n,classes:tV,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Iae});return m.jsx(We,{ref:t,mod:[{"data-with-border":c},y],...v("root"),variant:p,...x})});T5.classes=tV;T5.displayName="@mantine/core/Paper";function j2(){return typeof window<"u"}function Vg(e){return nV(e)?(e.nodeName||"").toLowerCase():"#document"}function Zi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function al(e){var t;return(t=(nV(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function nV(e){return j2()?e instanceof Node||e instanceof Zi(e).Node:!1}function Nn(e){return j2()?e instanceof Element||e instanceof Zi(e).Element:!1}function Ao(e){return j2()?e instanceof HTMLElement||e instanceof Zi(e).HTMLElement:!1}function AA(e){return!j2()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zi(e).ShadowRoot}function Ux(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ms(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Mae(e){return["table","td","th"].includes(Vg(e))}function A2(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function R5(e){const t=T2(),n=Nn(e)?ms(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kae(e){let t=Oc(e);for(;Ao(t)&&!pd(t);){if(R5(t))return t;if(A2(t))return null;t=Oc(t)}return null}function T2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pd(e){return["html","body","#document"].includes(Vg(e))}function ms(e){return Zi(e).getComputedStyle(e)}function R2(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Oc(e){if(Vg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||AA(e)&&e.host||al(e);return AA(t)?t.host:t}function rV(e){const t=Oc(e);return pd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ao(t)&&Ux(t)?t:rV(t)}function mc(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=rV(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=Zi(i);if(o){const a=TA(s);return t.concat(s,s.visualViewport||[],Ux(i)?i:[],a&&n?mc(a):[])}return t.concat(i,mc(i,[],n))}function TA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function E9(e){let t=e.activeElement;for(;((n=t)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;t=t.shadowRoot.activeElement}return t}function Tb(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&AA(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function iV(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function oV(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Pae(e){return Lae()?!1:!N9()&&e.width===0&&e.height===0||N9()&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function Dae(){return/apple/i.test(navigator.vendor)}function N9(){const e=/android/i;return e.test(iV())||e.test(oV())}function Fae(){return iV().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Lae(){return oV().includes("jsdom/")}function RA(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function Bae(e){return"nativeEvent"in e}function zae(e){return e.matches("html,body")}function Bf(e){return(e==null?void 0:e.ownerDocument)||document}function vC(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function cp(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Uae="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Vae(e){return Ao(e)&&e.matches(Uae)}const aa=Math.min,ci=Math.max,US=Math.round,w1=Math.floor,Ja=e=>({x:e,y:e}),qae={left:"right",right:"left",bottom:"top",top:"bottom"},Hae={start:"end",end:"start"};function IA(e,t,n){return ci(e,aa(t,n))}function _c(e,t){return typeof e=="function"?e(t):e}function la(e){return e.split("-")[0]}function qg(e){return e.split("-")[1]}function I5(e){return e==="x"?"y":"x"}function M5(e){return e==="y"?"height":"width"}function $c(e){return["top","bottom"].includes(la(e))?"y":"x"}function k5(e){return I5($c(e))}function Wae(e,t,n){n===void 0&&(n=!1);const r=qg(e),i=k5(e),o=M5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=VS(s)),[s,VS(s)]}function Gae(e){const t=VS(e);return[MA(e),t,MA(t)]}function MA(e){return e.replace(/start|end/g,t=>Hae[t])}function Kae(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function Yae(e,t,n,r){const i=qg(e);let o=Kae(la(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(MA)))),o}function VS(e){return e.replace(/left|right|bottom|top/g,t=>qae[t])}function Jae(e){return{top:0,right:0,bottom:0,left:0,...e}}function P5(e){return typeof e!="number"?Jae(e):{top:e,right:e,bottom:e,left:e}}function ig(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function O9(e,t,n){let{reference:r,floating:i}=e;const o=$c(t),s=k5(t),a=M5(s),c=la(t),u=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let y;switch(c){case"top":y={x:f,y:r.y-i.height};break;case"bottom":y={x:f,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:h};break;case"left":y={x:r.x-i.width,y:h};break;default:y={x:r.x,y:r.y}}switch(qg(t)){case"start":y[s]-=p*(n&&u?-1:1);break;case"end":y[s]+=p*(n&&u?-1:1);break}return y}const Xae=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=O9(u,r,c),p=r,y={},x=0;for(let v=0;v<a.length;v++){const{name:E,fn:N}=a[v],{x:O,y:_,data:C,reset:j}=await N({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:y,rects:u,platform:s,elements:{reference:e,floating:t}});f=O??f,h=_??h,y={...y,[E]:{...y[E],...C}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):j.rects),{x:f,y:h}=O9(u,p,c)),v=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:y}};async function D5(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:y=0}=_c(t,e),x=P5(y),E=a[p?h==="floating"?"reference":"floating":h],N=ig(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),O=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},j=ig(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:O,offsetParent:_,strategy:c}):O);return{top:(N.top-j.top+x.top)/C.y,bottom:(j.bottom-N.bottom+x.bottom)/C.y,left:(N.left-j.left+x.left)/C.x,right:(j.right-N.right+x.right)/C.x}}const Qae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:f=0}=_c(e,t)||{};if(u==null)return{};const h=P5(f),p={x:n,y:r},y=k5(i),x=M5(y),v=await s.getDimensions(u),E=y==="y",N=E?"top":"left",O=E?"bottom":"right",_=E?"clientHeight":"clientWidth",C=o.reference[x]+o.reference[y]-p[y]-o.floating[x],j=p[y]-o.reference[y],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let R=A?A[_]:0;(!R||!await(s.isElement==null?void 0:s.isElement(A)))&&(R=a.floating[_]||o.floating[x]);const I=C/2-j/2,P=R/2-v[x]/2-1,z=aa(h[N],P),B=aa(h[O],P),U=z,H=R-v[x]-B,M=R/2-v[x]/2+I,L=IA(U,M,H),T=!c.arrow&&qg(i)!=null&&M!==L&&o.reference[x]/2-(M<U?z:B)-v[x]/2<0,F=T?M<U?M-U:M-H:0;return{[y]:p[y]+F,data:{[y]:L,centerOffset:M-L-F,...T&&{alignmentOffset:F}},reset:T}}}),Zae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...E}=_c(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=la(i),O=$c(a),_=la(a)===a,C=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=p||(_||!v?[VS(a)]:Gae(a)),A=x!=="none";!p&&A&&j.push(...Yae(a,v,x,C));const R=[a,...j],I=await D5(t,E),P=[];let z=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&P.push(I[N]),h){const M=Wae(i,s,C);P.push(I[M[0]],I[M[1]])}if(z=[...z,{placement:i,overflows:P}],!P.every(M=>M<=0)){var B,U;const M=(((B=o.flip)==null?void 0:B.index)||0)+1,L=R[M];if(L)return{data:{index:M,overflows:z},reset:{placement:L}};let T=(U=z.filter(F=>F.overflows[0]<=0).sort((F,k)=>F.overflows[1]-k.overflows[1])[0])==null?void 0:U.placement;if(!T)switch(y){case"bestFit":{var H;const F=(H=z.filter(k=>{if(A){const q=$c(k.placement);return q===O||q==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(q=>q>0).reduce((q,D)=>q+D,0)]).sort((k,q)=>k[1]-q[1])[0])==null?void 0:H[0];F&&(T=F);break}case"initialPlacement":T=a;break}if(i!==T)return{reset:{placement:T}}}return{}}}};function sV(e){const t=aa(...e.map(o=>o.left)),n=aa(...e.map(o=>o.top)),r=ci(...e.map(o=>o.right)),i=ci(...e.map(o=>o.bottom));return{x:t,y:n,width:r-t,height:i-n}}function ele(e){const t=e.slice().sort((i,o)=>i.y-o.y),n=[];let r=null;for(let i=0;i<t.length;i++){const o=t[i];!r||o.y-r.y>r.height/2?n.push([o]):n[n.length-1].push(o),r=o}return n.map(i=>ig(sV(i)))}const tle=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:n,elements:r,rects:i,platform:o,strategy:s}=t,{padding:a=2,x:c,y:u}=_c(e,t),f=Array.from(await(o.getClientRects==null?void 0:o.getClientRects(r.reference))||[]),h=ele(f),p=ig(sV(f)),y=P5(a);function x(){if(h.length===2&&h[0].left>h[1].right&&c!=null&&u!=null)return h.find(E=>c>E.left-y.left&&c<E.right+y.right&&u>E.top-y.top&&u<E.bottom+y.bottom)||p;if(h.length>=2){if($c(n)==="y"){const z=h[0],B=h[h.length-1],U=la(n)==="top",H=z.top,M=B.bottom,L=U?z.left:B.left,T=U?z.right:B.right,F=T-L,k=M-H;return{top:H,bottom:M,left:L,right:T,width:F,height:k,x:L,y:H}}const E=la(n)==="left",N=ci(...h.map(z=>z.right)),O=aa(...h.map(z=>z.left)),_=h.filter(z=>E?z.left===O:z.right===N),C=_[0].top,j=_[_.length-1].bottom,A=O,R=N,I=R-A,P=j-C;return{top:C,bottom:j,left:A,right:R,width:I,height:P,x:A,y:C}}return p}const v=await o.getElementRects({reference:{getBoundingClientRect:x},floating:r.floating,strategy:s});return i.reference.x!==v.reference.x||i.reference.y!==v.reference.y||i.reference.width!==v.reference.width||i.reference.height!==v.reference.height?{reset:{rects:v}}:{}}}};async function nle(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=la(n),a=qg(n),c=$c(n)==="y",u=["left","top"].includes(s)?-1:1,f=o&&c?-1:1,h=_c(t,e);let{mainAxis:p,crossAxis:y,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof x=="number"&&(y=a==="end"?x*-1:x),c?{x:y*f,y:p*u}:{x:p*u,y:y*f}}const rle=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,c=await nle(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:o+c.y,data:{...c,placement:s}}}}},ile=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x:N,y:O}=E;return{x:N,y:O}}},...c}=_c(e,t),u={x:n,y:r},f=await D5(t,c),h=$c(la(i)),p=I5(h);let y=u[p],x=u[h];if(o){const E=p==="y"?"top":"left",N=p==="y"?"bottom":"right",O=y+f[E],_=y-f[N];y=IA(O,y,_)}if(s){const E=h==="y"?"top":"left",N=h==="y"?"bottom":"right",O=x+f[E],_=x-f[N];x=IA(O,x,_)}const v=a.fn({...t,[p]:y,[h]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:o,[h]:s}}}}}},ole=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=_c(e,t),f={x:n,y:r},h=$c(i),p=I5(h);let y=f[p],x=f[h];const v=_c(a,t),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const _=p==="y"?"height":"width",C=o.reference[p]-o.floating[_]+E.mainAxis,j=o.reference[p]+o.reference[_]-E.mainAxis;y<C?y=C:y>j&&(y=j)}if(u){var N,O;const _=p==="y"?"width":"height",C=["top","left"].includes(la(i)),j=o.reference[h]-o.floating[_]+(C&&((N=s.offset)==null?void 0:N[h])||0)+(C?0:E.crossAxis),A=o.reference[h]+o.reference[_]+(C?0:((O=s.offset)==null?void 0:O[h])||0)-(C?E.crossAxis:0);x<j?x=j:x>A&&(x=A)}return{[p]:y,[h]:x}}}},sle=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:c=()=>{},...u}=_c(e,t),f=await D5(t,u),h=la(i),p=qg(i),y=$c(i)==="y",{width:x,height:v}=o.floating;let E,N;h==="top"||h==="bottom"?(E=h,N=p===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(N=h,E=p==="end"?"top":"bottom");const O=v-f.top-f.bottom,_=x-f.left-f.right,C=aa(v-f[E],O),j=aa(x-f[N],_),A=!t.middlewareData.shift;let R=C,I=j;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=_),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(R=O),A&&!p){const z=ci(f.left,0),B=ci(f.right,0),U=ci(f.top,0),H=ci(f.bottom,0);y?I=x-2*(z!==0||B!==0?z+B:ci(f.left,f.right)):R=v-2*(U!==0||H!==0?U+H:ci(f.top,f.bottom))}await c({...t,availableWidth:I,availableHeight:R});const P=await s.getDimensions(a.floating);return x!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function aV(e){const t=ms(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ao(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=US(n)!==o||US(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function F5(e){return Nn(e)?e:e.contextElement}function Cp(e){const t=F5(e);if(!Ao(t))return Ja(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=aV(t);let s=(o?US(n.width):n.width)/r,a=(o?US(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const ale=Ja(0);function lV(e){const t=Zi(e);return!T2()||!t.visualViewport?ale:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lle(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zi(e)?!1:t}function dh(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=F5(e);let s=Ja(1);t&&(r?Nn(r)&&(s=Cp(r)):s=Cp(e));const a=lle(o,n,r)?lV(o):Ja(0);let c=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(o){const p=Zi(o),y=r&&Nn(r)?Zi(r):r;let x=p,v=TA(x);for(;v&&r&&y!==x;){const E=Cp(v),N=v.getBoundingClientRect(),O=ms(v),_=N.left+(v.clientLeft+parseFloat(O.paddingLeft))*E.x,C=N.top+(v.clientTop+parseFloat(O.paddingTop))*E.y;c*=E.x,u*=E.y,f*=E.x,h*=E.y,c+=_,u+=C,x=Zi(v),v=TA(x)}}return ig({width:f,height:h,x:c,y:u})}function L5(e,t){const n=R2(e).scrollLeft;return t?t.left+n:dh(al(e)).left+n}function cV(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:L5(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function cle(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=al(r),a=t?A2(t.floating):!1;if(r===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ja(1);const f=Ja(0),h=Ao(r);if((h||!h&&!o)&&((Vg(r)!=="body"||Ux(s))&&(c=R2(r)),Ao(r))){const y=dh(r);u=Cp(r),f.x=y.x+r.clientLeft,f.y=y.y+r.clientTop}const p=s&&!h&&!o?cV(s,c,!0):Ja(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function ule(e){return Array.from(e.getClientRects())}function dle(e){const t=al(e),n=R2(e),r=e.ownerDocument.body,i=ci(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ci(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+L5(e);const a=-n.scrollTop;return ms(r).direction==="rtl"&&(s+=ci(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function fle(e,t){const n=Zi(e),r=al(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,c=0;if(i){o=i.width,s=i.height;const u=T2();(!u||u&&t==="fixed")&&(a=i.offsetLeft,c=i.offsetTop)}return{width:o,height:s,x:a,y:c}}function hle(e,t){const n=dh(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ao(e)?Cp(e):Ja(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,c=i*o.x,u=r*o.y;return{width:s,height:a,x:c,y:u}}function _9(e,t,n){let r;if(t==="viewport")r=fle(e,n);else if(t==="document")r=dle(al(e));else if(Nn(t))r=hle(t,n);else{const i=lV(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return ig(r)}function uV(e,t){const n=Oc(e);return n===t||!Nn(n)||pd(n)?!1:ms(n).position==="fixed"||uV(n,t)}function mle(e,t){const n=t.get(e);if(n)return n;let r=mc(e,[],!1).filter(a=>Nn(a)&&Vg(a)!=="body"),i=null;const o=ms(e).position==="fixed";let s=o?Oc(e):e;for(;Nn(s)&&!pd(s);){const a=ms(s),c=R5(s);!c&&a.position==="fixed"&&(i=null),(o?!c&&!i:!c&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ux(s)&&!c&&uV(e,s))?r=r.filter(f=>f!==s):i=a,s=Oc(s)}return t.set(e,r),r}function ple(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?A2(t)?[]:mle(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,f)=>{const h=_9(t,f,i);return u.top=ci(h.top,u.top),u.right=aa(h.right,u.right),u.bottom=aa(h.bottom,u.bottom),u.left=ci(h.left,u.left),u},_9(t,a,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gle(e){const{width:t,height:n}=aV(e);return{width:t,height:n}}function yle(e,t,n){const r=Ao(t),i=al(t),o=n==="fixed",s=dh(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Ja(0);if(r||!r&&!o)if((Vg(t)!=="body"||Ux(i))&&(a=R2(t)),r){const p=dh(t,!0,o,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=L5(i));const u=i&&!r&&!o?cV(i,a):Ja(0),f=s.left+a.scrollLeft-c.x-u.x,h=s.top+a.scrollTop-c.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function wC(e){return ms(e).position==="static"}function $9(e,t){if(!Ao(e)||ms(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return al(e)===n&&(n=n.ownerDocument.body),n}function dV(e,t){const n=Zi(e);if(A2(e))return n;if(!Ao(e)){let i=Oc(e);for(;i&&!pd(i);){if(Nn(i)&&!wC(i))return i;i=Oc(i)}return n}let r=$9(e,t);for(;r&&Mae(r)&&wC(r);)r=$9(r,t);return r&&pd(r)&&wC(r)&&!R5(r)?n:r||kae(e)||n}const ble=async function(e){const t=this.getOffsetParent||dV,n=this.getDimensions,r=await n(e.floating);return{reference:yle(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xle(e){return ms(e).direction==="rtl"}const vle={convertOffsetParentRelativeRectToViewportRelativeRect:cle,getDocumentElement:al,getClippingRect:ple,getOffsetParent:dV,getElementRects:ble,getClientRects:ule,getDimensions:gle,getScale:Cp,isElement:Nn,isRTL:xle};function fV(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function wle(e,t){let n=null,r;const i=al(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=e.getBoundingClientRect(),{left:f,top:h,width:p,height:y}=u;if(a||t(),!p||!y)return;const x=w1(h),v=w1(i.clientWidth-(f+p)),E=w1(i.clientHeight-(h+y)),N=w1(f),_={rootMargin:-x+"px "+-v+"px "+-E+"px "+-N+"px",threshold:ci(0,aa(1,c))||1};let C=!0;function j(A){const R=A[0].intersectionRatio;if(R!==c){if(!C)return s();R?s(!1,R):r=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!fV(u,e.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(j,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(j,_)}n.observe(e)}return s(!0),o}function Sle(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=F5(e),f=i||o?[...u?mc(u):[],...mc(t)]:[];f.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const h=u&&a?wle(u,n):null;let p=-1,y=null;s&&(y=new ResizeObserver(N=>{let[O]=N;O&&O.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(t)})),n()}),u&&!c&&y.observe(u),y.observe(t));let x,v=c?dh(e):null;c&&E();function E(){const N=dh(e);v&&!fV(v,N)&&n(),v=N,x=requestAnimationFrame(E)}return n(),()=>{var N;f.forEach(O=>{i&&O.removeEventListener("scroll",n),o&&O.removeEventListener("resize",n)}),h==null||h(),(N=y)==null||N.disconnect(),y=null,c&&cancelAnimationFrame(x)}}const Ele=rle,Nle=ile,Ole=Zae,_le=sle,C9=Qae,$le=tle,Cle=ole,jle=(e,t,n)=>{const r=new Map,i={platform:vle,...n},o={...i.platform,_c:r};return Xae(e,t,{...i,platform:o})};var uS=typeof document<"u"?w.useLayoutEffect:w.useEffect;function qS(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qS(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!qS(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function hV(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function j9(e,t){const n=hV(e);return Math.round(t*n)/n}function SC(e){const t=w.useRef(e);return uS(()=>{t.current=e}),t}function Ale(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[f,h]=w.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,y]=w.useState(r);qS(p,r)||y(r);const[x,v]=w.useState(null),[E,N]=w.useState(null),O=w.useCallback(k=>{k!==A.current&&(A.current=k,v(k))},[]),_=w.useCallback(k=>{k!==R.current&&(R.current=k,N(k))},[]),C=o||x,j=s||E,A=w.useRef(null),R=w.useRef(null),I=w.useRef(f),P=c!=null,z=SC(c),B=SC(i),U=SC(u),H=w.useCallback(()=>{if(!A.current||!R.current)return;const k={placement:t,strategy:n,middleware:p};B.current&&(k.platform=B.current),jle(A.current,R.current,k).then(q=>{const D={...q,isPositioned:U.current!==!1};M.current&&!qS(I.current,D)&&(I.current=D,Bx.flushSync(()=>{h(D)}))})},[p,t,n,B,U]);uS(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(k=>({...k,isPositioned:!1})))},[u]);const M=w.useRef(!1);uS(()=>(M.current=!0,()=>{M.current=!1}),[]),uS(()=>{if(C&&(A.current=C),j&&(R.current=j),C&&j){if(z.current)return z.current(C,j,H);H()}},[C,j,H,z,P]);const L=w.useMemo(()=>({reference:A,floating:R,setReference:O,setFloating:_}),[O,_]),T=w.useMemo(()=>({reference:C,floating:j}),[C,j]),F=w.useMemo(()=>{const k={position:n,left:0,top:0};if(!T.floating)return k;const q=j9(T.floating,f.x),D=j9(T.floating,f.y);return a?{...k,transform:"translate("+q+"px, "+D+"px)",...hV(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:D}},[n,a,T.floating,f.x,f.y]);return w.useMemo(()=>({...f,update:H,refs:L,elements:T,floatingStyles:F}),[f,H,L,T,F])}const Tle=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?C9({element:r.current,padding:i}).fn(n):{}:r?C9({element:r,padding:i}).fn(n):{}}}},mV=(e,t)=>({...Ele(e),options:[e,t]}),B5=(e,t)=>({...Nle(e),options:[e,t]}),A9=(e,t)=>({...Cle(e),options:[e,t]}),HS=(e,t)=>({...Ole(e),options:[e,t]}),Rle=(e,t)=>({..._le(e),options:[e,t]}),rb=(e,t)=>({...$le(e),options:[e,t]}),pV=(e,t)=>({...Tle(e),options:[e,t]}),gV={...dU},Ile=gV.useInsertionEffect,Mle=Ile||(e=>e());function rc(e){const t=w.useRef(()=>{});return Mle(()=>{t.current=e}),w.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var Xa=typeof document<"u"?w.useLayoutEffect:w.useEffect;let T9=!1,kle=0;const R9=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+kle++;function Ple(){const[e,t]=w.useState(()=>T9?R9():void 0);return Xa(()=>{e==null&&t(R9())},[]),w.useEffect(()=>{T9=!0},[]),e}const Dle=gV.useId,yV=Dle||Ple;function Fle(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Lle=w.createContext(null),Ble=w.createContext(null),z5=()=>{var e;return((e=w.useContext(Lle))==null?void 0:e.id)||null},U5=()=>w.useContext(Ble);function V5(e){return"data-floating-ui-"+e}function EC(e){const t=w.useRef(e);return Xa(()=>{t.current=e}),t}const I9=V5("safe-polygon");function dS(e,t,n){return n&&!RA(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function zle(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:s}=e,{enabled:a=!0,delay:c=0,handleClose:u=null,mouseOnly:f=!1,restMs:h=0,move:p=!0}=t,y=U5(),x=z5(),v=EC(u),E=EC(c),N=EC(n),O=w.useRef(),_=w.useRef(-1),C=w.useRef(),j=w.useRef(-1),A=w.useRef(!0),R=w.useRef(!1),I=w.useRef(()=>{}),P=w.useRef(!1),z=w.useCallback(()=>{var F;const k=(F=i.current.openEvent)==null?void 0:F.type;return(k==null?void 0:k.includes("mouse"))&&k!=="mousedown"},[i]);w.useEffect(()=>{if(!a)return;function F(k){let{open:q}=k;q||(clearTimeout(_.current),clearTimeout(j.current),A.current=!0,P.current=!1)}return o.on("openchange",F),()=>{o.off("openchange",F)}},[a,o]),w.useEffect(()=>{if(!a||!v.current||!n)return;function F(q){z()&&r(!1,q,"hover")}const k=Bf(s.floating).documentElement;return k.addEventListener("mouseleave",F),()=>{k.removeEventListener("mouseleave",F)}},[s.floating,n,r,a,v,z]);const B=w.useCallback(function(F,k,q){k===void 0&&(k=!0),q===void 0&&(q="hover");const D=dS(E.current,"close",O.current);D&&!C.current?(clearTimeout(_.current),_.current=window.setTimeout(()=>r(!1,F,q),D)):k&&(clearTimeout(_.current),r(!1,F,q))},[E,r]),U=rc(()=>{I.current(),C.current=void 0}),H=rc(()=>{if(R.current){const F=Bf(s.floating).body;F.style.pointerEvents="",F.removeAttribute(I9),R.current=!1}}),M=rc(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);w.useEffect(()=>{if(!a)return;function F(W){if(clearTimeout(_.current),A.current=!1,f&&!RA(O.current)||h>0&&!dS(E.current,"open"))return;const X=dS(E.current,"open",O.current);X?_.current=window.setTimeout(()=>{N.current||r(!0,W,"hover")},X):n||r(!0,W,"hover")}function k(W){if(M())return;I.current();const X=Bf(s.floating);if(clearTimeout(j.current),P.current=!1,v.current&&i.current.floatingContext){n||clearTimeout(_.current),C.current=v.current({...i.current.floatingContext,tree:y,x:W.clientX,y:W.clientY,onClose(){H(),U(),M()||B(W,!0,"safe-polygon")}});const se=C.current;X.addEventListener("mousemove",se),I.current=()=>{X.removeEventListener("mousemove",se)};return}(O.current==="touch"?!Tb(s.floating,W.relatedTarget):!0)&&B(W)}function q(W){M()||i.current.floatingContext&&(v.current==null||v.current({...i.current.floatingContext,tree:y,x:W.clientX,y:W.clientY,onClose(){H(),U(),M()||B(W)}})(W))}if(Nn(s.domReference)){var D;const W=s.domReference;return n&&W.addEventListener("mouseleave",q),(D=s.floating)==null||D.addEventListener("mouseleave",q),p&&W.addEventListener("mousemove",F,{once:!0}),W.addEventListener("mouseenter",F),W.addEventListener("mouseleave",k),()=>{var X;n&&W.removeEventListener("mouseleave",q),(X=s.floating)==null||X.removeEventListener("mouseleave",q),p&&W.removeEventListener("mousemove",F),W.removeEventListener("mouseenter",F),W.removeEventListener("mouseleave",k)}}},[s,a,e,f,h,p,B,U,H,r,n,N,y,E,v,i,M]),Xa(()=>{var F;if(a&&n&&(F=v.current)!=null&&F.__options.blockPointerEvents&&z()){R.current=!0;const q=s.floating;if(Nn(s.domReference)&&q){var k;const D=Bf(s.floating).body;D.setAttribute(I9,"");const W=s.domReference,X=y==null||(k=y.nodesRef.current.find(oe=>oe.id===x))==null||(k=k.context)==null?void 0:k.elements.floating;return X&&(X.style.pointerEvents=""),D.style.pointerEvents="none",W.style.pointerEvents="auto",q.style.pointerEvents="auto",()=>{D.style.pointerEvents="",W.style.pointerEvents="",q.style.pointerEvents=""}}}},[a,n,x,s,y,v,z]),Xa(()=>{n||(O.current=void 0,P.current=!1,U(),H())},[n,U,H]),w.useEffect(()=>()=>{U(),clearTimeout(_.current),clearTimeout(j.current),H()},[a,s.domReference,U,H]);const L=w.useMemo(()=>{function F(k){O.current=k.pointerType}return{onPointerDown:F,onPointerEnter:F,onMouseMove(k){const{nativeEvent:q}=k;function D(){!A.current&&!N.current&&r(!0,q,"hover")}f&&!RA(O.current)||n||h===0||P.current&&k.movementX**2+k.movementY**2<2||(clearTimeout(j.current),O.current==="touch"?D():(P.current=!0,j.current=window.setTimeout(D,h)))}}},[f,r,n,N,h]),T=w.useMemo(()=>({onMouseEnter(){clearTimeout(_.current)},onMouseLeave(F){M()||B(F.nativeEvent,!1)}}),[B,M]);return w.useMemo(()=>a?{reference:L,floating:T}:{},[a,L,T])}const kA=()=>{},bV=w.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:kA,setState:kA,isInstantPhase:!1}),Ule=()=>w.useContext(bV);function Vle(e){const{children:t,delay:n,timeoutMs:r=0}=e,[i,o]=w.useReducer((c,u)=>({...c,...u}),{delay:n,timeoutMs:r,initialDelay:n,currentId:null,isInstantPhase:!1}),s=w.useRef(null),a=w.useCallback(c=>{o({currentId:c})},[]);return Xa(()=>{i.currentId?s.current===null?s.current=i.currentId:i.isInstantPhase||o({isInstantPhase:!0}):(i.isInstantPhase&&o({isInstantPhase:!1}),s.current=null)},[i.currentId,i.isInstantPhase]),w.createElement(bV.Provider,{value:w.useMemo(()=>({...i,setState:o,setCurrentId:a}),[i,a])},t)}function qle(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,floatingId:i}=e,{id:o,enabled:s=!0}=t,a=o??i,c=Ule(),{currentId:u,setCurrentId:f,initialDelay:h,setState:p,timeoutMs:y}=c;return Xa(()=>{s&&u&&(p({delay:{open:1,close:dS(h,"close")}}),u!==a&&r(!1))},[s,a,r,p,u,h]),Xa(()=>{function x(){r(!1),p({delay:h,currentId:null})}if(s&&u&&!n&&u===a){if(y){const v=window.setTimeout(x,y);return()=>{clearTimeout(v)}}x()}},[s,n,p,u,a,r,h,y]),Xa(()=>{s&&(f===kA||!n||f(a))},[s,n,f,a]),c}function NC(e,t){let n=e.filter(i=>{var o;return i.parentId===t&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=e.filter(i=>{var o;return(o=r)==null?void 0:o.some(s=>{var a;return i.parentId===s.id&&((a=i.context)==null?void 0:a.open)})}),n=n.concat(r);return n}const Hle="data-floating-ui-focusable",Wle={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Gle={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},M9=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Kle(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:c=!0,outsidePressEvent:u="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:y,capture:x}=t,v=U5(),E=rc(typeof c=="function"?c:()=>!1),N=typeof c=="function"?E:c,O=w.useRef(!1),_=w.useRef(!1),{escapeKey:C,outsidePress:j}=M9(y),{escapeKey:A,outsidePress:R}=M9(x),I=w.useRef(!1),P=rc(L=>{var T;if(!n||!s||!a||L.key!=="Escape"||I.current)return;const F=(T=o.current.floatingContext)==null?void 0:T.nodeId,k=v?NC(v.nodesRef.current,F):[];if(!C&&(L.stopPropagation(),k.length>0)){let q=!0;if(k.forEach(D=>{var W;if((W=D.context)!=null&&W.open&&!D.context.dataRef.current.__escapeKeyBubbles){q=!1;return}}),!q)return}r(!1,Bae(L)?L.nativeEvent:L,"escape-key")}),z=rc(L=>{var T;const F=()=>{var k;P(L),(k=cp(L))==null||k.removeEventListener("keydown",F)};(T=cp(L))==null||T.addEventListener("keydown",F)}),B=rc(L=>{var T;const F=O.current;O.current=!1;const k=_.current;if(_.current=!1,u==="click"&&k||F||typeof N=="function"&&!N(L))return;const q=cp(L),D="["+V5("inert")+"]",W=Bf(i.floating).querySelectorAll(D);let X=Nn(q)?q:null;for(;X&&!pd(X);){const le=Oc(X);if(pd(le)||!Nn(le))break;X=le}if(W.length&&Nn(q)&&!zae(q)&&!Tb(q,i.floating)&&Array.from(W).every(le=>!Tb(X,le)))return;if(Ao(q)&&M){const le=q.clientWidth>0&&q.scrollWidth>q.clientWidth,pe=q.clientHeight>0&&q.scrollHeight>q.clientHeight;let ye=pe&&L.offsetX>q.clientWidth;if(pe&&ms(q).direction==="rtl"&&(ye=L.offsetX<=q.offsetWidth-q.clientWidth),ye||le&&L.offsetY>q.clientHeight)return}const oe=(T=o.current.floatingContext)==null?void 0:T.nodeId,se=v&&NC(v.nodesRef.current,oe).some(le=>{var pe;return vC(L,(pe=le.context)==null?void 0:pe.elements.floating)});if(vC(L,i.floating)||vC(L,i.domReference)||se)return;const ie=v?NC(v.nodesRef.current,oe):[];if(ie.length>0){let le=!0;if(ie.forEach(pe=>{var ye;if((ye=pe.context)!=null&&ye.open&&!pe.context.dataRef.current.__outsidePressBubbles){le=!1;return}}),!le)return}r(!1,L,"outside-press")}),U=rc(L=>{var T;const F=()=>{var k;B(L),(k=cp(L))==null||k.removeEventListener(u,F)};(T=cp(L))==null||T.addEventListener(u,F)});w.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=C,o.current.__outsidePressBubbles=j;let L=-1;function T(W){r(!1,W,"ancestor-scroll")}function F(){window.clearTimeout(L),I.current=!0}function k(){L=window.setTimeout(()=>{I.current=!1},T2()?5:0)}const q=Bf(i.floating);a&&(q.addEventListener("keydown",A?z:P,A),q.addEventListener("compositionstart",F),q.addEventListener("compositionend",k)),N&&q.addEventListener(u,R?U:B,R);let D=[];return p&&(Nn(i.domReference)&&(D=mc(i.domReference)),Nn(i.floating)&&(D=D.concat(mc(i.floating))),!Nn(i.reference)&&i.reference&&i.reference.contextElement&&(D=D.concat(mc(i.reference.contextElement)))),D=D.filter(W=>{var X;return W!==((X=q.defaultView)==null?void 0:X.visualViewport)}),D.forEach(W=>{W.addEventListener("scroll",T,{passive:!0})}),()=>{a&&(q.removeEventListener("keydown",A?z:P,A),q.removeEventListener("compositionstart",F),q.removeEventListener("compositionend",k)),N&&q.removeEventListener(u,R?U:B,R),D.forEach(W=>{W.removeEventListener("scroll",T)}),window.clearTimeout(L)}},[o,i,a,N,u,n,r,p,s,C,j,P,A,z,B,R,U]),w.useEffect(()=>{O.current=!1},[N,u]);const H=w.useMemo(()=>({onKeyDown:P,[Wle[h]]:L=>{f&&r(!1,L.nativeEvent,"reference-press")}}),[P,r,f,h]),M=w.useMemo(()=>({onKeyDown:P,onMouseDown(){_.current=!0},onMouseUp(){_.current=!0},[Gle[u]]:()=>{O.current=!0}}),[P,u]);return w.useMemo(()=>s?{reference:H,floating:M}:{},[s,H,M])}function Yle(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=yV(),o=w.useRef({}),[s]=w.useState(()=>Fle()),a=z5()!=null,[c,u]=w.useState(r.reference),f=rc((y,x,v)=>{o.current.openEvent=y?x:void 0,s.emit("openchange",{open:y,event:x,reason:v,nested:a}),n==null||n(y,x,v)}),h=w.useMemo(()=>({setPositionReference:u}),[]),p=w.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return w.useMemo(()=>({dataRef:o,open:t,onOpenChange:f,elements:p,events:s,floatingId:i,refs:h}),[t,f,p,s,i,h])}function q5(e){e===void 0&&(e={});const{nodeId:t}=e,n=Yle({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=w.useState(null),[a,c]=w.useState(null),f=(i==null?void 0:i.domReference)||o,h=w.useRef(null),p=U5();Xa(()=>{f&&(h.current=f)},[f]);const y=Ale({...e,elements:{...i,...a&&{reference:a}}}),x=w.useCallback(_=>{const C=Nn(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;c(C),y.refs.setReference(C)},[y.refs]),v=w.useCallback(_=>{(Nn(_)||_===null)&&(h.current=_,s(_)),(Nn(y.refs.reference.current)||y.refs.reference.current===null||_!==null&&!Nn(_))&&y.refs.setReference(_)},[y.refs]),E=w.useMemo(()=>({...y.refs,setReference:v,setPositionReference:x,domReference:h}),[y.refs,v,x]),N=w.useMemo(()=>({...y.elements,domReference:f}),[y.elements,f]),O=w.useMemo(()=>({...y,...r,refs:E,elements:N,nodeId:t}),[y,E,N,t,r]);return Xa(()=>{r.dataRef.current.floatingContext=O;const _=p==null?void 0:p.nodesRef.current.find(C=>C.id===t);_&&(_.context=O)}),w.useMemo(()=>({...y,context:O,refs:E,elements:N}),[y,E,N,O])}function Jle(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:s}=e,{enabled:a=!0,visibleOnly:c=!0}=t,u=w.useRef(!1),f=w.useRef(),h=w.useRef(!0);w.useEffect(()=>{if(!a)return;const y=Zi(s.domReference);function x(){!n&&Ao(s.domReference)&&s.domReference===E9(Bf(s.domReference))&&(u.current=!0)}function v(){h.current=!0}return y.addEventListener("blur",x),y.addEventListener("keydown",v,!0),()=>{y.removeEventListener("blur",x),y.removeEventListener("keydown",v,!0)}},[s.domReference,n,a]),w.useEffect(()=>{if(!a)return;function y(x){let{reason:v}=x;(v==="reference-press"||v==="escape-key")&&(u.current=!0)}return i.on("openchange",y),()=>{i.off("openchange",y)}},[i,a]),w.useEffect(()=>()=>{clearTimeout(f.current)},[]);const p=w.useMemo(()=>({onPointerDown(y){Pae(y.nativeEvent)||(h.current=!1)},onMouseLeave(){u.current=!1},onFocus(y){if(u.current)return;const x=cp(y.nativeEvent);if(c&&Nn(x))try{if(Dae()&&Fae())throw Error();if(!x.matches(":focus-visible"))return}catch{if(!h.current&&!Vae(x))return}r(!0,y.nativeEvent,"focus")},onBlur(y){u.current=!1;const x=y.relatedTarget,v=y.nativeEvent,E=Nn(x)&&x.hasAttribute(V5("focus-guard"))&&x.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var N;const O=E9(s.domReference?s.domReference.ownerDocument:document);!x&&O===s.domReference||Tb((N=o.current.floatingContext)==null?void 0:N.refs.floating.current,O)||Tb(s.domReference,O)||E||r(!1,v,"focus")})}}),[o,s.domReference,r,c]);return w.useMemo(()=>a?{reference:p}:{},[a,p])}const k9="active",P9="selected";function OC(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[k9]:s,[P9]:a,...c}=e;o=c}return{...n==="floating"&&{tabIndex:-1,[Hle]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(c=>{let[u,f]=c;if(!(i&&[k9,P9].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof f=="function"){var h;(h=r.get(u))==null||h.push(f),s[u]=function(){for(var p,y=arguments.length,x=new Array(y),v=0;v<y;v++)x[v]=arguments[v];return(p=r.get(u))==null?void 0:p.map(E=>E(...x)).find(E=>E!==void 0)}}}else s[u]=f}),s),{})}}function Xle(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=w.useCallback(a=>OC(a,e,"reference"),t),o=w.useCallback(a=>OC(a,e,"floating"),n),s=w.useCallback(a=>OC(a,e,"item"),r);return w.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const Qle=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Zle(e,t){var n;t===void 0&&(t={});const{open:r,floatingId:i}=e,{enabled:o=!0,role:s="dialog"}=t,a=(n=Qle.get(s))!=null?n:s,c=yV(),f=z5()!=null,h=w.useMemo(()=>a==="tooltip"||s==="label"?{["aria-"+(s==="label"?"labelledby":"describedby")]:r?i:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":a==="alertdialog"?"dialog":a,"aria-controls":r?i:void 0,...a==="listbox"&&{role:"combobox"},...a==="menu"&&{id:c},...a==="menu"&&f&&{role:"menuitem"},...s==="select"&&{"aria-autocomplete":"none"},...s==="combobox"&&{"aria-autocomplete":"list"}},[a,i,f,r,c,s]),p=w.useMemo(()=>{const x={id:i,...a&&{role:a}};return a==="tooltip"||s==="label"?x:{...x,...a==="menu"&&{"aria-labelledby":c}}},[a,i,c,s]),y=w.useCallback(x=>{let{active:v,selected:E}=x;const N={role:"option",...v&&{id:i+"-option"}};switch(s){case"select":return{...N,"aria-selected":v&&E};case"combobox":return{...N,...v&&{"aria-selected":!0}}}return{}},[i,s]);return w.useMemo(()=>o?{reference:h,floating:p,item:y}:{},[o,h,p,y])}function xV(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[n,r]=t.split("-"),i=n==="right"?"left":"right";return r===void 0?i:`${i}-${r}`}return t}function D9(e,t,n,r){return e==="center"||r==="center"?{top:t}:e==="end"?{bottom:n}:e==="start"?{top:n}:{}}function F9(e,t,n,r,i){return e==="center"||r==="center"?{left:t}:e==="end"?{[i==="ltr"?"right":"left"]:n}:e==="start"?{[i==="ltr"?"left":"right"]:n}:{}}const ece={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function tce({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,arrowX:o,arrowY:s,dir:a}){const[c,u="center"]=e.split("-"),f={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[ece[c]]:r},h=-t/2;return c==="left"?{...f,...D9(u,s,n,i),right:h,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:c==="right"?{...f,...D9(u,s,n,i),left:h,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:c==="top"?{...f,...F9(u,o,n,i,a),bottom:h,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:c==="bottom"?{...f,...F9(u,o,n,i,a),top:h,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const H5=w.forwardRef(({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,visible:o,arrowX:s,arrowY:a,style:c,...u},f)=>{const{dir:h}=Td();return o?m.jsx("div",{...u,ref:f,style:{...c,...tce({position:e,arrowSize:t,arrowOffset:n,arrowRadius:r,arrowPosition:i,dir:h,arrowX:s,arrowY:a})}}):null});H5.displayName="@mantine/core/FloatingArrow";var vV={root:"m_9814e45f"};const nce={zIndex:ya("modal")},rce=(e,{gradient:t,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":t||(n!==void 0||r!==void 0)&&Fa(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${Ie(i)})`:void 0,"--overlay-radius":o===void 0?void 0:Nr(o),"--overlay-z-index":s==null?void 0:s.toString()}}),I2=Ad((e,t)=>{const n=ze("Overlay",nce,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,fixed:u,center:f,children:h,radius:p,zIndex:y,gradient:x,blur:v,color:E,backgroundOpacity:N,mod:O,..._}=n,C=St({name:"Overlay",props:n,classes:vV,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:rce});return m.jsx(We,{ref:t,...C("root"),mod:[{center:f,fixed:u},O],..._,children:h})});I2.classes=vV;I2.displayName="@mantine/core/Overlay";function _C(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function ice({target:e,reuseTargetNode:t,...n}){if(e)return typeof e=="string"?document.querySelector(e)||_C(n):e;if(t){const r=document.querySelector("[data-mantine-shared-portal-node]");if(r)return r;const i=_C(n);return i.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(i),i}return _C(n)}const oce={},wV=Ye((e,t)=>{const{children:n,target:r,reuseTargetNode:i,...o}=ze("Portal",oce,e),[s,a]=w.useState(!1),c=w.useRef(null);return Lg(()=>(a(!0),c.current=ice({target:r,reuseTargetNode:i,...o}),BS(t,c.current),!r&&!i&&c.current&&document.body.appendChild(c.current),()=>{!r&&!i&&c.current&&document.body.removeChild(c.current)}),[r]),!s||!c.current?null:Bx.createPortal(m.jsx(m.Fragment,{children:n}),c.current)});wV.displayName="@mantine/core/Portal";const Rh=Ye(({withinPortal:e=!0,children:t,...n},r)=>TU()==="test"||!e?m.jsx(m.Fragment,{children:t}):m.jsx(wV,{ref:r,...n,children:t}));Rh.displayName="@mantine/core/OptionalPortal";const $0=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),S1={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...$0("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...$0("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...$0("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...$0("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...$0("top"),common:{transformOrigin:"top right"}}},L9={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function sce({transition:e,state:t,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof e=="string"?e in S1?{transitionProperty:S1[e].transitionProperty,...i,...S1[e].common,...S1[e][L9[t]]}:{}:{transitionProperty:e.transitionProperty,...i,...e.common,...e[L9[t]]}}function ace({duration:e,exitDuration:t,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:c,exitDelay:u}){const f=Fo(),h=x5(),p=f.respectReducedMotion?h:!1,[y,x]=w.useState(p?0:e),[v,E]=w.useState(r?"entered":"exited"),N=w.useRef(-1),O=w.useRef(-1),_=w.useRef(-1),C=A=>{const R=A?i:o,I=A?s:a;window.clearTimeout(N.current);const P=p?0:A?e:t;x(P),P===0?(typeof R=="function"&&R(),typeof I=="function"&&I(),E(A?"entered":"exited")):_.current=requestAnimationFrame(()=>{bp.flushSync(()=>{E(A?"pre-entering":"pre-exiting")}),_.current=requestAnimationFrame(()=>{typeof R=="function"&&R(),E(A?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof I=="function"&&I(),E(A?"entered":"exited")},P)})})},j=A=>{if(window.clearTimeout(O.current),typeof(A?c:u)!="number"){C(A);return}O.current=window.setTimeout(()=>{C(A)},A?c:u)};return Ec(()=>{j(r)},[r]),w.useEffect(()=>()=>{window.clearTimeout(N.current),cancelAnimationFrame(_.current)},[]),{transitionDuration:y,transitionStatus:v,transitionTimingFunction:n||"ease"}}function Rd({keepMounted:e,transition:t="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:c,onEnter:u,onExited:f,enterDelay:h,exitDelay:p}){const y=TU(),{transitionDuration:x,transitionStatus:v,transitionTimingFunction:E}=ace({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:c,onEnter:u,onExited:f,enterDelay:h,exitDelay:p});return x===0||y==="test"?i?m.jsx(m.Fragment,{children:o({})}):e?o({display:"none"}):null:v==="exited"?e?o({display:"none"}):null:m.jsx(m.Fragment,{children:o(sce({transition:t,duration:x,state:v,timingFunction:E}))})}Rd.displayName="@mantine/core/Transition";const[lce,SV]=Pc("Popover component was not found in the tree");function M2({children:e,active:t=!0,refProp:n="ref",innerRef:r}){const i=N2(t),o=Gn(i,r);return $d(e)?w.cloneElement(e,{[n]:o}):e}function EV(e){return m.jsx(A5,{tabIndex:-1,"data-autofocus":!0,...e})}M2.displayName="@mantine/core/FocusTrap";EV.displayName="@mantine/core/FocusTrapInitialFocus";M2.InitialFocus=EV;var NV={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const cce={},W5=Ye((e,t)=>{var E,N,O,_;const n=ze("PopoverDropdown",cce,e),{className:r,style:i,vars:o,children:s,onKeyDownCapture:a,variant:c,classNames:u,styles:f,...h}=n,p=SV(),y=SU({opened:p.opened,shouldReturnFocus:p.returnFocus}),x=p.withRoles?{"aria-labelledby":p.getTargetId(),id:p.getDropdownId(),role:"dialog",tabIndex:-1}:{},v=Gn(t,p.floating);return p.disabled?null:m.jsx(Rh,{...p.portalProps,withinPortal:p.withinPortal,children:m.jsx(Rd,{mounted:p.opened,...p.transitionProps,transition:((E=p.transitionProps)==null?void 0:E.transition)||"fade",duration:((N=p.transitionProps)==null?void 0:N.duration)??150,keepMounted:p.keepMounted,exitDuration:typeof((O=p.transitionProps)==null?void 0:O.exitDuration)=="number"?p.transitionProps.exitDuration:(_=p.transitionProps)==null?void 0:_.duration,children:C=>m.jsx(M2,{active:p.trapFocus&&p.opened,innerRef:v,children:m.jsxs(We,{...x,...h,variant:c,onKeyDownCapture:Aoe(()=>{var j,A;(j=p.onClose)==null||j.call(p),(A=p.onDismiss)==null||A.call(p)},{active:p.closeOnEscape,onTrigger:y,onKeyDown:a}),"data-position":p.placement,"data-fixed":p.floatingStrategy==="fixed"||void 0,...p.getStyles("dropdown",{className:r,props:n,classNames:u,styles:f,style:[{...C,zIndex:p.zIndex,top:p.y??0,left:p.x??0,width:p.width==="target"?void 0:Ie(p.width)},p.resolvedStyles.dropdown,f==null?void 0:f.dropdown,i]}),children:[s,m.jsx(H5,{ref:p.arrowRef,arrowX:p.arrowX,arrowY:p.arrowY,visible:p.withArrow,position:p.placement,arrowSize:p.arrowSize,arrowRadius:p.arrowRadius,arrowOffset:p.arrowOffset,arrowPosition:p.arrowPosition,...p.getStyles("arrow",{props:n,classNames:u,styles:f})})]})})})})});W5.classes=NV;W5.displayName="@mantine/core/PopoverDropdown";const uce={refProp:"ref",popupType:"dialog"},OV=Ye((e,t)=>{const{children:n,refProp:r,popupType:i,...o}=ze("PopoverTarget",uce,e);if(!$d(n))throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const s=o,a=SV(),c=Gn(a.reference,O2(n),t),u=a.withRoles?{"aria-haspopup":i,"aria-expanded":a.opened,"aria-controls":a.getDropdownId(),id:a.getTargetId()}:{};return w.cloneElement(n,{...s,...u,...a.targetProps,className:Rn(a.targetProps.className,s.className,n.props.className),[r]:c,...a.controlled?null:{onClick:a.onToggle}})});OV.displayName="@mantine/core/PopoverTarget";function _V({opened:e,floating:t,position:n,positionDependencies:r}){const[i,o]=w.useState(0);w.useEffect(()=>{if(t.refs.reference.current&&t.refs.floating.current&&e)return Sle(t.refs.reference.current,t.refs.floating.current,t.update)},[t.refs.reference.current,t.refs.floating.current,e,i,n]),Ec(()=>{t.update()},r),Ec(()=>{o(s=>s+1)},[e])}function dce(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function fce(e,t){const n=dce(e.middlewares),r=[mV(e.offset)];return n.shift&&r.push(B5(typeof n.shift=="boolean"?{limiter:A9(),padding:5}:{limiter:A9(),padding:5,...n.shift})),n.flip&&r.push(typeof n.flip=="boolean"?HS():HS(n.flip)),n.inline&&r.push(typeof n.inline=="boolean"?rb():rb(n.inline)),r.push(pV({element:e.arrowRef,padding:e.arrowOffset})),(n.size||e.width==="target")&&r.push(Rle({...typeof n.size=="boolean"?{}:n.size,apply({rects:i,availableWidth:o,availableHeight:s,...a}){var f;const u=((f=t().refs.floating.current)==null?void 0:f.style)??{};n.size&&(typeof n.size=="object"&&n.size.apply?n.size.apply({rects:i,availableWidth:o,availableHeight:s,...a}):Object.assign(u,{maxWidth:`${o}px`,maxHeight:`${s}px`})),e.width==="target"&&Object.assign(u,{width:`${i.reference.width}px`})}})),r}function hce(e){const[t,n]=no({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),r=w.useRef(t),i=()=>{t&&n(!1)},o=()=>n(!t),s=q5({strategy:e.strategy,placement:e.position,middleware:fce(e,()=>s)});return _V({opened:t,position:e.position,positionDependencies:e.positionDependencies||[],floating:s}),Ec(()=>{var a;(a=e.onPositionChange)==null||a.call(e,s.placement)},[s.placement]),Ec(()=>{var a,c;t!==r.current&&(t?(c=e.onOpen)==null||c.call(e):(a=e.onClose)==null||a.call(e)),r.current=t},[t,e.onClose,e.onOpen]),{floating:s,controlled:typeof e.opened=="boolean",opened:t,onClose:i,onToggle:o}}const mce={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,clickOutsideEvents:["mousedown","touchstart"],zIndex:ya("popover"),__staticSelector:"Popover",width:"max-content"},pce=(e,{radius:t,shadow:n})=>({dropdown:{"--popover-radius":t===void 0?void 0:Nr(t),"--popover-shadow":b5(n)}});function eo(e){var he,Ee,ke,Fe,gt,Xt;const t=ze("Popover",mce,e),{children:n,position:r,offset:i,onPositionChange:o,positionDependencies:s,opened:a,transitionProps:c,onExitTransitionEnd:u,onEnterTransitionEnd:f,width:h,middlewares:p,withArrow:y,arrowSize:x,arrowOffset:v,arrowRadius:E,arrowPosition:N,unstyled:O,classNames:_,styles:C,closeOnClickOutside:j,withinPortal:A,portalProps:R,closeOnEscape:I,clickOutsideEvents:P,trapFocus:z,onClose:B,onDismiss:U,onOpen:H,onChange:M,zIndex:L,radius:T,shadow:F,id:k,defaultOpened:q,__staticSelector:D,withRoles:W,disabled:X,returnFocus:oe,variant:se,keepMounted:ie,vars:le,floatingStrategy:pe,withOverlay:ye,overlayProps:je,...Te}=t,J=St({name:D,props:t,classes:NV,classNames:_,styles:C,unstyled:O,rootSelector:"dropdown",vars:le,varsResolver:pce}),{resolvedStyles:me}=zg({classNames:_,styles:C,props:t}),Z=w.useRef(null),[we,Ne]=w.useState(null),[$e,_e]=w.useState(null),{dir:Y}=Td(),re=Ns(k),Q=hce({middlewares:p,width:h,position:xV(Y,r),offset:typeof i=="number"?i+(y?x/2:0):i,arrowRef:Z,arrowOffset:v,onPositionChange:o,positionDependencies:s,opened:a,defaultOpened:q,onChange:M,onOpen:H,onClose:B,onDismiss:U,strategy:pe});Fx(()=>{j&&(Q.onClose(),U==null||U())},P,[we,$e]);const xe=w.useCallback(Mt=>{Ne(Mt),Q.floating.refs.setReference(Mt)},[Q.floating.refs.setReference]),ue=w.useCallback(Mt=>{_e(Mt),Q.floating.refs.setFloating(Mt)},[Q.floating.refs.setFloating]),de=w.useCallback(()=>{var Mt;(Mt=c==null?void 0:c.onExited)==null||Mt.call(c),u==null||u()},[c==null?void 0:c.onExited,u]),ae=w.useCallback(()=>{var Mt;(Mt=c==null?void 0:c.onEntered)==null||Mt.call(c),f==null||f()},[c==null?void 0:c.onEntered,f]);return m.jsxs(lce,{value:{returnFocus:oe,disabled:X,controlled:Q.controlled,reference:xe,floating:ue,x:Q.floating.x,y:Q.floating.y,arrowX:(ke=(Ee=(he=Q.floating)==null?void 0:he.middlewareData)==null?void 0:Ee.arrow)==null?void 0:ke.x,arrowY:(Xt=(gt=(Fe=Q.floating)==null?void 0:Fe.middlewareData)==null?void 0:gt.arrow)==null?void 0:Xt.y,opened:Q.opened,arrowRef:Z,transitionProps:{...c,onExited:de,onEntered:ae},width:h,withArrow:y,arrowSize:x,arrowOffset:v,arrowRadius:E,arrowPosition:N,placement:Q.floating.placement,trapFocus:z,withinPortal:A,portalProps:R,zIndex:L,radius:T,shadow:F,closeOnEscape:I,onDismiss:U,onClose:Q.onClose,onToggle:Q.onToggle,getTargetId:()=>`${re}-target`,getDropdownId:()=>`${re}-dropdown`,withRoles:W,targetProps:Te,__staticSelector:D,classNames:_,styles:C,unstyled:O,variant:se,keepMounted:ie,getStyles:J,resolvedStyles:me,floatingStrategy:pe},children:[n,ye&&m.jsx(Rd,{transition:"fade",mounted:Q.opened,duration:(c==null?void 0:c.duration)||250,exitDuration:(c==null?void 0:c.exitDuration)||250,children:Mt=>m.jsx(Rh,{withinPortal:A,children:m.jsx(I2,{...je,...J("overlay",{className:je==null?void 0:je.className,style:[Mt,je==null?void 0:je.style]})})})})]})}eo.Target=OV;eo.Dropdown=W5;eo.displayName="@mantine/core/Popover";eo.extend=e=>e;var ea={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const $V=w.forwardRef(({className:e,...t},n)=>m.jsxs(We,{component:"span",className:Rn(ea.barsLoader,e),...t,ref:n,children:[m.jsx("span",{className:ea.bar}),m.jsx("span",{className:ea.bar}),m.jsx("span",{className:ea.bar})]}));$V.displayName="@mantine/core/Bars";const CV=w.forwardRef(({className:e,...t},n)=>m.jsxs(We,{component:"span",className:Rn(ea.dotsLoader,e),...t,ref:n,children:[m.jsx("span",{className:ea.dot}),m.jsx("span",{className:ea.dot}),m.jsx("span",{className:ea.dot})]}));CV.displayName="@mantine/core/Dots";const jV=w.forwardRef(({className:e,...t},n)=>m.jsx(We,{component:"span",className:Rn(ea.ovalLoader,e),...t,ref:n}));jV.displayName="@mantine/core/Oval";const AV={bars:$V,oval:jV,dots:CV},gce={loaders:AV,type:"oval"},yce=(e,{size:t,color:n})=>({root:{"--loader-size":Ut(t,"loader-size"),"--loader-color":n?di(n,e):void 0}}),Vx=Ye((e,t)=>{const n=ze("Loader",gce,e),{size:r,color:i,type:o,vars:s,className:a,style:c,classNames:u,styles:f,unstyled:h,loaders:p,variant:y,children:x,...v}=n,E=St({name:"Loader",props:n,classes:ea,className:a,style:c,classNames:u,styles:f,unstyled:h,vars:s,varsResolver:yce});return x?m.jsx(We,{...E("root"),ref:t,...v,children:x}):m.jsx(We,{...E("root"),ref:t,component:p[o],variant:y,size:r,...v})});Vx.defaultLoaders=AV;Vx.classes=ea;Vx.displayName="@mantine/core/Loader";const TV=w.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...n},r)=>m.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:r,...n,children:m.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));TV.displayName="@mantine/core/CloseIcon";var RV={root:"m_86a44da5","root--subtle":"m_220c80f2"};const bce={variant:"subtle"},xce=(e,{size:t,radius:n,iconSize:r})=>({root:{"--cb-size":Ut(t,"cb-size"),"--cb-radius":n===void 0?void 0:Nr(n),"--cb-icon-size":Ie(r)}}),Hg=Ad((e,t)=>{const n=ze("CloseButton",bce,e),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:c,style:u,styles:f,unstyled:h,"data-disabled":p,disabled:y,variant:x,icon:v,mod:E,__staticSelector:N,...O}=n,_=St({name:N||"CloseButton",props:n,className:a,style:u,classes:RV,classNames:c,styles:f,unstyled:h,vars:o,varsResolver:xce});return m.jsxs(Nc,{ref:t,...O,unstyled:h,variant:x,disabled:y,mod:[{disabled:y||p},E],..._("root",{variant:x,active:!y&&!p}),children:[v||m.jsx(TV,{}),i]})});Hg.classes=RV;Hg.displayName="@mantine/core/CloseButton";function vce(e){return w.Children.toArray(e).filter(Boolean)}var IV={root:"m_4081bf90"};const wce={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},Sce=(e,{grow:t,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":t&&n?a:void 0,"--group-gap":y5(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),G5=Ye((e,t)=>{const n=ze("Group",wce,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:c,gap:u,align:f,justify:h,wrap:p,grow:y,preventGrowOverflow:x,vars:v,variant:E,__size:N,mod:O,..._}=n,C=vce(c),j=C.length,A=y5(u??"md"),I={childWidth:`calc(${100/j}% - (${A} - ${A} / ${j}))`},P=St({name:"Group",props:n,stylesCtx:I,className:i,style:o,classes:IV,classNames:r,styles:s,unstyled:a,vars:v,varsResolver:Sce});return m.jsx(We,{...P("root"),ref:t,variant:E,mod:[{grow:y},O],size:N,..._,children:C})});G5.classes=IV;G5.displayName="@mantine/core/Group";const[Ece,Dc]=Pc("ModalBase component was not found in tree");function Nce({opened:e,transitionDuration:t}){const[n,r]=w.useState(e),i=w.useRef(-1),s=x5()?0:t;return w.useEffect(()=>(e?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[e,s]),n}function Oce({id:e,transitionProps:t,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=Ns(e),[c,u]=w.useState(!1),[f,h]=w.useState(!1),p=typeof(t==null?void 0:t.duration)=="number"?t==null?void 0:t.duration:200,y=Nce({opened:n,transitionDuration:p});return OA("keydown",x=>{var v;x.key==="Escape"&&i&&n&&((v=x.target)==null?void 0:v.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),SU({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:c,bodyMounted:f,shouldLockScroll:y,setTitleMounted:u,setBodyMounted:h}}const MV=w.forwardRef(({keepMounted:e,opened:t,onClose:n,id:r,transitionProps:i,onExitTransitionEnd:o,onEnterTransitionEnd:s,trapFocus:a,closeOnEscape:c,returnFocus:u,closeOnClickOutside:f,withinPortal:h,portalProps:p,lockScroll:y,children:x,zIndex:v,shadow:E,padding:N,__vars:O,unstyled:_,removeScrollProps:C,...j},A)=>{const{_id:R,titleMounted:I,bodyMounted:P,shouldLockScroll:z,setTitleMounted:B,setBodyMounted:U}=Oce({id:r,transitionProps:i,opened:t,trapFocus:a,closeOnEscape:c,onClose:n,returnFocus:u}),{key:H,...M}=C||{};return m.jsx(Rh,{...p,withinPortal:h,children:m.jsx(Ece,{value:{opened:t,onClose:n,closeOnClickOutside:f,onExitTransitionEnd:o,onEnterTransitionEnd:s,transitionProps:{...i,keepMounted:e},getTitleId:()=>`${R}-title`,getBodyId:()=>`${R}-body`,titleMounted:I,bodyMounted:P,setTitleMounted:B,setBodyMounted:U,trapFocus:a,closeOnEscape:c,zIndex:v,unstyled:_},children:m.jsx(FS,{enabled:z&&y,...M,children:m.jsx(We,{ref:A,...j,__vars:{...O,"--mb-z-index":(v||ya("modal")).toString(),"--mb-shadow":b5(E),"--mb-padding":y5(N)},children:x})},H)})})});MV.displayName="@mantine/core/ModalBase";function _ce(){const e=Dc();return w.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var og={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const kV=w.forwardRef(({className:e,...t},n)=>{const r=_ce(),i=Dc();return m.jsx(We,{ref:n,...t,id:r,className:Rn({[og.body]:!i.unstyled},e)})});kV.displayName="@mantine/core/ModalBaseBody";const PV=w.forwardRef(({className:e,onClick:t,...n},r)=>{const i=Dc();return m.jsx(Hg,{ref:r,...n,onClick:o=>{i.onClose(),t==null||t(o)},className:Rn({[og.close]:!i.unstyled},e),unstyled:i.unstyled})});PV.displayName="@mantine/core/ModalBaseCloseButton";const DV=w.forwardRef(({transitionProps:e,className:t,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=Dc();return m.jsx(Rd,{mounted:a.opened,transition:"pop",...a.transitionProps,onExited:()=>{var c,u,f;(c=a.onExitTransitionEnd)==null||c.call(a),(f=(u=a.transitionProps)==null?void 0:u.onExited)==null||f.call(u)},onEntered:()=>{var c,u,f;(c=a.onEnterTransitionEnd)==null||c.call(a),(f=(u=a.transitionProps)==null?void 0:u.onEntered)==null||f.call(u)},...e,children:c=>m.jsx("div",{...n,className:Rn({[og.inner]:!a.unstyled},n.className),children:m.jsx(M2,{active:a.opened&&a.trapFocus,innerRef:s,children:m.jsx(T5,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,c],className:Rn({[og.content]:!a.unstyled},t),unstyled:a.unstyled,children:o.children})})})})});DV.displayName="@mantine/core/ModalBaseContent";const FV=w.forwardRef(({className:e,...t},n)=>{const r=Dc();return m.jsx(We,{component:"header",ref:n,className:Rn({[og.header]:!r.unstyled},e),...t})});FV.displayName="@mantine/core/ModalBaseHeader";const $ce={duration:200,timingFunction:"ease",transition:"fade"};function Cce(e){const t=Dc();return{...$ce,...t.transitionProps,...e}}const LV=w.forwardRef(({onClick:e,transitionProps:t,style:n,visible:r,...i},o)=>{const s=Dc(),a=Cce(t);return m.jsx(Rd,{mounted:r!==void 0?r:s.opened,...a,transition:"fade",children:c=>m.jsx(I2,{ref:o,fixed:!0,style:[n,c],zIndex:s.zIndex,unstyled:s.unstyled,onClick:u=>{e==null||e(u),s.closeOnClickOutside&&s.onClose()},...i})})});LV.displayName="@mantine/core/ModalBaseOverlay";function jce(){const e=Dc();return w.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const BV=w.forwardRef(({className:e,...t},n)=>{const r=jce(),i=Dc();return m.jsx(We,{component:"h2",ref:n,className:Rn({[og.title]:!i.unstyled},e),...t,id:r})});BV.displayName="@mantine/core/ModalBaseTitle";function Ace({children:e}){return m.jsx(m.Fragment,{children:e})}const[Tce,Rce]=Th({size:"sm"}),Ice={},zV=Ye((e,t)=>{const n=ze("InputClearButton",Ice,e),{size:r,variant:i,vars:o,classNames:s,styles:a,...c}=n,u=Rce(),{resolvedClassNames:f,resolvedStyles:h}=zg({classNames:s,styles:a,props:n});return m.jsx(Hg,{variant:i||"transparent",ref:t,size:r||(u==null?void 0:u.size)||"sm",classNames:f,styles:h,__staticSelector:"InputClearButton",...c})});zV.displayName="@mantine/core/InputClearButton";const[Mce,Wg]=Th({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var _s={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const B9={},kce=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${Mi(t)} - ${Ie(2)})`}}),k2=Ye((e,t)=>{const n=ze("InputDescription",B9,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,size:u,__staticSelector:f,__inheritStyles:h=!0,variant:p,...y}=ze("InputDescription",B9,n),x=Wg(),v=St({name:["InputWrapper",f],props:n,classes:_s,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:c,varsResolver:kce}),E=h&&(x==null?void 0:x.getStyles)||v;return m.jsx(We,{component:"p",ref:t,variant:p,size:u,...E("description",x!=null&&x.getStyles?{className:i,style:o}:void 0),...y})});k2.classes=_s;k2.displayName="@mantine/core/InputDescription";const Pce={},Dce=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${Mi(t)} - ${Ie(2)})`}}),P2=Ye((e,t)=>{const n=ze("InputError",Pce,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,size:u,__staticSelector:f,__inheritStyles:h=!0,variant:p,...y}=n,x=St({name:["InputWrapper",f],props:n,classes:_s,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:c,varsResolver:Dce}),v=Wg(),E=h&&(v==null?void 0:v.getStyles)||x;return m.jsx(We,{component:"p",ref:t,variant:p,size:u,...E("error",v!=null&&v.getStyles?{className:i,style:o}:void 0),...y})});P2.classes=_s;P2.displayName="@mantine/core/InputError";const z9={labelElement:"label"},Fce=(e,{size:t})=>({label:{"--input-label-size":Mi(t),"--input-asterisk-color":void 0}}),D2=Ye((e,t)=>{const n=ze("InputLabel",z9,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,labelElement:u,size:f,required:h,htmlFor:p,onMouseDown:y,children:x,__staticSelector:v,variant:E,mod:N,...O}=ze("InputLabel",z9,n),_=St({name:["InputWrapper",v],props:n,classes:_s,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:c,varsResolver:Fce}),C=Wg(),j=(C==null?void 0:C.getStyles)||_;return m.jsxs(We,{...j("label",C!=null&&C.getStyles?{className:i,style:o}:void 0),component:u,variant:E,size:f,ref:t,htmlFor:u==="label"?p:void 0,mod:[{required:h},N],onMouseDown:A=>{y==null||y(A),!A.defaultPrevented&&A.detail>1&&A.preventDefault()},...O,children:[x,h&&m.jsx("span",{...j("required"),"aria-hidden":!0,children:" *"})]})});D2.classes=_s;D2.displayName="@mantine/core/InputLabel";const U9={},K5=Ye((e,t)=>{const n=ze("InputPlaceholder",U9,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,__staticSelector:u,variant:f,error:h,mod:p,...y}=ze("InputPlaceholder",U9,n),x=St({name:["InputPlaceholder",u],props:n,classes:_s,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return m.jsx(We,{...x("placeholder"),mod:[{error:!!h},p],component:"span",variant:f,ref:t,...y})});K5.classes=_s;K5.displayName="@mantine/core/InputPlaceholder";function Lce(e,{hasDescription:t,hasError:n}){const r=e.findIndex(c=>c==="input"),i=e.slice(0,r),o=e.slice(r+1),s=t&&i.includes("description")||n&&i.includes("error");return{offsetBottom:t&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const Bce={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},zce=(e,{size:t})=>({label:{"--input-label-size":Mi(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${Mi(t)} - ${Ie(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${Mi(t)} - ${Ie(2)})`}}),Y5=Ye((e,t)=>{const n=ze("InputWrapper",Bce,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,size:u,variant:f,__staticSelector:h,inputContainer:p,inputWrapperOrder:y,label:x,error:v,description:E,labelProps:N,descriptionProps:O,errorProps:_,labelElement:C,children:j,withAsterisk:A,id:R,required:I,__stylesApiProps:P,mod:z,...B}=n,U=St({name:["InputWrapper",h],props:P||n,classes:_s,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:zce}),H={size:u,variant:f,__staticSelector:h},M=Ns(R),L=typeof A=="boolean"?A:I,T=(_==null?void 0:_.id)||`${M}-error`,F=(O==null?void 0:O.id)||`${M}-description`,k=M,q=!!v&&typeof v!="boolean",D=!!E,W=`${q?T:""} ${D?F:""}`,X=W.trim().length>0?W.trim():void 0,oe=(N==null?void 0:N.id)||`${M}-label`,se=x&&m.jsx(D2,{labelElement:C,id:oe,htmlFor:k,required:L,...H,...N,children:x},"label"),ie=D&&m.jsx(k2,{...O,...H,size:(O==null?void 0:O.size)||H.size,id:(O==null?void 0:O.id)||F,children:E},"description"),le=m.jsx(w.Fragment,{children:p(j)},"input"),pe=q&&w.createElement(P2,{..._,...H,size:(_==null?void 0:_.size)||H.size,key:"error",id:(_==null?void 0:_.id)||T},v),ye=y.map(je=>{switch(je){case"label":return se;case"input":return le;case"description":return ie;case"error":return pe;default:return null}});return m.jsx(Mce,{value:{getStyles:U,describedBy:X,inputId:k,labelId:oe,...Lce(y,{hasDescription:D,hasError:q})},children:m.jsx(We,{ref:t,variant:f,size:u,mod:[{error:!!v},z],...U("root"),...B,children:ye})})});Y5.classes=_s;Y5.displayName="@mantine/core/InputWrapper";const Uce={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Vce=(e,t,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ut(t.size,"input-height"),"--input-fz":Mi(t.size),"--input-radius":t.radius===void 0?void 0:Nr(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ie(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ie(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ut(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),qt=Ad((e,t)=>{const n=ze("Input",Uce,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:c,__staticSelector:u,__stylesApiProps:f,size:h,wrapperProps:p,error:y,disabled:x,leftSection:v,leftSectionProps:E,leftSectionWidth:N,rightSection:O,rightSectionProps:_,rightSectionWidth:C,rightSectionPointerEvents:j,leftSectionPointerEvents:A,variant:R,vars:I,pointer:P,multiline:z,radius:B,id:U,withAria:H,withErrorStyles:M,mod:L,inputSize:T,__clearSection:F,__clearable:k,__defaultRightSection:q,...D}=n,{styleProps:W,rest:X}=Ug(D),oe=Wg(),se={offsetBottom:oe==null?void 0:oe.offsetBottom,offsetTop:oe==null?void 0:oe.offsetTop},ie=St({name:["Input",u],props:f||n,classes:_s,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:se,rootSelector:"wrapper",vars:I,varsResolver:Vce}),le=H?{required:c,disabled:x,"aria-invalid":!!y,"aria-describedby":oe==null?void 0:oe.describedBy,id:(oe==null?void 0:oe.inputId)||U}:{},pe=O||k&&F||q;return m.jsx(Tce,{value:{size:h||"sm"},children:m.jsxs(We,{...ie("wrapper"),...W,...p,mod:[{error:!!y&&M,pointer:P,disabled:x,multiline:z,"data-with-right-section":!!pe,"data-with-left-section":!!v},L],variant:R,size:h,children:[v&&m.jsx("div",{...E,"data-position":"left",...ie("section",{className:E==null?void 0:E.className,style:E==null?void 0:E.style}),children:v}),m.jsx(We,{component:"input",...X,...le,ref:t,required:c,mod:{disabled:x,error:!!y&&M},variant:R,__size:T,...ie("input")}),pe&&m.jsx("div",{..._,"data-position":"right",...ie("section",{className:_==null?void 0:_.className,style:_==null?void 0:_.style}),children:pe})]})})});qt.classes=_s;qt.Wrapper=Y5;qt.Label=D2;qt.Error=P2;qt.Description=k2;qt.Placeholder=K5;qt.ClearButton=zV;qt.displayName="@mantine/core/Input";function qce(e,t,n){const r=ze(e,t,n),{label:i,description:o,error:s,required:a,classNames:c,styles:u,className:f,unstyled:h,__staticSelector:p,__stylesApiProps:y,errorProps:x,labelProps:v,descriptionProps:E,wrapperProps:N,id:O,size:_,style:C,inputContainer:j,inputWrapperOrder:A,withAsterisk:R,variant:I,vars:P,mod:z,...B}=r,{styleProps:U,rest:H}=Ug(B),M={label:i,description:o,error:s,required:a,classNames:c,className:f,__staticSelector:p,__stylesApiProps:y||r,errorProps:x,labelProps:v,descriptionProps:E,unstyled:h,styles:u,size:_,style:C,inputContainer:j,inputWrapperOrder:A,withAsterisk:R,variant:I,id:O,mod:z,...N};return{...H,classNames:c,styles:u,unstyled:h,wrapperProps:{...M,...U},inputProps:{required:a,classNames:c,styles:u,unstyled:h,size:_,__staticSelector:p,__stylesApiProps:y||r,error:s,variant:I,id:O}}}const Hce={__staticSelector:"InputBase",withAria:!0},$s=Ad((e,t)=>{const{inputProps:n,wrapperProps:r,...i}=qce("InputBase",Hce,e);return m.jsx(qt.Wrapper,{...r,children:m.jsx(qt,{...n,...i,ref:t})})});$s.classes={...qt.classes,...qt.Wrapper.classes};$s.displayName="@mantine/core/InputBase";function Wce(e,t){if(!t||!e)return!1;let n=t.parentNode;for(;n!=null;){if(n===e)return!0;n=n.parentNode}return!1}function Gce({target:e,parent:t,ref:n,displayAfterTransitionEnd:r}){const i=w.useRef(-1),[o,s]=w.useState(!1),[a,c]=w.useState(typeof r=="boolean"?r:!1),u=()=>{if(!e||!t||!n.current)return;const y=e.getBoundingClientRect(),x=t.getBoundingClientRect(),v=window.getComputedStyle(e),E=window.getComputedStyle(t),N=id(v.borderTopWidth)+id(E.borderTopWidth),O=id(v.borderLeftWidth)+id(E.borderLeftWidth),_={top:y.top-x.top-N,left:y.left-x.left-O,width:y.width,height:y.height};n.current.style.transform=`translateY(${_.top}px) translateX(${_.left}px)`,n.current.style.width=`${_.width}px`,n.current.style.height=`${_.height}px`},f=()=>{window.clearTimeout(i.current),n.current&&(n.current.style.transitionDuration="0ms"),u(),i.current=window.setTimeout(()=>{n.current&&(n.current.style.transitionDuration="")},30)},h=w.useRef(null),p=w.useRef(null);return w.useEffect(()=>{if(u(),e)return h.current=new ResizeObserver(f),h.current.observe(e),t&&(p.current=new ResizeObserver(f),p.current.observe(t)),()=>{var y,x;(y=h.current)==null||y.disconnect(),(x=p.current)==null||x.disconnect()}},[t,e]),w.useEffect(()=>{if(t){const y=x=>{Wce(x.target,t)&&(f(),c(!1))};return t.addEventListener("transitionend",y),()=>{t.removeEventListener("transitionend",y)}}},[t]),ese(()=>{CU()!=="test"&&s(!0)},20,{autoInvoke:!0}),rse(y=>{y.forEach(x=>{x.type==="attributes"&&x.attributeName==="dir"&&f()})},{attributes:!0,attributeFilter:["dir"]},()=>document.documentElement),{initialized:o,hidden:a}}var UV={root:"m_96b553a6"};const Kce={},Yce=(e,{transitionDuration:t})=>({root:{"--transition-duration":typeof t=="number"?`${t}ms`:t}}),J5=Ye((e,t)=>{const n=ze("FloatingIndicator",Kce,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,target:u,parent:f,transitionDuration:h,mod:p,displayAfterTransitionEnd:y,...x}=n,v=St({name:"FloatingIndicator",classes:UV,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:Yce}),E=w.useRef(null),{initialized:N,hidden:O}=Gce({target:u,parent:f,ref:E,displayAfterTransitionEnd:y}),_=Gn(t,E);return!u||!f?null:m.jsx(We,{ref:_,mod:[{initialized:N,hidden:O},p],...v("root"),...x})});J5.displayName="@mantine/core/FloatingIndicator";J5.classes=UV;function VV(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>VV(t))}:e}function qV(e){return e?e.map(t=>VV(t)):[]}function X5(e){return e.reduce((t,n)=>"group"in n?{...t,...X5(n.items)}:(t[n.value]=n,t),{})}var ro={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2"};const Jce={error:null},Xce=(e,{size:t,color:n})=>({chevron:{"--combobox-chevron-size":Ut(t,"combobox-chevron-size"),"--combobox-chevron-color":n?di(n,e):void 0}}),Q5=Ye((e,t)=>{const n=ze("ComboboxChevron",Jce,e),{size:r,error:i,style:o,className:s,classNames:a,styles:c,unstyled:u,vars:f,mod:h,...p}=n,y=St({name:"ComboboxChevron",classes:ro,props:n,style:o,className:s,classNames:a,styles:c,unstyled:u,vars:f,varsResolver:Xce,rootSelector:"chevron"});return m.jsx(We,{component:"svg",...p,...y("chevron"),size:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:i},h],ref:t,children:m.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Q5.classes=ro;Q5.displayName="@mantine/core/ComboboxChevron";const[Qce,Cs]=Pc("Combobox component was not found in tree"),HV=w.forwardRef(({size:e,onMouseDown:t,onClick:n,onClear:r,...i},o)=>m.jsx(qt.ClearButton,{ref:o,tabIndex:-1,"aria-hidden":!0,...i,onMouseDown:s=>{s.preventDefault(),t==null||t(s)},onClick:s=>{r(),n==null||n(s)}}));HV.displayName="@mantine/core/ComboboxClearButton";const Zce={},Z5=Ye((e,t)=>{const{classNames:n,styles:r,className:i,style:o,hidden:s,...a}=ze("ComboboxDropdown",Zce,e),c=Cs();return m.jsx(eo.Dropdown,{...a,ref:t,role:"presentation","data-hidden":s||void 0,...c.getStyles("dropdown",{className:i,style:o,classNames:n,styles:r})})});Z5.classes=ro;Z5.displayName="@mantine/core/ComboboxDropdown";const eue={refProp:"ref"},WV=Ye((e,t)=>{const{children:n,refProp:r}=ze("ComboboxDropdownTarget",eue,e);if(Cs(),!$d(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return m.jsx(eo.Target,{ref:t,refProp:r,children:n})});WV.displayName="@mantine/core/ComboboxDropdownTarget";const tue={},eI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ComboboxEmpty",tue,e),c=Cs();return m.jsx(We,{ref:t,...c.getStyles("empty",{className:r,classNames:n,styles:o,style:i}),...a})});eI.classes=ro;eI.displayName="@mantine/core/ComboboxEmpty";function tI({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:n,withExpandedAttribute:r,targetType:i,autoComplete:o}){const s=Cs(),[a,c]=w.useState(null),u=h=>{if(e==null||e(h),!s.readOnly&&t){if(h.nativeEvent.isComposing)return;if(h.nativeEvent.code==="ArrowDown"&&(h.preventDefault(),s.store.dropdownOpened?c(s.store.selectNextOption()):(s.store.openDropdown("keyboard"),c(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="ArrowUp"&&(h.preventDefault(),s.store.dropdownOpened?c(s.store.selectPreviousOption()):(s.store.openDropdown("keyboard"),c(s.store.selectActiveOption()),s.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),h.nativeEvent.code==="Enter"||h.nativeEvent.code==="NumpadEnter"){if(h.nativeEvent.keyCode===229)return;const p=s.store.getSelectedOptionIndex();s.store.dropdownOpened&&p!==-1?(h.preventDefault(),s.store.clickSelectedOption()):i==="button"&&(h.preventDefault(),s.store.openDropdown("keyboard"))}h.key==="Escape"&&s.store.closeDropdown("keyboard"),h.nativeEvent.code==="Space"&&i==="button"&&(h.preventDefault(),s.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":r&&!!(s.store.listId&&s.store.dropdownOpened)||void 0,"aria-controls":s.store.dropdownOpened?s.store.listId:void 0,"aria-activedescendant":s.store.dropdownOpened&&a||void 0,autoComplete:o,"data-expanded":s.store.dropdownOpened||void 0,"data-mantine-stop-propagation":s.store.dropdownOpened||void 0}:{},onKeyDown:u}}const nue={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},GV=Ye((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:c,...u}=ze("ComboboxEventsTarget",nue,e);if(!$d(n))throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Cs(),h=tI({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:c});return w.cloneElement(n,{...h,...u,[r]:Gn(t,f.store.targetRef,O2(n))})});GV.displayName="@mantine/core/ComboboxEventsTarget";const rue={},nI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ComboboxFooter",rue,e),c=Cs();return m.jsx(We,{ref:t,...c.getStyles("footer",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});nI.classes=ro;nI.displayName="@mantine/core/ComboboxFooter";const iue={},rI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,children:a,label:c,...u}=ze("ComboboxGroup",iue,e),f=Cs();return m.jsxs(We,{ref:t,...f.getStyles("group",{className:r,classNames:n,style:i,styles:o}),...u,children:[c&&m.jsx("div",{...f.getStyles("groupLabel",{classNames:n,styles:o}),children:c}),a]})});rI.classes=ro;rI.displayName="@mantine/core/ComboboxGroup";const oue={},iI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("ComboboxHeader",oue,e),c=Cs();return m.jsx(We,{ref:t,...c.getStyles("header",{className:r,classNames:n,style:i,styles:o}),...a,onMouseDown:u=>{u.preventDefault()}})});iI.classes=ro;iI.displayName="@mantine/core/ComboboxHeader";function KV({value:e,valuesDivider:t=",",...n}){return m.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...n})}KV.displayName="@mantine/core/ComboboxHiddenInput";const sue={},oI=Ye((e,t)=>{const n=ze("ComboboxOption",sue,e),{classNames:r,className:i,style:o,styles:s,vars:a,onClick:c,id:u,active:f,onMouseDown:h,onMouseOver:p,disabled:y,selected:x,mod:v,...E}=n,N=Cs(),O=w.useId(),_=u||O;return m.jsx(We,{...N.getStyles("option",{className:i,classNames:r,styles:s,style:o}),...E,ref:t,id:_,mod:["combobox-option",{"combobox-active":f,"combobox-disabled":y,"combobox-selected":x},v],role:"option",onClick:C=>{var j;y?C.preventDefault():((j=N.onOptionSubmit)==null||j.call(N,n.value,n),c==null||c(C))},onMouseDown:C=>{C.preventDefault(),h==null||h(C)},onMouseOver:C=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),p==null||p(C)}})});oI.classes=ro;oI.displayName="@mantine/core/ComboboxOption";const aue={},sI=Ye((e,t)=>{const n=ze("ComboboxOptions",aue,e),{classNames:r,className:i,style:o,styles:s,id:a,onMouseDown:c,labelledBy:u,...f}=n,h=Cs(),p=Ns(a);return w.useEffect(()=>{h.store.setListId(p)},[p]),m.jsx(We,{ref:t,...h.getStyles("options",{className:i,style:o,classNames:r,styles:s}),...f,id:p,role:"listbox","aria-labelledby":u,onMouseDown:y=>{y.preventDefault(),c==null||c(y)}})});sI.classes=ro;sI.displayName="@mantine/core/ComboboxOptions";const lue={withAriaAttributes:!0,withKeyboardNavigation:!0},aI=Ye((e,t)=>{const n=ze("ComboboxSearch",lue,e),{classNames:r,styles:i,unstyled:o,vars:s,withAriaAttributes:a,onKeyDown:c,withKeyboardNavigation:u,size:f,...h}=n,p=Cs(),y=p.getStyles("search"),x=tI({targetType:"input",withAriaAttributes:a,withKeyboardNavigation:u,withExpandedAttribute:!1,onKeyDown:c,autoComplete:"off"});return m.jsx(qt,{ref:Gn(t,p.store.searchRef),classNames:[{input:y.className},r],styles:[{input:y.style},i],size:f||p.size,...x,...h,__staticSelector:"Combobox"})});aI.classes=ro;aI.displayName="@mantine/core/ComboboxSearch";const cue={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},YV=Ye((e,t)=>{const{children:n,refProp:r,withKeyboardNavigation:i,withAriaAttributes:o,withExpandedAttribute:s,targetType:a,autoComplete:c,...u}=ze("ComboboxTarget",cue,e);if(!$d(n))throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const f=Cs(),h=tI({targetType:a,withAriaAttributes:o,withKeyboardNavigation:i,withExpandedAttribute:s,onKeyDown:n.props.onKeyDown,autoComplete:c}),p=w.cloneElement(n,{...h,...u});return m.jsx(eo.Target,{ref:Gn(t,f.store.targetRef),children:p})});YV.displayName="@mantine/core/ComboboxTarget";function uue(e,t,n){for(let r=e-1;r>=0;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=t.length-1;r>-1;r-=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function due(e,t,n){for(let r=e+1;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r;if(n){for(let r=0;r<t.length;r+=1)if(!t[r].hasAttribute("data-combobox-disabled"))return r}return e}function fue(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function lI({defaultOpened:e,opened:t,onOpenedChange:n,onDropdownClose:r,onDropdownOpen:i,loop:o=!0,scrollBehavior:s="instant"}={}){const[a,c]=no({value:t,defaultValue:e,finalValue:!1,onChange:n}),u=w.useRef(null),f=w.useRef(-1),h=w.useRef(null),p=w.useRef(null),y=w.useRef(-1),x=w.useRef(-1),v=w.useRef(-1),E=w.useCallback((T="unknown")=>{a||(c(!0),i==null||i(T))},[c,i,a]),N=w.useCallback((T="unknown")=>{a&&(c(!1),r==null||r(T))},[c,r,a]),O=w.useCallback((T="unknown")=>{a?N(T):E(T)},[N,E,a]),_=w.useCallback(()=>{const T=document.querySelector(`#${u.current} [data-combobox-selected]`);T==null||T.removeAttribute("data-combobox-selected"),T==null||T.removeAttribute("aria-selected")},[]),C=w.useCallback(T=>{const F=document.getElementById(u.current),k=F==null?void 0:F.querySelectorAll("[data-combobox-option]");if(!k)return null;const q=T>=k.length?0:T<0?k.length-1:T;return f.current=q,k!=null&&k[q]&&!k[q].hasAttribute("data-combobox-disabled")?(_(),k[q].setAttribute("data-combobox-selected","true"),k[q].setAttribute("aria-selected","true"),k[q].scrollIntoView({block:"nearest",behavior:s}),k[q].id):null},[s,_]),j=w.useCallback(()=>{const T=document.querySelector(`#${u.current} [data-combobox-active]`);if(T){const F=document.querySelectorAll(`#${u.current} [data-combobox-option]`),k=Array.from(F).findIndex(q=>q===T);return C(k)}return C(0)},[C]),A=w.useCallback(()=>C(due(f.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[C,o]),R=w.useCallback(()=>C(uue(f.current,document.querySelectorAll(`#${u.current} [data-combobox-option]`),o)),[C,o]),I=w.useCallback(()=>C(fue(document.querySelectorAll(`#${u.current} [data-combobox-option]`))),[C]),P=w.useCallback((T="selected",F)=>{v.current=window.setTimeout(()=>{var D;const k=document.querySelectorAll(`#${u.current} [data-combobox-option]`),q=Array.from(k).findIndex(W=>W.hasAttribute(`data-combobox-${T}`));f.current=q,F!=null&&F.scrollIntoView&&((D=k[q])==null||D.scrollIntoView({block:"nearest",behavior:s}))},0)},[]),z=w.useCallback(()=>{f.current=-1,_()},[_]),B=w.useCallback(()=>{const T=document.querySelectorAll(`#${u.current} [data-combobox-option]`),F=T==null?void 0:T[f.current];F==null||F.click()},[]),U=w.useCallback(T=>{u.current=T},[]),H=w.useCallback(()=>{y.current=window.setTimeout(()=>h.current.focus(),0)},[]),M=w.useCallback(()=>{x.current=window.setTimeout(()=>p.current.focus(),0)},[]),L=w.useCallback(()=>f.current,[]);return w.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(x.current),window.clearTimeout(v.current)},[]),{dropdownOpened:a,openDropdown:E,closeDropdown:N,toggleDropdown:O,selectedOptionIndex:f.current,getSelectedOptionIndex:L,selectOption:C,selectFirstOption:I,selectActiveOption:j,selectNextOption:A,selectPreviousOption:R,resetSelectedOption:z,updateSelectedOptionIndex:P,listId:u.current,setListId:U,clickSelectedOption:B,searchRef:h,focusSearchInput:H,targetRef:p,focusTarget:M}}const hue={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0}},mue=(e,{size:t,dropdownPadding:n})=>({options:{"--combobox-option-fz":Mi(t),"--combobox-option-padding":Ut(t,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:Ie(n),"--combobox-option-fz":Mi(t),"--combobox-option-padding":Ut(t,"combobox-option-padding")}});function Dt(e){const t=ze("Combobox",hue,e),{classNames:n,styles:r,unstyled:i,children:o,store:s,vars:a,onOptionSubmit:c,onClose:u,size:f,dropdownPadding:h,resetSelectionOnOptionHover:p,__staticSelector:y,readOnly:x,...v}=t,E=lI(),N=s||E,O=St({name:y||"Combobox",classes:ro,props:t,classNames:n,styles:r,unstyled:i,vars:a,varsResolver:mue}),_=()=>{u==null||u(),N.closeDropdown()};return m.jsx(Qce,{value:{getStyles:O,store:N,onOptionSubmit:c,size:f,resetSelectionOnOptionHover:p,readOnly:x},children:m.jsx(eo,{opened:N.dropdownOpened,...v,onChange:C=>!C&&_(),withRoles:!1,unstyled:i,children:o})})}const pue=e=>e;Dt.extend=pue;Dt.classes=ro;Dt.displayName="@mantine/core/Combobox";Dt.Target=YV;Dt.Dropdown=Z5;Dt.Options=sI;Dt.Option=oI;Dt.Search=aI;Dt.Empty=eI;Dt.Chevron=Q5;Dt.Footer=nI;Dt.Header=iI;Dt.EventsTarget=GV;Dt.DropdownTarget=WV;Dt.Group=rI;Dt.ClearButton=HV;Dt.HiddenInput=KV;var JV={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const gue=JV,cI=w.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:n,classNames:r,styles:i,unstyled:o,children:s,label:a,description:c,id:u,disabled:f,error:h,size:p,labelPosition:y="left",bodyElement:x="div",labelElement:v="label",variant:E,style:N,vars:O,mod:_,...C},j)=>{const A=St({name:e,props:t,className:n,style:N,classes:JV,classNames:r,styles:i,unstyled:o});return m.jsx(We,{...A("root"),ref:j,__vars:{"--label-fz":Mi(p),"--label-lh":Ut(p,"label-lh")},mod:[{"label-position":y},_],variant:E,size:p,...C,children:m.jsxs(We,{component:x,htmlFor:x==="label"?u:void 0,...A("body"),children:[s,m.jsxs("div",{...A("labelWrapper"),"data-disabled":f||void 0,children:[a&&m.jsx(We,{component:v,htmlFor:v==="label"?u:void 0,...A("label"),"data-disabled":f||void 0,children:a}),c&&m.jsx(qt.Description,{size:p,__inheritStyles:!1,...A("description"),children:c}),h&&typeof h!="boolean"&&m.jsx(qt.Error,{size:p,__inheritStyles:!1,...A("error"),children:h})]})]})})});cI.displayName="@mantine/core/InlineInput";function XV({children:e,role:t}){const n=Wg();return n?m.jsx("div",{role:t,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:e}):m.jsx(m.Fragment,{children:e})}function yue({size:e,style:t,...n}){const r=e!==void 0?{width:Ie(e),height:Ie(e),...t}:t;return m.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:r,"aria-hidden":!0,...n,children:m.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function sg(e){return"group"in e}function QV({options:e,search:t,limit:n}){const r=t.trim().toLowerCase(),i=[];for(let o=0;o<e.length;o+=1){const s=e[o];if(i.length===n)return i;sg(s)&&i.push({group:s.group,items:QV({options:s.items,search:t,limit:n-i.length})}),sg(s)||s.label.toLowerCase().includes(r)&&i.push(s)}return i}function bue(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function ZV(e,t=new Set){if(Array.isArray(e))for(const n of e)if(sg(n))ZV(n.items,t);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(t.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);t.add(n.value)}}function xue(e,t){return Array.isArray(e)?e.includes(t):e===t}function eq({data:e,withCheckIcon:t,value:n,checkIconPosition:r,unstyled:i,renderOption:o}){if(!sg(e)){const a=xue(n,e.value),c=t&&a&&m.jsx(yue,{className:ro.optionsDropdownCheckIcon}),u=m.jsxs(m.Fragment,{children:[r==="left"&&c,m.jsx("span",{children:e.label}),r==="right"&&c]});return m.jsx(Dt.Option,{value:e.value,disabled:e.disabled,className:Rn({[ro.optionsDropdownOption]:!i}),"data-reverse":r==="right"||void 0,"data-checked":a||void 0,"aria-selected":a,active:a,children:typeof o=="function"?o({option:e,checked:a}):u})}const s=e.items.map(a=>m.jsx(eq,{data:a,value:n,unstyled:i,withCheckIcon:t,checkIconPosition:r,renderOption:o},a.value));return m.jsx(Dt.Group,{label:e.group,children:s})}function tq({data:e,hidden:t,hiddenWhenEmpty:n,filter:r,search:i,limit:o,maxDropdownHeight:s,withScrollArea:a=!0,filterOptions:c=!0,withCheckIcon:u=!1,value:f,checkIconPosition:h,nothingFoundMessage:p,unstyled:y,labelId:x,renderOption:v,scrollAreaProps:E,"aria-label":N}){ZV(e);const _=typeof i=="string"?(r||QV)({options:e,search:c?i:"",limit:o??1/0}):e,C=bue(_),j=_.map(A=>m.jsx(eq,{data:A,withCheckIcon:u,value:f,checkIconPosition:h,unstyled:y,renderOption:v},sg(A)?A.group:A.value));return m.jsx(Dt.Dropdown,{hidden:t||n&&C,"data-composed":!0,children:m.jsxs(Dt.Options,{labelledBy:x,"aria-label":N,children:[a?m.jsx(zx.Autosize,{mah:s??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...E,children:j}):j,C&&p&&m.jsx(Dt.Empty,{children:p})]})})}var Gg={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const V9={orientation:"horizontal"},vue=(e,{borderWidth:t})=>({group:{"--button-border-width":Ie(t)}}),uI=Ye((e,t)=>{const n=ze("ButtonGroup",V9,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:c,vars:u,borderWidth:f,variant:h,mod:p,...y}=ze("ButtonGroup",V9,e),x=St({name:"ButtonGroup",props:n,classes:Gg,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:u,varsResolver:vue,rootSelector:"group"});return m.jsx(We,{...x("group"),ref:t,variant:h,mod:[{"data-orientation":c},p],role:"group",...y})});uI.classes=Gg;uI.displayName="@mantine/core/ButtonGroup";const q9={},wue=(e,{radius:t,color:n,gradient:r,variant:i,autoContrast:o,size:s})=>{const a=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:o});return{groupSection:{"--section-height":Ut(s,"section-height"),"--section-padding-x":Ut(s,"section-padding-x"),"--section-fz":s!=null&&s.includes("compact")?Mi(s.replace("compact-","")):Mi(s),"--section-radius":t===void 0?void 0:Nr(t),"--section-bg":n||i?a.background:void 0,"--section-color":a.color,"--section-bd":n||i?a.border:void 0}}},dI=Ye((e,t)=>{const n=ze("ButtonGroupSection",q9,e),{className:r,style:i,classNames:o,styles:s,unstyled:a,vars:c,variant:u,gradient:f,radius:h,autoContrast:p,...y}=ze("ButtonGroupSection",q9,e),x=St({name:"ButtonGroupSection",props:n,classes:Gg,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:wue,rootSelector:"groupSection"});return m.jsx(We,{...x("groupSection"),ref:t,variant:u,...y})});dI.classes=Gg;dI.displayName="@mantine/core/ButtonGroupSection";const Sue={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ie(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Eue={},Nue=(e,{radius:t,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const c=e.variantColorResolver({color:n||e.primaryColor,theme:e,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":Ut(o,"button-height"),"--button-padding-x":Ut(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?Mi(o.replace("compact-","")):Mi(o),"--button-radius":t===void 0?void 0:Nr(t),"--button-bg":n||i?c.background:void 0,"--button-hover":n||i?c.hover:void 0,"--button-color":c.color,"--button-bd":n||i?c.border:void 0,"--button-hover-color":n||i?c.hoverColor:void 0}}},fh=Ad((e,t)=>{const n=ze("Button",Eue,e),{style:r,vars:i,className:o,color:s,disabled:a,children:c,leftSection:u,rightSection:f,fullWidth:h,variant:p,radius:y,loading:x,loaderProps:v,gradient:E,classNames:N,styles:O,unstyled:_,"data-disabled":C,autoContrast:j,mod:A,...R}=n,I=St({name:"Button",props:n,classes:Gg,className:o,style:r,classNames:N,styles:O,unstyled:_,vars:i,varsResolver:Nue}),P=!!u,z=!!f;return m.jsxs(Nc,{ref:t,...I("root",{active:!a&&!x&&!C}),unstyled:_,variant:p,disabled:a||x,mod:[{disabled:a||C,loading:x,block:h,"with-left-section":P,"with-right-section":z},A],...R,children:[m.jsx(Rd,{mounted:!!x,transition:Sue,duration:150,children:B=>m.jsx(We,{component:"span",...I("loader",{style:B}),"aria-hidden":!0,children:m.jsx(Vx,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...v})})}),m.jsxs("span",{...I("inner"),children:[u&&m.jsx(We,{component:"span",...I("section"),mod:{position:"left"},children:u}),m.jsx(We,{component:"span",mod:{loading:x},...I("label"),children:c}),f&&m.jsx(We,{component:"span",...I("section"),mod:{position:"right"},children:f})]})]})});fh.classes=Gg;fh.displayName="@mantine/core/Button";fh.Group=uI;fh.GroupSection=dI;function Oue({open:e,close:t,openDelay:n,closeDelay:r}){const i=w.useRef(-1),o=w.useRef(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(o.current)},a=()=>{s(),n===0||n===void 0?e():i.current=window.setTimeout(e,n)},c=()=>{s(),r===0||r===void 0?t():o.current=window.setTimeout(t,r)};return w.useEffect(()=>s,[]),{openDropdown:a,closeDropdown:c}}function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ag.apply(null,arguments)}function fI(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _ue=w.useLayoutEffect,$ue=function(t){var n=De.useRef(t);return _ue(function(){n.current=t}),n},H9=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},Cue=function(t,n){var r=De.useRef();return De.useCallback(function(i){t.current=i,r.current&&H9(r.current,null),r.current=n,n&&H9(n,i)},[n])},W9={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},jue=function(t){Object.keys(W9).forEach(function(n){t.style.setProperty(n,W9[n],"important")})},G9=jue,vi=null,K9=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function Aue(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),vi||(vi=document.createElement("textarea"),vi.setAttribute("tabindex","-1"),vi.setAttribute("aria-hidden","true"),G9(vi)),vi.parentNode===null&&document.body.appendChild(vi);var i=e.paddingSize,o=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach(function(p){var y=p;vi.style[y]=s[y]}),G9(vi),vi.value=t;var c=K9(vi,e);vi.value=t,c=K9(vi,e),vi.value="x";var u=vi.scrollHeight-i,f=u*n;a==="border-box"&&(f=f+i+o),c=Math.max(f,c);var h=u*r;return a==="border-box"&&(h=h+i+o),c=Math.min(h,c),[c,u]}var Y9=function(){},Tue=function(t,n){return t.reduce(function(r,i){return r[i]=n[i],r},{})},Rue=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],Iue=!!document.documentElement.currentStyle,Mue=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=Tue(Rue,n),i=r.boxSizing;if(i==="")return null;Iue&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:s}},kue=Mue;function nq(e,t,n){var r=$ue(n);w.useLayoutEffect(function(){var i=function(s){return r.current(s)};if(e)return e.addEventListener(t,i),function(){return e.removeEventListener(t,i)}},[])}var Pue=function(t){nq(window,"resize",t)},Due=function(t){nq(document.fonts,"loadingdone",t)},Fue=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Lue=function(t,n){var r=t.cacheMeasurements,i=t.maxRows,o=t.minRows,s=t.onChange,a=s===void 0?Y9:s,c=t.onHeightChange,u=c===void 0?Y9:c,f=fI(t,Fue),h=f.value!==void 0,p=w.useRef(null),y=Cue(p,n),x=w.useRef(0),v=w.useRef(),E=function(){var _=p.current,C=r&&v.current?v.current:kue(_);if(C){v.current=C;var j=Aue(C,_.value||_.placeholder||"x",o,i),A=j[0],R=j[1];x.current!==A&&(x.current=A,_.style.setProperty("height",A+"px","important"),u(A,{rowHeight:R}))}},N=function(_){h||E(),a(_)};return w.useLayoutEffect(E),Pue(E),Due(E),w.createElement("textarea",ag({},f,{onChange:N,ref:y}))},Bue=w.forwardRef(Lue);const zue={},qx=Ye((e,t)=>{const{autosize:n,maxRows:r,minRows:i,__staticSelector:o,resize:s,...a}=ze("Textarea",zue,e),c=n&&CU()!=="test",u=c?{maxRows:r,minRows:i}:{};return m.jsx($s,{component:c?Bue:"textarea",ref:t,...a,__staticSelector:o||"Textarea",multiline:!0,"data-no-overflow":n&&r===void 0||void 0,__vars:{"--input-resize":s},...u})});qx.classes=$s.classes;qx.displayName="@mantine/core/Textarea";const[Uue,Hx]=Pc("Menu component was not found in the tree");var Kg={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};const Vue={},hI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("MenuDivider",Vue,e),c=Hx();return m.jsx(We,{ref:t,...c.getStyles("divider",{className:r,style:i,styles:o,classNames:n}),...a})});hI.classes=Kg;hI.displayName="@mantine/core/MenuDivider";const que={},mI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,onMouseEnter:a,onMouseLeave:c,onKeyDown:u,children:f,...h}=ze("MenuDropdown",que,e),p=w.useRef(null),y=Hx(),x=Wa(u,N=>{var O,_;(N.key==="ArrowUp"||N.key==="ArrowDown")&&(N.preventDefault(),(_=(O=p.current)==null?void 0:O.querySelectorAll("[data-menu-item]:not(:disabled)")[0])==null||_.focus())}),v=Wa(a,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.openDropdown()),E=Wa(c,()=>(y.trigger==="hover"||y.trigger==="click-hover")&&y.closeDropdown());return m.jsxs(eo.Dropdown,{...h,onMouseEnter:v,onMouseLeave:E,role:"menu","aria-orientation":"vertical",ref:Gn(t,p),...y.getStyles("dropdown",{className:r,style:i,styles:o,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:x,children:[y.withInitialFocusPlaceholder&&m.jsx("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});mI.classes=Kg;mI.displayName="@mantine/core/MenuDropdown";const Hue={},pI=Ad((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,color:a,closeMenuOnClick:c,leftSection:u,rightSection:f,children:h,disabled:p,"data-disabled":y,...x}=ze("MenuItem",Hue,e),v=Hx(),E=Fo(),{dir:N}=Td(),O=w.useRef(null),_=v.getItemIndex(O.current),C=x,j=Wa(C.onMouseLeave,()=>v.setHovered(-1)),A=Wa(C.onMouseEnter,()=>v.setHovered(v.getItemIndex(O.current))),R=Wa(C.onClick,()=>{y||(typeof c=="boolean"?c&&v.closeDropdownImmediately():v.closeOnItemClick&&v.closeDropdownImmediately())}),I=Wa(C.onFocus,()=>v.setHovered(v.getItemIndex(O.current))),P=a?E.variantColorResolver({color:a,theme:E,variant:"light"}):void 0,z=a?jd({color:a,theme:E}):null;return m.jsxs(Nc,{...x,unstyled:v.unstyled,tabIndex:v.menuItemTabIndex,onFocus:I,...v.getStyles("item",{className:r,style:i,styles:o,classNames:n}),ref:Gn(O,t),role:"menuitem",disabled:p,"data-menu-item":!0,"data-disabled":p||y||void 0,"data-hovered":v.hovered===_?!0:void 0,"data-mantine-stop-propagation":!0,onMouseEnter:A,onMouseLeave:j,onClick:R,onKeyDown:wU({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:v.loop,dir:N,orientation:"vertical",onKeyDown:C.onKeyDown}),__vars:{"--menu-item-color":z!=null&&z.isThemeColor&&(z==null?void 0:z.shade)===void 0?`var(--mantine-color-${z.color}-6)`:P==null?void 0:P.color,"--menu-item-hover":P==null?void 0:P.hover},children:[u&&m.jsx("div",{...v.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"left",children:u}),h&&m.jsx("div",{...v.getStyles("itemLabel",{styles:o,classNames:n}),children:h}),f&&m.jsx("div",{...v.getStyles("itemSection",{styles:o,classNames:n}),"data-position":"right",children:f})]})});pI.classes=Kg;pI.displayName="@mantine/core/MenuItem";const Wue={},gI=Ye((e,t)=>{const{classNames:n,className:r,style:i,styles:o,vars:s,...a}=ze("MenuLabel",Wue,e),c=Hx();return m.jsx(We,{ref:t,...c.getStyles("label",{className:r,style:i,styles:o,classNames:n}),...a})});gI.classes=Kg;gI.displayName="@mantine/core/MenuLabel";const Gue={refProp:"ref"},rq=w.forwardRef((e,t)=>{const{children:n,refProp:r,...i}=ze("MenuTarget",Gue,e);if(!$d(n))throw new Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const o=Hx(),s=n.props,a=Wa(s.onClick,()=>{o.trigger==="click"?o.toggleDropdown():o.trigger==="click-hover"&&(o.setOpenedViaClick(!0),o.opened||o.openDropdown())}),c=Wa(s.onMouseEnter,()=>(o.trigger==="hover"||o.trigger==="click-hover")&&o.openDropdown()),u=Wa(s.onMouseLeave,()=>{(o.trigger==="hover"||o.trigger==="click-hover"&&!o.openedViaClick)&&o.closeDropdown()});return m.jsx(eo.Target,{refProp:r,popupType:"menu",ref:t,...i,children:w.cloneElement(n,{onClick:a,onMouseEnter:c,onMouseLeave:u,"data-expanded":o.opened?!0:void 0})})});rq.displayName="@mantine/core/MenuTarget";const Kue={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function No(e){const t=ze("Menu",Kue,e),{children:n,onOpen:r,onClose:i,opened:o,defaultOpened:s,trapFocus:a,onChange:c,closeOnItemClick:u,loop:f,closeOnEscape:h,trigger:p,openDelay:y,closeDelay:x,classNames:v,styles:E,unstyled:N,variant:O,vars:_,menuItemTabIndex:C,keepMounted:j,withInitialFocusPlaceholder:A,...R}=t,I=St({name:"Menu",classes:Kg,props:t,classNames:v,styles:E,unstyled:N}),[P,{setHovered:z,resetHovered:B}]=Roe(),[U,H]=no({value:o,defaultValue:s,finalValue:!1,onChange:c}),[M,L]=w.useState(!1),T=()=>{H(!1),L(!1),U&&(i==null||i())},F=()=>{H(!0),!U&&(r==null||r())},k=()=>{U?T():F()},{openDropdown:q,closeDropdown:D}=Oue({open:F,close:T,closeDelay:x,openDelay:y}),W=se=>Toe("[data-menu-item]","[data-menu-dropdown]",se),{resolvedClassNames:X,resolvedStyles:oe}=zg({classNames:v,styles:E,props:t});return Ec(()=>{B()},[U]),m.jsx(Uue,{value:{getStyles:I,opened:U,toggleDropdown:k,getItemIndex:W,hovered:P,setHovered:z,openedViaClick:M,setOpenedViaClick:L,closeOnItemClick:u,closeDropdown:p==="click"?T:D,openDropdown:p==="click"?F:q,closeDropdownImmediately:T,loop:f,trigger:p,unstyled:N,menuItemTabIndex:C,withInitialFocusPlaceholder:A},children:m.jsx(eo,{...R,opened:U,onChange:k,defaultOpened:s,trapFocus:j?!1:a,closeOnEscape:h,__staticSelector:"Menu",classNames:X,styles:oe,unstyled:N,variant:O,keepMounted:j,children:n})})}No.extend=e=>e;No.classes=Kg;No.displayName="@mantine/core/Menu";No.Item=pI;No.Label=gI;No.Dropdown=mI;No.Target=rq;No.Divider=hI;const[Yue,Yg]=Pc("Modal component was not found in tree");var Fc={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const Jue={},F2=Ye((e,t)=>{const n=ze("ModalBody",Jue,e),{classNames:r,className:i,style:o,styles:s,vars:a,...c}=n,u=Yg();return m.jsx(kV,{ref:t,...u.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...c})});F2.classes=Fc;F2.displayName="@mantine/core/ModalBody";const Xue={},L2=Ye((e,t)=>{const n=ze("ModalCloseButton",Xue,e),{classNames:r,className:i,style:o,styles:s,vars:a,...c}=n,u=Yg();return m.jsx(PV,{ref:t,...u.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...c})});L2.classes=Fc;L2.displayName="@mantine/core/ModalCloseButton";const Que={},B2=Ye((e,t)=>{const n=ze("ModalContent",Que,e),{classNames:r,className:i,style:o,styles:s,vars:a,children:c,__hidden:u,...f}=n,h=Yg(),p=h.scrollAreaComponent||Ace;return m.jsx(DV,{...h.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:h.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,"data-hidden":u||void 0,ref:t,...f,children:m.jsx(p,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${Ie(h.yOffset)} * 2))`},children:c})})});B2.classes=Fc;B2.displayName="@mantine/core/ModalContent";const Zue={},z2=Ye((e,t)=>{const n=ze("ModalHeader",Zue,e),{classNames:r,className:i,style:o,styles:s,vars:a,...c}=n,u=Yg();return m.jsx(FV,{ref:t,...u.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...c})});z2.classes=Fc;z2.displayName="@mantine/core/ModalHeader";const ede={},U2=Ye((e,t)=>{const n=ze("ModalOverlay",ede,e),{classNames:r,className:i,style:o,styles:s,vars:a,...c}=n,u=Yg();return m.jsx(LV,{ref:t,...u.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...c})});U2.classes=Fc;U2.displayName="@mantine/core/ModalOverlay";const tde={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ya("modal"),transitionProps:{duration:200,transition:"fade-down"},yOffset:"5dvh"},nde=(e,{radius:t,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":t===void 0?void 0:Nr(t),"--modal-size":Ut(n,"modal-size"),"--modal-y-offset":Ie(r),"--modal-x-offset":Ie(i)}}),V2=Ye((e,t)=>{const n=ze("ModalRoot",tde,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,yOffset:u,scrollAreaComponent:f,radius:h,fullScreen:p,centered:y,xOffset:x,__staticSelector:v,...E}=n,N=St({name:v,classes:Fc,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:nde});return m.jsx(Yue,{value:{yOffset:u,scrollAreaComponent:f,getStyles:N,fullScreen:p},children:m.jsx(MV,{ref:t,...N("root"),"data-full-screen":p||void 0,"data-centered":y||void 0,unstyled:a,...E})})});V2.classes=Fc;V2.displayName="@mantine/core/ModalRoot";const[rde,ide]=Th();function iq({children:e}){const[t,n]=w.useState([]),[r,i]=w.useState(ya("modal"));return m.jsx(rde,{value:{stack:t,addModal:(o,s)=>{n(a=>[...new Set([...a,o])]),i(a=>typeof s=="number"&&typeof a=="number"?Math.max(a,s):a)},removeModal:o=>n(s=>s.filter(a=>a!==o)),getZIndex:o=>`calc(${r} + ${t.indexOf(o)} + 1)`,currentId:t[t.length-1],maxZIndex:r},children:e})}iq.displayName="@mantine/core/ModalStack";const ode={},q2=Ye((e,t)=>{const n=ze("ModalTitle",ode,e),{classNames:r,className:i,style:o,styles:s,vars:a,...c}=n,u=Yg();return m.jsx(BV,{ref:t,...u.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...c})});q2.classes=Fc;q2.displayName="@mantine/core/ModalTitle";const sde={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:ya("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Lo=Ye((e,t)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:c,opened:u,stackId:f,zIndex:h,...p}=ze("Modal",sde,e),y=ide(),x=!!n||o,v=y&&f?{closeOnEscape:y.currentId===f,trapFocus:y.currentId===f,zIndex:y.getZIndex(f)}:{},E=r===!1?!1:f&&y?y.currentId===f:u;return w.useEffect(()=>{y&&f&&(u?y.addModal(f,h||ya("modal")):y.removeModal(f))},[u,f,h]),m.jsxs(V2,{ref:t,radius:c,opened:u,zIndex:y&&f?y.getZIndex(f):h,...p,...v,children:[r&&m.jsx(U2,{visible:E,transitionProps:y&&f?{duration:0}:void 0,...i}),m.jsxs(B2,{radius:c,__hidden:y&&f&&u?f!==y.currentId:!1,children:[x&&m.jsxs(z2,{children:[n&&m.jsx(q2,{children:n}),o&&m.jsx(L2,{...s})]}),m.jsx(F2,{children:a})]})]})});Lo.classes=Fc;Lo.displayName="@mantine/core/Modal";Lo.Root=V2;Lo.Overlay=U2;Lo.Content=B2;Lo.Body=F2;Lo.Header=z2;Lo.Title=q2;Lo.CloseButton=L2;Lo.Stack=iq;const[ade,yI]=Th(),[lde,cde]=Th();var H2={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const ude={},dde=(e,{gap:t},{size:n})=>({group:{"--pg-gap":t!==void 0?Ut(t):Ut(n,"pg-gap")}}),bI=Ye((e,t)=>{const n=ze("PillGroup",ude,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,size:u,disabled:f,...h}=n,p=yI(),y=(p==null?void 0:p.size)||u||void 0,x=St({name:"PillGroup",classes:H2,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:dde,stylesCtx:{size:y},rootSelector:"group"});return m.jsx(lde,{value:{size:y,disabled:f},children:m.jsx(We,{ref:t,size:y,...x("group"),...h})})});bI.classes=H2;bI.displayName="@mantine/core/PillGroup";const fde={variant:"default"},hde=(e,{radius:t},{size:n})=>({root:{"--pill-fz":Ut(n,"pill-fz"),"--pill-height":Ut(n,"pill-height"),"--pill-radius":t===void 0?void 0:Nr(t)}}),Rb=Ye((e,t)=>{const n=ze("Pill",fde,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,variant:u,children:f,withRemoveButton:h,onRemove:p,removeButtonProps:y,radius:x,size:v,disabled:E,mod:N,...O}=n,_=cde(),C=yI(),j=v||(_==null?void 0:_.size)||void 0,A=(C==null?void 0:C.variant)==="filled"?"contrast":u||"default",R=St({name:"Pill",classes:H2,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:hde,stylesCtx:{size:j}});return m.jsxs(We,{component:"span",ref:t,variant:A,size:j,...R("root",{variant:A}),mod:[{"with-remove":h&&!E,disabled:E||(_==null?void 0:_.disabled)},N],...O,children:[m.jsx("span",{...R("label"),children:f}),h&&m.jsx(Hg,{variant:"transparent",radius:x,tabIndex:-1,"aria-hidden":!0,unstyled:a,...y,...R("remove",{className:y==null?void 0:y.className,style:y==null?void 0:y.style}),onMouseDown:I=>{var P;I.preventDefault(),I.stopPropagation(),(P=y==null?void 0:y.onMouseDown)==null||P.call(y,I)},onClick:I=>{var P;I.stopPropagation(),p==null||p(),(P=y==null?void 0:y.onClick)==null||P.call(y,I)}})]})});Rb.classes=H2;Rb.displayName="@mantine/core/Pill";Rb.Group=bI;var oq={field:"m_45c4369d"};const mde={type:"visible"},xI=Ye((e,t)=>{const n=ze("PillsInputField",mde,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,type:u,disabled:f,id:h,pointer:p,mod:y,...x}=n,v=yI(),E=Wg(),N=St({name:"PillsInputField",classes:oq,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"field"}),O=f||(v==null?void 0:v.disabled);return m.jsx(We,{component:"input",ref:Gn(t,v==null?void 0:v.fieldRef),"data-type":u,disabled:O,mod:[{disabled:O,pointer:p},y],...N("field"),...x,id:(E==null?void 0:E.inputId)||h,"aria-invalid":v==null?void 0:v.hasError,"aria-describedby":E==null?void 0:E.describedBy,type:"text",onMouseDown:_=>!p&&_.stopPropagation()})});xI.classes=oq;xI.displayName="@mantine/core/PillsInputField";const pde={},WS=Ye((e,t)=>{const n=ze("PillsInput",pde,e),{children:r,onMouseDown:i,onClick:o,size:s,disabled:a,__staticSelector:c,error:u,variant:f,...h}=n,p=w.useRef(null);return m.jsx(ade,{value:{fieldRef:p,size:s,disabled:a,hasError:!!u,variant:f},children:m.jsx($s,{size:s,error:u,variant:f,component:"div",ref:t,onMouseDown:y=>{var x;y.preventDefault(),i==null||i(y),(x=p.current)==null||x.focus()},onClick:y=>{var v;y.preventDefault();const x=y.currentTarget.closest("fieldset");x!=null&&x.disabled||((v=p.current)==null||v.focus(),o==null||o(y))},...h,multiline:!0,disabled:a,__staticSelector:c||"PillsInput",withAria:!1,children:r})})});WS.displayName="@mantine/core/PillsInput";WS.Field=xI;var sq={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const gde={withCloseButton:!0},yde=(e,{radius:t,color:n})=>({root:{"--notification-radius":t===void 0?void 0:Nr(t),"--notification-color":n?di(n,e):void 0}}),vI=Ye((e,t)=>{const n=ze("Notification",gde,e),{className:r,color:i,radius:o,loading:s,withCloseButton:a,withBorder:c,title:u,icon:f,children:h,onClose:p,closeButtonProps:y,classNames:x,style:v,styles:E,unstyled:N,variant:O,vars:_,mod:C,...j}=n,A=St({name:"Notification",classes:sq,props:n,className:r,style:v,classNames:x,styles:E,unstyled:N,vars:_,varsResolver:yde});return m.jsxs(We,{...A("root"),mod:[{"data-with-icon":!!f||s,"data-with-border":c},C],ref:t,variant:O,...j,role:"alert",children:[f&&!s&&m.jsx("div",{...A("icon"),children:f}),s&&m.jsx(Vx,{size:28,color:i,...A("loader")}),m.jsxs("div",{...A("body"),children:[u&&m.jsx("div",{...A("title"),children:u}),m.jsx(We,{...A("description"),mod:{"data-with-title":!!u},children:h})]}),a&&m.jsx(Hg,{iconSize:16,color:"gray",...y,unstyled:N,onClick:p,...A("closeButton")})]})});vI.classes=sq;vI.displayName="@mantine/core/Notification";function aq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var Ib;(function(e){e.event="event",e.props="prop"})(Ib||(Ib={}));function Hu(){}function bde(e){var t,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t&&r.length===t.length&&r.every(function(o,s){return o===t[s]})||(t=r,n=e.apply(void 0,r)),n}}function Mb(e){return!!(e||"").match(/\d/)}function jp(e){return e==null}function xde(e){return typeof e=="number"&&isNaN(e)}function lq(e){return jp(e)||xde(e)||typeof e=="number"&&!isFinite(e)}function cq(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function vde(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function wde(e,t,n){var r=vde(n),i=e.search(/[1-9]/);return i=i===-1?e.length:i,e.substring(0,i)+e.substring(i,e.length).replace(r,"$1"+t)}function Sde(e){var t=w.useRef(e);t.current=e;var n=w.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return t.current.apply(t,r)});return n.current}function wI(e,t){t===void 0&&(t=!0);var n=e[0]==="-",r=n&&t;e=e.replace("-","");var i=e.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function Ede(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")}function uq(e,t,n){for(var r="",i=n?"0":"",o=0;o<=t-1;o++)r+=e[o]||i;return r}function J9(e,t){return Array(t+1).join(e)}function dq(e){var t=e+"",n=t[0]==="-"?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+J9("0",Math.abs(s))+i:s>=a?i=i+J9("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function X9(e,t,n){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||n)&&t,i=wI(e),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,c=parseFloat("0."+(s||"0")),u=s.length<=t?"0."+s:c.toFixed(t),f=u.split("."),h=o;o&&Number(f[0])&&(h=o.split("").reverse().reduce(function(v,E,N){return v.length>N?(Number(v[0])+Number(E)).toString()+v.substring(1,v.length):E+v},f[0]));var p=uq(f[1]||"",t,n),y=a?"-":"",x=r?".":"";return""+y+h+x+p}function Df(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var fq=bde(function(e,t){for(var n=0,r=0,i=e.length,o=t.length;e[n]===t[n]&&n<i;)n++;for(;e[i-1-r]===t[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),Nde=function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}};function Ode(e,t,n){return Math.min(Math.max(e,t),n)}function $C(e){return Math.max(e.selectionStart,e.selectionEnd)}function _de(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function $de(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function Cde(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,i=e.formattedValueIndex;return t[r]===n[i]}function jde(e,t,n,r,i,o,s){s===void 0&&(s=Cde);var a=i.findIndex(function(C){return C}),c=e.slice(0,a);!t&&!n.startsWith(c)&&(t=c,n=c+n,r=r+c.length);for(var u=n.length,f=e.length,h={},p=new Array(u),y=0;y<u;y++){p[y]=-1;for(var x=0,v=f;x<v;x++){var E=s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:y,formattedValueIndex:x});if(E&&h[x]!==!0){p[y]=x,h[x]=!0;break}}}for(var N=r;N<u&&(p[N]===-1||!o(n[N]));)N++;var O=N===u||p[N]===-1?f:p[N];for(N=r-1;N>0&&p[N]===-1;)N--;var _=N===-1||p[N]===-1?0:p[N]+1;return _>O?O:r-_<O-r?_:O}function Q9(e,t,n,r){var i=e.length;if(t=Ode(t,0,i),r==="left"){for(;t>=0&&!n[t];)t--;t===-1&&(t=n.indexOf(!0))}else{for(;t<=i&&!n[t];)t++;t>i&&(t=n.lastIndexOf(!0))}return t===-1&&(t=i),t}function Ade(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),n=0,r=t.length;n<r;n++)t[n]=!!(Mb(e[n])||Mb(e[n-1]));return t}function hq(e,t,n,r,i,o){o===void 0&&(o=Hu);var s=Sde(function(x,v){var E,N;return lq(x)?(N="",E=""):typeof x=="number"||v?(N=typeof x=="number"?dq(x):x,E=r(N)):(N=i(x,void 0),E=r(N)),{formattedValue:E,numAsString:N}}),a=w.useState(function(){return s(jp(e)?t:e,n)}),c=a[0],u=a[1],f=function(x,v){x.formattedValue!==c.formattedValue&&u({formattedValue:x.formattedValue,numAsString:x.value}),o(x,v)},h=e,p=n;jp(e)&&(h=c.numAsString,p=!0);var y=s(h,p);return w.useMemo(function(){u(y)},[y.formattedValue]),[c,f]}function Tde(e){return e.replace(/[^0-9]/g,"")}function Rde(e){return e}function Ide(e){var t=e.type;t===void 0&&(t="text");var n=e.displayType;n===void 0&&(n="input");var r=e.customInput,i=e.renderText,o=e.getInputRef,s=e.format;s===void 0&&(s=Rde);var a=e.removeFormatting;a===void 0&&(a=Tde);var c=e.defaultValue,u=e.valueIsNumericString,f=e.onValueChange,h=e.isAllowed,p=e.onChange;p===void 0&&(p=Hu);var y=e.onKeyDown;y===void 0&&(y=Hu);var x=e.onMouseUp;x===void 0&&(x=Hu);var v=e.onFocus;v===void 0&&(v=Hu);var E=e.onBlur;E===void 0&&(E=Hu);var N=e.value,O=e.getCaretBoundary;O===void 0&&(O=Ade);var _=e.isValidInputCharacter;_===void 0&&(_=Mb);var C=e.isCharacterSame,j=aq(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),A=hq(N,c,!!u,s,a,f),R=A[0],I=R.formattedValue,P=R.numAsString,z=A[1],B=w.useRef(),U=w.useRef({formattedValue:I,numAsString:P}),H=function(_e,Y){U.current={formattedValue:_e.formattedValue,numAsString:_e.value},z(_e,Y)},M=w.useState(!1),L=M[0],T=M[1],F=w.useRef(null),k=w.useRef({setCaretTimeout:null,focusTimeout:null});w.useEffect(function(){return T(!0),function(){clearTimeout(k.current.setCaretTimeout),clearTimeout(k.current.focusTimeout)}},[]);var q=s,D=function(_e,Y){var re=parseFloat(Y);return{formattedValue:_e,value:Y,floatValue:isNaN(re)?void 0:re}},W=function(_e,Y,re){_e.selectionStart===0&&_e.selectionEnd===_e.value.length||(Df(_e,Y),k.current.setCaretTimeout=setTimeout(function(){_e.value===re&&_e.selectionStart!==Y&&Df(_e,Y)},0))},X=function(_e,Y,re){return Q9(_e,Y,O(_e),re)},oe=function(_e,Y,re){var Q=O(Y),xe=jde(Y,I,_e,re,Q,_,C);return xe=Q9(Y,xe,Q),xe},se=function(_e){var Y=_e.formattedValue;Y===void 0&&(Y="");var re=_e.input,Q=_e.source,xe=_e.event,ue=_e.numAsString,de;if(re){var ae=_e.inputValue||re.value,he=$C(re);re.value=Y,de=oe(ae,Y,he),de!==void 0&&W(re,de,Y)}Y!==I&&H(D(Y,ue),{event:xe,source:Q})};w.useEffect(function(){var _e=U.current,Y=_e.formattedValue,re=_e.numAsString;(I!==Y||P!==re)&&H(D(I,P),{event:void 0,source:Ib.props})},[I,P]);var ie=F.current?$C(F.current):void 0,le=typeof window<"u"?w.useLayoutEffect:w.useEffect;le(function(){var _e=F.current;if(I!==U.current.formattedValue&&_e){var Y=oe(U.current.formattedValue,I,ie);_e.value=I,W(_e,Y,I)}},[I]);var pe=function(_e,Y,re){var Q=Y.target,xe=B.current?Nde(B.current,Q.selectionEnd):fq(I,_e),ue=Object.assign(Object.assign({},xe),{lastValue:I}),de=a(_e,ue),ae=q(de);if(de=a(ae,void 0),h&&!h(D(ae,de))){var he=Y.target,Ee=$C(he),ke=oe(_e,I,Ee);return he.value=I,W(he,ke,I),!1}return se({formattedValue:ae,numAsString:de,inputValue:_e,event:Y,source:re,input:Y.target}),!0},ye=function(_e,Y){Y===void 0&&(Y=0);var re=_e.selectionStart,Q=_e.selectionEnd;B.current={selectionStart:re,selectionEnd:Q+Y}},je=function(_e){var Y=_e.target,re=Y.value,Q=pe(re,_e,Ib.event);Q&&p(_e),B.current=void 0},Te=function(_e){var Y=_e.target,re=_e.key,Q=Y.selectionStart,xe=Y.selectionEnd,ue=Y.value;ue===void 0&&(ue="");var de;re==="ArrowLeft"||re==="Backspace"?de=Math.max(Q-1,0):re==="ArrowRight"?de=Math.min(Q+1,ue.length):re==="Delete"&&(de=Q);var ae=0;re==="Delete"&&Q===xe&&(ae=1);var he=re==="ArrowLeft"||re==="ArrowRight";if(de===void 0||Q!==xe&&!he){y(_e),ye(Y,ae);return}var Ee=de;if(he){var ke=re==="ArrowLeft"?"left":"right";Ee=X(ue,de,ke),Ee!==de&&_e.preventDefault()}else re==="Delete"&&!_(ue[de])?Ee=X(ue,de,"right"):re==="Backspace"&&!_(ue[de])&&(Ee=X(ue,de,"left"));Ee!==de&&W(Y,Ee,ue),y(_e),ye(Y,ae)},J=function(_e){var Y=_e.target,re=function(){var Q=Y.selectionStart,xe=Y.selectionEnd,ue=Y.value;if(ue===void 0&&(ue=""),Q===xe){var de=X(ue,Q);de!==Q&&W(Y,de,ue)}};re(),requestAnimationFrame(function(){re()}),x(_e),ye(Y)},me=function(_e){_e.persist&&_e.persist();var Y=_e.target,re=_e.currentTarget;F.current=Y,k.current.focusTimeout=setTimeout(function(){var Q=Y.selectionStart,xe=Y.selectionEnd,ue=Y.value;ue===void 0&&(ue="");var de=X(ue,Q);de!==Q&&!(Q===0&&xe===ue.length)&&W(Y,de,ue),v(Object.assign(Object.assign({},_e),{currentTarget:re}))},0)},Z=function(_e){F.current=null,clearTimeout(k.current.focusTimeout),clearTimeout(k.current.setCaretTimeout),E(_e)},we=L&&_de()?"numeric":void 0,Ne=Object.assign({inputMode:we},j,{type:t,value:I,onChange:je,onKeyDown:Te,onMouseUp:J,onFocus:me,onBlur:Z});if(n==="text")return i?De.createElement(De.Fragment,null,i(I,j)||null):De.createElement("span",Object.assign({},j,{ref:o}),I);if(r){var $e=r;return De.createElement($e,Object.assign({},Ne,{ref:o}))}return De.createElement("input",Object.assign({},Ne,{ref:o}))}function Z9(e,t){var n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix;i===void 0&&(i="");var o=t.suffix;o===void 0&&(o="");var s=t.allowNegative,a=t.thousandsGroupStyle;if(a===void 0&&(a="thousand"),e===""||e==="-")return e;var c=W2(t),u=c.thousandSeparator,f=c.decimalSeparator,h=n!==0&&e.indexOf(".")!==-1||n&&r,p=wI(e,s),y=p.beforeDecimal,x=p.afterDecimal,v=p.addNegation;return n!==void 0&&(x=uq(x,n,!!r)),u&&(y=wde(y,u,a)),i&&(y=i+y),o&&(x=x+o),v&&(y="-"+y),e=y+(h&&f||"")+x,e}function W2(e){var t=e.decimalSeparator;t===void 0&&(t=".");var n=e.thousandSeparator,r=e.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}function Mde(e,t){e===void 0&&(e="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),o=r.test(e);return e=e.replace(/-/g,""),i&&!o&&t&&(e="-"+e),e}function kde(e,t){return new RegExp("(^-)|[0-9]|"+cq(e),"g")}function Pde(e,t,n){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Dde(e,t,n){var r;t===void 0&&(t=$de(e));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,c=t.from,u=t.to,f=u.start,h=u.end,p=W2(n),y=p.allowedDecimalSeparators,x=p.decimalSeparator,v=e[h]===x;if(Mb(e)&&(e===o||e===s)&&t.lastValue==="")return e;if(h-f===1&&y.indexOf(e[f])!==-1){var E=a===0?"":x;e=e.substring(0,f)+E+e.substring(f+1,e.length)}var N=function(F,k,q){var D=!1,W=!1;o.startsWith("-")?D=!1:F.startsWith("--")?(D=!1,W=!0):s.startsWith("-")&&F.length===s.length?D=!1:F[0]==="-"&&(D=!0);var X=D?1:0;return W&&(X=2),X&&(F=F.substring(X),k-=X,q-=X),{value:F,start:k,end:q,hasNegation:D}},O=N(e,f,h),_=O.hasNegation;r=O,e=r.value,f=r.start,h=r.end;var C=N(t.lastValue,c.start,c.end),j=C.start,A=C.end,R=C.value,I=e.substring(f,h);e.length&&R.length&&(j>R.length-s.length||A<o.length)&&!(I&&s.startsWith(I))&&(e=R);var P=0;e.startsWith(o)?P+=o.length:f<o.length&&(P=f),e=e.substring(P),h-=P;var z=e.length,B=e.length-s.length;e.endsWith(s)?z=B:(h>B||h>e.length-s.length)&&(z=h),e=e.substring(0,z),e=Mde(_?"-"+e:e,i),e=(e.match(kde(x))||[]).join("");var U=e.indexOf(x);e=e.replace(new RegExp(cq(x),"g"),function(F,k){return k===U?".":""});var H=wI(e,i),M=H.beforeDecimal,L=H.afterDecimal,T=H.addNegation;return u.end-u.start<c.end-c.start&&M===""&&v&&!parseFloat(L)&&(e=T?"-":""),e}function Fde(e,t){var n=t.prefix;n===void 0&&(n="");var r=t.suffix;r===void 0&&(r="");var i=Array.from({length:e.length+1}).map(function(){return!0}),o=e[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=e.length;return i.fill(!1,s-r.length+1,s+1),i}function Lde(e){var t=W2(e),n=t.thousandSeparator,r=t.decimalSeparator,i=e.prefix;i===void 0&&(i="");var o=e.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},e),{allowNegative:o})}function Bde(e){e=Lde(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,n=e.allowNegative,r=e.allowLeadingZeros,i=e.onKeyDown;i===void 0&&(i=Hu);var o=e.onBlur;o===void 0&&(o=Hu);var s=e.thousandSeparator,a=e.decimalScale,c=e.fixedDecimalScale,u=e.prefix;u===void 0&&(u="");var f=e.defaultValue,h=e.value,p=e.valueIsNumericString,y=e.onValueChange,x=aq(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),v=W2(e),E=v.decimalSeparator,N=v.allowedDecimalSeparators,O=function(T){return Z9(T,e)},_=function(T,F){return Dde(T,F,e)},C=jp(h)?f:h,j=p??Pde(C,u,t);jp(h)?jp(f)||(j=j||typeof f=="number"):j=j||typeof h=="number";var A=function(T){return lq(T)?T:(typeof T=="number"&&(T=dq(T)),j&&typeof a=="number"?X9(T,a,!!c):T)},R=hq(A(h),A(f),!!j,O,_,y),I=R[0],P=I.numAsString,z=I.formattedValue,B=R[1],U=function(T){var F=T.target,k=T.key,q=F.selectionStart,D=F.selectionEnd,W=F.value;if(W===void 0&&(W=""),(k==="Backspace"||k==="Delete")&&D<u.length){T.preventDefault();return}if(q!==D){i(T);return}k==="Backspace"&&W[0]==="-"&&q===u.length+1&&n&&Df(F,1),a&&c&&(k==="Backspace"&&W[q-1]===E?(Df(F,q-1),T.preventDefault()):k==="Delete"&&W[q]===E&&T.preventDefault()),N!=null&&N.includes(k)&&W[q]===E&&Df(F,q+1);var X=s===!0?",":s;k==="Backspace"&&W[q-1]===X&&Df(F,q-1),k==="Delete"&&W[q]===X&&Df(F,q+1),i(T)},H=function(T){var F=P;if(F.match(/\d/g)||(F=""),r||(F=Ede(F)),c&&a&&(F=X9(F,a,c)),F!==P){var k=Z9(F,e);B({formattedValue:k,value:F,floatValue:parseFloat(F)},{event:T,source:Ib.event})}o(T)},M=function(T){return T===E?!0:Mb(T)},L=function(T){var F=T.currentValue,k=T.lastValue,q=T.formattedValue,D=T.currentValueIndex,W=T.formattedValueIndex,X=F[D],oe=q[W],se=fq(k,F),ie=se.to,le=function(pe){return _(pe).indexOf(".")+u.length};return h===0&&c&&a&&F[ie.start]===E&&le(F)<D&&le(q)>W?!1:D>=ie.start&&D<ie.end&&N&&N.includes(X)&&oe===E?!0:X===oe};return Object.assign(Object.assign({},x),{value:z,valueIsNumericString:!1,isValidInputCharacter:M,isCharacterSame:L,onValueChange:B,format:O,removeFormatting:_,getCaretBoundary:function(T){return Fde(T,e)},onKeyDown:U,onBlur:H})}function zde(e){var t=Bde(e);return De.createElement(Ide,Object.assign({},t))}function e8({direction:e,style:t,...n}){return m.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:e==="up"?"rotate(180deg)":void 0,...t},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:m.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var PA={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Ude=/^(0\.0*|-0(\.0*)?)$/,Vde=/^-?0\d+(\.\d+)?\.?$/;function DA(e){return typeof e=="string"&&e!==""&&!Number.isNaN(Number(e))}function CC(e){return typeof e=="number"?e<Number.MAX_SAFE_INTEGER:e===""||DA(e)&&Number(e)<Number.MAX_SAFE_INTEGER}function qde(e){return e.toString().replace(".","").length}function Hde(e,t){return(typeof e=="number"?e<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(e)))&&!Number.isNaN(e)&&qde(t)<14&&t!==""}function t8(e,t,n){if(e===void 0)return!0;const r=t===void 0||e>=t,i=n===void 0||e<=n;return r&&i}const Wde={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Gde=(e,{size:t})=>({controls:{"--ni-chevron-size":Ut(t,"ni-chevron-size")}}),G2=Ye((e,t)=>{const n=ze("NumberInput",Wde,e),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:c,onValueChange:u,value:f,defaultValue:h,max:p,min:y,step:x,hideControls:v,rightSection:E,isAllowed:N,clampBehavior:O,onBlur:_,allowDecimal:C,decimalScale:j,onKeyDown:A,onKeyDownCapture:R,handlersRef:I,startValue:P,disabled:z,rightSectionPointerEvents:B,allowNegative:U,readOnly:H,size:M,rightSectionWidth:L,stepHoldInterval:T,stepHoldDelay:F,allowLeadingZeros:k,withKeyboardEvents:q,trimLeadingZeroesOnBlur:D,...W}=n,X=St({name:"NumberInput",classes:PA,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:Gde}),{resolvedClassNames:oe,resolvedStyles:se}=zg({classNames:i,styles:o,props:n}),[ie,le]=no({value:f,defaultValue:h,finalValue:"",onChange:c}),pe=F!==void 0&&T!==void 0,ye=w.useRef(null),je=w.useRef(null),Te=w.useRef(0),J=(ae,he)=>{he.source==="event"&&le(Hde(ae.floatValue,ae.value)&&!Ude.test(ae.value)&&!(k&&Vde.test(ae.value))?ae.floatValue:ae.value),u==null||u(ae,he)},me=ae=>{const he=String(ae).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return he?Math.max(0,(he[1]?he[1].length:0)-(he[2]?+he[2]:0)):0},Z=ae=>{ye.current&&typeof ae<"u"&&ye.current.setSelectionRange(ae,ae)},we=w.useRef(EA);we.current=()=>{if(!CC(ie))return;let ae;const he=me(ie),Ee=me(x),ke=Math.max(he,Ee),Fe=10**ke;if(!DA(ie)&&(typeof ie!="number"||Number.isNaN(ie)))ae=uc(P,y,p);else if(p!==void 0){const Xt=(Math.round(Number(ie)*Fe)+Math.round(x*Fe))/Fe;ae=Xt<=p?Xt:p}else ae=(Math.round(Number(ie)*Fe)+Math.round(x*Fe))/Fe;const gt=ae.toFixed(ke);le(parseFloat(gt)),u==null||u({floatValue:parseFloat(gt),formattedValue:gt,value:gt},{source:"increment"}),setTimeout(()=>{var Xt;return Z((Xt=ye.current)==null?void 0:Xt.value.length)},0)};const Ne=w.useRef(EA);Ne.current=()=>{if(!CC(ie))return;let ae;const he=y!==void 0?y:U?Number.MIN_SAFE_INTEGER:0,Ee=me(ie),ke=me(x),Fe=Math.max(Ee,ke),gt=10**Fe;if(!DA(ie)&&typeof ie!="number"||Number.isNaN(ie))ae=uc(P,he,p);else{const Mt=(Math.round(Number(ie)*gt)-Math.round(x*gt))/gt;ae=he!==void 0&&Mt<he?he:Mt}const Xt=ae.toFixed(Fe);le(parseFloat(Xt)),u==null||u({floatValue:parseFloat(Xt),formattedValue:Xt,value:Xt},{source:"decrement"}),setTimeout(()=>{var Mt;return Z((Mt=ye.current)==null?void 0:Mt.value.length)},0)};const $e=ae=>{A==null||A(ae),!(H||!q)&&(ae.key==="ArrowUp"&&(ae.preventDefault(),we.current()),ae.key==="ArrowDown"&&(ae.preventDefault(),Ne.current()))},_e=ae=>{if(R==null||R(ae),ae.key==="Backspace"){const he=ye.current;he.selectionStart===0&&he.selectionStart===he.selectionEnd&&(ae.preventDefault(),window.setTimeout(()=>Z(0),0))}},Y=ae=>{let he=ie;if(O==="blur"&&typeof he=="number"&&(he=uc(he,y,p)),D&&typeof he=="string"&&me(he)<15){const Ee=he.toString().replace(/^0+/,""),ke=parseFloat(Ee);he=Number.isNaN(ke)||ke>Number.MAX_SAFE_INTEGER?Ee:uc(ke,y,p)}ie!==he&&le(he),_==null||_(ae)};BS(I,{increment:we.current,decrement:Ne.current});const re=ae=>{ae?we.current():Ne.current(),Te.current+=1},Q=ae=>{if(re(ae),pe){const he=typeof T=="number"?T:T(Te.current);je.current=window.setTimeout(()=>Q(ae),he)}},xe=(ae,he)=>{var Ee;ae.preventDefault(),(Ee=ye.current)==null||Ee.focus(),re(he),pe&&(je.current=window.setTimeout(()=>Q(he),F))},ue=()=>{je.current&&window.clearTimeout(je.current),je.current=null,Te.current=0},de=m.jsxs("div",{...X("controls"),children:[m.jsx(Nc,{...X("control"),tabIndex:-1,"aria-hidden":!0,disabled:z||typeof ie=="number"&&p!==void 0&&ie>=p,mod:{direction:"up"},onMouseDown:ae=>ae.preventDefault(),onPointerDown:ae=>{xe(ae,!0)},onPointerUp:ue,onPointerLeave:ue,children:m.jsx(e8,{direction:"up"})}),m.jsx(Nc,{...X("control"),tabIndex:-1,"aria-hidden":!0,disabled:z||typeof ie=="number"&&y!==void 0&&ie<=y,mod:{direction:"down"},onMouseDown:ae=>ae.preventDefault(),onPointerDown:ae=>{xe(ae,!1)},onPointerUp:ue,onPointerLeave:ue,children:m.jsx(e8,{direction:"down"})})]});return m.jsx($s,{component:zde,allowNegative:U,className:Rn(PA.root,r),size:M,...W,readOnly:H,disabled:z,value:ie,getInputRef:Gn(t,ye),onValueChange:J,rightSection:v||H||!CC(ie)?E:E||de,classNames:oe,styles:se,unstyled:s,__staticSelector:"NumberInput",decimalScale:C?j:0,onKeyDown:$e,onKeyDownCapture:_e,rightSectionPointerEvents:B??(z?"none":void 0),rightSectionWidth:L??`var(--ni-right-section-width-${M||"sm"})`,allowLeadingZeros:k,onBlur:Y,isAllowed:ae=>O==="strict"?N?N(ae)&&t8(ae.floatValue,y,p):t8(ae.floatValue,y,p):N?N(ae):!0})});G2.classes={...$s.classes,...PA};G2.displayName="@mantine/core/NumberInput";const[Kde,mq]=Th(),[Yde,Jde]=Th();var pq={card:"m_9dc8ae12"};const Xde={withBorder:!0},Qde=(e,{radius:t})=>({card:{"--card-radius":Nr(t)}}),SI=Ye((e,t)=>{const n=ze("RadioCard",Xde,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,checked:u,mod:f,withBorder:h,value:p,onClick:y,name:x,onKeyDown:v,...E}=n,N=St({name:"RadioCard",classes:pq,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:Qde,rootSelector:"card"}),{dir:O}=Td(),_=mq(),C=typeof u=="boolean"?u:(_==null?void 0:_.value)===p||!1,j=x||(_==null?void 0:_.name),A=R=>{if(v==null||v(R),["ArrowDown","ArrowUp","ArrowLeft","ArrowRight"].includes(R.nativeEvent.code)){R.preventDefault();const I=Array.from(document.querySelectorAll(`[role="radio"][name="${j||"__mantine"}"]`)),P=I.findIndex(U=>U===R.target),z=P+1>=I.length?0:P+1,B=P-1<0?I.length-1:P-1;R.nativeEvent.code==="ArrowDown"&&(I[z].focus(),I[z].click()),R.nativeEvent.code==="ArrowUp"&&(I[B].focus(),I[B].click()),R.nativeEvent.code==="ArrowLeft"&&(I[O==="ltr"?B:z].focus(),I[O==="ltr"?B:z].click()),R.nativeEvent.code==="ArrowRight"&&(I[O==="ltr"?z:B].focus(),I[O==="ltr"?z:B].click())}};return m.jsx(Yde,{value:{checked:C},children:m.jsx(Nc,{ref:t,mod:[{"with-border":h,checked:C},f],...N("card"),...E,role:"radio","aria-checked":C,name:j,onClick:R=>{y==null||y(R),_==null||_.onChange(p||"")},onKeyDown:A})})});SI.displayName="@mantine/core/RadioCard";SI.classes=pq;const Zde={},K2=Ye((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,name:c,readOnly:u,...f}=ze("RadioGroup",Zde,e),h=Ns(c),[p,y]=no({value:n,defaultValue:r,finalValue:"",onChange:i}),x=v=>!u&&y(typeof v=="string"?v:v.currentTarget.value);return m.jsx(Kde,{value:{value:p,onChange:x,size:o,name:h},children:m.jsx(qt.Wrapper,{size:o,ref:t,...s,...f,labelElement:"div",__staticSelector:"RadioGroup",children:m.jsx(XV,{role:"radiogroup",children:a})})})});K2.classes=qt.Wrapper.classes;K2.displayName="@mantine/core/RadioGroup";function gq({size:e,style:t,...n}){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 5 5",style:{width:Ie(e),height:Ie(e),...t},"aria-hidden":!0,...n,children:m.jsx("circle",{cx:"2.5",cy:"2.5",r:"2.5",fill:"currentColor"})})}var yq={indicator:"m_717d7ff6",icon:"m_3e4da632","indicator--outline":"m_2980836c"};const efe={icon:gq},tfe=(e,{radius:t,color:n,size:r,iconColor:i,variant:o,autoContrast:s})=>{const a=jd({color:n||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{indicator:{"--radio-size":Ut(r,"radio-size"),"--radio-radius":t===void 0?void 0:Nr(t),"--radio-color":o==="outline"?c:di(n,e),"--radio-icon-size":Ut(r,"radio-icon-size"),"--radio-icon-color":i?di(i,e):O5(s,e)?Lx({color:n,theme:e,autoContrast:s}):void 0}}},EI=Ye((e,t)=>{const n=ze("RadioIndicator",efe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,icon:u,radius:f,color:h,iconColor:p,autoContrast:y,checked:x,mod:v,variant:E,disabled:N,...O}=n,_=u,C=St({name:"RadioIndicator",classes:yq,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:tfe,rootSelector:"indicator"}),j=Jde(),A=typeof x=="boolean"?x:(j==null?void 0:j.checked)||!1;return m.jsx(We,{ref:t,...C("indicator",{variant:E}),variant:E,mod:[{checked:A,disabled:N},v],...O,children:m.jsx(_,{...C("icon")})})});EI.displayName="@mantine/core/RadioIndicator";EI.classes=yq;var bq={root:"m_f3f1af94",inner:"m_89c4f5e4",icon:"m_f3ed6b2b",radio:"m_8a3dbb89","radio--outline":"m_1bfe9d39"};const nfe={labelPosition:"right"},rfe=(e,{size:t,radius:n,color:r,iconColor:i,variant:o,autoContrast:s})=>{const a=jd({color:r||e.primaryColor,theme:e}),c=a.isThemeColor&&a.shade===void 0?`var(--mantine-color-${a.color}-outline)`:a.color;return{root:{"--radio-size":Ut(t,"radio-size"),"--radio-radius":n===void 0?void 0:Nr(n),"--radio-color":o==="outline"?c:di(r,e),"--radio-icon-color":i?di(i,e):O5(s,e)?Lx({color:r,theme:e,autoContrast:s}):void 0,"--radio-icon-size":Ut(t,"radio-icon-size")}}},Za=Ye((e,t)=>{const n=ze("Radio",nfe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,id:u,size:f,label:h,labelPosition:p,description:y,error:x,radius:v,color:E,variant:N,disabled:O,wrapperProps:_,icon:C=gq,rootRef:j,iconColor:A,onChange:R,mod:I,...P}=n,z=St({name:"Radio",classes:bq,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:rfe}),B=mq(),U=(B==null?void 0:B.size)??f,H=n.size?f:U,{styleProps:M,rest:L}=Ug(P),T=Ns(u),F=B?{checked:B.value===L.value,name:L.name??B.name,onChange:k=>{B.onChange(k),R==null||R(k)}}:{};return m.jsx(cI,{...z("root"),__staticSelector:"Radio",__stylesApiProps:n,id:T,size:H,labelPosition:p,label:h,description:y,error:x,disabled:O,classNames:r,styles:s,unstyled:a,"data-checked":F.checked||void 0,variant:N,ref:j,mod:I,...M,..._,children:m.jsxs(We,{...z("inner"),mod:{"label-position":p},children:[m.jsx(We,{...z("radio",{focusable:!0,variant:N}),onChange:R,...L,...F,component:"input",mod:{error:!!x},ref:t,id:T,disabled:O,type:"radio"}),m.jsx(C,{...z("icon"),"aria-hidden":!0})]})})});Za.classes=bq;Za.displayName="@mantine/core/Radio";Za.Group=K2;Za.Card=SI;Za.Indicator=EI;const ife={duration:100,transition:"fade"};function ofe(e,t){return{...ife,...t,...e}}function sfe({offset:e,position:t,defaultOpened:n}){const[r,i]=w.useState(n),o=w.useRef(null),{x:s,y:a,elements:c,refs:u,update:f,placement:h}=q5({placement:t,middleware:[B5({crossAxis:!0,padding:5,rootBoundary:"document"})]}),p=h.includes("right")?e:t.includes("left")?e*-1:0,y=h.includes("bottom")?e:t.includes("top")?e*-1:0,x=w.useCallback(({clientX:v,clientY:E})=>{u.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:v,y:E,left:v+p,top:E+y,right:v,bottom:E}}})},[c.reference]);return w.useEffect(()=>{if(u.floating.current){const v=o.current;v.addEventListener("mousemove",x);const E=mc(u.floating.current);return E.forEach(N=>{N.addEventListener("scroll",f)}),()=>{v.removeEventListener("mousemove",x),E.forEach(N=>{N.removeEventListener("scroll",f)})}}},[c.reference,u.floating.current,f,x,r]),{handleMouseMove:x,x:s,y:a,opened:r,setOpened:i,boundaryRef:o,floating:u.setFloating}}var Y2={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const afe={refProp:"ref",withinPortal:!0,offset:10,defaultOpened:!1,position:"right",zIndex:ya("popover")},lfe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Nr(t),"--tooltip-bg":n?di(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),NI=Ye((e,t)=>{const n=ze("TooltipFloating",afe,e),{children:r,refProp:i,withinPortal:o,style:s,className:a,classNames:c,styles:u,unstyled:f,radius:h,color:p,label:y,offset:x,position:v,multiline:E,zIndex:N,disabled:O,defaultOpened:_,variant:C,vars:j,portalProps:A,...R}=n,I=Fo(),P=St({name:"TooltipFloating",props:n,classes:Y2,className:a,style:s,classNames:c,styles:u,unstyled:f,rootSelector:"tooltip",vars:j,varsResolver:lfe}),{handleMouseMove:z,x:B,y:U,opened:H,boundaryRef:M,floating:L,setOpened:T}=sfe({offset:x,position:v,defaultOpened:_});if(!$d(r))throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const F=Gn(M,O2(r),t),k=r.props,q=W=>{var X;(X=k.onMouseEnter)==null||X.call(k,W),z(W),T(!0)},D=W=>{var X;(X=k.onMouseLeave)==null||X.call(k,W),T(!1)};return m.jsxs(m.Fragment,{children:[m.jsx(Rh,{...A,withinPortal:o,children:m.jsx(We,{...R,...P("tooltip",{style:{...PU(s,I),zIndex:N,display:!O&&H?"block":"none",top:(U&&Math.round(U))??"",left:(B&&Math.round(B))??""}}),variant:C,ref:L,mod:{multiline:E},children:y})}),w.cloneElement(r,{...k,[i]:F,onMouseEnter:q,onMouseLeave:D})]})});NI.classes=Y2;NI.displayName="@mantine/core/TooltipFloating";const xq=w.createContext(!1),cfe=xq.Provider,ufe=()=>w.useContext(xq),dfe={openDelay:0,closeDelay:0};function OI(e){const{openDelay:t,closeDelay:n,children:r}=ze("TooltipGroup",dfe,e);return m.jsx(cfe,{value:!0,children:m.jsx(Vle,{delay:{open:t,close:n},children:r})})}OI.displayName="@mantine/core/TooltipGroup";OI.extend=e=>e;function ffe(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function hfe(e){const t=ffe(e.middlewares),n=[mV(e.offset)];return t.shift&&n.push(B5(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&n.push(typeof t.flip=="boolean"?HS():HS(t.flip)),n.push(pV({element:e.arrowRef,padding:e.arrowOffset})),t.inline?n.push(typeof t.inline=="boolean"?rb():rb(t.inline)):e.inline&&n.push(rb()),n}function mfe(e){var A,R,I;const[t,n]=w.useState(e.defaultOpened),i=typeof e.opened=="boolean"?e.opened:t,o=ufe(),s=Ns(),a=w.useCallback(P=>{n(P),P&&O(s)},[s]),{x:c,y:u,context:f,refs:h,update:p,placement:y,middlewareData:{arrow:{x,y:v}={}}}=q5({strategy:e.strategy,placement:e.position,open:i,onOpenChange:a,middleware:hfe(e)}),{delay:E,currentId:N,setCurrentId:O}=qle(f,{id:s}),{getReferenceProps:_,getFloatingProps:C}=Xle([zle(f,{enabled:(A=e.events)==null?void 0:A.hover,delay:o?E:{open:e.openDelay,close:e.closeDelay},mouseOnly:!((R=e.events)!=null&&R.touch)}),Jle(f,{enabled:(I=e.events)==null?void 0:I.focus,visibleOnly:!0}),Zle(f,{role:"tooltip"}),Kle(f,{enabled:typeof e.opened>"u"})]);_V({opened:i,position:e.position,positionDependencies:e.positionDependencies,floating:{refs:h,update:p}}),Ec(()=>{var P;(P=e.onPositionChange)==null||P.call(e,y)},[y]);const j=i&&N&&N!==s;return{x:c,y:u,arrowX:x,arrowY:v,reference:h.setReference,floating:h.setFloating,getFloatingProps:C,getReferenceProps:_,isGroupPhase:j,opened:i,placement:y}}const n8={position:"top",refProp:"ref",withinPortal:!0,inline:!1,defaultOpened:!1,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:ya("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},pfe=(e,{radius:t,color:n})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Nr(t),"--tooltip-bg":n?di(n,e):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Ih=Ye((e,t)=>{const n=ze("Tooltip",n8,e),{children:r,position:i,refProp:o,label:s,openDelay:a,closeDelay:c,onPositionChange:u,opened:f,defaultOpened:h,withinPortal:p,radius:y,color:x,classNames:v,styles:E,unstyled:N,style:O,className:_,withArrow:C,arrowSize:j,arrowOffset:A,arrowRadius:R,arrowPosition:I,offset:P,transitionProps:z,multiline:B,events:U,zIndex:H,disabled:M,positionDependencies:L,onClick:T,onMouseEnter:F,onMouseLeave:k,inline:q,variant:D,keepMounted:W,vars:X,portalProps:oe,mod:se,floatingStrategy:ie,middlewares:le,...pe}=ze("Tooltip",n8,n),{dir:ye}=Td(),je=w.useRef(null),Te=mfe({position:xV(ye,i),closeDelay:c,openDelay:a,onPositionChange:u,opened:f,defaultOpened:h,events:U,arrowRef:je,arrowOffset:A,offset:typeof P=="number"?P+(C?j/2:0):P,positionDependencies:[...L,r],inline:q,strategy:ie,middlewares:le}),J=St({name:"Tooltip",props:n,classes:Y2,className:_,style:O,classNames:v,styles:E,unstyled:N,rootSelector:"tooltip",vars:X,varsResolver:pfe});if(!$d(r))throw new Error("[@mantine/core] Tooltip component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const me=Gn(Te.reference,O2(r),t),Z=ofe(z,{duration:100,transition:"fade"}),we=r.props;return m.jsxs(m.Fragment,{children:[m.jsx(Rh,{...oe,withinPortal:p,children:m.jsx(Rd,{...Z,keepMounted:W,mounted:!M&&!!Te.opened,duration:Te.isGroupPhase?10:Z.duration,children:Ne=>m.jsxs(We,{...pe,"data-fixed":ie==="fixed"||void 0,variant:D,mod:[{multiline:B},se],...Te.getFloatingProps({ref:Te.floating,className:J("tooltip").className,style:{...J("tooltip").style,...Ne,zIndex:H,top:Te.y??0,left:Te.x??0}}),children:[s,m.jsx(H5,{ref:je,arrowX:Te.arrowX,arrowY:Te.arrowY,visible:C,position:Te.placement,arrowSize:j,arrowOffset:A,arrowRadius:R,arrowPosition:I,...J("arrow")})]})})}),w.cloneElement(r,Te.getReferenceProps({onClick:T,onMouseEnter:F,onMouseLeave:k,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,[o]:me,className:Rn(_,we.className),...we}))]})});Ih.classes=Y2;Ih.displayName="@mantine/core/Tooltip";Ih.Floating=NI;Ih.Group=OI;var vq={root:"m_cf365364",indicator:"m_9e182ccd",label:"m_1738fcb2",input:"m_1714d588",control:"m_69686b9b",innerLabel:"m_78882f40"};const gfe={withItemsBorders:!0},yfe=(e,{radius:t,color:n,transitionDuration:r,size:i,transitionTimingFunction:o})=>({root:{"--sc-radius":t===void 0?void 0:Nr(t),"--sc-color":n?di(n,e):void 0,"--sc-shadow":n?void 0:"var(--mantine-shadow-xs)","--sc-transition-duration":r===void 0?void 0:`${r}ms`,"--sc-transition-timing-function":o,"--sc-padding":Ut(i,"sc-padding"),"--sc-font-size":Mi(i)}}),Mh=Ye((e,t)=>{var le,pe;const n=ze("SegmentedControl",gfe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,data:u,value:f,defaultValue:h,onChange:p,size:y,name:x,disabled:v,readOnly:E,fullWidth:N,orientation:O,radius:_,color:C,transitionDuration:j,transitionTimingFunction:A,variant:R,autoContrast:I,withItemsBorders:P,mod:z,...B}=n,U=St({name:"SegmentedControl",props:n,classes:vq,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:yfe}),H=Fo(),M=u.map(ye=>typeof ye=="string"?{label:ye,value:ye}:ye),L=ise(),[T,F]=w.useState(null),[k,q]=w.useState({}),D=(ye,je)=>{k[je]=ye,q(k)},[W,X]=no({value:f,defaultValue:h,finalValue:Array.isArray(u)?((le=M.find(ye=>!ye.disabled))==null?void 0:le.value)??((pe=u[0])==null?void 0:pe.value)??null:null,onChange:p}),oe=Ns(x),se=M.map(ye=>w.createElement(We,{...U("control"),mod:{active:W===ye.value,orientation:O},key:ye.value},w.createElement("input",{...U("input"),disabled:v||ye.disabled,type:"radio",name:oe,value:ye.value,id:`${oe}-${ye.value}`,checked:W===ye.value,onChange:()=>!E&&X(ye.value),"data-focus-ring":H.focusRing,key:`${ye.value}-input`}),w.createElement(We,{component:"label",...U("label"),mod:{active:W===ye.value&&!(v||ye.disabled),disabled:v||ye.disabled,"read-only":E},htmlFor:`${oe}-${ye.value}`,ref:je=>D(je,ye.value),__vars:{"--sc-label-color":C!==void 0?Lx({color:C,theme:H,autoContrast:I}):void 0},key:`${ye.value}-label`},m.jsx("span",{...U("innerLabel"),children:ye.label})))),ie=Gn(t,ye=>F(ye));return u.length===0?null:m.jsxs(We,{...U("root"),variant:R,size:y,ref:ie,mod:[{"full-width":N,orientation:O,initialized:L,"with-items-borders":P},z],...B,role:"radiogroup","data-disabled":v,children:[typeof W=="string"&&m.jsx(J5,{target:k[W],parent:T,component:"span",transitionDuration:"var(--sc-transition-duration)",...U("indicator")}),se]})});Mh.classes=vq;Mh.displayName="@mantine/core/SegmentedControl";const bfe={searchable:!1,withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},J2=Ye((e,t)=>{const n=ze("Select",bfe,e),{classNames:r,styles:i,unstyled:o,vars:s,dropdownOpened:a,defaultDropdownOpened:c,onDropdownClose:u,onDropdownOpen:f,onFocus:h,onBlur:p,onClick:y,onChange:x,data:v,value:E,defaultValue:N,selectFirstOptionOnChange:O,onOptionSubmit:_,comboboxProps:C,readOnly:j,disabled:A,filter:R,limit:I,withScrollArea:P,maxDropdownHeight:z,size:B,searchable:U,rightSection:H,checkIconPosition:M,withCheckIcon:L,nothingFoundMessage:T,name:F,form:k,searchValue:q,defaultSearchValue:D,onSearchChange:W,allowDeselect:X,error:oe,rightSectionPointerEvents:se,id:ie,clearable:le,clearButtonProps:pe,hiddenInputProps:ye,renderOption:je,onClear:Te,autoComplete:J,scrollAreaProps:me,__defaultRightSection:Z,__clearSection:we,__clearable:Ne,chevronColor:$e,..._e}=n,Y=w.useMemo(()=>qV(v),[v]),re=w.useMemo(()=>X5(Y),[Y]),Q=Ns(ie),[xe,ue,de]=no({value:E,defaultValue:N,finalValue:null,onChange:x}),ae=typeof xe=="string"?re[xe]:void 0,he=tse(ae),[Ee,ke]=no({value:q,defaultValue:D,finalValue:ae?ae.label:"",onChange:W}),Fe=lI({opened:a,defaultOpened:c,onDropdownOpen:()=>{f==null||f(),Fe.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{u==null||u(),Fe.resetSelectedOption()}}),{resolvedClassNames:gt,resolvedStyles:Xt}=zg({props:n,styles:i,classNames:r});w.useEffect(()=>{O&&Fe.selectFirstOption()},[O,xe]),w.useEffect(()=>{E===null&&ke(""),typeof E=="string"&&ae&&((he==null?void 0:he.value)!==ae.value||(he==null?void 0:he.label)!==ae.label)&&ke(ae.label)},[E,ae]);const Mt=m.jsx(Dt.ClearButton,{...pe,onClear:()=>{ue(null,null),ke(""),Te==null||Te()}}),_a=le&&!!xe&&!A&&!j;return m.jsxs(m.Fragment,{children:[m.jsxs(Dt,{store:Fe,__staticSelector:"Select",classNames:gt,styles:Xt,unstyled:o,readOnly:j,onOptionSubmit:Qt=>{_==null||_(Qt);const Kt=X&&re[Qt].value===xe?null:re[Qt],Uo=Kt?Kt.value:null;Uo!==xe&&ue(Uo,Kt),!de&&ke(typeof Uo=="string"&&(Kt==null?void 0:Kt.label)||""),Fe.closeDropdown()},size:B,...C,children:[m.jsx(Dt.Target,{targetType:U?"input":"button",autoComplete:J,children:m.jsx($s,{id:Q,ref:t,__defaultRightSection:m.jsx(Dt.Chevron,{size:B,error:oe,unstyled:o,color:$e}),__clearSection:Mt,__clearable:_a,rightSection:H,rightSectionPointerEvents:se||(_a?"all":"none"),..._e,size:B,__staticSelector:"Select",disabled:A,readOnly:j||!U,value:Ee,onChange:Qt=>{ke(Qt.currentTarget.value),Fe.openDropdown(),O&&Fe.selectFirstOption()},onFocus:Qt=>{U&&Fe.openDropdown(),h==null||h(Qt)},onBlur:Qt=>{var Kt;U&&Fe.closeDropdown(),ke(xe!=null&&((Kt=re[xe])==null?void 0:Kt.label)||""),p==null||p(Qt)},onClick:Qt=>{U?Fe.openDropdown():Fe.toggleDropdown(),y==null||y(Qt)},classNames:gt,styles:Xt,unstyled:o,pointer:!U,error:oe})}),m.jsx(tq,{data:Y,hidden:j||A,filter:R,search:Ee,limit:I,hiddenWhenEmpty:!T,withScrollArea:P,maxDropdownHeight:z,filterOptions:U&&(ae==null?void 0:ae.label)!==Ee,value:xe,checkIconPosition:M,withCheckIcon:L,nothingFoundMessage:T,unstyled:o,labelId:_e.label?`${Q}-label`:void 0,"aria-label":_e.label?void 0:_e["aria-label"],renderOption:je,scrollAreaProps:me})]}),m.jsx(Dt.HiddenInput,{value:xe,name:F,form:k,disabled:A,...ye})]})});J2.classes={...$s.classes,...Dt.classes};J2.displayName="@mantine/core/Select";const[xfe,X2]=Pc("SliderProvider was not found in tree"),wq=w.forwardRef(({size:e,disabled:t,variant:n,color:r,thumbSize:i,radius:o,...s},a)=>{const{getStyles:c}=X2();return m.jsx(We,{tabIndex:-1,variant:n,size:e,ref:a,...c("root"),...s})});wq.displayName="@mantine/core/SliderRoot";const Sq=w.forwardRef(({max:e,min:t,value:n,position:r,label:i,dragging:o,onMouseDown:s,onKeyDownCapture:a,labelTransitionProps:c,labelAlwaysOn:u,thumbLabel:f,onFocus:h,onBlur:p,showLabelOnHover:y,isHovered:x,children:v=null,disabled:E},N)=>{const{getStyles:O}=X2(),[_,C]=w.useState(!1),j=u||o||_||y&&x;return m.jsxs(We,{tabIndex:0,role:"slider","aria-label":f,"aria-valuemax":e,"aria-valuemin":t,"aria-valuenow":n,ref:N,__vars:{"--slider-thumb-offset":`${r}%`},...O("thumb",{focusable:!0}),mod:{dragging:o,disabled:E},onFocus:A=>{C(!0),typeof h=="function"&&h(A)},onBlur:A=>{C(!1),typeof p=="function"&&p(A)},onTouchStart:s,onMouseDown:s,onKeyDownCapture:a,onClick:A=>A.stopPropagation(),children:[v,m.jsx(Rd,{mounted:i!=null&&!!j,transition:"fade",duration:0,...c,children:A=>m.jsx("div",{...O("label",{style:A}),children:i})})]})});Sq.displayName="@mantine/core/SliderThumb";function Eq({value:e,min:t,max:n}){const r=(e-t)/(n-t)*100;return Math.min(Math.max(r,0),100)}function vfe({mark:e,offset:t,value:n,inverted:r=!1}){return r?typeof t=="number"&&e.value<=t||e.value>=n:typeof t=="number"?e.value>=t&&e.value<=n:e.value<=n}function Nq({marks:e,min:t,max:n,disabled:r,value:i,offset:o,inverted:s}){const{getStyles:a}=X2();if(!e)return null;const c=e.map((u,f)=>w.createElement(We,{...a("markWrapper"),__vars:{"--mark-offset":`${Eq({value:u.value,min:t,max:n})}%`},key:f},m.jsx(We,{...a("mark"),mod:{filled:vfe({mark:u,value:i,offset:o,inverted:s}),disabled:r}}),u.label&&m.jsx("div",{...a("markLabel"),children:u.label})));return m.jsx("div",{children:c})}Nq.displayName="@mantine/core/SliderMarks";function Oq({filled:e,children:t,offset:n,disabled:r,marksOffset:i,inverted:o,containerProps:s,...a}){const{getStyles:c}=X2();return m.jsx(We,{...c("trackContainer"),mod:{disabled:r},...s,children:m.jsxs(We,{...c("track"),mod:{inverted:o,disabled:r},children:[m.jsx(We,{mod:{inverted:o,disabled:r},__vars:{"--slider-bar-width":`calc(${e}% + var(--slider-size))`,"--slider-bar-offset":`calc(${n}% - var(--slider-size))`},...c("bar")}),t,m.jsx(Nq,{...a,offset:i,disabled:r,inverted:o})]})})}Oq.displayName="@mantine/core/SliderTrack";function wfe({value:e,containerWidth:t,min:n,max:r,step:i,precision:o}){const a=(t?Math.min(Math.max(e,0),t)/t:e)*(r-n),c=(a!==0?Math.round(a/i)*i:0)+n,u=Math.max(c,n);return o!==void 0?Number(u.toFixed(o)):u}function E1(e,t){return parseFloat(e.toFixed(t))}function Sfe(e){if(!e)return 0;const t=e.toString().split(".");return t.length>1?t[1].length:0}function jC(e,t){const r=[...t].sort((i,o)=>i.value-o.value).find(i=>i.value>e);return r?r.value:e}function AC(e,t){const r=[...t].sort((i,o)=>o.value-i.value).find(i=>i.value<e);return r?r.value:e}function r8(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[0].value:0}function i8(e){const t=[...e].sort((n,r)=>n.value-r.value);return t.length>0?t[t.length-1].value:100}var _q={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Efe={radius:"xl",min:0,max:100,step:1,marks:[],label:e=>e,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:e=>e},Nfe=(e,{size:t,color:n,thumbSize:r,radius:i})=>({root:{"--slider-size":Ut(t,"slider-size"),"--slider-color":n?di(n,e):void 0,"--slider-radius":i===void 0?void 0:Nr(i),"--slider-thumb-size":r!==void 0?Ie(r):"calc(var(--slider-size) * 2)"}}),_I=Ye((e,t)=>{const n=ze("Slider",Efe,e),{classNames:r,styles:i,value:o,onChange:s,onChangeEnd:a,size:c,min:u,max:f,step:h,precision:p,defaultValue:y,name:x,marks:v,label:E,labelTransitionProps:N,labelAlwaysOn:O,thumbLabel:_,showLabelOnHover:C,thumbChildren:j,disabled:A,unstyled:R,scale:I,inverted:P,className:z,style:B,vars:U,hiddenInputProps:H,restrictToMarks:M,thumbProps:L,...T}=n,F=St({name:"Slider",props:n,classes:_q,classNames:r,className:z,styles:i,style:B,vars:U,varsResolver:Nfe,unstyled:R}),{dir:k}=Td(),[q,D]=w.useState(!1),[W,X]=no({value:typeof o=="number"?uc(o,u,f):o,defaultValue:typeof y=="number"?uc(y,u,f):y,finalValue:uc(0,u,f),onChange:s}),oe=w.useRef(W),se=w.useRef(null),ie=w.useRef(null),le=Eq({value:W,min:u,max:f}),pe=I(W),ye=typeof E=="function"?E(pe):E,je=p??Sfe(h),Te=w.useCallback(({x:we})=>{if(!A){const Ne=wfe({value:we,min:u,max:f,step:h,precision:je});X(M&&(v!=null&&v.length)?f9(Ne,v.map($e=>$e.value)):Ne),oe.current=Ne}},[A,u,f,h,je,X,v,M]),{ref:J,active:me}=Koe(Te,{onScrubEnd:()=>!A&&(a==null?void 0:a(M&&(v!=null&&v.length)?f9(oe.current,v.map(we=>we.value)):oe.current))},k),Z=we=>{var Ne,$e,_e,Y,re,Q;if(!A)switch(we.key){case"ArrowUp":{if(we.preventDefault(),(Ne=ie.current)==null||Ne.focus(),M&&v){const ue=jC(W,v);X(ue),a==null||a(ue);break}const xe=E1(Math.min(Math.max(W+h,u),f),je);X(xe),a==null||a(xe);break}case"ArrowRight":{if(we.preventDefault(),($e=ie.current)==null||$e.focus(),M&&v){const ue=k==="rtl"?AC(W,v):jC(W,v);X(ue),a==null||a(ue);break}const xe=E1(Math.min(Math.max(k==="rtl"?W-h:W+h,u),f),je);X(xe),a==null||a(xe);break}case"ArrowDown":{if(we.preventDefault(),(_e=ie.current)==null||_e.focus(),M&&v){const ue=AC(W,v);X(ue),a==null||a(ue);break}const xe=E1(Math.min(Math.max(W-h,u),f),je);X(xe),a==null||a(xe);break}case"ArrowLeft":{if(we.preventDefault(),(Y=ie.current)==null||Y.focus(),M&&v){const ue=k==="rtl"?jC(W,v):AC(W,v);X(ue),a==null||a(ue);break}const xe=E1(Math.min(Math.max(k==="rtl"?W+h:W-h,u),f),je);X(xe),a==null||a(xe);break}case"Home":{if(we.preventDefault(),(re=ie.current)==null||re.focus(),M&&v){X(r8(v)),a==null||a(r8(v));break}X(u),a==null||a(u);break}case"End":{if(we.preventDefault(),(Q=ie.current)==null||Q.focus(),M&&v){X(i8(v)),a==null||a(i8(v));break}X(f),a==null||a(f);break}}};return m.jsx(xfe,{value:{getStyles:F},children:m.jsxs(wq,{...T,ref:Gn(t,se),onKeyDownCapture:Z,onMouseDownCapture:()=>{var we;return(we=se.current)==null?void 0:we.focus()},size:c,disabled:A,children:[m.jsx(Oq,{inverted:P,offset:0,filled:le,marks:v,min:u,max:f,value:pe,disabled:A,containerProps:{ref:J,onMouseEnter:C?()=>D(!0):void 0,onMouseLeave:C?()=>D(!1):void 0},children:m.jsx(Sq,{max:f,min:u,value:pe,position:le,dragging:me,label:ye,ref:ie,labelTransitionProps:N,labelAlwaysOn:O,thumbLabel:_,showLabelOnHover:C,isHovered:q,disabled:A,...L,children:j})}),m.jsx("input",{type:"hidden",name:x,value:pe,...H})]})})});_I.classes=_q;_I.displayName="@mantine/core/Slider";const $q=w.createContext(null),Ofe=$q.Provider,_fe=()=>w.useContext($q),$fe={},$I=Ye((e,t)=>{const{value:n,defaultValue:r,onChange:i,size:o,wrapperProps:s,children:a,readOnly:c,...u}=ze("SwitchGroup",$fe,e),[f,h]=no({value:n,defaultValue:r,finalValue:[],onChange:i}),p=y=>{const x=y.currentTarget.value;!c&&h(f.includes(x)?f.filter(v=>v!==x):[...f,x])};return m.jsx(Ofe,{value:{value:f,onChange:p,size:o},children:m.jsx(qt.Wrapper,{size:o,ref:t,...s,...u,labelElement:"div",__staticSelector:"SwitchGroup",children:m.jsx(XV,{role:"group",children:a})})})});$I.classes=qt.Wrapper.classes;$I.displayName="@mantine/core/SwitchGroup";var Cq={root:"m_5f93f3bb",input:"m_926b4011",track:"m_9307d992",thumb:"m_93039a1d",trackLabel:"m_8277e082"};const Cfe={labelPosition:"right"},jfe=(e,{radius:t,color:n,size:r})=>({root:{"--switch-radius":t===void 0?void 0:Nr(t),"--switch-height":Ut(r,"switch-height"),"--switch-width":Ut(r,"switch-width"),"--switch-thumb-size":Ut(r,"switch-thumb-size"),"--switch-label-font-size":Ut(r,"switch-label-font-size"),"--switch-track-label-padding":Ut(r,"switch-track-label-padding"),"--switch-color":n?di(n,e):void 0}}),ll=Ye((e,t)=>{const n=ze("Switch",Cfe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,color:u,label:f,offLabel:h,onLabel:p,id:y,size:x,radius:v,wrapperProps:E,thumbIcon:N,checked:O,defaultChecked:_,onChange:C,labelPosition:j,description:A,error:R,disabled:I,variant:P,rootRef:z,mod:B,...U}=n,H=_fe(),M=x||(H==null?void 0:H.size),L=St({name:"Switch",props:n,classes:Cq,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:jfe}),{styleProps:T,rest:F}=Ug(U),k=Ns(y),q=H?{checked:H.value.includes(F.value),onChange:H.onChange}:{},[D,W]=no({value:q.checked??O,defaultValue:_,finalValue:!1});return m.jsxs(cI,{...L("root"),__staticSelector:"Switch",__stylesApiProps:n,id:k,size:M,labelPosition:j,label:f,description:A,error:R,disabled:I,bodyElement:"label",labelElement:"span",classNames:r,styles:s,unstyled:a,"data-checked":q.checked||O||void 0,variant:P,ref:z,mod:B,...T,...E,children:[m.jsx("input",{...F,disabled:I,checked:D,"data-checked":q.checked||O||void 0,onChange:X=>{var oe;H?(oe=q.onChange)==null||oe.call(q,X):C==null||C(X),W(X.currentTarget.checked)},id:k,ref:t,type:"checkbox",role:"switch",...L("input")}),m.jsxs(We,{"aria-hidden":"true",mod:{error:R,"label-position":j,"without-labels":!p&&!h},...L("track"),children:[m.jsx(We,{component:"span",mod:"reduce-motion",...L("thumb"),children:N}),m.jsx("span",{...L("trackLabel"),children:D?p:h})]})]})});ll.classes={...Cq,...gue};ll.displayName="@mantine/core/Switch";ll.Group=$I;const[Afe,CI]=Pc("Tabs component was not found in the tree");var Wx={root:"m_89d60db1","list--default":"m_576c9d4",list:"m_89d33d6d",panel:"m_b0c91715",tab:"m_4ec4dce6",tabSection:"m_fc420b1f","tab--default":"m_539e827b","list--outline":"m_6772fbd5","tab--outline":"m_b59ab47c","tab--pills":"m_c3381914"};const Tfe={},jI=Ye((e,t)=>{const n=ze("TabsList",Tfe,e),{children:r,className:i,grow:o,justify:s,classNames:a,styles:c,style:u,mod:f,...h}=n,p=CI();return m.jsx(We,{...h,...p.getStyles("list",{className:i,style:u,classNames:a,styles:c,props:n,variant:p.variant}),ref:t,role:"tablist",variant:p.variant,mod:[{grow:o,orientation:p.orientation,placement:p.orientation==="vertical"&&p.placement,inverted:p.inverted},f],"aria-orientation":p.orientation,__vars:{"--tabs-justify":s},children:r})});jI.classes=Wx;jI.displayName="@mantine/core/TabsList";const Rfe={},AI=Ye((e,t)=>{const n=ze("TabsPanel",Rfe,e),{children:r,className:i,value:o,classNames:s,styles:a,style:c,mod:u,keepMounted:f,...h}=n,p=CI(),y=p.value===o,x=p.keepMounted||f||y?r:null;return m.jsx(We,{...h,...p.getStyles("panel",{className:i,classNames:s,styles:a,style:[c,y?void 0:{display:"none"}],props:n}),ref:t,mod:[{orientation:p.orientation},u],role:"tabpanel",id:p.getPanelId(o),"aria-labelledby":p.getTabId(o),children:x})});AI.classes=Wx;AI.displayName="@mantine/core/TabsPanel";const Ife={},TI=Ye((e,t)=>{const n=ze("TabsTab",Ife,e),{className:r,children:i,rightSection:o,leftSection:s,value:a,onClick:c,onKeyDown:u,disabled:f,color:h,style:p,classNames:y,styles:x,vars:v,mod:E,tabIndex:N,...O}=n,_=Fo(),{dir:C}=Td(),j=CI(),A=a===j.value,R=P=>{j.onChange(j.allowTabDeactivation&&a===j.value?null:a),c==null||c(P)},I={classNames:y,styles:x,props:n};return m.jsxs(Nc,{...O,...j.getStyles("tab",{className:r,style:p,variant:j.variant,...I}),disabled:f,unstyled:j.unstyled,variant:j.variant,mod:[{active:A,disabled:f,orientation:j.orientation,inverted:j.inverted,placement:j.orientation==="vertical"&&j.placement},E],ref:t,role:"tab",id:j.getTabId(a),"aria-selected":A,tabIndex:N!==void 0?N:A||j.value===null?0:-1,"aria-controls":j.getPanelId(a),onClick:R,__vars:{"--tabs-color":h?di(h,_):void 0},onKeyDown:wU({siblingSelector:'[role="tab"]',parentSelector:'[role="tablist"]',activateOnFocus:j.activateTabWithKeyboard,loop:j.loop,orientation:j.orientation||"horizontal",dir:C,onKeyDown:u}),children:[s&&m.jsx("span",{...j.getStyles("tabSection",I),"data-position":"left",children:s}),i&&m.jsx("span",{...j.getStyles("tabLabel",I),children:i}),o&&m.jsx("span",{...j.getStyles("tabSection",I),"data-position":"right",children:o})]})});TI.classes=Wx;TI.displayName="@mantine/core/TabsTab";const o8="Tabs.Tab or Tabs.Panel component was rendered with invalid value or without value",Mfe={keepMounted:!0,orientation:"horizontal",loop:!0,activateTabWithKeyboard:!0,allowTabDeactivation:!1,unstyled:!1,inverted:!1,variant:"default",placement:"left"},kfe=(e,{radius:t,color:n,autoContrast:r})=>({root:{"--tabs-radius":Nr(t),"--tabs-color":di(n,e),"--tabs-text-color":O5(r,e)?Lx({color:n,theme:e,autoContrast:r}):void 0}}),Ln=Ye((e,t)=>{const n=ze("Tabs",Mfe,e),{defaultValue:r,value:i,onChange:o,orientation:s,children:a,loop:c,id:u,activateTabWithKeyboard:f,allowTabDeactivation:h,variant:p,color:y,radius:x,inverted:v,placement:E,keepMounted:N,classNames:O,styles:_,unstyled:C,className:j,style:A,vars:R,autoContrast:I,mod:P,...z}=n,B=Ns(u),[U,H]=no({value:i,defaultValue:r,finalValue:null,onChange:o}),M=St({name:"Tabs",props:n,classes:Wx,className:j,style:A,classNames:O,styles:_,unstyled:C,vars:R,varsResolver:kfe});return m.jsx(Afe,{value:{placement:E,value:U,orientation:s,id:B,loop:c,activateTabWithKeyboard:f,getTabId:c9(`${B}-tab`,o8),getPanelId:c9(`${B}-panel`,o8),onChange:H,allowTabDeactivation:h,variant:p,color:y,radius:x,inverted:v,keepMounted:N,unstyled:C,getStyles:M},children:m.jsx(We,{ref:t,id:B,variant:p,mod:[{orientation:s,inverted:s==="horizontal"&&v,placement:s==="vertical"&&E},P],...M("root"),...z,children:a})})});Ln.classes=Wx;Ln.displayName="@mantine/core/Tabs";Ln.Tab=TI;Ln.Panel=AI;Ln.List=jI;function Pfe({data:e,value:t}){const n=t.map(i=>i.trim().toLowerCase());return e.reduce((i,o)=>(sg(o)?i.push({group:o.group,items:o.items.filter(s=>n.indexOf(s.label.toLowerCase().trim())===-1)}):n.indexOf(o.label.toLowerCase().trim())===-1&&i.push(o),i),[])}function Dfe(e,t){return e?t.split(new RegExp(`[${e.join("")}]`)).map(n=>n.trim()).filter(n=>n!==""):[t]}function s8({splitChars:e,allowDuplicates:t,maxTags:n,value:r,currentTags:i}){const o=Dfe(e,r),s=t?[...i,...o]:[...new Set([...i,...o])];return n?s.slice(0,n):s}const Ffe={maxTags:1/0,allowDuplicates:!1,acceptValueOnBlur:!0,splitChars:[","],hiddenInputValuesDivider:","},RI=Ye((e,t)=>{const n=ze("TagsInput",Ffe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,size:u,value:f,defaultValue:h,onChange:p,onKeyDown:y,maxTags:x,allowDuplicates:v,onDuplicate:E,variant:N,data:O,dropdownOpened:_,defaultDropdownOpened:C,onDropdownOpen:j,onDropdownClose:A,selectFirstOptionOnChange:R,onOptionSubmit:I,comboboxProps:P,filter:z,limit:B,withScrollArea:U,maxDropdownHeight:H,searchValue:M,defaultSearchValue:L,onSearchChange:T,readOnly:F,disabled:k,splitChars:q,onFocus:D,onBlur:W,onPaste:X,radius:oe,rightSection:se,rightSectionWidth:ie,rightSectionPointerEvents:le,rightSectionProps:pe,leftSection:ye,leftSectionWidth:je,leftSectionPointerEvents:Te,leftSectionProps:J,inputContainer:me,inputWrapperOrder:Z,withAsterisk:we,required:Ne,labelProps:$e,descriptionProps:_e,errorProps:Y,wrapperProps:re,description:Q,label:xe,error:ue,withErrorStyles:de,name:ae,form:he,id:Ee,clearable:ke,clearButtonProps:Fe,hiddenInputProps:gt,hiddenInputValuesDivider:Xt,mod:Mt,renderOption:_a,onRemove:Qt,onClear:Kt,scrollAreaProps:Uo,acceptValueOnBlur:Vo,...Ar}=n,Xd=Ns(Ee),lm=qV(O),Cy=X5(lm),vl=w.useRef(null),Zc=Gn(vl,t),Tr=lI({opened:_,defaultOpened:C,onDropdownOpen:j,onDropdownClose:()=>{A==null||A(),Tr.resetSelectedOption()}}),{styleProps:wl,rest:{type:eu,autoComplete:jy,...cm}}=Ug(Ar),[$n,ho]=no({value:f,defaultValue:h,finalValue:[],onChange:p}),[gi,$a]=no({value:M,defaultValue:L,finalValue:"",onChange:T}),tu=St({name:"TagsInput",classes:{},props:n,classNames:r,styles:s,unstyled:a}),{resolvedClassNames:Qd,resolvedStyles:Zd}=zg({props:n,styles:s,classNames:r}),ef=ht=>{const Ir=$n.some(Ho=>Ho.toLowerCase()===ht.toLowerCase());Ir&&(E==null||E(ht)),(!Ir||Ir&&v)&&$n.length<x&&(I==null||I(ht),$a(""),ht.length>0&&ho([...$n,ht]))},Ay=ht=>{if(y==null||y(ht),ht.isPropagationStopped())return;const Ir=gi.trim(),{length:Ho}=Ir;if(q.includes(ht.key)&&Ho>0&&(ho(s8({splitChars:q,allowDuplicates:v,maxTags:x,value:gi,currentTags:$n})),$a(""),ht.preventDefault()),ht.key==="Enter"&&Ho>0&&!ht.nativeEvent.isComposing){if(ht.preventDefault(),!!document.querySelector(`#${Tr.listId} [data-combobox-option][data-combobox-selected]`))return;ef(Ir)}ht.key==="Backspace"&&Ho===0&&$n.length>0&&!ht.nativeEvent.isComposing&&(Qt==null||Qt($n[$n.length-1]),ho($n.slice(0,$n.length-1)))},qo=ht=>{if(X==null||X(ht),ht.preventDefault(),ht.clipboardData){const Ir=ht.clipboardData.getData("text/plain");ho(s8({splitChars:q,allowDuplicates:v,maxTags:x,value:`${gi}${Ir}`,currentTags:$n})),$a("")}},rr=$n.map((ht,Ir)=>m.jsx(Rb,{withRemoveButton:!F,onRemove:()=>{const Ho=$n.slice();Ho.splice(Ir,1),ho(Ho),Qt==null||Qt(ht)},unstyled:a,disabled:k,...tu("pill"),children:ht},`${ht}-${Ir}`));w.useEffect(()=>{R&&Tr.selectFirstOption()},[R,$n,gi]);const Rr=m.jsx(Dt.ClearButton,{...Fe,onClear:()=>{var ht;ho([]),$a(""),(ht=vl.current)==null||ht.focus(),Tr.openDropdown(),Kt==null||Kt()}});return m.jsxs(m.Fragment,{children:[m.jsxs(Dt,{store:Tr,classNames:Qd,styles:Zd,unstyled:a,size:u,readOnly:F,__staticSelector:"TagsInput",onOptionSubmit:ht=>{I==null||I(ht),$a(""),$n.length<x&&ho([...$n,Cy[ht].label]),Tr.resetSelectedOption()},...P,children:[m.jsx(Dt.DropdownTarget,{children:m.jsx(WS,{...wl,__staticSelector:"TagsInput",classNames:Qd,styles:Zd,unstyled:a,size:u,className:i,style:o,variant:N,disabled:k,radius:oe,rightSection:se,__clearSection:Rr,__clearable:ke&&$n.length>0&&!k&&!F,rightSectionWidth:ie,rightSectionPointerEvents:le,rightSectionProps:pe,leftSection:ye,leftSectionWidth:je,leftSectionPointerEvents:Te,leftSectionProps:J,inputContainer:me,inputWrapperOrder:Z,withAsterisk:we,required:Ne,labelProps:$e,descriptionProps:_e,errorProps:Y,wrapperProps:re,description:Q,label:xe,error:ue,multiline:!0,withErrorStyles:de,__stylesApiProps:{...n,multiline:!0},id:Xd,mod:Mt,children:m.jsxs(Rb.Group,{disabled:k,unstyled:a,...tu("pillsList"),children:[rr,m.jsx(Dt.EventsTarget,{autoComplete:jy,children:m.jsx(WS.Field,{...cm,ref:Zc,...tu("inputField"),unstyled:a,onKeyDown:Ay,onFocus:ht=>{D==null||D(ht),Tr.openDropdown()},onBlur:ht=>{W==null||W(ht),Vo&&ef(gi),Tr.closeDropdown()},onPaste:qo,value:gi,onChange:ht=>$a(ht.currentTarget.value),required:Ne&&$n.length===0,disabled:k,readOnly:F,id:Xd})})]})})}),m.jsx(tq,{data:Pfe({data:lm,value:$n}),hidden:F||k,filter:z,search:gi,limit:B,hiddenWhenEmpty:!0,withScrollArea:U,maxDropdownHeight:H,unstyled:a,labelId:xe?`${Xd}-label`:void 0,"aria-label":xe?void 0:Ar["aria-label"],renderOption:_a,scrollAreaProps:Uo})]}),m.jsx(Dt.HiddenInput,{name:ae,form:he,value:$n,valuesDivider:Xt,disabled:k,...gt})]})});RI.classes={...$s.classes,...Dt.classes};RI.displayName="@mantine/core/TagsInput";const Lfe={},Wn=Ye((e,t)=>{const n=ze("TextInput",Lfe,e);return m.jsx($s,{component:"input",ref:t,...n,__staticSelector:"TextInput"})});Wn.classes=$s.classes;Wn.displayName="@mantine/core/TextInput";function Bfe(e){let t=e,n=!1;const r=new Set;return{getState(){return t},updateState(i){t=typeof i=="function"?i(t):i},setState(i){this.updateState(i),r.forEach(o=>o(t))},initialize(i){n||(t=i,n=!0)},subscribe(i){return r.add(i),()=>r.delete(i)}}}function zfe(e){return w.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function Ufe(e,t,n){const r=[],i=[],o={};for(const s of e){const a=s.position||t;o[a]=o[a]||0,o[a]+=1,o[a]<=n?i.push(s):r.push(s)}return{notifications:i,queue:r}}const Vfe=()=>Bfe({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),kh=Vfe(),qfe=(e=kh)=>zfe(e);function Jg(e,t){const n=e.getState(),r=t([...n.notifications,...n.queue]),i=Ufe(r,n.defaultPosition,n.limit);e.setState({notifications:i.notifications,queue:i.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function Hfe(e,t=kh){const n=e.id||$p();return Jg(t,r=>e.id&&r.some(i=>i.id===e.id)?r:[...r,{...e,id:n}]),n}function jq(e,t=kh){return Jg(t,n=>n.filter(r=>{var i;return r.id===e?((i=r.onClose)==null||i.call(r,r),!1):!0})),e}function Wfe(e,t=kh){return Jg(t,n=>n.map(r=>r.id===e.id?{...r,...e}:r)),e.id}function Gfe(e=kh){Jg(e,()=>[])}function Kfe(e=kh){Jg(e,t=>t.slice(0,e.getState().limit))}const gd={show:Hfe,hide:jq,update:Wfe,clean:Gfe,cleanQueue:Kfe,updateState:Jg};function FA(e,t){return FA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},FA(e,t)}function Aq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,FA(e,t)}const a8={disabled:!1},GS=De.createContext(null);var Yfe=function(t){return t.scrollTop},K0="unmounted",Cf="exited",jf="entering",up="entered",LA="exiting",Lc=function(e){Aq(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,c;return o.appearStatus=null,r.in?a?(c=Cf,o.appearStatus=jf):c=up:r.unmountOnExit||r.mountOnEnter?c=K0:c=Cf,o.state={status:c},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===K0?{status:Cf}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==jf&&s!==up&&(o=jf):(s===jf||s===up)&&(o=LA)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===jf){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:bp.findDOMNode(this);s&&Yfe(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cf&&this.setState({status:K0})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,c=this.props.nodeRef?[a]:[bp.findDOMNode(this),a],u=c[0],f=c[1],h=this.getTimeouts(),p=a?h.appear:h.enter;if(!i&&!s||a8.disabled){this.safeSetState({status:up},function(){o.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:jf},function(){o.props.onEntering(u,f),o.onTransitionEnd(p,function(){o.safeSetState({status:up},function(){o.props.onEntered(u,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:bp.findDOMNode(this);if(!o||a8.disabled){this.safeSetState({status:Cf},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:LA},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Cf},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:bp.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===K0)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=fI(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return De.createElement(GS.Provider,{value:null},typeof s=="function"?s(i,a):De.cloneElement(De.Children.only(s),a))},t}(De.Component);Lc.contextType=GS;Lc.propTypes={};function Xm(){}Lc.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xm,onEntering:Xm,onEntered:Xm,onExit:Xm,onExiting:Xm,onExited:Xm};Lc.UNMOUNTED=K0;Lc.EXITED=Cf;Lc.ENTERING=jf;Lc.ENTERED=up;Lc.EXITING=LA;function Jfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function II(e,t){var n=function(o){return t&&w.isValidElement(o)?t(o):o},r=Object.create(null);return e&&w.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function Xfe(e,t){e=e||{},t=t||{};function n(f){return f in t?t[f]:e[f]}var r=Object.create(null),i=[];for(var o in e)o in t?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var c in t){if(r[c])for(s=0;s<r[c].length;s++){var u=r[c][s];a[r[c][s]]=n(u)}a[c]=n(c)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function zf(e,t,n){return n[t]!=null?n[t]:e.props[t]}function Qfe(e,t){return II(e.children,function(n){return w.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:zf(n,"appear",e),enter:zf(n,"enter",e),exit:zf(n,"exit",e)})})}function Zfe(e,t,n){var r=II(e.children),i=Xfe(t,r);return Object.keys(i).forEach(function(o){var s=i[o];if(w.isValidElement(s)){var a=o in t,c=o in r,u=t[o],f=w.isValidElement(u)&&!u.props.in;c&&(!a||f)?i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:zf(s,"exit",e),enter:zf(s,"enter",e)}):!c&&a&&!f?i[o]=w.cloneElement(s,{in:!1}):c&&a&&w.isValidElement(u)&&(i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:zf(s,"exit",e),enter:zf(s,"enter",e)}))}}),i}var ehe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},the={component:"div",childFactory:function(t){return t}},Lu=function(e){Aq(t,e);function t(r,i){var o;o=e.call(this,r,i)||this;var s=o.handleExited.bind(Jfe(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,c=o.firstRender;return{children:c?Qfe(i,a):Zfe(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=II(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var c=ag({},a.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=fI(i,["component","childFactory"]),c=this.state.contextValue,u=ehe(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?De.createElement(GS.Provider,{value:c},u):De.createElement(GS.Provider,{value:c},De.createElement(o,a,u))},t}(De.Component);Lu.propTypes={};Lu.defaultProps=the;const Tq=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function nhe(e,t){return e.reduce((n,r)=>(n[r.position||t].push(r),n),Tq.reduce((n,r)=>(n[r]=[],n),{}))}const l8={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},rhe={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function ihe({state:e,maxHeight:t,position:n,transitionDuration:r}){const[i,o]=n.split("-"),s=o==="center"?`${i}-center`:o,a={opacity:0,maxHeight:t,transform:l8[s],transitionDuration:`${r}ms, ${r}ms, ${r}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},c={opacity:1,transform:rhe[s]},u={opacity:0,maxHeight:0,transform:l8[s]};return{...a,...{entering:c,entered:c,exiting:u,exited:u}[e]}}function ohe(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const Rq=w.forwardRef(({data:e,onHide:t,autoClose:n,...r},i)=>{const{autoClose:o,message:s,...a}=e,c=ohe(n,e.autoClose),u=w.useRef(-1),f=()=>window.clearTimeout(u.current),h=()=>{t(e.id),f()},p=()=>{typeof c=="number"&&(u.current=window.setTimeout(h,c))};return w.useEffect(()=>{var y;(y=e.onOpen)==null||y.call(e,e)},[]),w.useEffect(()=>(p(),f),[c]),m.jsx(vI,{...r,...a,onClose:h,ref:i,onMouseEnter:f,onMouseLeave:p,children:s})});Rq.displayName="@mantine/notifications/NotificationContainer";var Iq={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const she=Lc,ahe={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:ya("overlay"),store:kh,withinPortal:!0},lhe=(e,{zIndex:t,containerWidth:n})=>({root:{"--notifications-z-index":t==null?void 0:t.toString(),"--notifications-container-width":Ie(n)}}),cl=Ye((e,t)=>{const n=ze("Notifications",ahe,e),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:c,position:u,autoClose:f,transitionDuration:h,containerWidth:p,notificationMaxHeight:y,limit:x,zIndex:v,store:E,portalProps:N,withinPortal:O,..._}=n,C=Fo(),j=qfe(E),A=qoe(),R=x5(),I=w.useRef({}),P=w.useRef(0),B=(C.respectReducedMotion?R:!1)?1:h,U=St({name:"Notifications",classes:Iq,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:lhe});w.useEffect(()=>{E==null||E.updateState(L=>({...L,limit:x||5,defaultPosition:u}))},[x,u]),Ec(()=>{j.notifications.length>P.current&&setTimeout(()=>A(),0),P.current=j.notifications.length},[j.notifications]);const H=nhe(j.notifications,u),M=Tq.reduce((L,T)=>(L[T]=H[T].map(({style:F,...k})=>m.jsx(she,{timeout:B,onEnter:()=>I.current[k.id].offsetHeight,nodeRef:{current:I.current[k.id]},children:q=>m.jsx(Rq,{ref:D=>{I.current[k.id]=D},data:k,onHide:D=>jq(D,E),autoClose:f,...U("notification",{style:{...ihe({state:q,position:T,transitionDuration:B,maxHeight:y}),...F}})})},k.id)),L),{});return m.jsxs(Rh,{withinPortal:O,...N,children:[m.jsx(We,{...U("root"),"data-position":"top-center",ref:t,..._,children:m.jsx(Lu,{children:M["top-center"]})}),m.jsx(We,{...U("root"),"data-position":"top-left",..._,children:m.jsx(Lu,{children:M["top-left"]})}),m.jsx(We,{...U("root",{className:FS.classNames.fullWidth}),"data-position":"top-right",..._,children:m.jsx(Lu,{children:M["top-right"]})}),m.jsx(We,{...U("root",{className:FS.classNames.fullWidth}),"data-position":"bottom-right",..._,children:m.jsx(Lu,{children:M["bottom-right"]})}),m.jsx(We,{...U("root"),"data-position":"bottom-left",..._,children:m.jsx(Lu,{children:M["bottom-left"]})}),m.jsx(We,{...U("root"),"data-position":"bottom-center",..._,children:m.jsx(Lu,{children:M["bottom-center"]})})]})});cl.classes=Iq;cl.displayName="@mantine/notifications/Notifications";cl.show=gd.show;cl.hide=gd.hide;cl.update=gd.update;cl.clean=gd.clean;cl.cleanQueue=gd.cleanQueue;cl.updateState=gd.updateState;function Mq(e){return fi(e)&&globalThis.Symbol.asyncIterator in e}function kq(e){return fi(e)&&globalThis.Symbol.iterator in e}function Pq(e){return e instanceof globalThis.Promise}function Gx(e){return e instanceof Date&&globalThis.Number.isFinite(e.getTime())}function che(e){return e instanceof globalThis.Map}function uhe(e){return e instanceof globalThis.Set}function dhe(e){return globalThis.ArrayBuffer.isView(e)}function MI(e){return e instanceof globalThis.Uint8Array}function kI(e,t){return t in e}function fi(e){return e!==null&&typeof e=="object"}function ni(e){return globalThis.Array.isArray(e)&&!globalThis.ArrayBuffer.isView(e)}function ba(e){return e===void 0}function Q2(e){return e===null}function Z2(e){return typeof e=="boolean"}function vt(e){return typeof e=="number"}function Dq(e){return globalThis.Number.isInteger(e)}function ic(e){return typeof e=="bigint"}function _o(e){return typeof e=="string"}function PI(e){return typeof e=="function"}function eN(e){return typeof e=="symbol"}function DI(e){return ic(e)||Z2(e)||Q2(e)||vt(e)||_o(e)||eN(e)||ba(e)}var ur;(function(e){e.InstanceMode="default",e.ExactOptionalPropertyTypes=!1,e.AllowArrayObject=!1,e.AllowNaN=!1,e.AllowNullVoid=!1;function t(s,a){return e.ExactOptionalPropertyTypes?a in s:s[a]!==void 0}e.IsExactOptionalProperty=t;function n(s){const a=fi(s);return e.AllowArrayObject?a:a&&!ni(s)}e.IsObjectLike=n;function r(s){return n(s)&&!(s instanceof Date)&&!(s instanceof Uint8Array)}e.IsRecordLike=r;function i(s){return e.AllowNaN?vt(s):Number.isFinite(s)}e.IsNumberLike=i;function o(s){const a=ba(s);return e.AllowNullVoid?a||s===null:a}e.IsVoidLike=o})(ur||(ur={}));const Xg=new Map;function fhe(){return new Map(Xg)}function hhe(){return Xg.clear()}function mhe(e){return Xg.delete(e)}function tN(e){return Xg.has(e)}function phe(e,t){Xg.set(e,t)}function nN(e){return Xg.get(e)}const ghe=Object.freeze(Object.defineProperty({__proto__:null,Clear:hhe,Delete:mhe,Entries:fhe,Get:nN,Has:tN,Set:phe},Symbol.toStringTag,{value:"Module"})),Qg=new Map;function yhe(){return new Map(Qg)}function bhe(){return Qg.clear()}function xhe(e){return Qg.delete(e)}function lg(e){return Qg.has(e)}function vhe(e,t){Qg.set(e,t)}function rN(e){return Qg.get(e)}const Kx=Object.freeze(Object.defineProperty({__proto__:null,Clear:bhe,Delete:xhe,Entries:yhe,Get:rN,Has:lg,Set:vhe},Symbol.toStringTag,{value:"Module"}));function BA(e,t){return t in e}function Fq(e){return bt(e)&&!Kn(e)&&!Zg(e)&&Symbol.asyncIterator in e}function Kn(e){return Array.isArray(e)}function FI(e){return typeof e=="bigint"}function Id(e){return typeof e=="boolean"}function iN(e){return e instanceof globalThis.Date}function Lq(e){return typeof e=="function"}function Bq(e){return bt(e)&&!Kn(e)&&!Zg(e)&&Symbol.iterator in e}function zq(e){return e===null}function To(e){return typeof e=="number"}function bt(e){return typeof e=="object"&&e!==null}function LI(e){return e instanceof globalThis.RegExp}function bn(e){return typeof e=="string"}function Uq(e){return typeof e=="symbol"}function Zg(e){return e instanceof globalThis.Uint8Array}function Zn(e){return e===void 0}const whe=Object.freeze(Object.defineProperty({__proto__:null,HasPropertyKey:BA,IsArray:Kn,IsAsyncIterator:Fq,IsBigInt:FI,IsBoolean:Id,IsDate:iN,IsFunction:Lq,IsIterator:Bq,IsNull:zq,IsNumber:To,IsObject:bt,IsRegExp:LI,IsString:bn,IsSymbol:Uq,IsUint8Array:Zg,IsUndefined:Zn},Symbol.toStringTag,{value:"Module"}));function She(e){return globalThis.Object.freeze(e).map(t=>KS(t))}function Ehe(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=KS(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=KS(e[n]);return globalThis.Object.freeze(t)}function KS(e){return Kn(e)?She(e):iN(e)?e:Zg(e)?e:LI(e)?e:bt(e)?Ehe(e):e}function Nhe(e){return e.map(t=>YS(t))}function Ohe(e){return new Date(e.getTime())}function _he(e){return new Uint8Array(e)}function $he(e){return new RegExp(e.source,e.flags)}function Che(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=YS(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=YS(e[n]);return t}function YS(e){return Kn(e)?Nhe(e):iN(e)?Ohe(e):Zg(e)?_he(e):LI(e)?$he(e):bt(e)?Che(e):e}function io(e){return YS(e)}function He(e,t){const n=t!==void 0?{...t,...e}:e;switch(ur.InstanceMode){case"freeze":return KS(n);case"clone":return io(n);default:return n}}const Ti=Symbol.for("TypeBox.Transform"),Ph=Symbol.for("TypeBox.Readonly"),ul=Symbol.for("TypeBox.Optional"),Cc=Symbol.for("TypeBox.Hint"),qe=Symbol.for("TypeBox.Kind");function BI(e={}){return He({[qe]:e[qe]??"Unsafe"},e)}class Or extends Error{constructor(t){super(t)}}function jhe(e){return He({[qe]:"MappedKey",keys:e})}function Gr(e){return He({[qe]:"MappedResult",properties:e})}function Ahe(e,t){const{[t]:n,...r}=e;return r}function Ro(e,t){return t.reduce((n,r)=>Ahe(n,r),e)}function ey(e,t){return He({[qe]:"Array",type:"array",items:e},t)}function Yx(e,t){return He({[qe]:"AsyncIterator",type:"AsyncIterator",items:e},t)}function Jx(e,t,n){return He({[qe]:"Constructor",type:"Constructor",parameters:e,returns:t},n)}function Dh(e,t,n){return He({[qe]:"Function",type:"Function",parameters:e,returns:t},n)}function dr(e,t,n){return He({[qe]:"Computed",target:e,parameters:t},n)}function _n(e){return He({[qe]:"Never",not:{}},e)}function oN(e){return bt(e)&&e[Ph]==="Readonly"}function Bc(e){return bt(e)&&e[ul]==="Optional"}function zI(e){return _t(e,"Any")}function UI(e){return _t(e,"Argument")}function Fh(e){return _t(e,"Array")}function Xx(e){return _t(e,"AsyncIterator")}function Qx(e){return _t(e,"BigInt")}function ty(e){return _t(e,"Boolean")}function Lh(e){return _t(e,"Computed")}function Bh(e){return _t(e,"Constructor")}function Vq(e){return _t(e,"Date")}function zh(e){return _t(e,"Function")}function The(e){return _t(e,"Import")}function Uh(e){return _t(e,"Integer")}function Rhe(e){return bt(e)}function Bo(e){return _t(e,"Intersect")}function Zx(e){return _t(e,"Iterator")}function _t(e,t){return bt(e)&&qe in e&&e[qe]===t}function Ihe(e){return xa(e)&&bn(e.const)}function Mhe(e){return xa(e)&&To(e.const)}function khe(e){return xa(e)&&Id(e.const)}function VI(e){return Id(e)||To(e)||bn(e)}function xa(e){return _t(e,"Literal")}function Md(e){return _t(e,"MappedKey")}function ao(e){return _t(e,"MappedResult")}function ny(e){return _t(e,"Never")}function qq(e){return _t(e,"Not")}function sN(e){return _t(e,"Null")}function Vh(e){return _t(e,"Number")}function js(e){return _t(e,"Object")}function ev(e){return _t(e,"Promise")}function tv(e){return _t(e,"Record")}function Phe(e){return bt(e)&&Cc in e&&e[Cc]==="Recursive"}function Pi(e){return _t(e,"Ref")}function qI(e){return _t(e,"RegExp")}function ry(e){return _t(e,"String")}function aN(e){return _t(e,"Symbol")}function kd(e){return _t(e,"TemplateLiteral")}function Hq(e){return _t(e,"This")}function fn(e){return bt(e)&&Ti in e}function Pd(e){return _t(e,"Tuple")}function iy(e){return _t(e,"Undefined")}function _r(e){return _t(e,"Union")}function Wq(e){return _t(e,"Uint8Array")}function Gq(e){return _t(e,"Unknown")}function Kq(e){return _t(e,"Unsafe")}function Yq(e){return _t(e,"Void")}function HI(e){return bt(e)&&qe in e&&bn(e[qe])}function ui(e){return zI(e)||UI(e)||Fh(e)||ty(e)||Qx(e)||Xx(e)||Lh(e)||Bh(e)||Vq(e)||zh(e)||Uh(e)||Bo(e)||Zx(e)||xa(e)||Md(e)||ao(e)||ny(e)||qq(e)||sN(e)||Vh(e)||js(e)||ev(e)||tv(e)||Pi(e)||qI(e)||ry(e)||aN(e)||kd(e)||Hq(e)||Pd(e)||iy(e)||_r(e)||Wq(e)||Gq(e)||Kq(e)||Yq(e)||HI(e)}const Dhe=Object.freeze(Object.defineProperty({__proto__:null,IsAny:zI,IsArgument:UI,IsArray:Fh,IsAsyncIterator:Xx,IsBigInt:Qx,IsBoolean:ty,IsComputed:Lh,IsConstructor:Bh,IsDate:Vq,IsFunction:zh,IsImport:The,IsInteger:Uh,IsIntersect:Bo,IsIterator:Zx,IsKind:HI,IsKindOf:_t,IsLiteral:xa,IsLiteralBoolean:khe,IsLiteralNumber:Mhe,IsLiteralString:Ihe,IsLiteralValue:VI,IsMappedKey:Md,IsMappedResult:ao,IsNever:ny,IsNot:qq,IsNull:sN,IsNumber:Vh,IsObject:js,IsOptional:Bc,IsPromise:ev,IsProperties:Rhe,IsReadonly:oN,IsRecord:tv,IsRecursive:Phe,IsRef:Pi,IsRegExp:qI,IsSchema:ui,IsString:ry,IsSymbol:aN,IsTemplateLiteral:kd,IsThis:Hq,IsTransform:fn,IsTuple:Pd,IsUint8Array:Wq,IsUndefined:iy,IsUnion:_r,IsUnknown:Gq,IsUnsafe:Kq,IsVoid:Yq},Symbol.toStringTag,{value:"Module"}));function Fhe(e){return He(Ro(e,[ul]))}function Lhe(e){return He({...e,[ul]:"Optional"})}function Bhe(e,t){return t===!1?Fhe(e):Lhe(e)}function va(e,t){const n=t??!0;return ao(e)?Jq(e,n):Bhe(e,n)}function zhe(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=va(e[r],t);return n}function Uhe(e,t){return zhe(e.properties,t)}function Jq(e,t){const n=Uhe(e,t);return Gr(n)}function zA(e,t={}){const n=e.every(i=>js(i)),r=ui(t.unevaluatedProperties)?{unevaluatedProperties:t.unevaluatedProperties}:{};return He(t.unevaluatedProperties===!1||ui(t.unevaluatedProperties)||n?{...r,[qe]:"Intersect",type:"object",allOf:e}:{...r,[qe]:"Intersect",allOf:e},t)}function Vhe(e){return e.every(t=>Bc(t))}function qhe(e){return Ro(e,[ul])}function c8(e){return e.map(t=>Bc(t)?qhe(t):t)}function Hhe(e,t){return Vhe(e)?va(zA(c8(e),t)):zA(c8(e),t)}function lN(e,t={}){if(e.length===1)return He(e[0],t);if(e.length===0)return _n(t);if(e.some(n=>fn(n)))throw new Error("Cannot intersect transform types");return Hhe(e,t)}function dl(e,t){if(e.length===1)return He(e[0],t);if(e.length===0)return _n(t);if(e.some(n=>fn(n)))throw new Error("Cannot intersect transform types");return zA(e,t)}function UA(e,t){return He({[qe]:"Union",anyOf:e},t)}function Whe(e){return e.some(t=>Bc(t))}function u8(e){return e.map(t=>Bc(t)?Ghe(t):t)}function Ghe(e){return Ro(e,[ul])}function Khe(e,t){return Whe(e)?va(UA(u8(e),t)):UA(u8(e),t)}function fl(e,t){return e.length===1?He(e[0],t):e.length===0?_n(t):Khe(e,t)}function $r(e,t){return e.length===0?_n(t):e.length===1?He(e[0],t):UA(e,t)}class VA extends Or{}function Yhe(e){return e.replace(/\\\$/g,"$").replace(/\\\*/g,"*").replace(/\\\^/g,"^").replace(/\\\|/g,"|").replace(/\\\(/g,"(").replace(/\\\)/g,")")}function WI(e,t,n){return e[t]===n&&e.charCodeAt(t-1)!==92}function dc(e,t){return WI(e,t,"(")}function kb(e,t){return WI(e,t,")")}function Xq(e,t){return WI(e,t,"|")}function Jhe(e){if(!(dc(e,0)&&kb(e,e.length-1)))return!1;let t=0;for(let n=0;n<e.length;n++)if(dc(e,n)&&(t+=1),kb(e,n)&&(t-=1),t===0&&n!==e.length-1)return!1;return!0}function Xhe(e){return e.slice(1,e.length-1)}function Qhe(e){let t=0;for(let n=0;n<e.length;n++)if(dc(e,n)&&(t+=1),kb(e,n)&&(t-=1),Xq(e,n)&&t===0)return!0;return!1}function Zhe(e){for(let t=0;t<e.length;t++)if(dc(e,t))return!0;return!1}function eme(e){let[t,n]=[0,0];const r=[];for(let o=0;o<e.length;o++)if(dc(e,o)&&(t+=1),kb(e,o)&&(t-=1),Xq(e,o)&&t===0){const s=e.slice(n,o);s.length>0&&r.push(hh(s)),n=o+1}const i=e.slice(n);return i.length>0&&r.push(hh(i)),r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"or",expr:r}}function tme(e){function t(i,o){if(!dc(i,o))throw new VA("TemplateLiteralParser: Index must point to open parens");let s=0;for(let a=o;a<i.length;a++)if(dc(i,a)&&(s+=1),kb(i,a)&&(s-=1),s===0)return[o,a];throw new VA("TemplateLiteralParser: Unclosed group parens in expression")}function n(i,o){for(let s=o;s<i.length;s++)if(dc(i,s))return[o,s];return[o,i.length]}const r=[];for(let i=0;i<e.length;i++)if(dc(e,i)){const[o,s]=t(e,i),a=e.slice(o,s+1);r.push(hh(a)),i=s}else{const[o,s]=n(e,i),a=e.slice(o,s);a.length>0&&r.push(hh(a)),i=s-1}return r.length===0?{type:"const",const:""}:r.length===1?r[0]:{type:"and",expr:r}}function hh(e){return Jhe(e)?hh(Xhe(e)):Qhe(e)?eme(e):Zhe(e)?tme(e):{type:"const",const:Yhe(e)}}function cN(e){return hh(e.slice(1,e.length-1))}class Qq extends Or{}function nme(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="0"&&e.expr[1].type==="const"&&e.expr[1].const==="[1-9][0-9]*"}function rme(e){return e.type==="or"&&e.expr.length===2&&e.expr[0].type==="const"&&e.expr[0].const==="true"&&e.expr[1].type==="const"&&e.expr[1].const==="false"}function ime(e){return e.type==="const"&&e.const===".*"}function cg(e){return nme(e)||ime(e)?!1:rme(e)?!0:e.type==="and"?e.expr.every(t=>cg(t)):e.type==="or"?e.expr.every(t=>cg(t)):e.type==="const"?!0:(()=>{throw new Qq("Unknown expression type")})()}function Zq(e){const t=cN(e.pattern);return cg(t)}class eH extends Or{}function*tH(e){if(e.length===1)return yield*e[0];for(const t of e[0])for(const n of tH(e.slice(1)))yield`${t}${n}`}function*ome(e){return yield*tH(e.expr.map(t=>[...nv(t)]))}function*sme(e){for(const t of e.expr)yield*nv(t)}function*ame(e){return yield e.const}function*nv(e){return e.type==="and"?yield*ome(e):e.type==="or"?yield*sme(e):e.type==="const"?yield*ame(e):(()=>{throw new eH("Unknown expression")})()}function GI(e){const t=cN(e.pattern);return cg(t)?[...nv(t)]:[]}function Tn(e,t){return He({[qe]:"Literal",const:e,type:typeof e},t)}function rv(e){return He({[qe]:"Boolean",type:"boolean"},e)}function iv(e){return He({[qe]:"BigInt",type:"bigint"},e)}function hl(e){return He({[qe]:"Number",type:"number"},e)}function el(e){return He({[qe]:"String",type:"string"},e)}function*lme(e){const t=e.trim().replace(/"|'/g,"");return t==="boolean"?yield rv():t==="number"?yield hl():t==="bigint"?yield iv():t==="string"?yield el():yield(()=>{const n=t.split("|").map(r=>Tn(r.trim()));return n.length===0?_n():n.length===1?n[0]:fl(n)})()}function*cme(e){if(e[1]!=="{"){const t=Tn("$"),n=qA(e.slice(1));return yield*[t,...n]}for(let t=2;t<e.length;t++)if(e[t]==="}"){const n=lme(e.slice(2,t)),r=qA(e.slice(t+1));return yield*[...n,...r]}yield Tn(e)}function*qA(e){for(let t=0;t<e.length;t++)if(e[t]==="$"){const n=Tn(e.slice(0,t)),r=cme(e.slice(t));return yield*[n,...r]}yield Tn(e)}function nH(e){return[...qA(e)]}const KI="(true|false)",ib="(0|[1-9][0-9]*)",YI="(.*)",rH="(?!.*)",ume=`^${KI}$`,mh=`^${ib}$`,ph=`^${YI}$`,iH=`^${rH}$`;class oH extends Or{}function dme(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sH(e,t){return kd(e)?e.pattern.slice(1,e.pattern.length-1):_r(e)?`(${e.anyOf.map(n=>sH(n,t)).join("|")})`:Vh(e)?`${t}${ib}`:Uh(e)?`${t}${ib}`:Qx(e)?`${t}${ib}`:ry(e)?`${t}${YI}`:xa(e)?`${t}${dme(e.const.toString())}`:ty(e)?`${t}${KI}`:(()=>{throw new oH(`Unexpected Kind '${e[qe]}'`)})()}function HA(e){return`^${e.map(t=>sH(t,"")).join("")}$`}function Pb(e){const n=GI(e).map(r=>Tn(r));return fl(n)}function uN(e,t){const n=bn(e)?HA(nH(e)):HA(e);return He({[qe]:"TemplateLiteral",type:"string",pattern:n},t)}function fme(e){return GI(e).map(n=>n.toString())}function hme(e){const t=[];for(const n of e)t.push(...zc(n));return t}function mme(e){return[e.toString()]}function zc(e){return[...new Set(kd(e)?fme(e):_r(e)?hme(e.anyOf):xa(e)?mme(e.const):Vh(e)?["[number]"]:Uh(e)?["[number]"]:[])]}function pme(e,t,n){const r={};for(const i of Object.getOwnPropertyNames(t))r[i]=oy(e,zc(t[i]),n);return r}function gme(e,t,n){return pme(e,t.properties,n)}function aH(e,t,n){const r=gme(e,t,n);return Gr(r)}function lH(e,t){return e.map(n=>JI(n,t))}function yme(e){return e.filter(t=>!ny(t))}function bme(e,t){return lN(yme(lH(e,t)))}function xme(e){return e.some(t=>ny(t))?[]:e}function vme(e,t){return fl(xme(lH(e,t)))}function wme(e,t){return t in e?e[t]:t==="[number]"?fl(e):_n()}function Sme(e,t){return t==="[number]"?e:_n()}function Eme(e,t){return t in e?e[t]:_n()}function JI(e,t){return Bo(e)?bme(e.allOf,t):_r(e)?vme(e.anyOf,t):Pd(e)?wme(e.items??[],t):Fh(e)?Sme(e.items,t):js(e)?Eme(e.properties,t):_n()}function dN(e,t){return t.map(n=>JI(e,n))}function d8(e,t){return fl(dN(e,t))}function Nme(e,t){return dr("Index",[e,t])}function oy(e,t,n){if(Pi(e)||Pi(t)){const r="Index types using Ref parameters require both Type and Key to be of TSchema";if(!ui(e)||!ui(t))throw new Or(r);return dr("Index",[e,t])}return ao(t)?aH(e,t,n):Md(t)?cH(e,t,n):He(ui(t)?d8(e,zc(t)):d8(e,t),n)}function Ome(e,t,n){return{[t]:oy(e,[t],io(n))}}function _me(e,t,n){return t.reduce((r,i)=>({...r,...Ome(e,i,n)}),{})}function $me(e,t,n){return _me(e,t.keys,n)}function cH(e,t,n){const r=$me(e,t,n);return Gr(r)}function ov(e,t){return He({[qe]:"Iterator",type:"Iterator",items:e},t)}function Cme(e){const t=[];for(let n in e)Bc(e[n])||t.push(n);return t}function jme(e,t){const n=Cme(e),r=n.length>0?{[qe]:"Object",type:"object",properties:e,required:n}:{[qe]:"Object",type:"object",properties:e};return He(r,t)}var nr=jme;function fN(e,t){return He({[qe]:"Promise",type:"Promise",item:e},t)}function Ame(e){return He(Ro(e,[Ph]))}function Tme(e){return He({...e,[Ph]:"Readonly"})}function Rme(e,t){return t===!1?Ame(e):Tme(e)}function ml(e,t){const n=t??!0;return ao(e)?uH(e,n):Rme(e,n)}function Ime(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=ml(e[r],t);return n}function Mme(e,t){return Ime(e.properties,t)}function uH(e,t){const n=Mme(e,t);return Gr(n)}function Uc(e,t){return He(e.length>0?{[qe]:"Tuple",type:"array",items:e,additionalItems:!1,minItems:e.length,maxItems:e.length}:{[qe]:"Tuple",type:"array",minItems:e.length,maxItems:e.length},t)}function XI(e,t){return e.includes(t)}function kme(e,t){return e.every(n=>XI(t,n))}function dH(e){return[...new Set(e)]}function fH(e,t){return e.filter(n=>t.includes(n))}function Pme(e,t){return[...e,...t]}function Dme(e,t){return e.filter(n=>!t.includes(n))}function Fme(e,t){return e.reduce((n,r)=>fH(n,r),t)}function hH(e){return e.length===1?e[0]:e.length>1?Fme(e.slice(1),e[0]):[]}function mH(e){const t=[];for(const n of e)t.push(...n);return t}function pH(e,t){return e in t?ss(e,t[e]):Gr(t)}function Lme(e){return{[e]:Tn(e)}}function Bme(e){const t={};for(const n of e)t[n]=Tn(n);return t}function zme(e,t){return XI(t,e)?Lme(e):Bme(t)}function Ume(e,t){const n=zme(e,t);return pH(e,n)}function C0(e,t){return t.map(n=>ss(e,n))}function Vme(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(t))n[r]=ss(e,t[r]);return n}function ss(e,t){const n={...t};return Bc(t)?va(ss(e,Ro(t,[ul]))):oN(t)?ml(ss(e,Ro(t,[Ph]))):ao(t)?pH(e,t.properties):Md(t)?Ume(e,t.keys):Bh(t)?Jx(C0(e,t.parameters),ss(e,t.returns),n):zh(t)?Dh(C0(e,t.parameters),ss(e,t.returns),n):Xx(t)?Yx(ss(e,t.items),n):Zx(t)?ov(ss(e,t.items),n):Bo(t)?dl(C0(e,t.allOf),n):_r(t)?$r(C0(e,t.anyOf),n):Pd(t)?Uc(C0(e,t.items??[]),n):js(t)?nr(Vme(e,t.properties),n):Fh(t)?ey(ss(e,t.items),n):ev(t)?fN(ss(e,t.item),n):t}function gH(e,t){const n={};for(const r of e)n[r]=ss(r,t);return n}function QI(e,t,n){const r=ui(e)?zc(e):e,i=t({[qe]:"MappedKey",keys:r}),o=gH(r,i);return nr(o,n)}function Dd(...e){const[t,n]=typeof e[0]=="string"?[e[0],e[1]]:[e[0].$id,e[1]];if(typeof t!="string")throw new Or("Ref: $ref must be a string");return He({[qe]:"Ref",$ref:t},n)}function yH(e){const t=[];for(const n of e)t.push(Fd(n));return t}function qme(e){const t=yH(e);return mH(t)}function Hme(e){const t=yH(e);return hH(t)}function Wme(e){return e.map((t,n)=>n.toString())}function Gme(e){return["[number]"]}function Kme(e){return globalThis.Object.getOwnPropertyNames(e)}function Yme(e){return WA?globalThis.Object.getOwnPropertyNames(e).map(n=>n[0]==="^"&&n[n.length-1]==="$"?n.slice(1,n.length-1):n):[]}function Fd(e){return Bo(e)?qme(e.allOf):_r(e)?Hme(e.anyOf):Pd(e)?Wme(e.items??[]):Fh(e)?Gme(e.items):js(e)?Kme(e.properties):tv(e)?Yme(e.patternProperties):[]}let WA=!1;function gh(e){WA=!0;const t=Fd(e);return WA=!1,`^(${t.map(r=>`(${r})`).join("|")})$`}function Jme(e,t){return dr("KeyOf",[dr(e,t)])}function Xme(e){return dr("KeyOf",[Dd(e)])}function Qme(e,t){const n=Fd(e),r=bH(n),i=fl(r);return He(i,t)}function bH(e){return e.map(t=>t==="[number]"?hl():Tn(t))}function sv(e,t){return Lh(e)?Jme(e.target,e.parameters):Pi(e)?Xme(e.$ref):ao(e)?xH(e,t):Qme(e,t)}function Zme(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=sv(e[r],io(t));return n}function epe(e,t){return Zme(e.properties,t)}function xH(e,t){const n=epe(e,t);return Gr(n)}function ZI(e){const t=Fd(e),n=dN(e,t);return t.map((r,i)=>[t[i],n[i]])}function tpe(e){return e.allOf.every(t=>qh(t))}function npe(e){return e.anyOf.some(t=>qh(t))}function rpe(e){return!qh(e.not)}function qh(e){return e[qe]==="Intersect"?tpe(e):e[qe]==="Union"?npe(e):e[qe]==="Not"?rpe(e):e[qe]==="Undefined"}function vH(e){switch(e.errorType){case Se.ArrayContains:return"Expected array to contain at least one matching value";case Se.ArrayMaxContains:return`Expected array to contain no more than ${e.schema.maxContains} matching values`;case Se.ArrayMinContains:return`Expected array to contain at least ${e.schema.minContains} matching values`;case Se.ArrayMaxItems:return`Expected array length to be less or equal to ${e.schema.maxItems}`;case Se.ArrayMinItems:return`Expected array length to be greater or equal to ${e.schema.minItems}`;case Se.ArrayUniqueItems:return"Expected array elements to be unique";case Se.Array:return"Expected array";case Se.AsyncIterator:return"Expected AsyncIterator";case Se.BigIntExclusiveMaximum:return`Expected bigint to be less than ${e.schema.exclusiveMaximum}`;case Se.BigIntExclusiveMinimum:return`Expected bigint to be greater than ${e.schema.exclusiveMinimum}`;case Se.BigIntMaximum:return`Expected bigint to be less or equal to ${e.schema.maximum}`;case Se.BigIntMinimum:return`Expected bigint to be greater or equal to ${e.schema.minimum}`;case Se.BigIntMultipleOf:return`Expected bigint to be a multiple of ${e.schema.multipleOf}`;case Se.BigInt:return"Expected bigint";case Se.Boolean:return"Expected boolean";case Se.DateExclusiveMinimumTimestamp:return`Expected Date timestamp to be greater than ${e.schema.exclusiveMinimumTimestamp}`;case Se.DateExclusiveMaximumTimestamp:return`Expected Date timestamp to be less than ${e.schema.exclusiveMaximumTimestamp}`;case Se.DateMinimumTimestamp:return`Expected Date timestamp to be greater or equal to ${e.schema.minimumTimestamp}`;case Se.DateMaximumTimestamp:return`Expected Date timestamp to be less or equal to ${e.schema.maximumTimestamp}`;case Se.DateMultipleOfTimestamp:return`Expected Date timestamp to be a multiple of ${e.schema.multipleOfTimestamp}`;case Se.Date:return"Expected Date";case Se.Function:return"Expected function";case Se.IntegerExclusiveMaximum:return`Expected integer to be less than ${e.schema.exclusiveMaximum}`;case Se.IntegerExclusiveMinimum:return`Expected integer to be greater than ${e.schema.exclusiveMinimum}`;case Se.IntegerMaximum:return`Expected integer to be less or equal to ${e.schema.maximum}`;case Se.IntegerMinimum:return`Expected integer to be greater or equal to ${e.schema.minimum}`;case Se.IntegerMultipleOf:return`Expected integer to be a multiple of ${e.schema.multipleOf}`;case Se.Integer:return"Expected integer";case Se.IntersectUnevaluatedProperties:return"Unexpected property";case Se.Intersect:return"Expected all values to match";case Se.Iterator:return"Expected Iterator";case Se.Literal:return`Expected ${typeof e.schema.const=="string"?`'${e.schema.const}'`:e.schema.const}`;case Se.Never:return"Never";case Se.Not:return"Value should not match";case Se.Null:return"Expected null";case Se.NumberExclusiveMaximum:return`Expected number to be less than ${e.schema.exclusiveMaximum}`;case Se.NumberExclusiveMinimum:return`Expected number to be greater than ${e.schema.exclusiveMinimum}`;case Se.NumberMaximum:return`Expected number to be less or equal to ${e.schema.maximum}`;case Se.NumberMinimum:return`Expected number to be greater or equal to ${e.schema.minimum}`;case Se.NumberMultipleOf:return`Expected number to be a multiple of ${e.schema.multipleOf}`;case Se.Number:return"Expected number";case Se.Object:return"Expected object";case Se.ObjectAdditionalProperties:return"Unexpected property";case Se.ObjectMaxProperties:return`Expected object to have no more than ${e.schema.maxProperties} properties`;case Se.ObjectMinProperties:return`Expected object to have at least ${e.schema.minProperties} properties`;case Se.ObjectRequiredProperty:return"Expected required property";case Se.Promise:return"Expected Promise";case Se.RegExp:return"Expected string to match regular expression";case Se.StringFormatUnknown:return`Unknown format '${e.schema.format}'`;case Se.StringFormat:return`Expected string to match '${e.schema.format}' format`;case Se.StringMaxLength:return`Expected string length less or equal to ${e.schema.maxLength}`;case Se.StringMinLength:return`Expected string length greater or equal to ${e.schema.minLength}`;case Se.StringPattern:return`Expected string to match '${e.schema.pattern}'`;case Se.String:return"Expected string";case Se.Symbol:return"Expected symbol";case Se.TupleLength:return`Expected tuple to have ${e.schema.maxItems||0} elements`;case Se.Tuple:return"Expected tuple";case Se.Uint8ArrayMaxByteLength:return`Expected byte length less or equal to ${e.schema.maxByteLength}`;case Se.Uint8ArrayMinByteLength:return`Expected byte length greater or equal to ${e.schema.minByteLength}`;case Se.Uint8Array:return"Expected Uint8Array";case Se.Undefined:return"Expected undefined";case Se.Union:return"Expected union value";case Se.Void:return"Expected void";case Se.Kind:return`Expected kind '${e.schema[qe]}'`;default:return"Unknown error type"}}let wH=vH;function ipe(e){wH=e}function ope(){return wH}class spe extends Or{constructor(t){super(`Unable to dereference schema with $id '${t.$ref}'`),this.schema=t}}function ape(e,t){const n=t.find(r=>r.$id===e.$ref);if(n===void 0)throw new spe(e);return lo(n,t)}function av(e,t){return!_o(e.$id)||t.some(n=>n.$id===e.$id)||t.push(e),t}function lo(e,t){return e[qe]==="This"||e[qe]==="Ref"?ape(e,t):e}class lpe extends Or{constructor(t){super("Unable to hash value"),this.value=t}}var Io;(function(e){e[e.Undefined=0]="Undefined",e[e.Null=1]="Null",e[e.Boolean=2]="Boolean",e[e.Number=3]="Number",e[e.String=4]="String",e[e.Object=5]="Object",e[e.Array=6]="Array",e[e.Date=7]="Date",e[e.Uint8Array=8]="Uint8Array",e[e.Symbol=9]="Symbol",e[e.BigInt=10]="BigInt"})(Io||(Io={}));let xp=BigInt("14695981039346656037");const[cpe,upe]=[BigInt("1099511628211"),BigInt("18446744073709551616")],dpe=Array.from({length:256}).map((e,t)=>BigInt(t)),SH=new Float64Array(1),EH=new DataView(SH.buffer),NH=new Uint8Array(SH.buffer);function*fpe(e){const t=e===0?1:Math.ceil(Math.floor(Math.log2(e)+1)/8);for(let n=0;n<t;n++)yield e>>8*(t-1-n)&255}function hpe(e){hi(Io.Array);for(const t of e)ug(t)}function mpe(e){hi(Io.Boolean),hi(e?1:0)}function ppe(e){hi(Io.BigInt),EH.setBigInt64(0,e);for(const t of NH)hi(t)}function gpe(e){hi(Io.Date),ug(e.getTime())}function ype(e){hi(Io.Null)}function bpe(e){hi(Io.Number),EH.setFloat64(0,e);for(const t of NH)hi(t)}function xpe(e){hi(Io.Object);for(const t of globalThis.Object.getOwnPropertyNames(e).sort())ug(t),ug(e[t])}function vpe(e){hi(Io.String);for(let t=0;t<e.length;t++)for(const n of fpe(e.charCodeAt(t)))hi(n)}function wpe(e){hi(Io.Symbol),ug(e.description)}function Spe(e){hi(Io.Uint8Array);for(let t=0;t<e.length;t++)hi(e[t])}function Epe(e){return hi(Io.Undefined)}function ug(e){if(ni(e))return hpe(e);if(Z2(e))return mpe(e);if(ic(e))return ppe(e);if(Gx(e))return gpe(e);if(Q2(e))return ype();if(vt(e))return bpe(e);if(fi(e))return xpe(e);if(_o(e))return vpe(e);if(eN(e))return wpe(e);if(MI(e))return Spe(e);if(ba(e))return Epe();throw new lpe(e)}function hi(e){xp=xp^dpe[e],xp=xp*cpe%upe}function e4(e){return xp=BigInt("14695981039346656037"),ug(e),xp}function yh(e){return He({[qe]:"Any"},e)}function Hh(e){return He({[qe]:"Unknown"},e)}class Npe extends Or{}const Ope=["Argument","Any","Array","AsyncIterator","BigInt","Boolean","Computed","Constructor","Date","Enum","Function","Integer","Intersect","Iterator","Literal","MappedKey","MappedResult","Not","Null","Number","Object","Promise","Record","Ref","RegExp","String","Symbol","TemplateLiteral","This","Tuple","Undefined","Union","Uint8Array","Unknown","Void"];function OH(e){try{return new RegExp(e),!0}catch{return!1}}function t4(e){if(!bn(e))return!1;for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n>=7&&n<=13||n===27||n===127)return!1}return!0}function _H(e){return n4(e)||jn(e)}function j0(e){return Zn(e)||FI(e)}function dn(e){return Zn(e)||To(e)}function n4(e){return Zn(e)||Id(e)}function tn(e){return Zn(e)||bn(e)}function _pe(e){return Zn(e)||bn(e)&&t4(e)&&OH(e)}function $pe(e){return Zn(e)||bn(e)&&t4(e)}function $H(e){return Zn(e)||jn(e)}function Cpe(e){return bt(e)&&e[Ph]==="Readonly"}function Db(e){return bt(e)&&e[ul]==="Optional"}function ps(e){return $t(e,"Any")&&tn(e.$id)}function CH(e){return $t(e,"Argument")&&To(e.index)}function Ld(e){return $t(e,"Array")&&e.type==="array"&&tn(e.$id)&&jn(e.items)&&dn(e.minItems)&&dn(e.maxItems)&&n4(e.uniqueItems)&&$H(e.contains)&&dn(e.minContains)&&dn(e.maxContains)}function hN(e){return $t(e,"AsyncIterator")&&e.type==="AsyncIterator"&&tn(e.$id)&&jn(e.items)}function lv(e){return $t(e,"BigInt")&&e.type==="bigint"&&tn(e.$id)&&j0(e.exclusiveMaximum)&&j0(e.exclusiveMinimum)&&j0(e.maximum)&&j0(e.minimum)&&j0(e.multipleOf)}function Bd(e){return $t(e,"Boolean")&&e.type==="boolean"&&tn(e.$id)}function jH(e){return $t(e,"Computed")&&bn(e.target)&&Kn(e.parameters)&&e.parameters.every(t=>jn(t))}function cv(e){return $t(e,"Constructor")&&e.type==="Constructor"&&tn(e.$id)&&Kn(e.parameters)&&e.parameters.every(t=>jn(t))&&jn(e.returns)}function uv(e){return $t(e,"Date")&&e.type==="Date"&&tn(e.$id)&&dn(e.exclusiveMaximumTimestamp)&&dn(e.exclusiveMinimumTimestamp)&&dn(e.maximumTimestamp)&&dn(e.minimumTimestamp)&&dn(e.multipleOfTimestamp)}function dv(e){return $t(e,"Function")&&e.type==="Function"&&tn(e.$id)&&Kn(e.parameters)&&e.parameters.every(t=>jn(t))&&jn(e.returns)}function jpe(e){return $t(e,"Import")&&BA(e,"$defs")&&bt(e.$defs)&&mN(e.$defs)&&BA(e,"$ref")&&bn(e.$ref)&&e.$ref in e.$defs}function pl(e){return $t(e,"Integer")&&e.type==="integer"&&tn(e.$id)&&dn(e.exclusiveMaximum)&&dn(e.exclusiveMinimum)&&dn(e.maximum)&&dn(e.minimum)&&dn(e.multipleOf)}function mN(e){return bt(e)&&Object.entries(e).every(([t,n])=>t4(t)&&jn(n))}function zd(e){return $t(e,"Intersect")&&!(bn(e.type)&&e.type!=="object")&&Kn(e.allOf)&&e.allOf.every(t=>jn(t)&&!kH(t))&&tn(e.type)&&(n4(e.unevaluatedProperties)||$H(e.unevaluatedProperties))&&tn(e.$id)}function pN(e){return $t(e,"Iterator")&&e.type==="Iterator"&&tn(e.$id)&&jn(e.items)}function $t(e,t){return bt(e)&&qe in e&&e[qe]===t}function gN(e){return Vc(e)&&bn(e.const)}function yN(e){return Vc(e)&&To(e.const)}function r4(e){return Vc(e)&&Id(e.const)}function Vc(e){return $t(e,"Literal")&&tn(e.$id)&&AH(e.const)}function AH(e){return Id(e)||To(e)||bn(e)}function TH(e){return $t(e,"MappedKey")&&Kn(e.keys)&&e.keys.every(t=>To(t)||bn(t))}function RH(e){return $t(e,"MappedResult")&&mN(e.properties)}function qc(e){return $t(e,"Never")&&bt(e.not)&&Object.getOwnPropertyNames(e.not).length===0}function bh(e){return $t(e,"Not")&&jn(e.not)}function bN(e){return $t(e,"Null")&&e.type==="null"&&tn(e.$id)}function Ri(e){return $t(e,"Number")&&e.type==="number"&&tn(e.$id)&&dn(e.exclusiveMaximum)&&dn(e.exclusiveMinimum)&&dn(e.maximum)&&dn(e.minimum)&&dn(e.multipleOf)}function In(e){return $t(e,"Object")&&e.type==="object"&&tn(e.$id)&&mN(e.properties)&&_H(e.additionalProperties)&&dn(e.minProperties)&&dn(e.maxProperties)}function xN(e){return $t(e,"Promise")&&e.type==="Promise"&&tn(e.$id)&&jn(e.item)}function qr(e){return $t(e,"Record")&&e.type==="object"&&tn(e.$id)&&_H(e.additionalProperties)&&bt(e.patternProperties)&&(t=>{const n=Object.getOwnPropertyNames(t.patternProperties);return n.length===1&&OH(n[0])&&bt(t.patternProperties)&&jn(t.patternProperties[n[0]])})(e)}function Ape(e){return bt(e)&&Cc in e&&e[Cc]==="Recursive"}function IH(e){return $t(e,"Ref")&&tn(e.$id)&&bn(e.$ref)}function dg(e){return $t(e,"RegExp")&&tn(e.$id)&&bn(e.source)&&bn(e.flags)&&dn(e.maxLength)&&dn(e.minLength)}function gs(e){return $t(e,"String")&&e.type==="string"&&tn(e.$id)&&dn(e.minLength)&&dn(e.maxLength)&&_pe(e.pattern)&&$pe(e.format)}function fg(e){return $t(e,"Symbol")&&e.type==="symbol"&&tn(e.$id)}function hg(e){return $t(e,"TemplateLiteral")&&e.type==="string"&&bn(e.pattern)&&e.pattern[0]==="^"&&e.pattern[e.pattern.length-1]==="$"}function MH(e){return $t(e,"This")&&tn(e.$id)&&bn(e.$ref)}function kH(e){return bt(e)&&Ti in e}function fv(e){return $t(e,"Tuple")&&e.type==="array"&&tn(e.$id)&&To(e.minItems)&&To(e.maxItems)&&e.minItems===e.maxItems&&(Zn(e.items)&&Zn(e.additionalItems)&&e.minItems===0||Kn(e.items)&&e.items.every(t=>jn(t)))}function yd(e){return $t(e,"Undefined")&&e.type==="undefined"&&tn(e.$id)}function Tpe(e){return ca(e)&&e.anyOf.every(t=>gN(t)||yN(t))}function ca(e){return $t(e,"Union")&&tn(e.$id)&&bt(e)&&Kn(e.anyOf)&&e.anyOf.every(t=>jn(t))}function sy(e){return $t(e,"Uint8Array")&&e.type==="Uint8Array"&&tn(e.$id)&&dn(e.minByteLength)&&dn(e.maxByteLength)}function ys(e){return $t(e,"Unknown")&&tn(e.$id)}function PH(e){return $t(e,"Unsafe")}function hv(e){return $t(e,"Void")&&e.type==="void"&&tn(e.$id)}function DH(e){return bt(e)&&qe in e&&bn(e[qe])&&!Ope.includes(e[qe])}function jn(e){return bt(e)&&(ps(e)||CH(e)||Ld(e)||Bd(e)||lv(e)||hN(e)||jH(e)||cv(e)||uv(e)||dv(e)||pl(e)||zd(e)||pN(e)||Vc(e)||TH(e)||RH(e)||qc(e)||bh(e)||bN(e)||Ri(e)||In(e)||xN(e)||qr(e)||IH(e)||dg(e)||gs(e)||fg(e)||hg(e)||MH(e)||fv(e)||yd(e)||ca(e)||sy(e)||ys(e)||PH(e)||hv(e)||DH(e))}const Rpe=Object.freeze(Object.defineProperty({__proto__:null,IsAny:ps,IsArgument:CH,IsArray:Ld,IsAsyncIterator:hN,IsBigInt:lv,IsBoolean:Bd,IsComputed:jH,IsConstructor:cv,IsDate:uv,IsFunction:dv,IsImport:jpe,IsInteger:pl,IsIntersect:zd,IsIterator:pN,IsKind:DH,IsKindOf:$t,IsLiteral:Vc,IsLiteralBoolean:r4,IsLiteralNumber:yN,IsLiteralString:gN,IsLiteralValue:AH,IsMappedKey:TH,IsMappedResult:RH,IsNever:qc,IsNot:bh,IsNull:bN,IsNumber:Ri,IsObject:In,IsOptional:Db,IsPromise:xN,IsProperties:mN,IsReadonly:Cpe,IsRecord:qr,IsRecursive:Ape,IsRef:IH,IsRegExp:dg,IsSchema:jn,IsString:gs,IsSymbol:fg,IsTemplateLiteral:hg,IsThis:MH,IsTransform:kH,IsTuple:fv,IsUint8Array:sy,IsUndefined:yd,IsUnion:ca,IsUnionLiteral:Tpe,IsUnknown:ys,IsUnsafe:PH,IsVoid:hv,TypeGuardUnknownTypeError:Npe},Symbol.toStringTag,{value:"Module"}));class FH extends Or{}var Oe;(function(e){e[e.Union=0]="Union",e[e.True=1]="True",e[e.False=2]="False"})(Oe||(Oe={}));function bs(e){return e===Oe.False?e:Oe.True}function ay(e){throw new FH(e)}function hr(e){return qc(e)||zd(e)||ca(e)||ys(e)||ps(e)}function mr(e,t){return qc(t)?zH():zd(t)?vN(e,t):ca(t)?o4(e,t):ys(t)?HH():ps(t)?i4():ay("StructuralRight")}function i4(e,t){return Oe.True}function Ipe(e,t){return zd(t)?vN(e,t):ca(t)&&t.anyOf.some(n=>ps(n)||ys(n))?Oe.True:ca(t)?Oe.Union:ys(t)||ps(t)?Oe.True:Oe.Union}function Mpe(e,t){return ys(e)?Oe.False:ps(e)?Oe.Union:qc(e)?Oe.True:Oe.False}function kpe(e,t){return In(t)&&wN(t)?Oe.True:hr(t)?mr(e,t):Ld(t)?bs(en(e.items,t.items)):Oe.False}function Ppe(e,t){return hr(t)?mr(e,t):hN(t)?bs(en(e.items,t.items)):Oe.False}function Dpe(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):lv(t)?Oe.True:Oe.False}function LH(e,t){return r4(e)||Bd(e)?Oe.True:Oe.False}function Fpe(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):Bd(t)?Oe.True:Oe.False}function Lpe(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):cv(t)?e.parameters.length>t.parameters.length?Oe.False:e.parameters.every((n,r)=>bs(en(t.parameters[r],n))===Oe.True)?bs(en(e.returns,t.returns)):Oe.False:Oe.False}function Bpe(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):uv(t)?Oe.True:Oe.False}function zpe(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):dv(t)?e.parameters.length>t.parameters.length?Oe.False:e.parameters.every((n,r)=>bs(en(t.parameters[r],n))===Oe.True)?bs(en(e.returns,t.returns)):Oe.False:Oe.False}function BH(e,t){return Vc(e)&&To(e.const)||Ri(e)||pl(e)?Oe.True:Oe.False}function Upe(e,t){return pl(t)||Ri(t)?Oe.True:hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):Oe.False}function vN(e,t){return t.allOf.every(n=>en(e,n)===Oe.True)?Oe.True:Oe.False}function Vpe(e,t){return e.allOf.some(n=>en(n,t)===Oe.True)?Oe.True:Oe.False}function qpe(e,t){return hr(t)?mr(e,t):pN(t)?bs(en(e.items,t.items)):Oe.False}function Hpe(e,t){return Vc(t)&&t.const===e.const?Oe.True:hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):gs(t)?qH(e):Ri(t)?UH(e):pl(t)?BH(e):Bd(t)?LH(e):Oe.False}function zH(e,t){return Oe.False}function Wpe(e,t){return Oe.True}function f8(e){let[t,n]=[e,0];for(;bh(t);)t=t.not,n+=1;return n%2===0?t:Hh()}function Gpe(e,t){return bh(e)?en(f8(e),t):bh(t)?en(e,f8(t)):ay("Invalid fallthrough for Not")}function Kpe(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):bN(t)?Oe.True:Oe.False}function UH(e,t){return yN(e)||Ri(e)||pl(e)?Oe.True:Oe.False}function Ype(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):pl(t)||Ri(t)?Oe.True:Oe.False}function oo(e,t){return Object.getOwnPropertyNames(e.properties).length===t}function h8(e){return wN(e)}function m8(e){return oo(e,0)||oo(e,1)&&"description"in e.properties&&ca(e.properties.description)&&e.properties.description.anyOf.length===2&&(gs(e.properties.description.anyOf[0])&&yd(e.properties.description.anyOf[1])||gs(e.properties.description.anyOf[1])&&yd(e.properties.description.anyOf[0]))}function TC(e){return oo(e,0)}function p8(e){return oo(e,0)}function Jpe(e){return oo(e,0)}function Xpe(e){return oo(e,0)}function Qpe(e){return wN(e)}function Zpe(e){const t=hl();return oo(e,0)||oo(e,1)&&"length"in e.properties&&bs(en(e.properties.length,t))===Oe.True}function ege(e){return oo(e,0)}function wN(e){const t=hl();return oo(e,0)||oo(e,1)&&"length"in e.properties&&bs(en(e.properties.length,t))===Oe.True}function tge(e){const t=Dh([yh()],yh());return oo(e,0)||oo(e,1)&&"then"in e.properties&&bs(en(e.properties.then,t))===Oe.True}function VH(e,t){return en(e,t)===Oe.False||Db(e)&&!Db(t)?Oe.False:Oe.True}function pi(e,t){return ys(e)?Oe.False:ps(e)?Oe.Union:qc(e)||gN(e)&&h8(t)||yN(e)&&TC(t)||r4(e)&&p8(t)||fg(e)&&m8(t)||lv(e)&&Jpe(t)||gs(e)&&h8(t)||fg(e)&&m8(t)||Ri(e)&&TC(t)||pl(e)&&TC(t)||Bd(e)&&p8(t)||sy(e)&&Qpe(t)||uv(e)&&Xpe(t)||cv(e)&&ege(t)||dv(e)&&Zpe(t)?Oe.True:qr(e)&&gs(GA(e))?t[Cc]==="Record"?Oe.True:Oe.False:qr(e)&&Ri(GA(e))?oo(t,0)?Oe.True:Oe.False:Oe.False}function nge(e,t){return hr(t)?mr(e,t):qr(t)?As(e,t):In(t)?(()=>{for(const n of Object.getOwnPropertyNames(t.properties)){if(!(n in e.properties)&&!Db(t.properties[n]))return Oe.False;if(Db(t.properties[n]))return Oe.True;if(VH(e.properties[n],t.properties[n])===Oe.False)return Oe.False}return Oe.True})():Oe.False}function rge(e,t){return hr(t)?mr(e,t):In(t)&&tge(t)?Oe.True:xN(t)?bs(en(e.item,t.item)):Oe.False}function GA(e){return mh in e.patternProperties?hl():ph in e.patternProperties?el():ay("Unknown record key pattern")}function KA(e){return mh in e.patternProperties?e.patternProperties[mh]:ph in e.patternProperties?e.patternProperties[ph]:ay("Unable to get record value schema")}function As(e,t){const[n,r]=[GA(t),KA(t)];return gN(e)&&Ri(n)&&bs(en(e,r))===Oe.True?Oe.True:sy(e)&&Ri(n)||gs(e)&&Ri(n)||Ld(e)&&Ri(n)?en(e,r):In(e)?(()=>{for(const i of Object.getOwnPropertyNames(e.properties))if(VH(r,e.properties[i])===Oe.False)return Oe.False;return Oe.True})():Oe.False}function ige(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?en(KA(e),KA(t)):Oe.False}function oge(e,t){const n=dg(e)?el():e,r=dg(t)?el():t;return en(n,r)}function qH(e,t){return Vc(e)&&bn(e.const)||gs(e)?Oe.True:Oe.False}function sge(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):gs(t)?Oe.True:Oe.False}function age(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):fg(t)?Oe.True:Oe.False}function lge(e,t){return hg(e)?en(Pb(e),t):hg(t)?en(e,Pb(t)):ay("Invalid fallthrough for TemplateLiteral")}function cge(e,t){return Ld(t)&&e.items!==void 0&&e.items.every(n=>en(n,t.items)===Oe.True)}function uge(e,t){return qc(e)?Oe.True:ys(e)?Oe.False:ps(e)?Oe.Union:Oe.False}function dge(e,t){return hr(t)?mr(e,t):In(t)&&wN(t)||Ld(t)&&cge(e,t)?Oe.True:fv(t)?Zn(e.items)&&!Zn(t.items)||!Zn(e.items)&&Zn(t.items)?Oe.False:Zn(e.items)&&!Zn(t.items)||e.items.every((n,r)=>en(n,t.items[r])===Oe.True)?Oe.True:Oe.False:Oe.False}function fge(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):sy(t)?Oe.True:Oe.False}function hge(e,t){return hr(t)?mr(e,t):In(t)?pi(e,t):qr(t)?As(e,t):hv(t)?gge(e):yd(t)?Oe.True:Oe.False}function o4(e,t){return t.anyOf.some(n=>en(e,n)===Oe.True)?Oe.True:Oe.False}function mge(e,t){return e.anyOf.every(n=>en(n,t)===Oe.True)?Oe.True:Oe.False}function HH(e,t){return Oe.True}function pge(e,t){return qc(t)?zH():zd(t)?vN(e,t):ca(t)?o4(e,t):ps(t)?i4():gs(t)?qH(e):Ri(t)?UH(e):pl(t)?BH(e):Bd(t)?LH(e):Ld(t)?Mpe(e):fv(t)?uge(e):In(t)?pi(e,t):ys(t)?Oe.True:Oe.False}function gge(e,t){return yd(e)||yd(e)?Oe.True:Oe.False}function yge(e,t){return zd(t)?vN(e,t):ca(t)?o4(e,t):ys(t)?HH():ps(t)?i4():In(t)?pi(e,t):hv(t)?Oe.True:Oe.False}function en(e,t){return hg(e)||hg(t)?lge(e,t):dg(e)||dg(t)?oge(e,t):bh(e)||bh(t)?Gpe(e,t):ps(e)?Ipe(e,t):Ld(e)?kpe(e,t):lv(e)?Dpe(e,t):Bd(e)?Fpe(e,t):hN(e)?Ppe(e,t):cv(e)?Lpe(e,t):uv(e)?Bpe(e,t):dv(e)?zpe(e,t):pl(e)?Upe(e,t):zd(e)?Vpe(e,t):pN(e)?qpe(e,t):Vc(e)?Hpe(e,t):qc(e)?Wpe():bN(e)?Kpe(e,t):Ri(e)?Ype(e,t):In(e)?nge(e,t):qr(e)?ige(e,t):gs(e)?sge(e,t):fg(e)?age(e,t):fv(e)?dge(e,t):xN(e)?rge(e,t):sy(e)?fge(e,t):yd(e)?hge(e,t):ca(e)?mge(e,t):ys(e)?pge(e,t):hv(e)?yge(e,t):ay(`Unknown left type operand '${e[qe]}'`)}function ly(e,t){return en(e,t)}function bge(e,t,n,r,i){const o={};for(const s of globalThis.Object.getOwnPropertyNames(e))o[s]=mv(e[s],t,n,r,io(i));return o}function xge(e,t,n,r,i){return bge(e.properties,t,n,r,i)}function WH(e,t,n,r,i){const o=xge(e,t,n,r,i);return Gr(o)}function vge(e,t,n,r){const i=ly(e,t);return i===Oe.Union?$r([n,r]):i===Oe.True?n:r}function mv(e,t,n,r,i){return ao(e)?WH(e,t,n,r,i):Md(e)?He(GH(e,t,n,r,i)):He(vge(e,t,n,r),i)}function wge(e,t,n,r,i){return{[e]:mv(Tn(e),t,n,r,io(i))}}function Sge(e,t,n,r,i){return e.reduce((o,s)=>({...o,...wge(s,t,n,r,i)}),{})}function Ege(e,t,n,r,i){return Sge(e.keys,t,n,r,i)}function GH(e,t,n,r,i){const o=Ege(e,t,n,r,i);return Gr(o)}class Nge extends Or{constructor(t){super("Unknown type"),this.schema=t}}function Oge(e){return e[qe]==="Any"||e[qe]==="Unknown"}function At(e){return e!==void 0}function _ge(e,t,n){return!0}function $ge(e,t,n){return!0}function Cge(e,t,n){if(!ni(n)||At(e.minItems)&&!(n.length>=e.minItems)||At(e.maxItems)&&!(n.length<=e.maxItems)||!n.every(o=>zr(e.items,t,o))||e.uniqueItems===!0&&!function(){const o=new Set;for(const s of n){const a=e4(s);if(o.has(a))return!1;o.add(a)}return!0}())return!1;if(!(At(e.contains)||vt(e.minContains)||vt(e.maxContains)))return!0;const r=At(e.contains)?e.contains:_n(),i=n.reduce((o,s)=>zr(r,t,s)?o+1:o,0);return!(i===0||vt(e.minContains)&&i<e.minContains||vt(e.maxContains)&&i>e.maxContains)}function jge(e,t,n){return Mq(n)}function Age(e,t,n){return!(!ic(n)||At(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||At(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||At(e.maximum)&&!(n<=e.maximum)||At(e.minimum)&&!(n>=e.minimum)||At(e.multipleOf)&&n%e.multipleOf!==BigInt(0))}function Tge(e,t,n){return Z2(n)}function Rge(e,t,n){return zr(e.returns,t,n.prototype)}function Ige(e,t,n){return!(!Gx(n)||At(e.exclusiveMaximumTimestamp)&&!(n.getTime()<e.exclusiveMaximumTimestamp)||At(e.exclusiveMinimumTimestamp)&&!(n.getTime()>e.exclusiveMinimumTimestamp)||At(e.maximumTimestamp)&&!(n.getTime()<=e.maximumTimestamp)||At(e.minimumTimestamp)&&!(n.getTime()>=e.minimumTimestamp)||At(e.multipleOfTimestamp)&&n.getTime()%e.multipleOfTimestamp!==0)}function Mge(e,t,n){return PI(n)}function kge(e,t,n){const r=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return zr(i,[...t,...r],n)}function Pge(e,t,n){return!(!Dq(n)||At(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||At(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||At(e.maximum)&&!(n<=e.maximum)||At(e.minimum)&&!(n>=e.minimum)||At(e.multipleOf)&&n%e.multipleOf!==0)}function Dge(e,t,n){const r=e.allOf.every(i=>zr(i,t,n));if(e.unevaluatedProperties===!1){const i=new RegExp(gh(e)),o=Object.getOwnPropertyNames(n).every(s=>i.test(s));return r&&o}else if(ui(e.unevaluatedProperties)){const i=new RegExp(gh(e)),o=Object.getOwnPropertyNames(n).every(s=>i.test(s)||zr(e.unevaluatedProperties,t,n[s]));return r&&o}else return r}function Fge(e,t,n){return kq(n)}function Lge(e,t,n){return n===e.const}function Bge(e,t,n){return!1}function zge(e,t,n){return!zr(e.not,t,n)}function Uge(e,t,n){return Q2(n)}function Vge(e,t,n){return!(!ur.IsNumberLike(n)||At(e.exclusiveMaximum)&&!(n<e.exclusiveMaximum)||At(e.exclusiveMinimum)&&!(n>e.exclusiveMinimum)||At(e.minimum)&&!(n>=e.minimum)||At(e.maximum)&&!(n<=e.maximum)||At(e.multipleOf)&&n%e.multipleOf!==0)}function qge(e,t,n){if(!ur.IsObjectLike(n)||At(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||At(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const r=Object.getOwnPropertyNames(e.properties);for(const i of r){const o=e.properties[i];if(e.required&&e.required.includes(i)){if(!zr(o,t,n[i])||(qh(o)||Oge(o))&&!(i in n))return!1}else if(ur.IsExactOptionalProperty(n,i)&&!zr(o,t,n[i]))return!1}if(e.additionalProperties===!1){const i=Object.getOwnPropertyNames(n);return e.required&&e.required.length===r.length&&i.length===r.length?!0:i.every(o=>r.includes(o))}else return typeof e.additionalProperties=="object"?Object.getOwnPropertyNames(n).every(o=>r.includes(o)||zr(e.additionalProperties,t,n[o])):!0}function Hge(e,t,n){return Pq(n)}function Wge(e,t,n){if(!ur.IsRecordLike(n)||At(e.minProperties)&&!(Object.getOwnPropertyNames(n).length>=e.minProperties)||At(e.maxProperties)&&!(Object.getOwnPropertyNames(n).length<=e.maxProperties))return!1;const[r,i]=Object.entries(e.patternProperties)[0],o=new RegExp(r),s=Object.entries(n).every(([u,f])=>o.test(u)?zr(i,t,f):!0),a=typeof e.additionalProperties=="object"?Object.entries(n).every(([u,f])=>o.test(u)?!0:zr(e.additionalProperties,t,f)):!0,c=e.additionalProperties===!1?Object.getOwnPropertyNames(n).every(u=>o.test(u)):!0;return s&&a&&c}function Gge(e,t,n){return zr(lo(e,t),t,n)}function Kge(e,t,n){const r=new RegExp(e.source,e.flags);return At(e.minLength)&&!(n.length>=e.minLength)||At(e.maxLength)&&!(n.length<=e.maxLength)?!1:r.test(n)}function Yge(e,t,n){return!_o(n)||At(e.minLength)&&!(n.length>=e.minLength)||At(e.maxLength)&&!(n.length<=e.maxLength)||At(e.pattern)&&!new RegExp(e.pattern).test(n)?!1:At(e.format)?tN(e.format)?nN(e.format)(n):!1:!0}function Jge(e,t,n){return eN(n)}function Xge(e,t,n){return _o(n)&&new RegExp(e.pattern).test(n)}function Qge(e,t,n){return zr(lo(e,t),t,n)}function Zge(e,t,n){if(!ni(n)||e.items===void 0&&n.length!==0||n.length!==e.maxItems)return!1;if(!e.items)return!0;for(let r=0;r<e.items.length;r++)if(!zr(e.items[r],t,n[r]))return!1;return!0}function eye(e,t,n){return ba(n)}function tye(e,t,n){return e.anyOf.some(r=>zr(r,t,n))}function nye(e,t,n){return!(!MI(n)||At(e.maxByteLength)&&!(n.length<=e.maxByteLength)||At(e.minByteLength)&&!(n.length>=e.minByteLength))}function rye(e,t,n){return!0}function iye(e,t,n){return ur.IsVoidLike(n)}function oye(e,t,n){return lg(e[qe])?rN(e[qe])(e,n):!1}function zr(e,t,n){const r=At(e.$id)?av(e,t):t,i=e;switch(i[qe]){case"Any":return _ge();case"Argument":return $ge();case"Array":return Cge(i,r,n);case"AsyncIterator":return jge(i,r,n);case"BigInt":return Age(i,r,n);case"Boolean":return Tge(i,r,n);case"Constructor":return Rge(i,r,n);case"Date":return Ige(i,r,n);case"Function":return Mge(i,r,n);case"Import":return kge(i,r,n);case"Integer":return Pge(i,r,n);case"Intersect":return Dge(i,r,n);case"Iterator":return Fge(i,r,n);case"Literal":return Lge(i,r,n);case"Never":return Bge();case"Not":return zge(i,r,n);case"Null":return Uge(i,r,n);case"Number":return Vge(i,r,n);case"Object":return qge(i,r,n);case"Promise":return Hge(i,r,n);case"Record":return Wge(i,r,n);case"Ref":return Gge(i,r,n);case"RegExp":return Kge(i,r,n);case"String":return Yge(i,r,n);case"Symbol":return Jge(i,r,n);case"TemplateLiteral":return Xge(i,r,n);case"This":return Qge(i,r,n);case"Tuple":return Zge(i,r,n);case"Undefined":return eye(i,r,n);case"Union":return tye(i,r,n);case"Uint8Array":return nye(i,r,n);case"Unknown":return rye();case"Void":return iye(i,r,n);default:if(!lg(i[qe]))throw new Nge(i);return oye(i,r,n)}}function jc(...e){return e.length===3?zr(e[0],e[1],e[2]):zr(e[0],[],e[1])}var Se;(function(e){e[e.ArrayContains=0]="ArrayContains",e[e.ArrayMaxContains=1]="ArrayMaxContains",e[e.ArrayMaxItems=2]="ArrayMaxItems",e[e.ArrayMinContains=3]="ArrayMinContains",e[e.ArrayMinItems=4]="ArrayMinItems",e[e.ArrayUniqueItems=5]="ArrayUniqueItems",e[e.Array=6]="Array",e[e.AsyncIterator=7]="AsyncIterator",e[e.BigIntExclusiveMaximum=8]="BigIntExclusiveMaximum",e[e.BigIntExclusiveMinimum=9]="BigIntExclusiveMinimum",e[e.BigIntMaximum=10]="BigIntMaximum",e[e.BigIntMinimum=11]="BigIntMinimum",e[e.BigIntMultipleOf=12]="BigIntMultipleOf",e[e.BigInt=13]="BigInt",e[e.Boolean=14]="Boolean",e[e.DateExclusiveMaximumTimestamp=15]="DateExclusiveMaximumTimestamp",e[e.DateExclusiveMinimumTimestamp=16]="DateExclusiveMinimumTimestamp",e[e.DateMaximumTimestamp=17]="DateMaximumTimestamp",e[e.DateMinimumTimestamp=18]="DateMinimumTimestamp",e[e.DateMultipleOfTimestamp=19]="DateMultipleOfTimestamp",e[e.Date=20]="Date",e[e.Function=21]="Function",e[e.IntegerExclusiveMaximum=22]="IntegerExclusiveMaximum",e[e.IntegerExclusiveMinimum=23]="IntegerExclusiveMinimum",e[e.IntegerMaximum=24]="IntegerMaximum",e[e.IntegerMinimum=25]="IntegerMinimum",e[e.IntegerMultipleOf=26]="IntegerMultipleOf",e[e.Integer=27]="Integer",e[e.IntersectUnevaluatedProperties=28]="IntersectUnevaluatedProperties",e[e.Intersect=29]="Intersect",e[e.Iterator=30]="Iterator",e[e.Kind=31]="Kind",e[e.Literal=32]="Literal",e[e.Never=33]="Never",e[e.Not=34]="Not",e[e.Null=35]="Null",e[e.NumberExclusiveMaximum=36]="NumberExclusiveMaximum",e[e.NumberExclusiveMinimum=37]="NumberExclusiveMinimum",e[e.NumberMaximum=38]="NumberMaximum",e[e.NumberMinimum=39]="NumberMinimum",e[e.NumberMultipleOf=40]="NumberMultipleOf",e[e.Number=41]="Number",e[e.ObjectAdditionalProperties=42]="ObjectAdditionalProperties",e[e.ObjectMaxProperties=43]="ObjectMaxProperties",e[e.ObjectMinProperties=44]="ObjectMinProperties",e[e.ObjectRequiredProperty=45]="ObjectRequiredProperty",e[e.Object=46]="Object",e[e.Promise=47]="Promise",e[e.RegExp=48]="RegExp",e[e.StringFormatUnknown=49]="StringFormatUnknown",e[e.StringFormat=50]="StringFormat",e[e.StringMaxLength=51]="StringMaxLength",e[e.StringMinLength=52]="StringMinLength",e[e.StringPattern=53]="StringPattern",e[e.String=54]="String",e[e.Symbol=55]="Symbol",e[e.TupleLength=56]="TupleLength",e[e.Tuple=57]="Tuple",e[e.Uint8ArrayMaxByteLength=58]="Uint8ArrayMaxByteLength",e[e.Uint8ArrayMinByteLength=59]="Uint8ArrayMinByteLength",e[e.Uint8Array=60]="Uint8Array",e[e.Undefined=61]="Undefined",e[e.Union=62]="Union",e[e.Void=63]="Void"})(Se||(Se={}));class sye extends Or{constructor(t){super("Unknown type"),this.schema=t}}function Yl(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function jt(e){return e!==void 0}class KH{constructor(t){this.iterator=t}[Symbol.iterator](){return this.iterator}First(){const t=this.iterator.next();return t.done?void 0:t.value}}function Ge(e,t,n,r,i=[]){return{type:e,schema:t,path:n,value:r,message:ope()({errorType:e,path:n,schema:t,value:r,errors:i}),errors:i}}function*aye(e,t,n,r){}function*lye(e,t,n,r){}function*cye(e,t,n,r){if(!ni(r))return yield Ge(Se.Array,e,n,r);jt(e.minItems)&&!(r.length>=e.minItems)&&(yield Ge(Se.ArrayMinItems,e,n,r)),jt(e.maxItems)&&!(r.length<=e.maxItems)&&(yield Ge(Se.ArrayMaxItems,e,n,r));for(let s=0;s<r.length;s++)yield*Ur(e.items,t,`${n}/${s}`,r[s]);if(e.uniqueItems===!0&&!function(){const s=new Set;for(const a of r){const c=e4(a);if(s.has(c))return!1;s.add(c)}return!0}()&&(yield Ge(Se.ArrayUniqueItems,e,n,r)),!(jt(e.contains)||jt(e.minContains)||jt(e.maxContains)))return;const i=jt(e.contains)?e.contains:_n(),o=r.reduce((s,a,c)=>Ur(i,t,`${n}${c}`,a).next().done===!0?s+1:s,0);o===0&&(yield Ge(Se.ArrayContains,e,n,r)),vt(e.minContains)&&o<e.minContains&&(yield Ge(Se.ArrayMinContains,e,n,r)),vt(e.maxContains)&&o>e.maxContains&&(yield Ge(Se.ArrayMaxContains,e,n,r))}function*uye(e,t,n,r){Mq(r)||(yield Ge(Se.AsyncIterator,e,n,r))}function*dye(e,t,n,r){if(!ic(r))return yield Ge(Se.BigInt,e,n,r);jt(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)&&(yield Ge(Se.BigIntExclusiveMaximum,e,n,r)),jt(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)&&(yield Ge(Se.BigIntExclusiveMinimum,e,n,r)),jt(e.maximum)&&!(r<=e.maximum)&&(yield Ge(Se.BigIntMaximum,e,n,r)),jt(e.minimum)&&!(r>=e.minimum)&&(yield Ge(Se.BigIntMinimum,e,n,r)),jt(e.multipleOf)&&r%e.multipleOf!==BigInt(0)&&(yield Ge(Se.BigIntMultipleOf,e,n,r))}function*fye(e,t,n,r){Z2(r)||(yield Ge(Se.Boolean,e,n,r))}function*hye(e,t,n,r){yield*Ur(e.returns,t,n,r.prototype)}function*mye(e,t,n,r){if(!Gx(r))return yield Ge(Se.Date,e,n,r);jt(e.exclusiveMaximumTimestamp)&&!(r.getTime()<e.exclusiveMaximumTimestamp)&&(yield Ge(Se.DateExclusiveMaximumTimestamp,e,n,r)),jt(e.exclusiveMinimumTimestamp)&&!(r.getTime()>e.exclusiveMinimumTimestamp)&&(yield Ge(Se.DateExclusiveMinimumTimestamp,e,n,r)),jt(e.maximumTimestamp)&&!(r.getTime()<=e.maximumTimestamp)&&(yield Ge(Se.DateMaximumTimestamp,e,n,r)),jt(e.minimumTimestamp)&&!(r.getTime()>=e.minimumTimestamp)&&(yield Ge(Se.DateMinimumTimestamp,e,n,r)),jt(e.multipleOfTimestamp)&&r.getTime()%e.multipleOfTimestamp!==0&&(yield Ge(Se.DateMultipleOfTimestamp,e,n,r))}function*pye(e,t,n,r){PI(r)||(yield Ge(Se.Function,e,n,r))}function*gye(e,t,n,r){const i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref];yield*Ur(o,[...t,...i],n,r)}function*yye(e,t,n,r){if(!Dq(r))return yield Ge(Se.Integer,e,n,r);jt(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)&&(yield Ge(Se.IntegerExclusiveMaximum,e,n,r)),jt(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)&&(yield Ge(Se.IntegerExclusiveMinimum,e,n,r)),jt(e.maximum)&&!(r<=e.maximum)&&(yield Ge(Se.IntegerMaximum,e,n,r)),jt(e.minimum)&&!(r>=e.minimum)&&(yield Ge(Se.IntegerMinimum,e,n,r)),jt(e.multipleOf)&&r%e.multipleOf!==0&&(yield Ge(Se.IntegerMultipleOf,e,n,r))}function*bye(e,t,n,r){let i=!1;for(const o of e.allOf)for(const s of Ur(o,t,n,r))i=!0,yield s;if(i)return yield Ge(Se.Intersect,e,n,r);if(e.unevaluatedProperties===!1){const o=new RegExp(gh(e));for(const s of Object.getOwnPropertyNames(r))o.test(s)||(yield Ge(Se.IntersectUnevaluatedProperties,e,`${n}/${s}`,r))}if(typeof e.unevaluatedProperties=="object"){const o=new RegExp(gh(e));for(const s of Object.getOwnPropertyNames(r))if(!o.test(s)){const a=Ur(e.unevaluatedProperties,t,`${n}/${s}`,r[s]).next();a.done||(yield a.value)}}}function*xye(e,t,n,r){kq(r)||(yield Ge(Se.Iterator,e,n,r))}function*vye(e,t,n,r){r!==e.const&&(yield Ge(Se.Literal,e,n,r))}function*wye(e,t,n,r){yield Ge(Se.Never,e,n,r)}function*Sye(e,t,n,r){Ur(e.not,t,n,r).next().done===!0&&(yield Ge(Se.Not,e,n,r))}function*Eye(e,t,n,r){Q2(r)||(yield Ge(Se.Null,e,n,r))}function*Nye(e,t,n,r){if(!ur.IsNumberLike(r))return yield Ge(Se.Number,e,n,r);jt(e.exclusiveMaximum)&&!(r<e.exclusiveMaximum)&&(yield Ge(Se.NumberExclusiveMaximum,e,n,r)),jt(e.exclusiveMinimum)&&!(r>e.exclusiveMinimum)&&(yield Ge(Se.NumberExclusiveMinimum,e,n,r)),jt(e.maximum)&&!(r<=e.maximum)&&(yield Ge(Se.NumberMaximum,e,n,r)),jt(e.minimum)&&!(r>=e.minimum)&&(yield Ge(Se.NumberMinimum,e,n,r)),jt(e.multipleOf)&&r%e.multipleOf!==0&&(yield Ge(Se.NumberMultipleOf,e,n,r))}function*Oye(e,t,n,r){if(!ur.IsObjectLike(r))return yield Ge(Se.Object,e,n,r);jt(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)&&(yield Ge(Se.ObjectMinProperties,e,n,r)),jt(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties)&&(yield Ge(Se.ObjectMaxProperties,e,n,r));const i=Array.isArray(e.required)?e.required:[],o=Object.getOwnPropertyNames(e.properties),s=Object.getOwnPropertyNames(r);for(const a of i)s.includes(a)||(yield Ge(Se.ObjectRequiredProperty,e.properties[a],`${n}/${Yl(a)}`,void 0));if(e.additionalProperties===!1)for(const a of s)o.includes(a)||(yield Ge(Se.ObjectAdditionalProperties,e,`${n}/${Yl(a)}`,r[a]));if(typeof e.additionalProperties=="object")for(const a of s)o.includes(a)||(yield*Ur(e.additionalProperties,t,`${n}/${Yl(a)}`,r[a]));for(const a of o){const c=e.properties[a];e.required&&e.required.includes(a)?(yield*Ur(c,t,`${n}/${Yl(a)}`,r[a]),qh(e)&&!(a in r)&&(yield Ge(Se.ObjectRequiredProperty,c,`${n}/${Yl(a)}`,void 0))):ur.IsExactOptionalProperty(r,a)&&(yield*Ur(c,t,`${n}/${Yl(a)}`,r[a]))}}function*_ye(e,t,n,r){Pq(r)||(yield Ge(Se.Promise,e,n,r))}function*$ye(e,t,n,r){if(!ur.IsRecordLike(r))return yield Ge(Se.Object,e,n,r);jt(e.minProperties)&&!(Object.getOwnPropertyNames(r).length>=e.minProperties)&&(yield Ge(Se.ObjectMinProperties,e,n,r)),jt(e.maxProperties)&&!(Object.getOwnPropertyNames(r).length<=e.maxProperties)&&(yield Ge(Se.ObjectMaxProperties,e,n,r));const[i,o]=Object.entries(e.patternProperties)[0],s=new RegExp(i);for(const[a,c]of Object.entries(r))s.test(a)&&(yield*Ur(o,t,`${n}/${Yl(a)}`,c));if(typeof e.additionalProperties=="object")for(const[a,c]of Object.entries(r))s.test(a)||(yield*Ur(e.additionalProperties,t,`${n}/${Yl(a)}`,c));if(e.additionalProperties===!1){for(const[a,c]of Object.entries(r))if(!s.test(a))return yield Ge(Se.ObjectAdditionalProperties,e,`${n}/${Yl(a)}`,c)}}function*Cye(e,t,n,r){yield*Ur(lo(e,t),t,n,r)}function*jye(e,t,n,r){if(!_o(r))return yield Ge(Se.String,e,n,r);if(jt(e.minLength)&&!(r.length>=e.minLength)&&(yield Ge(Se.StringMinLength,e,n,r)),jt(e.maxLength)&&!(r.length<=e.maxLength)&&(yield Ge(Se.StringMaxLength,e,n,r)),!new RegExp(e.source,e.flags).test(r))return yield Ge(Se.RegExp,e,n,r)}function*Aye(e,t,n,r){if(!_o(r))return yield Ge(Se.String,e,n,r);jt(e.minLength)&&!(r.length>=e.minLength)&&(yield Ge(Se.StringMinLength,e,n,r)),jt(e.maxLength)&&!(r.length<=e.maxLength)&&(yield Ge(Se.StringMaxLength,e,n,r)),_o(e.pattern)&&(new RegExp(e.pattern).test(r)||(yield Ge(Se.StringPattern,e,n,r))),_o(e.format)&&(tN(e.format)?nN(e.format)(r)||(yield Ge(Se.StringFormat,e,n,r)):yield Ge(Se.StringFormatUnknown,e,n,r))}function*Tye(e,t,n,r){eN(r)||(yield Ge(Se.Symbol,e,n,r))}function*Rye(e,t,n,r){if(!_o(r))return yield Ge(Se.String,e,n,r);new RegExp(e.pattern).test(r)||(yield Ge(Se.StringPattern,e,n,r))}function*Iye(e,t,n,r){yield*Ur(lo(e,t),t,n,r)}function*Mye(e,t,n,r){if(!ni(r))return yield Ge(Se.Tuple,e,n,r);if(e.items===void 0&&r.length!==0)return yield Ge(Se.TupleLength,e,n,r);if(r.length!==e.maxItems)return yield Ge(Se.TupleLength,e,n,r);if(e.items)for(let i=0;i<e.items.length;i++)yield*Ur(e.items[i],t,`${n}/${i}`,r[i])}function*kye(e,t,n,r){ba(r)||(yield Ge(Se.Undefined,e,n,r))}function*Pye(e,t,n,r){if(jc(e,t,r))return;const i=e.anyOf.map(o=>new KH(Ur(o,t,n,r)));yield Ge(Se.Union,e,n,r,i)}function*Dye(e,t,n,r){if(!MI(r))return yield Ge(Se.Uint8Array,e,n,r);jt(e.maxByteLength)&&!(r.length<=e.maxByteLength)&&(yield Ge(Se.Uint8ArrayMaxByteLength,e,n,r)),jt(e.minByteLength)&&!(r.length>=e.minByteLength)&&(yield Ge(Se.Uint8ArrayMinByteLength,e,n,r))}function*Fye(e,t,n,r){}function*Lye(e,t,n,r){ur.IsVoidLike(r)||(yield Ge(Se.Void,e,n,r))}function*Bye(e,t,n,r){rN(e[qe])(e,r)||(yield Ge(Se.Kind,e,n,r))}function*Ur(e,t,n,r){const i=jt(e.$id)?[...t,e]:t,o=e;switch(o[qe]){case"Any":return yield*aye();case"Argument":return yield*lye();case"Array":return yield*cye(o,i,n,r);case"AsyncIterator":return yield*uye(o,i,n,r);case"BigInt":return yield*dye(o,i,n,r);case"Boolean":return yield*fye(o,i,n,r);case"Constructor":return yield*hye(o,i,n,r);case"Date":return yield*mye(o,i,n,r);case"Function":return yield*pye(o,i,n,r);case"Import":return yield*gye(o,i,n,r);case"Integer":return yield*yye(o,i,n,r);case"Intersect":return yield*bye(o,i,n,r);case"Iterator":return yield*xye(o,i,n,r);case"Literal":return yield*vye(o,i,n,r);case"Never":return yield*wye(o,i,n,r);case"Not":return yield*Sye(o,i,n,r);case"Null":return yield*Eye(o,i,n,r);case"Number":return yield*Nye(o,i,n,r);case"Object":return yield*Oye(o,i,n,r);case"Promise":return yield*_ye(o,i,n,r);case"Record":return yield*$ye(o,i,n,r);case"Ref":return yield*Cye(o,i,n,r);case"RegExp":return yield*jye(o,i,n,r);case"String":return yield*Aye(o,i,n,r);case"Symbol":return yield*Tye(o,i,n,r);case"TemplateLiteral":return yield*Rye(o,i,n,r);case"This":return yield*Iye(o,i,n,r);case"Tuple":return yield*Mye(o,i,n,r);case"Undefined":return yield*kye(o,i,n,r);case"Union":return yield*Pye(o,i,n,r);case"Uint8Array":return yield*Dye(o,i,n,r);case"Unknown":return yield*Fye();case"Void":return yield*Lye(o,i,n,r);default:if(!lg(o[qe]))throw new sye(e);return yield*Bye(o,i,n,r)}}function Wh(...e){const t=e.length===3?Ur(e[0],e[1],"",e[2]):Ur(e[0],[],"",e[1]);return new KH(t)}function zye(e){const t={};for(const n of Object.getOwnPropertyNames(e))t[n]=xh(e[n]);for(const n of Object.getOwnPropertySymbols(e))t[n]=xh(e[n]);return t}function Uye(e){return e.map(t=>xh(t))}function Vye(e){return e.slice()}function qye(e){return new Map(xh([...e.entries()]))}function Hye(e){return new Set(xh([...e.entries()]))}function Wye(e){return new Date(e.toISOString())}function xh(e){if(ni(e))return Uye(e);if(Gx(e))return Wye(e);if(dhe(e))return Vye(e);if(che(e))return qye(e);if(uhe(e))return Hye(e);if(fi(e))return zye(e);if(DI(e))return e;throw new Error("ValueClone: Unable to clone value")}class YH extends Or{constructor(t,n,r){super("Unable to decode value as it does not match the expected schema"),this.schema=t,this.value=n,this.error=r}}class Gye extends Or{constructor(t,n,r,i){super(i instanceof Error?i.message:"Unknown error"),this.schema=t,this.path=n,this.value=r,this.error=i}}function An(e,t,n){try{return fn(e)?e[Ti].Decode(n):n}catch(r){throw new Gye(e,t,n,r)}}function Kye(e,t,n,r){return ni(r)?An(e,n,r.map((i,o)=>wa(e.items,t,`${n}/${o}`,i))):An(e,n,r)}function Yye(e,t,n,r){if(!fi(r)||DI(r))return An(e,n,r);const i=ZI(e),o=i.map(f=>f[0]),s={...r};for(const[f,h]of i)f in s&&(s[f]=wa(h,t,`${n}/${f}`,s[f]));if(!fn(e.unevaluatedProperties))return An(e,n,s);const a=Object.getOwnPropertyNames(s),c=e.unevaluatedProperties,u={...s};for(const f of a)o.includes(f)||(u[f]=An(c,`${n}/${f}`,u[f]));return An(e,n,u)}function Jye(e,t,n,r){const i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref],s=wa(o,[...t,...i],n,r);return An(e,n,s)}function Xye(e,t,n,r){return An(e,n,wa(e.not,t,n,r))}function Qye(e,t,n,r){if(!fi(r))return An(e,n,r);const i=Fd(e),o={...r};for(const u of i)kI(o,u)&&(ba(o[u])&&(!iy(e.properties[u])||ur.IsExactOptionalProperty(o,u))||(o[u]=wa(e.properties[u],t,`${n}/${u}`,o[u])));if(!ui(e.additionalProperties))return An(e,n,o);const s=Object.getOwnPropertyNames(o),a=e.additionalProperties,c={...o};for(const u of s)i.includes(u)||(c[u]=An(a,`${n}/${u}`,c[u]));return An(e,n,c)}function Zye(e,t,n,r){if(!fi(r))return An(e,n,r);const i=Object.getOwnPropertyNames(e.patternProperties)[0],o=new RegExp(i),s={...r};for(const f of Object.getOwnPropertyNames(r))o.test(f)&&(s[f]=wa(e.patternProperties[i],t,`${n}/${f}`,s[f]));if(!ui(e.additionalProperties))return An(e,n,s);const a=Object.getOwnPropertyNames(s),c=e.additionalProperties,u={...s};for(const f of a)o.test(f)||(u[f]=An(c,`${n}/${f}`,u[f]));return An(e,n,u)}function e0e(e,t,n,r){const i=lo(e,t);return An(e,n,wa(i,t,n,r))}function t0e(e,t,n,r){const i=lo(e,t);return An(e,n,wa(i,t,n,r))}function n0e(e,t,n,r){return ni(r)&&ni(e.items)?An(e,n,e.items.map((i,o)=>wa(i,t,`${n}/${o}`,r[o]))):An(e,n,r)}function r0e(e,t,n,r){for(const i of e.anyOf){if(!jc(i,t,r))continue;const o=wa(i,t,n,r);return An(e,n,o)}return An(e,n,r)}function wa(e,t,n,r){const i=av(e,t),o=e;switch(e[qe]){case"Array":return Kye(o,i,n,r);case"Import":return Jye(o,i,n,r);case"Intersect":return Yye(o,i,n,r);case"Not":return Xye(o,i,n,r);case"Object":return Qye(o,i,n,r);case"Record":return Zye(o,i,n,r);case"Ref":return e0e(o,i,n,r);case"Symbol":return An(o,n,r);case"This":return t0e(o,i,n,r);case"Tuple":return n0e(o,i,n,r);case"Union":return r0e(o,i,n,r);default:return An(o,n,r)}}function JH(e,t,n){return wa(e,t,"",n)}class i0e extends Or{constructor(t,n,r){super("The encoded value does not match the expected schema"),this.schema=t,this.value=n,this.error=r}}class o0e extends Or{constructor(t,n,r,i){super(`${i instanceof Error?i.message:"Unknown error"}`),this.schema=t,this.path=n,this.value=r,this.error=i}}function ti(e,t,n){try{return fn(e)?e[Ti].Encode(n):n}catch(r){throw new o0e(e,t,n,r)}}function s0e(e,t,n,r){const i=ti(e,n,r);return ni(i)?i.map((o,s)=>ua(e.items,t,`${n}/${s}`,o)):i}function a0e(e,t,n,r){const i=globalThis.Object.values(e.$defs),o=e.$defs[e.$ref],s=ti(e,n,r);return ua(o,[...t,...i],n,s)}function l0e(e,t,n,r){const i=ti(e,n,r);if(!fi(r)||DI(r))return i;const o=ZI(e),s=o.map(h=>h[0]),a={...i};for(const[h,p]of o)h in a&&(a[h]=ua(p,t,`${n}/${h}`,a[h]));if(!fn(e.unevaluatedProperties))return a;const c=Object.getOwnPropertyNames(a),u=e.unevaluatedProperties,f={...a};for(const h of c)s.includes(h)||(f[h]=ti(u,`${n}/${h}`,f[h]));return f}function c0e(e,t,n,r){return ti(e.not,n,ti(e,n,r))}function u0e(e,t,n,r){const i=ti(e,n,r);if(!fi(i))return i;const o=Fd(e),s={...i};for(const f of o)kI(s,f)&&(ba(s[f])&&(!iy(e.properties[f])||ur.IsExactOptionalProperty(s,f))||(s[f]=ua(e.properties[f],t,`${n}/${f}`,s[f])));if(!ui(e.additionalProperties))return s;const a=Object.getOwnPropertyNames(s),c=e.additionalProperties,u={...s};for(const f of a)o.includes(f)||(u[f]=ti(c,`${n}/${f}`,u[f]));return u}function d0e(e,t,n,r){const i=ti(e,n,r);if(!fi(r))return i;const o=Object.getOwnPropertyNames(e.patternProperties)[0],s=new RegExp(o),a={...i};for(const h of Object.getOwnPropertyNames(r))s.test(h)&&(a[h]=ua(e.patternProperties[o],t,`${n}/${h}`,a[h]));if(!ui(e.additionalProperties))return a;const c=Object.getOwnPropertyNames(a),u=e.additionalProperties,f={...a};for(const h of c)s.test(h)||(f[h]=ti(u,`${n}/${h}`,f[h]));return f}function f0e(e,t,n,r){const i=lo(e,t),o=ua(i,t,n,r);return ti(e,n,o)}function h0e(e,t,n,r){const i=lo(e,t),o=ua(i,t,n,r);return ti(e,n,o)}function m0e(e,t,n,r){const i=ti(e,n,r);return ni(e.items)?e.items.map((o,s)=>ua(o,t,`${n}/${s}`,i[s])):[]}function p0e(e,t,n,r){for(const i of e.anyOf){if(!jc(i,t,r))continue;const o=ua(i,t,n,r);return ti(e,n,o)}for(const i of e.anyOf){const o=ua(i,t,n,r);if(jc(e,t,o))return ti(e,n,o)}return ti(e,n,r)}function ua(e,t,n,r){const i=av(e,t),o=e;switch(e[qe]){case"Array":return s0e(o,i,n,r);case"Import":return a0e(o,i,n,r);case"Intersect":return l0e(o,i,n,r);case"Not":return c0e(o,i,n,r);case"Object":return u0e(o,i,n,r);case"Record":return d0e(o,i,n,r);case"Ref":return f0e(o,i,n,r);case"This":return h0e(o,i,n,r);case"Tuple":return m0e(o,i,n,r);case"Union":return p0e(o,i,n,r);default:return ti(o,n,r)}}function g0e(e,t,n){return ua(e,t,"",n)}function y0e(e,t){return fn(e)||Sr(e.items,t)}function b0e(e,t){return fn(e)||Sr(e.items,t)}function x0e(e,t){return fn(e)||Sr(e.returns,t)||e.parameters.some(n=>Sr(n,t))}function v0e(e,t){return fn(e)||Sr(e.returns,t)||e.parameters.some(n=>Sr(n,t))}function w0e(e,t){return fn(e)||fn(e.unevaluatedProperties)||e.allOf.some(n=>Sr(n,t))}function S0e(e,t){const n=globalThis.Object.getOwnPropertyNames(e.$defs).reduce((i,o)=>[...i,e.$defs[o]],[]),r=e.$defs[e.$ref];return fn(e)||Sr(r,[...n,...t])}function E0e(e,t){return fn(e)||Sr(e.items,t)}function N0e(e,t){return fn(e)||Sr(e.not,t)}function O0e(e,t){return fn(e)||Object.values(e.properties).some(n=>Sr(n,t))||ui(e.additionalProperties)&&Sr(e.additionalProperties,t)}function _0e(e,t){return fn(e)||Sr(e.item,t)}function $0e(e,t){const n=Object.getOwnPropertyNames(e.patternProperties)[0],r=e.patternProperties[n];return fn(e)||Sr(r,t)||ui(e.additionalProperties)&&fn(e.additionalProperties)}function C0e(e,t){return fn(e)?!0:Sr(lo(e,t),t)}function j0e(e,t){return fn(e)?!0:Sr(lo(e,t),t)}function A0e(e,t){return fn(e)||!ba(e.items)&&e.items.some(n=>Sr(n,t))}function T0e(e,t){return fn(e)||e.anyOf.some(n=>Sr(n,t))}function Sr(e,t){const n=av(e,t),r=e;if(e.$id&&YA.has(e.$id))return!1;switch(e.$id&&YA.add(e.$id),e[qe]){case"Array":return y0e(r,n);case"AsyncIterator":return b0e(r,n);case"Constructor":return x0e(r,n);case"Function":return v0e(r,n);case"Import":return S0e(r,n);case"Intersect":return w0e(r,n);case"Iterator":return E0e(r,n);case"Not":return N0e(r,n);case"Object":return O0e(r,n);case"Promise":return _0e(r,n);case"Record":return $0e(r,n);case"Ref":return C0e(r,n);case"This":return j0e(r,n);case"Tuple":return A0e(r,n);case"Union":return T0e(r,n);default:return fn(e)}}const YA=new Set;function XH(e,t){return YA.clear(),Sr(e,t)}function QH(...e){const[t,n,r]=e.length===3?[e[0],e[1],e[2]]:[e[0],[],e[1]];if(!jc(t,n,r))throw new YH(t,r,Wh(t,n,r).First());return XH(t,n)?JH(t,n,r):r}function Hc(e,t){const n=kI(e,"default")?e.default:void 0,r=PI(n)?n():xh(n);return ba(t)?r:fi(t)&&fi(r)?Object.assign(r,t):t}function JA(e){return HI(e)&&"default"in e}function R0e(e,t,n){if(ni(n)){for(let i=0;i<n.length;i++)n[i]=ki(e.items,t,n[i]);return n}const r=Hc(e,n);if(!ni(r))return r;for(let i=0;i<r.length;i++)r[i]=ki(e.items,t,r[i]);return r}function I0e(e,t,n){return Gx(n)?n:Hc(e,n)}function M0e(e,t,n){const r=globalThis.Object.values(e.$defs),i=e.$defs[e.$ref];return ki(i,[...t,...r],n)}function k0e(e,t,n){const r=Hc(e,n);return e.allOf.reduce((i,o)=>{const s=ki(o,t,r);return fi(s)?{...i,...s}:s},{})}function P0e(e,t,n){const r=Hc(e,n);if(!fi(r))return r;const i=Object.getOwnPropertyNames(e.properties);for(const o of i){const s=ki(e.properties[o],t,r[o]);ba(s)||(r[o]=ki(e.properties[o],t,r[o]))}if(!JA(e.additionalProperties))return r;for(const o of Object.getOwnPropertyNames(r))i.includes(o)||(r[o]=ki(e.additionalProperties,t,r[o]));return r}function D0e(e,t,n){const r=Hc(e,n);if(!fi(r))return r;const i=e.additionalProperties,[o,s]=Object.entries(e.patternProperties)[0],a=new RegExp(o);for(const c of Object.getOwnPropertyNames(r))a.test(c)&&JA(s)&&(r[c]=ki(s,t,r[c]));if(!JA(i))return r;for(const c of Object.getOwnPropertyNames(r))a.test(c)||(r[c]=ki(i,t,r[c]));return r}function F0e(e,t,n){return ki(lo(e,t),t,Hc(e,n))}function L0e(e,t,n){return ki(lo(e,t),t,n)}function B0e(e,t,n){const r=Hc(e,n);if(!ni(r)||ba(e.items))return r;const[i,o]=[e.items,Math.max(e.items.length,r.length)];for(let s=0;s<o;s++)s<i.length&&(r[s]=ki(i[s],t,r[s]));return r}function z0e(e,t,n){const r=Hc(e,n);for(const i of e.anyOf){const o=ki(i,t,xh(r));if(jc(i,t,o))return o}return r}function ki(e,t,n){const r=av(e,t),i=e;switch(i[qe]){case"Array":return R0e(i,r,n);case"Date":return I0e(i,r,n);case"Import":return M0e(i,r,n);case"Intersect":return k0e(i,r,n);case"Object":return P0e(i,r,n);case"Record":return D0e(i,r,n);case"Ref":return F0e(i,r,n);case"This":return L0e(i,r,n);case"Tuple":return B0e(i,r,n);case"Union":return z0e(i,r,n);default:return Hc(i,n)}}function vh(...e){return e.length===3?ki(e[0],e[1],e[2]):ki(e[0],[],e[1])}var ZH=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},U0e=e=>{const{groups:t,path:n}=V0e(e),r=ZH(n);return q0e(r,t)},V0e=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(n,r)=>{const i=`@${r}`;return t.push([i,n]),i}),{groups:t,path:e}},q0e=(e,t)=>{for(let n=t.length-1;n>=0;n--){const[r]=t[n];for(let i=e.length-1;i>=0;i--)if(e[i].includes(r)){e[i]=e[i].replace(r,t[n][1]);break}}return e},N1={},g8=(e,t)=>{if(e==="*")return"*";const n=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(n){const r=`${e}#${t}`;return N1[r]||(n[2]?N1[r]=t&&t[0]!==":"&&t[0]!=="*"?[r,n[1],new RegExp(`^${n[2]}(?=/${t})`)]:[e,n[1],new RegExp(`^${n[2]}$`)]:N1[r]=[e,n[1],!0]),N1[r]}return null},eW=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,n=>{try{return t(n)}catch{return n}})}},H0e=e=>eW(e,decodeURI),tW=e=>{const t=e.url,n=t.indexOf("/",8);let r=n;for(;r<t.length;r++){const i=t.charCodeAt(r);if(i===37){const o=t.indexOf("?",r),s=t.slice(n,o===-1?void 0:o);return H0e(s.includes("%25")?s.replace(/%25/g,"%2525"):s)}else if(i===63)break}return t.slice(n,r)},W0e=e=>{const t=tW(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},dp=(e,t,...n)=>(n.length&&(t=dp(t,...n)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),nW=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),n=[];let r="";return t.forEach(i=>{if(i!==""&&!/\:/.test(i))r+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){n.length===0&&r===""?n.push("/"):n.push(r);const o=i.replace("?","");r+="/"+o,n.push(r)}else r+="/"+i}),n.filter((i,o,s)=>s.indexOf(i)===o)},RC=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?s4(e):e):e,rW=(e,t,n)=>{let r;if(!n&&t&&!/[%+]/.test(t)){let s=e.indexOf(`?${t}`,8);for(s===-1&&(s=e.indexOf(`&${t}`,8));s!==-1;){const a=e.charCodeAt(s+t.length+1);if(a===61){const c=s+t.length+2,u=e.indexOf("&",c);return RC(e.slice(c,u===-1?void 0:u))}else if(a==38||isNaN(a))return"";s=e.indexOf(`&${t}`,s+1)}if(r=/[%+]/.test(e),!r)return}const i={};r??(r=/[%+]/.test(e));let o=e.indexOf("?",8);for(;o!==-1;){const s=e.indexOf("&",o+1);let a=e.indexOf("=",o);a>s&&s!==-1&&(a=-1);let c=e.slice(o+1,a===-1?s===-1?void 0:s:a);if(r&&(c=RC(c)),o=s,c==="")continue;let u;a===-1?u="":(u=e.slice(a+1,s===-1?void 0:s),r&&(u=RC(u))),n?(i[c]&&Array.isArray(i[c])||(i[c]=[]),i[c].push(u)):i[c]??(i[c]=u)}return t?i[t]:i},G0e=rW,K0e=(e,t)=>rW(e,t,!0),s4=decodeURIComponent,a4={name:"HMAC",hash:"SHA-256"},iW=async e=>{const t=typeof e=="string"?new TextEncoder().encode(e):e;return await crypto.subtle.importKey("raw",t,a4,!1,["sign","verify"])},Y0e=async(e,t)=>{const n=await iW(t),r=await crypto.subtle.sign(a4.name,n,new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(r)))},J0e=async(e,t,n)=>{try{const r=atob(e),i=new Uint8Array(r.length);for(let o=0,s=r.length;o<s;o++)i[o]=r.charCodeAt(o);return await crypto.subtle.verify(a4,n,i,new TextEncoder().encode(t))}catch{return!1}},X0e=/^[\w!#$%&'*.^`|~+-]+$/,Q0e=/^[ !#-:<-[\]-~]*$/,XA=(e,t)=>{if(t&&e.indexOf(t)===-1)return{};const n=e.trim().split(";"),r={};for(let i of n){i=i.trim();const o=i.indexOf("=");if(o===-1)continue;const s=i.substring(0,o).trim();if(t&&t!==s||!X0e.test(s))continue;let a=i.substring(o+1).trim();if(a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),Q0e.test(a)&&(r[s]=s4(a),t))break}return r},y8=async(e,t,n)=>{const r={},i=await iW(t);for(const[o,s]of Object.entries(XA(e,n))){const a=s.lastIndexOf(".");if(a<1)continue;const c=s.substring(0,a),u=s.substring(a+1);if(u.length!==44||!u.endsWith("="))continue;const f=await J0e(u,c,i);r[o]=f?c:!1}return r},oW=(e,t,n={})=>{let r=`${e}=${t}`;if(e.startsWith("__Secure-")&&!n.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!n.secure)throw new Error("__Host- Cookie must have Secure attributes");if(n.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(n.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(n&&typeof n.maxAge=="number"&&n.maxAge>=0){if(n.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${n.maxAge|0}`}if(n.domain&&n.prefix!=="host"&&(r+=`; Domain=${n.domain}`),n.path&&(r+=`; Path=${n.path}`),n.expires){if(n.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(r+="; HttpOnly"),n.secure&&(r+="; Secure"),n.sameSite&&(r+=`; SameSite=${n.sameSite.charAt(0).toUpperCase()+n.sameSite.slice(1)}`),n.priority&&(r+=`; Priority=${n.priority}`),n.partitioned){if(!n.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},IC=(e,t,n)=>(t=encodeURIComponent(t),oW(e,t,n)),MC=async(e,t,n,r={})=>{const i=await Y0e(t,n);return t=`${t}.${i}`,t=encodeURIComponent(t),oW(e,t,r)},sW=(e,t,n)=>{const r=e.req.raw.headers.get("Cookie");if(typeof t=="string"){if(!r)return;let o=t;return XA(r,o)[o]}return r?XA(r):{}},aW=async(e,t,n,r)=>{const i=e.req.raw.headers.get("Cookie");if(typeof n=="string"){if(!i)return;let s=n;return(await y8(i,t,s))[s]}return i?await y8(i,t):{}},lW=(e,t,n,r)=>{let i;(r==null?void 0:r.prefix)==="secure"?i=IC("__Secure-"+t,n,{path:"/",...r,secure:!0}):(r==null?void 0:r.prefix)==="host"?i=IC("__Host-"+t,n,{...r,path:"/",secure:!0,domain:void 0}):i=IC(t,n,{path:"/",...r}),e.header("Set-Cookie",i,{append:!0})},cW=async(e,t,n,r,i)=>{let o;(i==null?void 0:i.prefix)==="secure"?o=await MC("__Secure-"+t,n,r,{path:"/",...i,secure:!0}):(i==null?void 0:i.prefix)==="host"?o=await MC("__Host-"+t,n,r,{...i,path:"/",secure:!0,domain:void 0}):o=await MC(t,n,r,{path:"/",...i}),e.header("set-cookie",o,{append:!0})},Z0e=(e,t,n)=>{const r=sW(e,t);return lW(e,t,"",{...n,maxAge:0}),r},b8=class extends Error{constructor(t=500,n){super(n==null?void 0:n.message,{cause:n==null?void 0:n.cause});ee(this,"res");ee(this,"status");this.res=n==null?void 0:n.res,this.status=t}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}},ebe=(e,t)=>new Response(e,{headers:{"Content-Type":t}}).formData(),tbe=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,nbe=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,rbe=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,uW=(e,t)=>async(n,r)=>{let i={};const o=n.req.header("Content-Type");switch(e){case"json":if(!o||!tbe.test(o))break;try{i=await n.req.json()}catch{const a="Malformed JSON in request body";throw new b8(400,{message:a})}break;case"form":{if(!o||!(nbe.test(o)||rbe.test(o)))break;let a;if(n.req.bodyCache.formData)a=await n.req.bodyCache.formData;else try{const u=await n.req.arrayBuffer();a=await ebe(u,o),n.req.bodyCache.formData=a}catch(u){let f="Malformed FormData request.";throw f+=u instanceof Error?` ${u.message}`:` ${String(u)}`,new b8(400,{message:f})}const c={};a.forEach((u,f)=>{f.endsWith("[]")?(c[f]??(c[f]=[])).push(u):Array.isArray(c[f])?c[f].push(u):f in c?c[f]=[c[f],u]:c[f]=u}),i=c;break}case"query":i=Object.fromEntries(Object.entries(n.req.queries()).map(([a,c])=>c.length===1?[a,c[0]]:[a,c]));break;case"param":i=n.req.param();break;case"header":i=n.req.header();break;case"cookie":i=sW(n);break}const s=await t(i,n);if(s instanceof Response)return s;n.req.addValidatedData(e,s),await r()};function x8(e,t,n){return uW(e,(r,i)=>jc(t,r)?QH(t,r):i.json({success:!1,errors:[...Wh(t,r)]},400))}function ibe(e){return e?{...Object.fromEntries(e.entries())}:{}}function obe(e,t){const n=ibe(e),r={};for(const i of t)n[i]&&(r[i]=n[i]);return r}function sbe(e,t){const n=new Headers;for(const r of t)e.has(r)&&n.set(r,e.get(r));return n}function SN(e,t){let n="";function r(i){return t!=null&&t.encode?encodeURIComponent(i):i}for(const i in e){let o=e[i];if(o!==void 0)if(Array.isArray(o))for(let s=0;s<o.length;s++)n.length>0&&(n+="&"),n+=`${r(i)}=${r(o[s])}`;else typeof o=="object"&&(o=JSON.stringify(o)),n.length>0&&(n+="&"),n+=`${r(i)}=${r(o)}`}return((t==null?void 0:t.prefix)||"")+n}function v8(e){function t(s){if(!s)return"";const a=decodeURIComponent(s);if(a==="false")return!1;if(a==="true")return!0;try{return JSON.parse(a)}catch{return+a*0===0?+a:a}}let n,r;const i={},o=e.split("&");for(;n=o.shift();)n=n.split("="),r=n.shift(),i[r]!==void 0?i[r]=[].concat(i[r],t(n.shift())):i[r]=t(n.shift());return i}var Cn=(e=>(e[e.CONTINUE=100]="CONTINUE",e[e.PROCESSING=102]="PROCESSING",e[e.EARLY_HINTS=103]="EARLY_HINTS",e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.ACCEPTED=202]="ACCEPTED",e[e.NON_AUTHORITATIVE_INFORMATION=203]="NON_AUTHORITATIVE_INFORMATION",e[e.PARTIAL_CONTENT=206]="PARTIAL_CONTENT",e[e.MULTI_STATUS=207]="MULTI_STATUS",e[e.ALREADY_REPORTED=208]="ALREADY_REPORTED",e[e.IM_USED=226]="IM_USED",e[e.MULTIPLE_CHOICES=300]="MULTIPLE_CHOICES",e[e.MOVED_PERMANENTLY=301]="MOVED_PERMANENTLY",e[e.FOUND=302]="FOUND",e[e.SEE_OTHER=303]="SEE_OTHER",e[e.USE_PROXY=305]="USE_PROXY",e[e.TEMPORARY_REDIRECT=307]="TEMPORARY_REDIRECT",e[e.PERMANENT_REDIRECT=308]="PERMANENT_REDIRECT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.PAYMENT_REQUIRED=402]="PAYMENT_REQUIRED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.METHOD_NOT_ALLOWED=405]="METHOD_NOT_ALLOWED",e[e.NOT_ACCEPTABLE=406]="NOT_ACCEPTABLE",e[e.PROXY_AUTHENTICATION_REQUIRED=407]="PROXY_AUTHENTICATION_REQUIRED",e[e.REQUEST_TIMEOUT=408]="REQUEST_TIMEOUT",e[e.CONFLICT=409]="CONFLICT",e[e.GONE=410]="GONE",e[e.LENGTH_REQUIRED=411]="LENGTH_REQUIRED",e[e.PRECONDITION_FAILED=412]="PRECONDITION_FAILED",e[e.PAYLOAD_TOO_LARGE=413]="PAYLOAD_TOO_LARGE",e[e.URI_TOO_LONG=414]="URI_TOO_LONG",e[e.UNSUPPORTED_MEDIA_TYPE=415]="UNSUPPORTED_MEDIA_TYPE",e[e.RANGE_NOT_SATISFIABLE=416]="RANGE_NOT_SATISFIABLE",e[e.EXPECTATION_FAILED=417]="EXPECTATION_FAILED",e[e.IM_A_TEAPOT=418]="IM_A_TEAPOT",e[e.MISDIRECTED_REQUEST=421]="MISDIRECTED_REQUEST",e[e.UNPROCESSABLE_ENTITY=422]="UNPROCESSABLE_ENTITY",e[e.LOCKED=423]="LOCKED",e[e.FAILED_DEPENDENCY=424]="FAILED_DEPENDENCY",e[e.TOO_EARLY=425]="TOO_EARLY",e[e.UPGRADE_REQUIRED=426]="UPGRADE_REQUIRED",e[e.PRECONDITION_REQUIRED=428]="PRECONDITION_REQUIRED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.REQUEST_HEADER_FIELDS_TOO_LARGE=431]="REQUEST_HEADER_FIELDS_TOO_LARGE",e[e.UNAVAILABLE_FOR_LEGAL_REASONS=451]="UNAVAILABLE_FOR_LEGAL_REASONS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.NOT_IMPLEMENTED=501]="NOT_IMPLEMENTED",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e[e.SERVICE_UNAVAILABLE=503]="SERVICE_UNAVAILABLE",e[e.GATEWAY_TIMEOUT=504]="GATEWAY_TIMEOUT",e[e.HTTP_VERSION_NOT_SUPPORTED=505]="HTTP_VERSION_NOT_SUPPORTED",e[e.VARIANT_ALSO_NEGOTIATES=506]="VARIANT_ALSO_NEGOTIATES",e[e.INSUFFICIENT_STORAGE=507]="INSUFFICIENT_STORAGE",e[e.LOOP_DETECTED=508]="LOOP_DETECTED",e[e.NOT_EXTENDED=510]="NOT_EXTENDED",e[e.NETWORK_AUTHENTICATION_REQUIRED=511]="NETWORK_AUTHENTICATION_REQUIRED",e))(Cn||{});let xs=class extends Error{constructor(n,r){super(n);ee(this,"code",Cn.BAD_REQUEST);ee(this,"name","Exception");ee(this,"_context");r&&(this.code=r)}context(n){return this._context=n,this}toJSON(){return{error:this.message,type:this.name,context:this._context}}};class vp extends Error{constructor(t,n,r){super(t),this.details=n,this.type=r}static with(t,n,r){throw new vp(t,n,r)}toJSON(){return{type:this.type??"unknown",message:this.message,details:this.details}}}var abe={};const QA=(e,t)=>typeof e=="string"?[1,"1","true"].includes(e):!!(e||t);function co(){try{return QA(0)}catch{return!1}}const lbe={cli_log_level:{key:"BKND_CLI_LOG_LEVEL",validate:e=>{if(typeof e=="string"&&["log","info","warn","error","debug"].includes(e.toLowerCase()))return e.toLowerCase()}},cli_create_ref:{key:"BKND_CLI_CREATE_REF",validate:e=>typeof e=="string"?e:void 0},cli_telemetry:{key:"BKND_CLI_TELEMETRY",validate:e=>{if(!(typeof e>"u"))return QA(e,!0)}},modules_debug:{key:"BKND_MODULES_DEBUG",validate:QA}},dW=(e,t,n)=>{var r,i;try{const o=(n==null?void 0:n.source)??abe,s=lbe[e],a=o[s.key],c=s.validate(a);if(typeof c<"u")return(r=n==null?void 0:n.onValid)==null||r.call(n,c),c;(i=n==null?void 0:n.onFallback)==null||i.call(n,a)}catch{}return t},fW={data:{default_primary_field:"id"}};/**
 * @license MIT <https://opensource.org/licenses/MIT>
 * @copyright Michael Hart 2024
 */const ZA=new TextEncoder,cbe={appstream2:"appstream",cloudhsmv2:"cloudhsm",email:"ses",marketplace:"aws-marketplace",mobile:"AWSMobileHubService",pinpoint:"mobiletargeting",queue:"sqs","git-codecommit":"codecommit","mturk-requester-sandbox":"mturk-requester","personalize-runtime":"personalize"},ube=new Set(["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id","range","connection"]);let dbe=class{constructor({accessKeyId:t,secretAccessKey:n,sessionToken:r,service:i,region:o,cache:s,retries:a,initRetryMs:c}){if(t==null)throw new TypeError("accessKeyId is a required option");if(n==null)throw new TypeError("secretAccessKey is a required option");this.accessKeyId=t,this.secretAccessKey=n,this.sessionToken=r,this.service=i,this.region=o,this.cache=s||new Map,this.retries=a??10,this.initRetryMs=c||50}async sign(t,n){if(t instanceof Request){const{method:o,url:s,headers:a,body:c}=t;n=Object.assign({method:o,url:s,headers:a},n),n.body==null&&a.has("Content-Type")&&(n.body=c!=null&&a.has("X-Amz-Content-Sha256")?c:await t.clone().arrayBuffer()),t=s}const r=new fbe(Object.assign({url:t.toString()},n,this,n&&n.aws)),i=Object.assign({},n,await r.sign());delete i.aws;try{return new Request(i.url.toString(),i)}catch(o){if(o instanceof TypeError)return new Request(i.url.toString(),Object.assign({duplex:"half"},i));throw o}}async fetch(t,n){for(let r=0;r<=this.retries;r++){const i=fetch(await this.sign(t,n));if(r===this.retries)return i;const o=await i;if(o.status<500&&o.status!==429)return o;await new Promise(s=>setTimeout(s,Math.random()*this.initRetryMs*Math.pow(2,r)))}throw new Error("An unknown error occurred, ensure retries is not negative")}};class fbe{constructor({method:t,url:n,headers:r,body:i,accessKeyId:o,secretAccessKey:s,sessionToken:a,service:c,region:u,cache:f,datetime:h,signQuery:p,appendSessionToken:y,allHeaders:x,singleEncode:v}){if(n==null)throw new TypeError("url is a required option");if(o==null)throw new TypeError("accessKeyId is a required option");if(s==null)throw new TypeError("secretAccessKey is a required option");this.method=t||(i?"POST":"GET"),this.url=new URL(n),this.headers=new Headers(r||{}),this.body=i,this.accessKeyId=o,this.secretAccessKey=s,this.sessionToken=a;let E,N;(!c||!u)&&([E,N]=hbe(this.url,this.headers)),this.service=c||E||"",this.region=u||N||"us-east-1",this.cache=f||new Map,this.datetime=h||new Date().toISOString().replace(/[:-]|\.\d{3}/g,""),this.signQuery=p,this.appendSessionToken=y||this.service==="iotdevicegateway",this.headers.delete("Host"),this.service==="s3"&&!this.signQuery&&!this.headers.has("X-Amz-Content-Sha256")&&this.headers.set("X-Amz-Content-Sha256","UNSIGNED-PAYLOAD");const O=this.signQuery?this.url.searchParams:this.headers;if(O.set("X-Amz-Date",this.datetime),this.sessionToken&&!this.appendSessionToken&&O.set("X-Amz-Security-Token",this.sessionToken),this.signableHeaders=["host",...this.headers.keys()].filter(C=>x||!ube.has(C)).sort(),this.signedHeaders=this.signableHeaders.join(";"),this.canonicalHeaders=this.signableHeaders.map(C=>C+":"+(C==="host"?this.url.host:(this.headers.get(C)||"").replace(/\s+/g," "))).join(`
`),this.credentialString=[this.datetime.slice(0,8),this.region,this.service,"aws4_request"].join("/"),this.signQuery&&(this.service==="s3"&&!O.has("X-Amz-Expires")&&O.set("X-Amz-Expires","86400"),O.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),O.set("X-Amz-Credential",this.accessKeyId+"/"+this.credentialString),O.set("X-Amz-SignedHeaders",this.signedHeaders)),this.service==="s3")try{this.encodedPath=decodeURIComponent(this.url.pathname.replace(/\+/g," "))}catch{this.encodedPath=this.url.pathname}else this.encodedPath=this.url.pathname.replace(/\/+/g,"/");v||(this.encodedPath=encodeURIComponent(this.encodedPath).replace(/%2F/g,"/")),this.encodedPath=E8(this.encodedPath);const _=new Set;this.encodedSearch=[...this.url.searchParams].filter(([C])=>{if(!C)return!1;if(this.service==="s3"){if(_.has(C))return!1;_.add(C)}return!0}).map(C=>C.map(j=>E8(encodeURIComponent(j)))).sort(([C,j],[A,R])=>C<A?-1:C>A?1:j<R?-1:j>R?1:0).map(C=>C.join("=")).join("&")}async sign(){return this.signQuery?(this.url.searchParams.set("X-Amz-Signature",await this.signature()),this.sessionToken&&this.appendSessionToken&&this.url.searchParams.set("X-Amz-Security-Token",this.sessionToken)):this.headers.set("Authorization",await this.authHeader()),{method:this.method,url:this.url,headers:this.headers,body:this.body}}async authHeader(){return["AWS4-HMAC-SHA256 Credential="+this.accessKeyId+"/"+this.credentialString,"SignedHeaders="+this.signedHeaders,"Signature="+await this.signature()].join(", ")}async signature(){const t=this.datetime.slice(0,8),n=[this.secretAccessKey,t,this.region,this.service].join();let r=this.cache.get(n);if(!r){const i=await A0("AWS4"+this.secretAccessKey,t),o=await A0(i,this.region),s=await A0(o,this.service);r=await A0(s,"aws4_request"),this.cache.set(n,r)}return kC(await A0(r,await this.stringToSign()))}async stringToSign(){return["AWS4-HMAC-SHA256",this.datetime,this.credentialString,kC(await w8(await this.canonicalString()))].join(`
`)}async canonicalString(){return[this.method.toUpperCase(),this.encodedPath,this.encodedSearch,this.canonicalHeaders+`
`,this.signedHeaders,await this.hexBodyHash()].join(`
`)}async hexBodyHash(){let t=this.headers.get("X-Amz-Content-Sha256")||(this.service==="s3"&&this.signQuery?"UNSIGNED-PAYLOAD":null);if(t==null){if(this.body&&typeof this.body!="string"&&!("byteLength"in this.body))throw new Error("body must be a string, ArrayBuffer or ArrayBufferView, unless you include the X-Amz-Content-Sha256 header");t=kC(await w8(this.body||""))}return t}}async function A0(e,t){const n=await crypto.subtle.importKey("raw",typeof e=="string"?ZA.encode(e):e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]);return crypto.subtle.sign("HMAC",n,ZA.encode(t))}async function w8(e){return crypto.subtle.digest("SHA-256",typeof e=="string"?ZA.encode(e):e)}const S8=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function kC(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++){const i=t[r];n+=S8[i>>>4&15],n+=S8[i&15]}return n}function E8(e){return e.replace(/[!'()*]/g,t=>"%"+t.charCodeAt(0).toString(16).toUpperCase())}function hbe(e,t){const{hostname:n,pathname:r}=e;if(n.endsWith(".on.aws")){const a=n.match(/^[^.]{1,63}\.lambda-url\.([^.]{1,63})\.on\.aws$/);return a!=null?["lambda",a[1]||""]:["",""]}if(n.endsWith(".r2.cloudflarestorage.com"))return["s3","auto"];if(n.endsWith(".backblazeb2.com")){const a=n.match(/^(?:[^.]{1,63}\.)?s3\.([^.]{1,63})\.backblazeb2\.com$/);return a!=null?["s3",a[1]||""]:["",""]}const i=n.replace("dualstack.","").match(/([^.]{1,63})\.(?:([^.]{0,63})\.)?amazonaws\.com(?:\.cn)?$/);let o=i&&i[1]||"",s=i&&i[2];if(s==="us-gov")s="us-gov-west-1";else if(s==="s3"||s==="s3-accelerate")s="us-east-1",o="s3";else if(o==="iot")n.startsWith("iot.")?o="execute-api":n.startsWith("data.jobs.iot.")?o="iot-jobs-data":o=r==="/mqtt"?"iotdevicegateway":"iotdata";else if(o==="autoscaling"){const a=(t.get("X-Amz-Target")||"").split(".")[0];a==="AnyScaleFrontendService"?o="application-autoscaling":a==="AnyScaleScalingPlannerFrontendService"&&(o="autoscaling-plans")}else s==null&&o.startsWith("s3-")?(s=o.slice(3).replace(/^fips-|^external-1/,""),o="s3"):o.endsWith("-fips")?o=o.slice(0,-5):s&&/-\d$/.test(o)&&!/-\d$/.test(s)&&([o,s]=[s,o]);return[cbe[o]||o,s||""]}function Mo(e){return!e||e.length===0?e:e.charAt(0).toUpperCase()+e.slice(1)}function mbe(e,t=" "){return!e||e.length===0?e:e.split(t).map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(t)}function hW(e,t=!1){const i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"+(t?"!@#$%^&*()_+{}:\"<>?|[];',./`~":"");let o="";for(let s=0;s<e;s++)o+=i[Math.floor(Math.random()*i.length)];return o}function mg(e){return!e||e.length===0?e:e.split("_").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" ")}function eT(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function pbe(e){return/^[a-z]+(_[a-z]+)*$/.test(e)?"snake_case":/^[A-Z][a-zA-Z]*$/.test(e)?"PascalCase":/^[a-z][a-zA-Z]*$/.test(e)?"camelCase":/^[a-z]+(-[a-z]+)*$/.test(e)?"kebab-case":/^[A-Z]+(_[A-Z]+)*$/.test(e)?"SCREAMING_SNAKE_CASE":"unknown"}function gbe(e){switch(pbe(e)){case"snake_case":return mg(e);case"PascalCase":return PC(eT(e));case"camelCase":return Mo(PC(eT(e)));case"kebab-case":return PC(e);case"SCREAMING_SNAKE_CASE":return mg(e.toLowerCase());case"unknown":return Mo(e)}}function pg(e){return gbe(e)}function PC(e){return e.split("-").map(Mo).join(" ")}function pv(e,t=" "){return mbe(mg(e),t)}function ybe(e,t){return t instanceof RegExp?t.test(e):typeof t=="string"&&t.startsWith("/")?new RegExp(t).test(e):typeof t=="string"?e.startsWith(t):!1}function bbe(e,t=50,n="..."){return e.length<=t?e:e.substring(0,t)+n}function mW(e){return Object.prototype.toString.call(e)==="[object Object]"}function Fb(e){return e!==null&&typeof e=="object"}function JS(e,t){const n=new Set(t),r={};for(const[i,o]of Object.entries(e))n.has(i)||(r[i]=o);return r}function tT(e,t=[]){return e===null||typeof e!="object"?e:Array.isArray(e)?e.map(n=>tT(n,t)):Object.keys(e).reduce((n,r)=>{const i=t.includes(r)?r:eT(r);return n[i]=tT(e[r],t),n},{})}function pW(e,t){const n={};for(const r in e)t.some(o=>r.includes(o))||(typeof e[r]=="object"&&e[r]!==null&&!Array.isArray(e[r])?n[r]=pW(e[r],t):n[r]=e[r]);return n}function yn(e,t){return Object.entries(e).reduce((n,[r,i])=>{const o=t(i,r);return typeof o<"u"&&(n[r]=o),n},{})}const EN=yn;function gW(e,t=""){let n=[];for(const r in e){const i=t?`${t}.${r}`:r;n.push(i),typeof e[r]=="object"&&e[r]!==null&&(n=n.concat(gW(e[r],i)))}return n}function yW(e){let t=1;for(const n in e)if(typeof e[n]=="object"){const r=yW(e[n])+1;t=Math.max(r,t)}return t}function Lb(e){return e&&Object.entries(e).reduce((t,[n,r])=>{if(r&&Array.isArray(r)&&r.some(i=>typeof i=="object")){const i=r.map(Lb);i.length>0&&(t[n]=i)}else if(r&&typeof r=="object"&&!Array.isArray(r)){const i=Lb(r);Object.keys(i).length>0&&(t[n]=i)}else r!==""&&r!==null&&r!==void 0&&(t[n]=r);return t},{})}function bW(e,...t){for(const n of t)for(const[r,i]of Object.entries(n))i!==void 0&&(!mW(i)&&!Array.isArray(i)||Array.isArray(i)&&!Array.isArray(e[r])?e[r]=i:Fb(e[r])?bW(e[r],i):e[r]=i);return e}function xW(e,t,n){for(const[r,i]of Object.entries(t)){const o=n(e[r],i,r,e,t);if(o!==void 0){e[r]=o;continue}i!==void 0&&(!mW(i)&&!Array.isArray(i)||Array.isArray(i)&&!Array.isArray(e[r])?e[r]=i:Fb(e[r])?xW(e[r],i,n):e[r]=i)}return e}function pc(e,t){const n=i=>{var o;if(i!==Object(i))return"primitive";if(Array.isArray(i))return"array";if(i instanceof Map)return"map";if(i!=null&&[null,Object.prototype].includes(Object.getPrototypeOf(i)))return"plainObject";if(i instanceof Function)return"function";throw new Error(`deeply comparing an instance of type ${(o=e.constructor)==null?void 0:o.name} is not supported.`)},r=n(e);if(r!==n(t))return!1;if(r==="primitive")return e===t||Number.isNaN(e)&&Number.isNaN(t);if(r==="array")return e.length===t.length&&e.every((i,o)=>pc(i,t[o]));if(r==="map")return e.size===t.size&&[...e].every(([i,o])=>t.has(i)&&pc(o,t.get(i)));if(r==="plainObject"){const i=new Map(Object.entries(e)),o=new Map(Object.entries(t));return i.size===o.size&&[...i].every(([s,a])=>o.has(s)&&pc(a,o.get(s)))}else{if(r==="function")return e.toString()===t.toString();throw new Error("Unreachable")}}function l4(e,t,n=void 0){const r=typeof t=="string"?t.split(/[.\[\]\"]+/).filter(i=>i):t;if(r.length===0)return e;try{const[i,...o]=r;return!i||!(i in e)?n:l4(e[i],o,n)}catch{if(typeof n<"u")return n;throw new Error(`Invalid path: ${r.join(".")}`)}}function nT(e,t=0,n=0){const r=t?`
`:"",i=c=>t?" ".repeat(t*c):"",o=i(n+1),s=i(n);if(e===null)return"null";if(e===void 0)return"undefined";const a=typeof e;if(a==="string")return JSON.stringify(e);if(a==="number"||a==="boolean")return String(e);if(Array.isArray(e)){const c=e.map(u=>nT(u,t,n+1)).join(", "+(t?r+o:""));return"["+(t&&e.length?r+o:"")+c+(t&&e.length?r+s:"")+"]"}if(a==="object"){const c=Object.entries(e).map(([f,h])=>(/^[A-Za-z_$][\w$]*$/.test(f)?f:JSON.stringify(f))+": "+nT(h,t,n+1)),u=c.join(", "+(t?r+o:""));return"{"+(t&&c.length?r+o:"")+u+(t&&c.length?r+s:"")+"}"}throw new TypeError(`Unsupported data type: ${a}`)}function xbe(e,t){return t.reduce((n,r)=>(r in e&&(n[r]=e[r]),n),{})}const vW=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",vbe=vW+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",wbe="["+vW+"]["+vbe+"]*",Sbe=new RegExp("^"+wbe+"$");function wW(e,t){const n=[];let r=t.exec(e);for(;r;){const i=[];i.startIndex=t.lastIndex-r[0].length;const o=r.length;for(let s=0;s<o;s++)i.push(r[s]);n.push(i),r=t.exec(e)}return n}const c4=function(e){const t=Sbe.exec(e);return!(t===null||typeof t>"u")};function Ebe(e){return typeof e<"u"}const Nbe={allowBooleanAttributes:!1,unpairedTags:[]};function Obe(e,t){t=Object.assign({},Nbe,t);const n=[];let r=!1,i=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=O8(e,o),o.err)return o}else if(e[o]==="<"){let s=o;if(o++,e[o]==="!"){o=_8(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!Ibe(c)){let h;return c.trim().length===0?h="Invalid space after '<'.":h="Tag '"+c+"' is an invalid name.",Qn("InvalidTag",h,Ni(e,o))}const u=Cbe(e,o);if(u===!1)return Qn("InvalidAttr","Attributes for '"+c+"' have open quote.",Ni(e,o));let f=u.value;if(o=u.index,f[f.length-1]==="/"){const h=o-f.length;f=f.substring(0,f.length-1);const p=$8(f,t);if(p===!0)r=!0;else return Qn(p.err.code,p.err.msg,Ni(e,h+p.err.line))}else if(a)if(u.tagClosed){if(f.trim().length>0)return Qn("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Ni(e,s));if(n.length===0)return Qn("InvalidTag","Closing tag '"+c+"' has not been opened.",Ni(e,s));{const h=n.pop();if(c!==h.tagName){let p=Ni(e,h.tagStartPos);return Qn("InvalidTag","Expected closing tag '"+h.tagName+"' (opened in line "+p.line+", col "+p.col+") instead of closing tag '"+c+"'.",Ni(e,s))}n.length==0&&(i=!0)}}else return Qn("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Ni(e,o));else{const h=$8(f,t);if(h!==!0)return Qn(h.err.code,h.err.msg,Ni(e,o-f.length+h.err.line));if(i===!0)return Qn("InvalidXml","Multiple possible root nodes found.",Ni(e,o));t.unpairedTags.indexOf(c)!==-1||n.push({tagName:c,tagStartPos:s}),r=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=_8(e,o);continue}else if(e[o+1]==="?"){if(o=O8(e,++o),o.err)return o}else break;else if(e[o]==="&"){const h=Tbe(e,o);if(h==-1)return Qn("InvalidChar","char '&' is not expected.",Ni(e,o));o=h}else if(i===!0&&!N8(e[o]))return Qn("InvalidXml","Extra text at the end",Ni(e,o));e[o]==="<"&&o--}}else{if(N8(e[o]))continue;return Qn("InvalidChar","char '"+e[o]+"' is not expected.",Ni(e,o))}if(r){if(n.length==1)return Qn("InvalidTag","Unclosed tag '"+n[0].tagName+"'.",Ni(e,n[0].tagStartPos));if(n.length>0)return Qn("InvalidXml","Invalid '"+JSON.stringify(n.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Qn("InvalidXml","Start tag expected.",1);return!0}function N8(e){return e===" "||e==="	"||e===`
`||e==="\r"}function O8(e,t){const n=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){const r=e.substr(n,t-n);if(t>5&&r==="xml")return Qn("InvalidXml","XML declaration allowed only at the start of the document.",Ni(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function _8(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let n=1;for(t+=8;t<e.length;t++)if(e[t]==="<")n++;else if(e[t]===">"&&(n--,n===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}const _be='"',$be="'";function Cbe(e,t){let n="",r="",i=!1;for(;t<e.length;t++){if(e[t]===_be||e[t]===$be)r===""?r=e[t]:r!==e[t]||(r="");else if(e[t]===">"&&r===""){i=!0;break}n+=e[t]}return r!==""?!1:{value:n,index:t,tagClosed:i}}const jbe=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function $8(e,t){const n=wW(e,jbe),r={};for(let i=0;i<n.length;i++){if(n[i][1].length===0)return Qn("InvalidAttr","Attribute '"+n[i][2]+"' has no space in starting.",T0(n[i]));if(n[i][3]!==void 0&&n[i][4]===void 0)return Qn("InvalidAttr","Attribute '"+n[i][2]+"' is without value.",T0(n[i]));if(n[i][3]===void 0&&!t.allowBooleanAttributes)return Qn("InvalidAttr","boolean attribute '"+n[i][2]+"' is not allowed.",T0(n[i]));const o=n[i][2];if(!Rbe(o))return Qn("InvalidAttr","Attribute '"+o+"' is an invalid name.",T0(n[i]));if(!r.hasOwnProperty(o))r[o]=1;else return Qn("InvalidAttr","Attribute '"+o+"' is repeated.",T0(n[i]))}return!0}function Abe(e,t){let n=/\d/;for(e[t]==="x"&&(t++,n=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(n))break}return-1}function Tbe(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,Abe(e,t);let n=0;for(;t<e.length;t++,n++)if(!(e[t].match(/\w/)&&n<20)){if(e[t]===";")break;return-1}return t}function Qn(e,t,n){return{err:{code:e,msg:t,line:n.line||n,col:n.col}}}function Rbe(e){return c4(e)}function Ibe(e){return c4(e)}function Ni(e,t){const n=e.substring(0,t).split(/\r?\n/);return{line:n.length,col:n[n.length-1].length+1}}function T0(e){return e.startIndex+e[1].length}const Mbe={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(e,t,n){return e}},kbe=function(e){return Object.assign({},Mbe,e)};class R0{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,n){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:n})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,":@":t[":@"]}):this.child.push({[t.tagname]:t.child})}}function Pbe(e,t){const n={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let r=1,i=!1,o=!1,s="";for(;t<e.length;t++)if(e[t]==="<"&&!o){if(i&&Lbe(e,t)){t+=7;let a,c;[a,c,t]=Dbe(e,t+1),c.indexOf("&")===-1&&(n[Vbe(a)]={regx:RegExp(`&${a};`,"g"),val:c})}else if(i&&Bbe(e,t))t+=8;else if(i&&zbe(e,t))t+=8;else if(i&&Ube(e,t))t+=9;else if(Fbe)o=!0;else throw new Error("Invalid DOCTYPE");r++,s=""}else if(e[t]===">"){if(o?e[t-1]==="-"&&e[t-2]==="-"&&(o=!1,r--):r--,r===0)break}else e[t]==="["?i=!0:s+=e[t];if(r!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:n,i:t}}function Dbe(e,t){let n="";for(;t<e.length&&e[t]!=="'"&&e[t]!=='"';t++)n+=e[t];if(n=n.trim(),n.indexOf(" ")!==-1)throw new Error("External entites are not supported");const r=e[t++];let i="";for(;t<e.length&&e[t]!==r;t++)i+=e[t];return[n,i,t]}function Fbe(e,t){return e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-"}function Lbe(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y"}function Bbe(e,t){return e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T"}function zbe(e,t){return e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T"}function Ube(e,t){return e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N"}function Vbe(e){if(c4(e))return e;throw new Error(`Invalid entity name ${e}`)}const qbe=/^[-+]?0x[a-fA-F0-9]+$/,Hbe=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,Wbe={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function Gbe(e,t={}){if(t=Object.assign({},Wbe,t),!e||typeof e!="string")return e;let n=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(n))return e;if(e==="0")return 0;if(t.hex&&qbe.test(n))return Ybe(n,16);if(n.search(/[eE]/)!==-1){const r=n.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(r){if(t.leadingZeros)n=(r[1]||"")+r[3];else if(!(r[2]==="0"&&r[3][0]==="."))return e;return t.eNotation?Number(n):e}else return e}else{const r=Hbe.exec(n);if(r){const i=r[1],o=r[2];let s=Kbe(r[3]);if(!t.leadingZeros&&o.length>0&&i&&n[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!i&&n[1]!==".")return e;if(t.leadingZeros&&o===e)return 0;{const a=Number(n),c=""+a;return c.search(/[eE]/)!==-1?t.eNotation?a:e:n.indexOf(".")!==-1?c==="0"&&s===""||c===s||i&&c==="-"+s?a:e:o?s===c||i+s===c?a:e:n===c||n===i+c?a:e}}else return e}}function Kbe(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}function Ybe(e,t){if(parseInt)return parseInt(e,t);if(Number.parseInt)return Number.parseInt(e,t);if(window&&window.parseInt)return window.parseInt(e,t);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}function Jbe(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const n of e)if(typeof n=="string"&&t===n||n instanceof RegExp&&n.test(t))return!0}:()=>!1}class Xbe{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:""},pound:{regex:/&(pound|#163);/g,val:""},yen:{regex:/&(yen|#165);/g,val:""},euro:{regex:/&(euro|#8364);/g,val:""},copyright:{regex:/&(copy|#169);/g,val:""},reg:{regex:/&(reg|#174);/g,val:""},inr:{regex:/&(inr|#8377);/g,val:""},num_dec:{regex:/&#([0-9]{1,7});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(n,r)=>String.fromCharCode(Number.parseInt(r,16))}},this.addExternalEntities=Qbe,this.parseXml=rxe,this.parseTextData=Zbe,this.resolveNameSpace=exe,this.buildAttributesMap=nxe,this.isItStopNode=axe,this.replaceEntitiesValue=oxe,this.readStopNodeData=cxe,this.saveTextToParentTag=sxe,this.addChild=ixe,this.ignoreAttributesFn=Jbe(this.options.ignoreAttributes)}}function Qbe(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];this.lastEntities[r]={regex:new RegExp("&"+r+";","g"),val:e[r]}}}function Zbe(e,t,n,r,i,o,s){if(e!==void 0&&(this.options.trimValues&&!r&&(e=e.trim()),e.length>0)){s||(e=this.replaceEntitiesValue(e));const a=this.options.tagValueProcessor(t,e,n,i,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?iT(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?iT(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function exe(e){if(this.options.removeNSPrefix){const t=e.split(":"),n=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=n+t[1])}return e}const txe=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function nxe(e,t,n){if(this.options.ignoreAttributes!==!0&&typeof e=="string"){const r=wW(e,txe),i=r.length,o={};for(let s=0;s<i;s++){const a=this.resolveNameSpace(r[s][1]);if(this.ignoreAttributesFn(a,t))continue;let c=r[s][4],u=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(u=this.options.transformAttributeName(u)),u==="__proto__"&&(u="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);const f=this.options.attributeValueProcessor(a,c,t);f==null?o[u]=c:typeof f!=typeof c||f!==c?o[u]=f:o[u]=iT(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(o[u]=!0)}if(!Object.keys(o).length)return;if(this.options.attributesGroupName){const s={};return s[this.options.attributesGroupName]=o,s}return o}}const rxe=function(e){e=e.replace(/\r\n?/g,`
`);const t=new R0("!xml");let n=t,r="",i="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){const a=Uf(e,">",o,"Closing Tag is not closed.");let c=e.substring(o+2,a).trim();if(this.options.removeNSPrefix){const h=c.indexOf(":");h!==-1&&(c=c.substr(h+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&(r=this.saveTextToParentTag(r,n,i));const u=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let f=0;u&&this.options.unpairedTags.indexOf(u)!==-1?(f=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):f=i.lastIndexOf("."),i=i.substring(0,f),n=this.tagsNodeStack.pop(),r="",o=a}else if(e[o+1]==="?"){let a=rT(e,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(r=this.saveTextToParentTag(r,n,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){const c=new R0(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(n,c,i)}o=a.closeIndex+1}else if(e.substr(o+1,3)==="!--"){const a=Uf(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){const c=e.substring(o+4,a-2);r=this.saveTextToParentTag(r,n,i),n.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(e.substr(o+1,2)==="!D"){const a=Pbe(e,o);this.docTypeEntities=a.entities,o=a.i}else if(e.substr(o+1,2)==="!["){const a=Uf(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,a);r=this.saveTextToParentTag(r,n,i);let u=this.parseTextData(c,n.tagname,i,!0,!1,!0,!0);u==null&&(u=""),this.options.cdataPropName?n.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):n.add(this.options.textNodeName,u),o=a+2}else{let a=rT(e,o,this.options.removeNSPrefix),c=a.tagName;const u=a.rawTagName;let f=a.tagExp,h=a.attrExpPresent,p=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),n&&r&&n.tagname!=="!xml"&&(r=this.saveTextToParentTag(r,n,i,!1));const y=n;if(y&&this.options.unpairedTags.indexOf(y.tagname)!==-1&&(n=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==t.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let x="";if(f.length>0&&f.lastIndexOf("/")===f.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{const E=this.readStopNodeData(e,u,p+1);if(!E)throw new Error(`Unexpected end of ${u}`);o=E.i,x=E.tagContent}const v=new R0(c);c!==f&&h&&(v[":@"]=this.buildAttributesMap(f,i,c)),x&&(x=this.parseTextData(x,c,i,!0,h,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),v.add(this.options.textNodeName,x),this.addChild(n,v,i)}else{if(f.length>0&&f.lastIndexOf("/")===f.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),f=c):f=f.substr(0,f.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));const x=new R0(c);c!==f&&h&&(x[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,x,i),i=i.substr(0,i.lastIndexOf("."))}else{const x=new R0(c);this.tagsNodeStack.push(n),c!==f&&h&&(x[":@"]=this.buildAttributesMap(f,i,c)),this.addChild(n,x,i),n=x}r="",o=p}}else r+=e[o];return t.child};function ixe(e,t,n){const r=this.options.updateTag(t.tagname,n,t[":@"]);r===!1||(typeof r=="string"&&(t.tagname=r),e.addChild(t))}const oxe=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){const n=this.docTypeEntities[t];e=e.replace(n.regx,n.val)}for(let t in this.lastEntities){const n=this.lastEntities[t];e=e.replace(n.regex,n.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){const n=this.htmlEntities[t];e=e.replace(n.regex,n.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function sxe(e,t,n,r){return e&&(r===void 0&&(r=t.child.length===0),e=this.parseTextData(e,t.tagname,n,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,r),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function axe(e,t,n){const r="*."+n;for(const i in e){const o=e[i];if(r===o||t===o)return!0}return!1}function lxe(e,t,n=">"){let r,i="";for(let o=t;o<e.length;o++){let s=e[o];if(r)s===r&&(r="");else if(s==='"'||s==="'")r=s;else if(s===n[0])if(n[1]){if(e[o+1]===n[1])return{data:i,index:o}}else return{data:i,index:o};else s==="	"&&(s=" ");i+=s}}function Uf(e,t,n,r){const i=e.indexOf(t,n);if(i===-1)throw new Error(r);return i+t.length-1}function rT(e,t,n,r=">"){const i=lxe(e,t+1,r);if(!i)return;let o=i.data;const s=i.index,a=o.search(/\s/);let c=o,u=!0;a!==-1&&(c=o.substring(0,a),o=o.substring(a+1).trimStart());const f=c;if(n){const h=c.indexOf(":");h!==-1&&(c=c.substr(h+1),u=c!==i.data.substr(h+1))}return{tagName:c,tagExp:o,closeIndex:s,attrExpPresent:u,rawTagName:f}}function cxe(e,t,n){const r=n;let i=1;for(;n<e.length;n++)if(e[n]==="<")if(e[n+1]==="/"){const o=Uf(e,">",n,`${t} is not closed`);if(e.substring(n+2,o).trim()===t&&(i--,i===0))return{tagContent:e.substring(r,n),i:o};n=o}else if(e[n+1]==="?")n=Uf(e,"?>",n+1,"StopNode is not closed.");else if(e.substr(n+1,3)==="!--")n=Uf(e,"-->",n+3,"StopNode is not closed.");else if(e.substr(n+1,2)==="![")n=Uf(e,"]]>",n,"StopNode is not closed.")-2;else{const o=rT(e,n,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&i++,n=o.closeIndex)}}function iT(e,t,n){if(t&&typeof e=="string"){const r=e.trim();return r==="true"?!0:r==="false"?!1:Gbe(e,n)}else return Ebe(e)?e:""}function uxe(e,t){return SW(e,t)}function SW(e,t,n){let r;const i={};for(let o=0;o<e.length;o++){const s=e[o],a=dxe(s);let c="";if(n===void 0?c=a:c=n+"."+a,a===t.textNodeName)r===void 0?r=s[a]:r+=""+s[a];else{if(a===void 0)continue;if(s[a]){let u=SW(s[a],t,c);const f=hxe(u,t);s[":@"]?fxe(u,s[":@"],c,t):Object.keys(u).length===1&&u[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?u=u[t.textNodeName]:Object.keys(u).length===0&&(t.alwaysCreateTextNode?u[t.textNodeName]="":u=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(u)):t.isArray(a,c,f)?i[a]=[u]:i[a]=u}}}return typeof r=="string"?r.length>0&&(i[t.textNodeName]=r):r!==void 0&&(i[t.textNodeName]=r),i}function dxe(e){const t=Object.keys(e);for(let n=0;n<t.length;n++){const r=t[n];if(r!==":@")return r}}function fxe(e,t,n,r){if(t){const i=Object.keys(t),o=i.length;for(let s=0;s<o;s++){const a=i[s];r.isArray(a,n+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function hxe(e,t){const{textNodeName:n}=t,r=Object.keys(e).length;return!!(r===0||r===1&&(e[n]||typeof e[n]=="boolean"||e[n]===0))}class mxe{constructor(t){this.externalEntities={},this.options=kbe(t)}parse(t,n){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(n){n===!0&&(n={});const o=Obe(t,n);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}const r=new Xbe(this.options);r.addExternalEntities(this.externalEntities);const i=r.parseXml(t);return this.options.preserveOrder||i===void 0?i:uxe(i,this.options)}addEntity(t,n){if(n.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(n==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=n}}function pxe(e){return new mxe().parse(e)}var Gf;class gxe extends dbe{constructor(n,r){super(n);Ve(this,Gf);Le(this,Gf,r??{responseType:"json"})}convertParams(n){switch(G(this,Gf).convertParams){case"pascalToKebab":return tT(n);default:return n}}getUrl(n="/",r={}){const i=new URL(n),o=this.convertParams(r);return Object.entries(o).forEach(([s,a])=>{i.searchParams.append(s,a)}),i.toString()}updateKeysRecursively(n,r){return n==null?n:Array.isArray(n)?n.map(i=>this.updateKeysRecursively(i,r)):typeof n=="object"?Object.keys(n).reduce((i,o)=>{let s=o;return o.indexOf(" ")===-1&&(s=o.charAt(0)[r]()+o.slice(1)),i[s]=this.updateKeysRecursively(n[o],r),i},{}):n}async fetchJson(n,r){const i=await this.fetch(n,r);if(G(this,Gf).responseType==="xml"){if(!i.ok){const a=await i.text();throw new Error(a)}const s=await i.text();return pxe(s)}if(!i.ok){const s=await i.json();throw new Error(s.message)}const o=await i.json();return G(this,Gf).responseKeysToUpper?this.updateKeysRecursively(o,"toUpperCase"):o}}Gf=new WeakMap;var EW=typeof global=="object"&&global&&global.Object===Object&&global,yxe=typeof self=="object"&&self&&self.Object===Object&&self,Sa=EW||yxe||Function("return this")(),vs=Sa.Symbol,NW=Object.prototype,bxe=NW.hasOwnProperty,xxe=NW.toString,I0=vs?vs.toStringTag:void 0;function vxe(e){var t=bxe.call(e,I0),n=e[I0];try{e[I0]=void 0;var r=!0}catch{}var i=xxe.call(e);return r&&(t?e[I0]=n:delete e[I0]),i}var wxe=Object.prototype,Sxe=wxe.toString;function Exe(e){return Sxe.call(e)}var Nxe="[object Null]",Oxe="[object Undefined]",C8=vs?vs.toStringTag:void 0;function Gh(e){return e==null?e===void 0?Oxe:Nxe:C8&&C8 in Object(e)?vxe(e):Exe(e)}function tl(e){return e!=null&&typeof e=="object"}var _xe="[object Symbol]";function NN(e){return typeof e=="symbol"||tl(e)&&Gh(e)==_xe}function OW(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var so=Array.isArray,j8=vs?vs.prototype:void 0,A8=j8?j8.toString:void 0;function _W(e){if(typeof e=="string")return e;if(so(e))return OW(e,_W)+"";if(NN(e))return A8?A8.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var $xe=/\s/;function Cxe(e){for(var t=e.length;t--&&$xe.test(e.charAt(t)););return t}var jxe=/^\s+/;function Axe(e){return e&&e.slice(0,Cxe(e)+1).replace(jxe,"")}function mi(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var T8=NaN,Txe=/^[-+]0x[0-9a-f]+$/i,Rxe=/^0b[01]+$/i,Ixe=/^0o[0-7]+$/i,Mxe=parseInt;function R8(e){if(typeof e=="number")return e;if(NN(e))return T8;if(mi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=mi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Axe(e);var n=Rxe.test(e);return n||Ixe.test(e)?Mxe(e.slice(2),n?2:8):Txe.test(e)?T8:+e}function u4(e){return e}var kxe="[object AsyncFunction]",Pxe="[object Function]",Dxe="[object GeneratorFunction]",Fxe="[object Proxy]";function ON(e){if(!mi(e))return!1;var t=Gh(e);return t==Pxe||t==Dxe||t==kxe||t==Fxe}var DC=Sa["__core-js_shared__"],I8=function(){var e=/[^.]+$/.exec(DC&&DC.keys&&DC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Lxe(e){return!!I8&&I8 in e}var Bxe=Function.prototype,zxe=Bxe.toString;function Kh(e){if(e!=null){try{return zxe.call(e)}catch{}try{return e+""}catch{}}return""}var Uxe=/[\\^$.*+?()[\]{}|]/g,Vxe=/^\[object .+?Constructor\]$/,qxe=Function.prototype,Hxe=Object.prototype,Wxe=qxe.toString,Gxe=Hxe.hasOwnProperty,Kxe=RegExp("^"+Wxe.call(Gxe).replace(Uxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yxe(e){if(!mi(e)||Lxe(e))return!1;var t=ON(e)?Kxe:Vxe;return t.test(Kh(e))}function Jxe(e,t){return e==null?void 0:e[t]}function Yh(e,t){var n=Jxe(e,t);return Yxe(n)?n:void 0}var oT=Yh(Sa,"WeakMap"),M8=Object.create,$W=function(){function e(){}return function(t){if(!mi(t))return{};if(M8)return M8(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function Xxe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function CW(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var Qxe=800,Zxe=16,eve=Date.now;function tve(e){var t=0,n=0;return function(){var r=eve(),i=Zxe-(r-n);if(n=r,i>0){if(++t>=Qxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function nve(e){return function(){return e}}var XS=function(){try{var e=Yh(Object,"defineProperty");return e({},"",{}),e}catch{}}(),rve=XS?function(e,t){return XS(e,"toString",{configurable:!0,enumerable:!1,value:nve(t),writable:!0})}:u4,jW=tve(rve);function AW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var ive=9007199254740991,ove=/^(?:0|[1-9]\d*)$/;function _N(e,t){var n=typeof e;return t=t??ive,!!t&&(n=="number"||n!="symbol"&&ove.test(e))&&e>-1&&e%1==0&&e<t}function d4(e,t,n){t=="__proto__"&&XS?XS(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function gv(e,t){return e===t||e!==e&&t!==t}var sve=Object.prototype,ave=sve.hasOwnProperty;function f4(e,t,n){var r=e[t];(!(ave.call(e,t)&&gv(r,n))||n===void 0&&!(t in e))&&d4(e,t,n)}function cy(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=void 0;c===void 0&&(c=e[a]),i?d4(n,a,c):f4(n,a,c)}return n}var k8=Math.max;function TW(e,t,n){return t=k8(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=k8(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Xxe(e,this,a)}}function lve(e,t){return jW(TW(e,t,u4),e+"")}var cve=9007199254740991;function h4(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=cve}function $N(e){return e!=null&&h4(e.length)&&!ON(e)}function uve(e,t,n){if(!mi(n))return!1;var r=typeof t;return(r=="number"?$N(n)&&_N(t,n.length):r=="string"&&t in n)?gv(n[t],e):!1}function dve(e){return lve(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&uve(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}var fve=Object.prototype;function m4(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||fve;return e===n}function hve(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var mve="[object Arguments]";function P8(e){return tl(e)&&Gh(e)==mve}var RW=Object.prototype,pve=RW.hasOwnProperty,gve=RW.propertyIsEnumerable,Bb=P8(function(){return arguments}())?P8:function(e){return tl(e)&&pve.call(e,"callee")&&!gve.call(e,"callee")};function yve(){return!1}var IW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,D8=IW&&typeof module=="object"&&module&&!module.nodeType&&module,bve=D8&&D8.exports===IW,F8=bve?Sa.Buffer:void 0,xve=F8?F8.isBuffer:void 0,gg=xve||yve,vve="[object Arguments]",wve="[object Array]",Sve="[object Boolean]",Eve="[object Date]",Nve="[object Error]",Ove="[object Function]",_ve="[object Map]",$ve="[object Number]",Cve="[object Object]",jve="[object RegExp]",Ave="[object Set]",Tve="[object String]",Rve="[object WeakMap]",Ive="[object ArrayBuffer]",Mve="[object DataView]",kve="[object Float32Array]",Pve="[object Float64Array]",Dve="[object Int8Array]",Fve="[object Int16Array]",Lve="[object Int32Array]",Bve="[object Uint8Array]",zve="[object Uint8ClampedArray]",Uve="[object Uint16Array]",Vve="[object Uint32Array]",wn={};wn[kve]=wn[Pve]=wn[Dve]=wn[Fve]=wn[Lve]=wn[Bve]=wn[zve]=wn[Uve]=wn[Vve]=!0;wn[vve]=wn[wve]=wn[Ive]=wn[Sve]=wn[Mve]=wn[Eve]=wn[Nve]=wn[Ove]=wn[_ve]=wn[$ve]=wn[Cve]=wn[jve]=wn[Ave]=wn[Tve]=wn[Rve]=!1;function qve(e){return tl(e)&&h4(e.length)&&!!wn[Gh(e)]}function p4(e){return function(t){return e(t)}}var MW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ob=MW&&typeof module=="object"&&module&&!module.nodeType&&module,Hve=ob&&ob.exports===MW,FC=Hve&&EW.process,yg=function(){try{var e=ob&&ob.require&&ob.require("util").types;return e||FC&&FC.binding&&FC.binding("util")}catch{}}(),L8=yg&&yg.isTypedArray,CN=L8?p4(L8):qve,Wve=Object.prototype,Gve=Wve.hasOwnProperty;function kW(e,t){var n=so(e),r=!n&&Bb(e),i=!n&&!r&&gg(e),o=!n&&!r&&!i&&CN(e),s=n||r||i||o,a=s?hve(e.length,String):[],c=a.length;for(var u in e)(t||Gve.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||_N(u,c)))&&a.push(u);return a}function PW(e,t){return function(n){return e(t(n))}}var Kve=PW(Object.keys,Object),Yve=Object.prototype,Jve=Yve.hasOwnProperty;function Xve(e){if(!m4(e))return Kve(e);var t=[];for(var n in Object(e))Jve.call(e,n)&&n!="constructor"&&t.push(n);return t}function yv(e){return $N(e)?kW(e):Xve(e)}function Qve(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Zve=Object.prototype,ewe=Zve.hasOwnProperty;function twe(e){if(!mi(e))return Qve(e);var t=m4(e),n=[];for(var r in e)r=="constructor"&&(t||!ewe.call(e,r))||n.push(r);return n}function bv(e){return $N(e)?kW(e,!0):twe(e)}var nwe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rwe=/^\w*$/;function g4(e,t){if(so(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||NN(e)?!0:rwe.test(e)||!nwe.test(e)||t!=null&&e in Object(t)}var zb=Yh(Object,"create");function iwe(){this.__data__=zb?zb(null):{},this.size=0}function owe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var swe="__lodash_hash_undefined__",awe=Object.prototype,lwe=awe.hasOwnProperty;function cwe(e){var t=this.__data__;if(zb){var n=t[e];return n===swe?void 0:n}return lwe.call(t,e)?t[e]:void 0}var uwe=Object.prototype,dwe=uwe.hasOwnProperty;function fwe(e){var t=this.__data__;return zb?t[e]!==void 0:dwe.call(t,e)}var hwe="__lodash_hash_undefined__";function mwe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zb&&t===void 0?hwe:t,this}function wh(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}wh.prototype.clear=iwe;wh.prototype.delete=owe;wh.prototype.get=cwe;wh.prototype.has=fwe;wh.prototype.set=mwe;function pwe(){this.__data__=[],this.size=0}function jN(e,t){for(var n=e.length;n--;)if(gv(e[n][0],t))return n;return-1}var gwe=Array.prototype,ywe=gwe.splice;function bwe(e){var t=this.__data__,n=jN(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ywe.call(t,n,1),--this.size,!0}function xwe(e){var t=this.__data__,n=jN(t,e);return n<0?void 0:t[n][1]}function vwe(e){return jN(this.__data__,e)>-1}function wwe(e,t){var n=this.__data__,r=jN(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Wc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Wc.prototype.clear=pwe;Wc.prototype.delete=bwe;Wc.prototype.get=xwe;Wc.prototype.has=vwe;Wc.prototype.set=wwe;var Ub=Yh(Sa,"Map");function Swe(){this.size=0,this.__data__={hash:new wh,map:new(Ub||Wc),string:new wh}}function Ewe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function AN(e,t){var n=e.__data__;return Ewe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Nwe(e){var t=AN(this,e).delete(e);return this.size-=t?1:0,t}function Owe(e){return AN(this,e).get(e)}function _we(e){return AN(this,e).has(e)}function $we(e,t){var n=AN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Gc(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gc.prototype.clear=Swe;Gc.prototype.delete=Nwe;Gc.prototype.get=Owe;Gc.prototype.has=_we;Gc.prototype.set=$we;var Cwe="Expected a function";function y4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Cwe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(y4.Cache||Gc),n}y4.Cache=Gc;var jwe=500;function Awe(e){var t=y4(e,function(r){return n.size===jwe&&n.clear(),r}),n=t.cache;return t}var Twe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rwe=/\\(\\)?/g,Iwe=Awe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Twe,function(n,r,i,o){t.push(i?o.replace(Rwe,"$1"):r||n)}),t});function Mwe(e){return e==null?"":_W(e)}function uy(e,t){return so(e)?e:g4(e,t)?[e]:Iwe(Mwe(e))}function dy(e){if(typeof e=="string"||NN(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function TN(e,t){t=uy(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[dy(t[n++])];return n&&n==r?e:void 0}function Vb(e,t,n){var r=e==null?void 0:TN(e,t);return r===void 0?n:r}function b4(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var B8=vs?vs.isConcatSpreadable:void 0;function kwe(e){return so(e)||Bb(e)||!!(B8&&e&&e[B8])}function DW(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=kwe),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?DW(a,t-1,n,r,i):b4(i,a):r||(i[i.length]=a)}return i}function Pwe(e){var t=e==null?0:e.length;return t?DW(e,1):[]}function FW(e){return jW(TW(e,void 0,Pwe),e+"")}var RN=PW(Object.getPrototypeOf,Object),Dwe="[object Object]",Fwe=Function.prototype,Lwe=Object.prototype,LW=Fwe.toString,Bwe=Lwe.hasOwnProperty,zwe=LW.call(Object);function BW(e){if(!tl(e)||Gh(e)!=Dwe)return!1;var t=RN(e);if(t===null)return!0;var n=Bwe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&LW.call(n)==zwe}function Uwe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Vwe(){this.__data__=new Wc,this.size=0}function qwe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Hwe(e){return this.__data__.get(e)}function Wwe(e){return this.__data__.has(e)}var Gwe=200;function Kwe(e,t){var n=this.__data__;if(n instanceof Wc){var r=n.__data__;if(!Ub||r.length<Gwe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gc(r)}return n.set(e,t),this.size=n.size,this}function oa(e){var t=this.__data__=new Wc(e);this.size=t.size}oa.prototype.clear=Vwe;oa.prototype.delete=qwe;oa.prototype.get=Hwe;oa.prototype.has=Wwe;oa.prototype.set=Kwe;function Ywe(e,t){return e&&cy(t,yv(t),e)}function Jwe(e,t){return e&&cy(t,bv(t),e)}var zW=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z8=zW&&typeof module=="object"&&module&&!module.nodeType&&module,Xwe=z8&&z8.exports===zW,U8=Xwe?Sa.Buffer:void 0,V8=U8?U8.allocUnsafe:void 0;function UW(e,t){if(t)return e.slice();var n=e.length,r=V8?V8(n):new e.constructor(n);return e.copy(r),r}function Qwe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function VW(){return[]}var Zwe=Object.prototype,e1e=Zwe.propertyIsEnumerable,q8=Object.getOwnPropertySymbols,x4=q8?function(e){return e==null?[]:(e=Object(e),Qwe(q8(e),function(t){return e1e.call(e,t)}))}:VW;function t1e(e,t){return cy(e,x4(e),t)}var n1e=Object.getOwnPropertySymbols,qW=n1e?function(e){for(var t=[];e;)b4(t,x4(e)),e=RN(e);return t}:VW;function r1e(e,t){return cy(e,qW(e),t)}function HW(e,t,n){var r=t(e);return so(e)?r:b4(r,n(e))}function sT(e){return HW(e,yv,x4)}function WW(e){return HW(e,bv,qW)}var aT=Yh(Sa,"DataView"),lT=Yh(Sa,"Promise"),cT=Yh(Sa,"Set"),H8="[object Map]",i1e="[object Object]",W8="[object Promise]",G8="[object Set]",K8="[object WeakMap]",Y8="[object DataView]",o1e=Kh(aT),s1e=Kh(Ub),a1e=Kh(lT),l1e=Kh(cT),c1e=Kh(oT),Xs=Gh;(aT&&Xs(new aT(new ArrayBuffer(1)))!=Y8||Ub&&Xs(new Ub)!=H8||lT&&Xs(lT.resolve())!=W8||cT&&Xs(new cT)!=G8||oT&&Xs(new oT)!=K8)&&(Xs=function(e){var t=Gh(e),n=t==i1e?e.constructor:void 0,r=n?Kh(n):"";if(r)switch(r){case o1e:return Y8;case s1e:return H8;case a1e:return W8;case l1e:return G8;case c1e:return K8}return t});var u1e=Object.prototype,d1e=u1e.hasOwnProperty;function f1e(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&d1e.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var QS=Sa.Uint8Array;function v4(e){var t=new e.constructor(e.byteLength);return new QS(t).set(new QS(e)),t}function h1e(e,t){var n=t?v4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var m1e=/\w*$/;function p1e(e){var t=new e.constructor(e.source,m1e.exec(e));return t.lastIndex=e.lastIndex,t}var J8=vs?vs.prototype:void 0,X8=J8?J8.valueOf:void 0;function g1e(e){return X8?Object(X8.call(e)):{}}function GW(e,t){var n=t?v4(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var y1e="[object Boolean]",b1e="[object Date]",x1e="[object Map]",v1e="[object Number]",w1e="[object RegExp]",S1e="[object Set]",E1e="[object String]",N1e="[object Symbol]",O1e="[object ArrayBuffer]",_1e="[object DataView]",$1e="[object Float32Array]",C1e="[object Float64Array]",j1e="[object Int8Array]",A1e="[object Int16Array]",T1e="[object Int32Array]",R1e="[object Uint8Array]",I1e="[object Uint8ClampedArray]",M1e="[object Uint16Array]",k1e="[object Uint32Array]";function P1e(e,t,n){var r=e.constructor;switch(t){case O1e:return v4(e);case y1e:case b1e:return new r(+e);case _1e:return h1e(e,n);case $1e:case C1e:case j1e:case A1e:case T1e:case R1e:case I1e:case M1e:case k1e:return GW(e,n);case x1e:return new r;case v1e:case E1e:return new r(e);case w1e:return p1e(e);case S1e:return new r;case N1e:return g1e(e)}}function KW(e){return typeof e.constructor=="function"&&!m4(e)?$W(RN(e)):{}}var D1e="[object Map]";function F1e(e){return tl(e)&&Xs(e)==D1e}var Q8=yg&&yg.isMap,L1e=Q8?p4(Q8):F1e,B1e="[object Set]";function z1e(e){return tl(e)&&Xs(e)==B1e}var Z8=yg&&yg.isSet,U1e=Z8?p4(Z8):z1e,V1e=1,q1e=2,H1e=4,YW="[object Arguments]",W1e="[object Array]",G1e="[object Boolean]",K1e="[object Date]",Y1e="[object Error]",JW="[object Function]",J1e="[object GeneratorFunction]",X1e="[object Map]",Q1e="[object Number]",XW="[object Object]",Z1e="[object RegExp]",eSe="[object Set]",tSe="[object String]",nSe="[object Symbol]",rSe="[object WeakMap]",iSe="[object ArrayBuffer]",oSe="[object DataView]",sSe="[object Float32Array]",aSe="[object Float64Array]",lSe="[object Int8Array]",cSe="[object Int16Array]",uSe="[object Int32Array]",dSe="[object Uint8Array]",fSe="[object Uint8ClampedArray]",hSe="[object Uint16Array]",mSe="[object Uint32Array]",pn={};pn[YW]=pn[W1e]=pn[iSe]=pn[oSe]=pn[G1e]=pn[K1e]=pn[sSe]=pn[aSe]=pn[lSe]=pn[cSe]=pn[uSe]=pn[X1e]=pn[Q1e]=pn[XW]=pn[Z1e]=pn[eSe]=pn[tSe]=pn[nSe]=pn[dSe]=pn[fSe]=pn[hSe]=pn[mSe]=!0;pn[Y1e]=pn[JW]=pn[rSe]=!1;function sb(e,t,n,r,i,o){var s,a=t&V1e,c=t&q1e,u=t&H1e;if(n&&(s=i?n(e,r,i,o):n(e)),s!==void 0)return s;if(!mi(e))return e;var f=so(e);if(f){if(s=f1e(e),!a)return CW(e,s)}else{var h=Xs(e),p=h==JW||h==J1e;if(gg(e))return UW(e,a);if(h==XW||h==YW||p&&!i){if(s=c||p?{}:KW(e),!a)return c?r1e(e,Jwe(s,e)):t1e(e,Ywe(s,e))}else{if(!pn[h])return i?e:{};s=P1e(e,h,a)}}o||(o=new oa);var y=o.get(e);if(y)return y;o.set(e,s),U1e(e)?e.forEach(function(E){s.add(sb(E,t,n,E,e,o))}):L1e(e)&&e.forEach(function(E,N){s.set(N,sb(E,t,n,N,e,o))});var x=u?c?WW:sT:c?bv:yv,v=f?void 0:x(e);return AW(v||e,function(E,N){v&&(N=E,E=e[N]),f4(s,N,sb(E,t,n,N,e,o))}),s}var pSe=1,gSe=4;function xv(e){return sb(e,pSe|gSe)}var ySe="__lodash_hash_undefined__";function bSe(e){return this.__data__.set(e,ySe),this}function xSe(e){return this.__data__.has(e)}function ZS(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gc;++t<n;)this.add(e[t])}ZS.prototype.add=ZS.prototype.push=bSe;ZS.prototype.has=xSe;function vSe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function wSe(e,t){return e.has(t)}var SSe=1,ESe=2;function QW(e,t,n,r,i,o){var s=n&SSe,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(e),f=o.get(t);if(u&&f)return u==t&&f==e;var h=-1,p=!0,y=n&ESe?new ZS:void 0;for(o.set(e,t),o.set(t,e);++h<a;){var x=e[h],v=t[h];if(r)var E=s?r(v,x,h,t,e,o):r(x,v,h,e,t,o);if(E!==void 0){if(E)continue;p=!1;break}if(y){if(!vSe(t,function(N,O){if(!wSe(y,O)&&(x===N||i(x,N,n,r,o)))return y.push(O)})){p=!1;break}}else if(!(x===v||i(x,v,n,r,o))){p=!1;break}}return o.delete(e),o.delete(t),p}function NSe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function OSe(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var _Se=1,$Se=2,CSe="[object Boolean]",jSe="[object Date]",ASe="[object Error]",TSe="[object Map]",RSe="[object Number]",ISe="[object RegExp]",MSe="[object Set]",kSe="[object String]",PSe="[object Symbol]",DSe="[object ArrayBuffer]",FSe="[object DataView]",eF=vs?vs.prototype:void 0,LC=eF?eF.valueOf:void 0;function LSe(e,t,n,r,i,o,s){switch(n){case FSe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case DSe:return!(e.byteLength!=t.byteLength||!o(new QS(e),new QS(t)));case CSe:case jSe:case RSe:return gv(+e,+t);case ASe:return e.name==t.name&&e.message==t.message;case ISe:case kSe:return e==t+"";case TSe:var a=NSe;case MSe:var c=r&_Se;if(a||(a=OSe),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=$Se,s.set(e,t);var f=QW(a(e),a(t),r,i,o,s);return s.delete(e),f;case PSe:if(LC)return LC.call(e)==LC.call(t)}return!1}var BSe=1,zSe=Object.prototype,USe=zSe.hasOwnProperty;function VSe(e,t,n,r,i,o){var s=n&BSe,a=sT(e),c=a.length,u=sT(t),f=u.length;if(c!=f&&!s)return!1;for(var h=c;h--;){var p=a[h];if(!(s?p in t:USe.call(t,p)))return!1}var y=o.get(e),x=o.get(t);if(y&&x)return y==t&&x==e;var v=!0;o.set(e,t),o.set(t,e);for(var E=s;++h<c;){p=a[h];var N=e[p],O=t[p];if(r)var _=s?r(O,N,p,t,e,o):r(N,O,p,e,t,o);if(!(_===void 0?N===O||i(N,O,n,r,o):_)){v=!1;break}E||(E=p=="constructor")}if(v&&!E){var C=e.constructor,j=t.constructor;C!=j&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof j=="function"&&j instanceof j)&&(v=!1)}return o.delete(e),o.delete(t),v}var qSe=1,tF="[object Arguments]",nF="[object Array]",O1="[object Object]",HSe=Object.prototype,rF=HSe.hasOwnProperty;function WSe(e,t,n,r,i,o){var s=so(e),a=so(t),c=s?nF:Xs(e),u=a?nF:Xs(t);c=c==tF?O1:c,u=u==tF?O1:u;var f=c==O1,h=u==O1,p=c==u;if(p&&gg(e)){if(!gg(t))return!1;s=!0,f=!1}if(p&&!f)return o||(o=new oa),s||CN(e)?QW(e,t,n,r,i,o):LSe(e,t,c,n,r,i,o);if(!(n&qSe)){var y=f&&rF.call(e,"__wrapped__"),x=h&&rF.call(t,"__wrapped__");if(y||x){var v=y?e.value():e,E=x?t.value():t;return o||(o=new oa),i(v,E,n,r,o)}}return p?(o||(o=new oa),VSe(e,t,n,r,i,o)):!1}function IN(e,t,n,r,i){return e===t?!0:e==null||t==null||!tl(e)&&!tl(t)?e!==e&&t!==t:WSe(e,t,n,r,IN,i)}var GSe=1,KSe=2;function YSe(e,t,n,r){var i=n.length,o=i;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=n[i];var a=s[0],c=e[a],u=s[1];if(s[2]){if(c===void 0&&!(a in e))return!1}else{var f=new oa,h;if(!(h===void 0?IN(u,c,GSe|KSe,r,f):h))return!1}}return!0}function ZW(e){return e===e&&!mi(e)}function JSe(e){for(var t=yv(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ZW(i)]}return t}function eG(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function XSe(e){var t=JSe(e);return t.length==1&&t[0][2]?eG(t[0][0],t[0][1]):function(n){return n===e||YSe(n,e,t)}}function QSe(e,t){return e!=null&&t in Object(e)}function tG(e,t,n){t=uy(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=dy(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&h4(i)&&_N(s,i)&&(so(e)||Bb(e)))}function nG(e,t){return e!=null&&tG(e,t,QSe)}var ZSe=1,eEe=2;function tEe(e,t){return g4(e)&&ZW(t)?eG(dy(e),t):function(n){var r=Vb(n,e);return r===void 0&&r===t?nG(n,e):IN(t,r,ZSe|eEe)}}function nEe(e){return function(t){return t==null?void 0:t[e]}}function rEe(e){return function(t){return TN(t,e)}}function iEe(e){return g4(e)?nEe(dy(e)):rEe(e)}function oEe(e){return typeof e=="function"?e:e==null?u4:typeof e=="object"?so(e)?tEe(e[0],e[1]):XSe(e):iEe(e)}function sEe(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var c=s[++i];if(n(o[c],c,o)===!1)break}return t}}var rG=sEe();function aEe(e,t){return e&&rG(e,t,yv)}var BC=function(){return Sa.Date.now()},lEe="Expected a function",cEe=Math.max,uEe=Math.min;function dEe(e,t,n){var r,i,o,s,a,c,u=0,f=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(lEe);t=R8(t)||0,mi(n)&&(f=!!n.leading,h="maxWait"in n,o=h?cEe(R8(n.maxWait)||0,t):o,p="trailing"in n?!!n.trailing:p);function y(A){var R=r,I=i;return r=i=void 0,u=A,s=e.apply(I,R),s}function x(A){return u=A,a=setTimeout(N,t),f?y(A):s}function v(A){var R=A-c,I=A-u,P=t-R;return h?uEe(P,o-I):P}function E(A){var R=A-c,I=A-u;return c===void 0||R>=t||R<0||h&&I>=o}function N(){var A=BC();if(E(A))return O(A);a=setTimeout(N,v(A))}function O(A){return a=void 0,p&&r?y(A):(r=i=void 0,s)}function _(){a!==void 0&&clearTimeout(a),u=0,r=c=i=a=void 0}function C(){return a===void 0?s:O(BC())}function j(){var A=BC(),R=E(A);if(r=arguments,i=this,c=A,R){if(a===void 0)return x(c);if(h)return clearTimeout(a),a=setTimeout(N,t),y(c)}return a===void 0&&(a=setTimeout(N,t)),s}return j.cancel=_,j.flush=C,j}function uT(e,t,n){(n!==void 0&&!gv(e[t],n)||n===void 0&&!(t in e))&&d4(e,t,n)}function fEe(e){return tl(e)&&$N(e)}function dT(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function hEe(e){return cy(e,bv(e))}function mEe(e,t,n,r,i,o,s){var a=dT(e,n),c=dT(t,n),u=s.get(c);if(u){uT(e,n,u);return}var f=o?o(a,c,n+"",e,t,s):void 0,h=f===void 0;if(h){var p=so(c),y=!p&&gg(c),x=!p&&!y&&CN(c);f=c,p||y||x?so(a)?f=a:fEe(a)?f=CW(a):y?(h=!1,f=UW(c,!0)):x?(h=!1,f=GW(c,!0)):f=[]:BW(c)||Bb(c)?(f=a,Bb(a)?f=hEe(a):(!mi(a)||ON(a))&&(f=KW(c))):h=!1}h&&(s.set(c,f),i(f,c,r,o,s),s.delete(c)),uT(e,n,f)}function iG(e,t,n,r,i){e!==t&&rG(t,function(o,s){if(i||(i=new oa),mi(o))mEe(e,t,s,n,iG,r,i);else{var a=r?r(dT(e,s),o,s+"",e,t,i):void 0;a===void 0&&(a=o),uT(e,s,a)}},bv)}var pEe=dve(function(e,t,n,r){iG(e,t,n,r)});function gEe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var yEe=Object.prototype,bEe=yEe.hasOwnProperty;function xEe(e,t){return e!=null&&bEe.call(e,t)}function zC(e,t){return e!=null&&tG(e,t,xEe)}function vEe(e,t){return t.length<2?e:TN(e,Uwe(t,0,-1))}function w4(e,t){return IN(e,t)}function wEe(e,t){return t=uy(t,e),e=vEe(e,t),e==null||delete e[dy(gEe(t))]}function SEe(e){return BW(e)?void 0:e}var EEe=1,NEe=2,OEe=4,Sh=FW(function(e,t){var n={};if(e==null)return n;var r=!1;t=OW(t,function(o){return o=uy(o,e),r||(r=o.length>1),o}),cy(e,WW(e),n),r&&(n=sb(n,EEe|NEe|OEe,SEe));for(var i=t.length;i--;)wEe(n,t[i]);return n});function oG(e,t,n,r){if(!mi(e))return e;t=uy(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var c=dy(t[i]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=s){var f=a[c];u=r?r(f,c,a):void 0,u===void 0&&(u=mi(f)?f:_N(t[i+1])?[]:{})}f4(a,c,u),a=a[c]}return e}function _Ee(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=TN(e,s);n(a,s)&&oG(o,uy(s,e),a)}return o}function $Ee(e,t){return _Ee(e,t,function(n,r){return nG(e,r)})}var eE=FW(function(e,t){return e==null?{}:$Ee(e,t)});function Y0(e,t,n){return e==null?e:oG(e,t,n)}var CEe="Expected a function";function sG(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(CEe);return mi(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dEe(e,t,{leading:r,maxWait:t,trailing:i})}function us(e,t,n){var r=so(e),i=r||gg(e)||CN(e);if(t=oEe(t),n==null){var o=e&&e.constructor;i?n=r?new o:[]:mi(e)?n=ON(o)?$W(RN(e)):{}:n={}}return(i?AW:aEe)(e,function(s,a,c){return t(n,s,a,c)}),n}class iF{constructor(t={},n={}){this.variables=t,this.options=n}another(){return 1}static hasMarkup(t){let n="";if(Array.isArray(t)||typeof t=="object"){if(!["Array","Object"].includes(t.constructor.name))return!1;n=JSON.stringify(t)}else n=String(t);return["{{"].some(i=>n.includes(i))}async render(t){if(typeof t>"u"||t===null)return t;if(typeof t=="string")return await this.renderString(t);if(Array.isArray(t))return await Promise.all(t.map(n=>this.render(n)));if(typeof t=="object")return await this.renderObject(t);throw new Error("Invalid template type")}async renderString(t){return t.replace(/{{\s*([^{}]+?)\s*}}/g,(n,r)=>{const i=Vb(this.variables,r.trim());return i==null?"":String(i)})}async renderObject(t){const n={};for(const[r,i]of Object.entries(t)){let o=r;this.options.renderKeys&&(o=await this.renderString(r)),n[o]=await this.render(i)}return n}}function jEe(){return(navigator.userAgent.indexOf("Opera")||navigator.userAgent.indexOf("OPR"))!==-1?"Opera":navigator.userAgent.indexOf("Edg")!==-1?"Edge":navigator.userAgent.indexOf("Chrome")!==-1?"Chrome":navigator.userAgent.indexOf("Safari")!==-1?"Safari":navigator.userAgent.indexOf("Firefox")!==-1?"Firefox":navigator.userAgent.indexOf("MSIE")!==-1||document.documentMode?"IE":"unknown"}const S4={video:["mp4","webm"],audio:["ogg"],image:["jpeg","png","gif","webp","bmp","tiff","avif","heic","heif"],text:["html","css","mdx","yaml","vcard","csv","vtt"],application:["zip","xml","toml","json","json5"],font:["woff","woff2","ttf","otf"]},Ot={vnd:"vnd.openxmlformats-officedocument",z:"application/x-7z-compressed",t:(e="plain")=>`text/${e}`,a:(e="octet-stream")=>`application/${e}`,i:e=>`image/${e}`,v:e=>`video/${e}`},E4=new Map([["7z",Ot.z],["7zip",Ot.z],["ai",Ot.a("pdf")],["apk",Ot.a("vnd.android.package-archive")],["doc",Ot.a("msword")],["docx",`${Ot.vnd}.wordprocessingml.document`],["eps",Ot.a("postscript")],["epub",Ot.a("epub+zip")],["ini",Ot.t()],["jar",Ot.a("java-archive")],["jsonld",Ot.a("ld+json")],["jpg",Ot.i("jpeg")],["log",Ot.t()],["m3u",Ot.t()],["m3u8",Ot.a("vnd.apple.mpegurl")],["manifest",Ot.t("cache-manifest")],["md",Ot.t("markdown")],["mkv",Ot.v("x-matroska")],["mp3",Ot.a("mpeg")],["mobi",Ot.a("x-mobipocket-ebook")],["ppt",Ot.a("powerpoint")],["pptx",`${Ot.vnd}.presentationml.presentation`],["qt",Ot.v("quicktime")],["svg",Ot.i("svg+xml")],["tif",Ot.i("tiff")],["tsv",Ot.t("tab-separated-values")],["tgz",Ot.a("x-tar")],["txt",Ot.t()],["text",Ot.t()],["vcd",Ot.a("x-cdlink")],["vcs",Ot.t("x-vcalendar")],["wav",Ot.a("x-wav")],["webmanifest",Ot.a("manifest+json")],["xls",Ot.a("vnd.ms-excel")],["xlsx",`${Ot.vnd}.spreadsheetml.sheet`],["yml",Ot.t("yaml")]]);function aG(e){try{const t=e.split(".").pop();if(!t)return Ot.a();for(const[n,r]of Object.entries(S4))if(r.includes(t))return`${n}/${t}`;return E4.get(t)}catch{return Ot.a()}}function lG(e,t=[]){const n=e.toLowerCase();if(t.includes(n))return!1;if(Object.entries(S4).flatMap(([r,i])=>i.map(o=>`${r}/${o}`)).includes(n))return!0;for(const[r,i]of E4.entries())if(i===n&&!t.includes(r))return!0;return!1}function cG(e){const t=e.toLowerCase();for(const[n,r]of Object.entries(S4))for(const i of r)if(t===`${n}/${i}`)return i;for(const[n,r]of E4.entries())if(r===t)return n;return""}var AEe={deno:"Deno",bun:"Bun",workerd:"Cloudflare-Workers",node:"Node.js"},uG=()=>{var n,r;const e=globalThis;if(typeof navigator<"u"&&typeof navigator.userAgent=="string"){for(const[i,o]of Object.entries(AEe))if(TEe(o))return i}return typeof(e==null?void 0:e.EdgeRuntime)=="string"?"edge-light":(e==null?void 0:e.fastly)!==void 0?"fastly":((r=(n=e==null?void 0:e.process)==null?void 0:n.release)==null?void 0:r.name)==="node"?"node":"other"},TEe=e=>navigator.userAgent.startsWith(e);function REe(){var t,n,r,i;const e=globalThis;return((n=(t=e==null?void 0:e.process)==null?void 0:t.env)==null?void 0:n.NEXT_RUNTIME)==="nodejs"?"nextjs":((i=(r=e==null?void 0:e.process)==null?void 0:r.env)==null?void 0:i.NEXT_RUNTIME)==="edge"?"nextjs-edge":typeof window<"u"&&window.__NEXT_DATA__?"nextjs-client":uG()}const oF={redirects_non_fq:!0};function IEe(e){return REe().startsWith("nextjs")&&(oF.redirects_non_fq=!1),oF[e]}function sF(e,t){if(!e)throw new Error(t)}var _1={exports:{}},aF;function MEe(){if(aF)return _1.exports;aF=1;var e=String,t=function(){return{isColorSupported:!1,reset:e,bold:e,dim:e,italic:e,underline:e,inverse:e,hidden:e,strikethrough:e,black:e,red:e,green:e,yellow:e,blue:e,magenta:e,cyan:e,white:e,gray:e,bgBlack:e,bgRed:e,bgGreen:e,bgYellow:e,bgBlue:e,bgMagenta:e,bgCyan:e,bgWhite:e,blackBright:e,redBright:e,greenBright:e,yellowBright:e,blueBright:e,magentaBright:e,cyanBright:e,whiteBright:e,bgBlackBright:e,bgRedBright:e,bgGreenBright:e,bgYellowBright:e,bgBlueBright:e,bgMagentaBright:e,bgCyanBright:e,bgWhiteBright:e}};return _1.exports=t(),_1.exports.createColors=t,_1.exports}var kEe=MEe();const Pa=ga(kEe);function PEe(){try{const e=process||{},t=e.argv||[],n=e.env||{};return!(n.NO_COLOR||t.includes("--no-color"))&&(!!n.FORCE_COLOR||t.includes("--color")||e.platform==="win32"||(e.stdout||{}).isTTY&&n.TERM!=="dumb"||!!n.CI)}catch{return!1}}const N4={error:{prefix:"ERR",color:Pa.red,args_color:Pa.red,original:console.error},warn:{prefix:"WRN",color:Pa.yellow,args_color:Pa.yellow,original:console.warn},info:{prefix:"INF",color:Pa.cyan,original:console.info},log:{prefix:"LOG",color:Pa.dim,args_color:Pa.dim,original:console.log},debug:{prefix:"DBG",color:Pa.yellow,args_color:Pa.dim,original:console.debug}};function DEe(e,t){const n=PEe(),r=N4[e],i=r.color(`[${r.prefix}]`),o=t.map(s=>"args_color"in r&&n&&typeof s=="string"?r.args_color(s):s);return r.original(i,Pa.gray(IG()),...o)}const dG=dW("cli_log_level","log"),$1=globalThis.__consoleConfig??(globalThis.__consoleConfig={level:dG}),lF=Object.keys(N4),yt=new Proxy($1,{get:(e,t)=>{switch(t){case"original":return console;case"setLevel":return i=>{$1.level=i};case"resetLevel":return()=>{$1.level=dG}}const n=lF.indexOf($1.level),r=lF.indexOf(t);return t in N4&&r<=n?(...i)=>DEe(t,i):()=>null}});function FEe(e){let t="";typeof e=="string"?t=e:e instanceof Headers?t=e.get("Content-Disposition")||"":e instanceof Request&&(t=e.headers.get("Content-Disposition")||"");const n=t.match(/filename\*?=(?:UTF-8'')?("?)([^";]+)\1/);return n?n[2]:void 0}function LEe(e){return typeof e=="object"&&e!==null&&typeof e.getReader=="function"}function MN(e){return typeof e=="object"&&e!==null&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"}function Jh(e){return MN(e)&&typeof e.name=="string"&&typeof e.lastModified=="number"}function BEe(e){return typeof e=="object"&&e!==null&&Object.prototype.toString.call(e)==="[object ArrayBuffer]"}function zEe(e){return typeof e=="object"&&e!==null&&ArrayBuffer.isView(e)}const UEe={"89504E47":"image/png",FFD8FF:"image/jpeg",47494638:"image/gif","49492A00":"image/tiff","4D4D002A":"image/tiff","52494646????57454250":"image/webp","504B0304":"application/zip",25504446:"application/pdf","00000020667479706D70":"video/mp4","000001BA":"video/mpeg","000001B3":"video/mpeg","1A45DFA3":"video/webm","4F676753":"audio/ogg",494433:"audio/mpeg",FFF1:"audio/aac",FFF9:"audio/aac","52494646????41564920":"audio/wav","52494646????57415645":"audio/wave","52494646????415550":"audio/aiff"};async function VEe(e){if(!e)return;let t;if(LEe(e)){const r=e.getReader(),{value:i}=await r.read();if(!i)return;t=new Uint8Array(i)}else if(MN(e)||Jh(e))t=new Uint8Array(await e.slice(0,12).arrayBuffer());else if(BEe(e))t=new Uint8Array(e);else if(zEe(e))t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);else if(typeof e=="string")t=new TextEncoder().encode(e);else return;const n=Array.from(t.slice(0,12)).map(r=>r.toString(16).padStart(2,"0").toUpperCase()).join("");for(const[r,i]of Object.entries(UEe))if(new RegExp("^"+r.replace(/\?\?/g,"..")).test(n))return i}async function UC(e){const t=e.req.header("Content-Type")??"application/octet-stream";if(t!=null&&t.startsWith("multipart/form-data")||t!=null&&t.startsWith("application/x-www-form-urlencoded"))try{const n=await e.req.formData();if([...n.values()].length>0){const r=[...n.values()][0];return await cF(r)}}catch(n){yt.warn("Error parsing form data",n)}else try{const n=await e.req.blob();if(Jh(n))return n;if(MN(n))return await cF(n,{name:FEe(e.req.raw),type:t})}catch(n){yt.warn("Error parsing blob",n)}throw new Error("No file found in request")}async function qEe(e,t){const n=Jh(e),r=n?e.type:t;sF(r&&typeof r=="string"&&r.startsWith("image/"),"type must be image/*");const i=n?await e.arrayBuffer():e;sF(i.byteLength>=128,"Buffer must be at least 128 bytes");const o=new DataView(i);if(r==="image/jpeg"){let s=2;for(;s<o.byteLength;){const a=o.getUint16(s);if(s+=2,a===65472||a===65474)return{width:o.getUint16(s+5),height:o.getUint16(s+3)};s+=o.getUint16(s)}}else{if(r==="image/png")return{width:o.getUint32(16),height:o.getUint32(20)};if(r==="image/gif")return{width:o.getUint16(6),height:o.getUint16(8)};if(r==="image/tiff"){const s=o.getUint16(0)===18761,a=o.getUint32(4,s),c=o.getUint32(a+18,s),u=o.getUint32(a+10,s);return{width:c,height:u}}}throw new Error("Unsupported image format")}async function cF(e,t={}){if(Jh(e))return e;if(!MN(e))throw new Error("Not a Blob");const n=lG(t.type,["application/octet-stream"])?t.type:await VEe(e),r=n?cG(n):"",i=t.name||[hW(16),r].filter(Boolean).join(".");return new File([e],i,{type:n||aG(i),lastModified:Date.now()})}function HEe(e){return e.map(t=>vv(t))}function vv(e,t){return io(t===void 0?e:{...t,...e})}function WEe(e){return(parseInt(e)+1).toString()}function O4(e){return He({[qe]:"Argument",index:e})}function GEe(e,t){return dr("Awaited",[dr(e,t)])}function KEe(e){return dr("Awaited",[Dd(e)])}function YEe(e){return dl(fG(e))}function JEe(e){return $r(fG(e))}function XEe(e){return fy(e)}function fG(e){return e.map(t=>fy(t))}function fy(e,t){return He(Lh(e)?GEe(e.target,e.parameters):Bo(e)?YEe(e.allOf):_r(e)?JEe(e.anyOf):ev(e)?XEe(e.item):Pi(e)?KEe(e.$ref):e,t)}function QEe(e){const t=[];for(const n of e)t.push(...Fd(n));return dH(t)}function ZEe(e){return e.filter(t=>!ny(t))}function e2e(e,t){const n=[];for(const r of e)n.push(...dN(r,[t]));return ZEe(n)}function t2e(e,t){const n={};for(const r of t)n[r]=lN(e2e(e,r));return n}function _4(e,t){const n=QEe(e),r=t2e(e,n);return nr(r,t)}function kN(e){return He({[qe]:"Date",type:"Date"},e)}function wv(e){return He({[qe]:"Null",type:"null"},e)}function PN(e){return He({[qe]:"Symbol",type:"symbol"},e)}function DN(e){return He({[qe]:"Undefined",type:"undefined"},e)}function FN(e){return He({[qe]:"Uint8Array",type:"Uint8Array"},e)}function n2e(e){return e.map(t=>$4(t,!1))}function r2e(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=ml($4(e[n],!1));return t}function C1(e,t){return t===!0?e:ml(e)}function $4(e,t){return Fq(e)||Bq(e)?C1(yh(),t):Kn(e)?ml(Uc(n2e(e))):Zg(e)?FN():iN(e)?kN():bt(e)?C1(nr(r2e(e)),t):Lq(e)?C1(Dh([],Hh()),t):Zn(e)?DN():zq(e)?wv():Uq(e)?PN():FI(e)?iv():To(e)||Id(e)||bn(e)?Tn(e):nr({})}function C4(e,t){return He($4(e,!0),t)}function j4(e,t){return Bh(e)?Uc(e.parameters,t):_n(t)}function A4(e,t){if(Zn(e))throw new Error("Enum undefined or empty");const n=globalThis.Object.getOwnPropertyNames(e).filter(o=>isNaN(o)).map(o=>e[o]),i=[...new Set(n)].map(o=>Tn(o));return $r(i,{...t,[Cc]:"Enum"})}function hG(e,t){return Sv(Pb(e),t)}function i2e(e,t){const n=e.filter(r=>ly(r,t)===Oe.False);return n.length===1?n[0]:$r(n)}function Sv(e,t,n={}){return kd(e)?He(hG(e,t),n):ao(e)?He(mG(e,t),n):He(_r(e)?i2e(e.anyOf,t):ly(e,t)!==Oe.False?_n():e,n)}function o2e(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Sv(e[r],t);return n}function s2e(e,t){return o2e(e.properties,t)}function mG(e,t){const n=s2e(e,t);return Gr(n)}function pG(e,t){return Ev(Pb(e),t)}function a2e(e,t){const n=e.filter(r=>ly(r,t)!==Oe.False);return n.length===1?n[0]:$r(n)}function Ev(e,t,n){return kd(e)?He(pG(e,t),n):ao(e)?He(gG(e,t),n):He(_r(e)?a2e(e.anyOf,t):ly(e,t)!==Oe.False?e:_n(),n)}function l2e(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Ev(e[r],t);return n}function c2e(e,t){return l2e(e.properties,t)}function gG(e,t){const n=c2e(e,t);return Gr(n)}function T4(e,t){return Bh(e)?He(e.returns,t):_n(t)}function LN(e){return ml(va(e))}function Xh(e,t,n){return He({[qe]:"Record",type:"object",patternProperties:{[e]:t}},n)}function R4(e,t,n){const r={};for(const i of e)r[i]=t;return nr(r,{...n,[Cc]:"Record"})}function u2e(e,t,n){return Zq(e)?R4(zc(e),t,n):Xh(e.pattern,t,n)}function d2e(e,t,n){return R4(zc($r(e)),t,n)}function f2e(e,t,n){return R4([e.toString()],t,n)}function h2e(e,t,n){return Xh(e.source,t,n)}function m2e(e,t,n){const r=Zn(e.pattern)?ph:e.pattern;return Xh(r,t,n)}function p2e(e,t,n){return Xh(ph,t,n)}function g2e(e,t,n){return Xh(iH,t,n)}function y2e(e,t,n){return nr({true:t,false:t},n)}function b2e(e,t,n){return Xh(mh,t,n)}function x2e(e,t,n){return Xh(mh,t,n)}function BN(e,t,n={}){return _r(e)?d2e(e.anyOf,t,n):kd(e)?u2e(e,t,n):xa(e)?f2e(e.const,t,n):ty(e)?y2e(e,t,n):Uh(e)?b2e(e,t,n):Vh(e)?x2e(e,t,n):qI(e)?h2e(e,t,n):ry(e)?m2e(e,t,n):zI(e)?p2e(e,t,n):ny(e)?g2e(e,t,n):_n(n)}function zN(e){return globalThis.Object.getOwnPropertyNames(e.patternProperties)[0]}function yG(e){const t=zN(e);return t===ph?el():t===mh?hl():el({pattern:t})}function I4(e){return e.patternProperties[zN(e)]}function v2e(e,t){return t.parameters=hy(e,t.parameters),t.returns=da(e,t.returns),t}function w2e(e,t){return t.parameters=hy(e,t.parameters),t.returns=da(e,t.returns),t}function S2e(e,t){return t.allOf=hy(e,t.allOf),t}function E2e(e,t){return t.anyOf=hy(e,t.anyOf),t}function N2e(e,t){return Zn(t.items)||(t.items=hy(e,t.items)),t}function O2e(e,t){return t.items=da(e,t.items),t}function _2e(e,t){return t.items=da(e,t.items),t}function $2e(e,t){return t.items=da(e,t.items),t}function C2e(e,t){return t.item=da(e,t.item),t}function j2e(e,t){const n=I2e(e,t.properties);return{...t,...nr(n)}}function A2e(e,t){const n=da(e,yG(t)),r=da(e,I4(t)),i=BN(n,r);return{...t,...i}}function T2e(e,t){return t.index in e?e[t.index]:Hh()}function R2e(e,t){const n=oN(t),r=Bc(t),i=da(e,t);return n&&r?LN(i):n&&!r?ml(i):!n&&r?va(i):i}function I2e(e,t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,r)=>({...n,[r]:R2e(e,t[r])}),{})}function hy(e,t){return t.map(n=>da(e,n))}function da(e,t){return Bh(t)?v2e(e,t):zh(t)?w2e(e,t):Bo(t)?S2e(e,t):_r(t)?E2e(e,t):Pd(t)?N2e(e,t):Fh(t)?O2e(e,t):Xx(t)?_2e(e,t):Zx(t)?$2e(e,t):ev(t)?C2e(e,t):js(t)?j2e(e,t):tv(t)?A2e(e,t):UI(t)?T2e(e,t):t}function M4(e,t){return da(t,vv(e))}function UN(e){return He({[qe]:"Integer",type:"integer"},e)}function M2e(e,t,n){return{[e]:Qh(Tn(e),t,io(n))}}function k2e(e,t,n){return e.reduce((i,o)=>({...i,...M2e(o,t,n)}),{})}function P2e(e,t,n){return k2e(e.keys,t,n)}function bG(e,t,n){const r=P2e(e,t,n);return Gr(r)}function D2e(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toLowerCase(),n].join("")}function F2e(e){const[t,n]=[e.slice(0,1),e.slice(1)];return[t.toUpperCase(),n].join("")}function L2e(e){return e.toUpperCase()}function B2e(e){return e.toLowerCase()}function z2e(e,t,n){const r=cN(e.pattern);if(!cg(r))return{...e,pattern:xG(e.pattern,t)};const s=[...nv(r)].map(u=>Tn(u)),a=vG(s,t),c=$r(a);return uN([c],n)}function xG(e,t){return typeof e=="string"?t==="Uncapitalize"?D2e(e):t==="Capitalize"?F2e(e):t==="Uppercase"?L2e(e):t==="Lowercase"?B2e(e):e:e.toString()}function vG(e,t){return e.map(n=>Qh(n,t))}function Qh(e,t,n={}){return Md(e)?bG(e,t,n):kd(e)?z2e(e,t,n):_r(e)?$r(vG(e.anyOf,t),n):xa(e)?Tn(xG(e.const,t),n):He(e,n)}function k4(e,t={}){return Qh(e,"Capitalize",t)}function P4(e,t={}){return Qh(e,"Lowercase",t)}function D4(e,t={}){return Qh(e,"Uncapitalize",t)}function F4(e,t={}){return Qh(e,"Uppercase",t)}function U2e(e,t,n){const r={};for(const i of globalThis.Object.getOwnPropertyNames(e))r[i]=my(e[i],t,io(n));return r}function V2e(e,t,n){return U2e(e.properties,t,n)}function wG(e,t,n){const r=V2e(e,t,n);return Gr(r)}function q2e(e,t){return e.map(n=>L4(n,t))}function H2e(e,t){return e.map(n=>L4(n,t))}function W2e(e,t){const{[t]:n,...r}=e;return r}function G2e(e,t){return t.reduce((n,r)=>W2e(n,r),e)}function K2e(e,t){const n=Ro(e,[Ti,"$id","required","properties"]),r=G2e(e.properties,t);return nr(r,n)}function Y2e(e){const t=e.reduce((n,r)=>VI(r)?[...n,Tn(r)]:n,[]);return $r(t)}function L4(e,t){return Bo(e)?dl(q2e(e.allOf,t)):_r(e)?$r(H2e(e.anyOf,t)):js(e)?K2e(e,t):nr({})}function my(e,t,n){const r=Kn(t)?Y2e(t):t,i=ui(t)?zc(t):t,o=Pi(e),s=Pi(t);return ao(e)?wG(e,i,n):Md(t)?SG(e,t,n):o&&s?dr("Omit",[e,r],n):!o&&s?dr("Omit",[e,r],n):o&&!s?dr("Omit",[e,r],n):He({...L4(e,i),...n})}function J2e(e,t,n){return{[t]:my(e,[t],io(n))}}function X2e(e,t,n){return t.reduce((r,i)=>({...r,...J2e(e,i,n)}),{})}function Q2e(e,t,n){return X2e(e,t.keys,n)}function SG(e,t,n){const r=Q2e(e,t,n);return Gr(r)}function Z2e(e,t,n){const r={};for(const i of globalThis.Object.getOwnPropertyNames(e))r[i]=py(e[i],t,io(n));return r}function eNe(e,t,n){return Z2e(e.properties,t,n)}function EG(e,t,n){const r=eNe(e,t,n);return Gr(r)}function tNe(e,t){return e.map(n=>B4(n,t))}function nNe(e,t){return e.map(n=>B4(n,t))}function rNe(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function iNe(e,t){const n=Ro(e,[Ti,"$id","required","properties"]),r=rNe(e.properties,t);return nr(r,n)}function oNe(e){const t=e.reduce((n,r)=>VI(r)?[...n,Tn(r)]:n,[]);return $r(t)}function B4(e,t){return Bo(e)?dl(tNe(e.allOf,t)):_r(e)?$r(nNe(e.anyOf,t)):js(e)?iNe(e,t):nr({})}function py(e,t,n){const r=Kn(t)?oNe(t):t,i=ui(t)?zc(t):t,o=Pi(e),s=Pi(t);return ao(e)?EG(e,i,n):Md(t)?NG(e,t,n):o&&s?dr("Pick",[e,r],n):!o&&s?dr("Pick",[e,r],n):o&&!s?dr("Pick",[e,r],n):He({...B4(e,i),...n})}function sNe(e,t,n){return{[t]:py(e,[t],io(n))}}function aNe(e,t,n){return t.reduce((r,i)=>({...r,...sNe(e,i,n)}),{})}function lNe(e,t,n){return aNe(e,t.keys,n)}function NG(e,t,n){const r=lNe(e,t,n);return Gr(r)}function cNe(e,t){return dr("Partial",[dr(e,t)])}function uNe(e){return dr("Partial",[Dd(e)])}function dNe(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=va(e[n]);return t}function fNe(e){const t=Ro(e,[Ti,"$id","required","properties"]),n=dNe(e.properties);return nr(n,t)}function uF(e){return e.map(t=>OG(t))}function OG(e){return Lh(e)?cNe(e.target,e.parameters):Pi(e)?uNe(e.$ref):Bo(e)?dl(uF(e.allOf)):_r(e)?$r(uF(e.anyOf)):js(e)?fNe(e):Qx(e)||ty(e)||Uh(e)||xa(e)||sN(e)||Vh(e)||ry(e)||aN(e)||iy(e)?e:nr({})}function Nv(e,t){return ao(e)?_G(e,t):He({...OG(e),...t})}function hNe(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Nv(e[r],io(t));return n}function mNe(e,t){return hNe(e.properties,t)}function _G(e,t){const n=mNe(e,t);return Gr(n)}function pNe(e,t){return dr("Required",[dr(e,t)])}function gNe(e){return dr("Required",[Dd(e)])}function yNe(e){const t={};for(const n of globalThis.Object.getOwnPropertyNames(e))t[n]=Ro(e[n],[ul]);return t}function bNe(e){const t=Ro(e,[Ti,"$id","required","properties"]),n=yNe(e.properties);return nr(n,t)}function dF(e){return e.map(t=>$G(t))}function $G(e){return Lh(e)?pNe(e.target,e.parameters):Pi(e)?gNe(e.$ref):Bo(e)?dl(dF(e.allOf)):_r(e)?$r(dF(e.anyOf)):js(e)?bNe(e):Qx(e)||ty(e)||Uh(e)||xa(e)||sN(e)||Vh(e)||ry(e)||aN(e)||iy(e)?e:nr({})}function Ov(e,t){return ao(e)?CG(e,t):He({...$G(e),...t})}function xNe(e,t){const n={};for(const r of globalThis.Object.getOwnPropertyNames(e))n[r]=Ov(e[r],t);return n}function vNe(e,t){return xNe(e.properties,t)}function CG(e,t){const n=vNe(e,t);return Gr(n)}function wNe(e,t){return t.map(n=>Pi(n)?z4(e,n.$ref):ko(e,n))}function z4(e,t){return t in e?Pi(e[t])?z4(e,e[t].$ref):ko(e,e[t]):_n()}function SNe(e){return fy(e[0])}function ENe(e){return oy(e[0],e[1])}function NNe(e){return sv(e[0])}function ONe(e){return Nv(e[0])}function _Ne(e){return my(e[0],e[1])}function $Ne(e){return py(e[0],e[1])}function CNe(e){return Ov(e[0])}function jNe(e,t,n){const r=wNe(e,n);return t==="Awaited"?SNe(r):t==="Index"?ENe(r):t==="KeyOf"?NNe(r):t==="Partial"?ONe(r):t==="Omit"?_Ne(r):t==="Pick"?$Ne(r):t==="Required"?CNe(r):_n()}function ANe(e,t){return ey(ko(e,t))}function TNe(e,t){return Yx(ko(e,t))}function RNe(e,t,n){return Jx(_v(e,t),ko(e,n))}function INe(e,t,n){return Dh(_v(e,t),ko(e,n))}function MNe(e,t){return dl(_v(e,t))}function kNe(e,t){return ov(ko(e,t))}function PNe(e,t){return nr(globalThis.Object.keys(t).reduce((n,r)=>({...n,[r]:ko(e,t[r])}),{}))}function DNe(e,t){const[n,r]=[ko(e,I4(t)),zN(t)],i=vv(t);return i.patternProperties[r]=n,i}function FNe(e,t){return Pi(t)?{...z4(e,t.$ref),[Ti]:t[Ti]}:t}function LNe(e,t){return Uc(_v(e,t))}function BNe(e,t){return $r(_v(e,t))}function _v(e,t){return t.map(n=>ko(e,n))}function ko(e,t){return Bc(t)?He(ko(e,Ro(t,[ul])),t):oN(t)?He(ko(e,Ro(t,[Ph])),t):fn(t)?He(FNe(e,t),t):Fh(t)?He(ANe(e,t.items),t):Xx(t)?He(TNe(e,t.items),t):Lh(t)?He(jNe(e,t.target,t.parameters)):Bh(t)?He(RNe(e,t.parameters,t.returns),t):zh(t)?He(INe(e,t.parameters,t.returns),t):Bo(t)?He(MNe(e,t.allOf),t):Zx(t)?He(kNe(e,t.items),t):js(t)?He(PNe(e,t.properties),t):tv(t)?He(DNe(e,t)):Pd(t)?He(LNe(e,t.items||[]),t):_r(t)?He(BNe(e,t.anyOf),t):t}function zNe(e,t){return t in e?ko(e,e[t]):_n()}function UNe(e){return globalThis.Object.getOwnPropertyNames(e).reduce((t,n)=>({...t,[n]:zNe(e,n)}),{})}class jG{constructor(t){const n=UNe(t),r=this.WithIdentifiers(n);this.$defs=r}Import(t,n){const r={...this.$defs,[t]:He(this.$defs[t],n)};return He({[qe]:"Import",$defs:r,$ref:t})}WithIdentifiers(t){return globalThis.Object.getOwnPropertyNames(t).reduce((n,r)=>({...n,[r]:{...t[r],$id:r}}),{})}}function U4(e){return new jG(e)}function V4(e,t){return He({[qe]:"Not",not:e},t)}function q4(e,t){return zh(e)?Uc(e.parameters,t):_n()}let VNe=0;function H4(e,t={}){Zn(t.$id)&&(t.$id=`T${VNe++}`);const n=vv(e({[qe]:"This",$ref:`${t.$id}`}));return n.$id=t.$id,He({[Cc]:"Recursive",...n},t)}function W4(e,t){const n=bn(e)?new globalThis.RegExp(e):e;return He({[qe]:"RegExp",type:"RegExp",source:n.source,flags:n.flags},t)}function qNe(e){return Bo(e)?e.allOf:_r(e)?e.anyOf:Pd(e)?e.items??[]:[]}function G4(e){return qNe(e)}function K4(e,t){return zh(e)?He(e.returns,t):_n(t)}class AG{constructor(t){this.schema=t}Decode(t){return new TG(this.schema,t)}}class TG{constructor(t,n){this.schema=t,this.decode=n}EncodeTransform(t,n){const o={Encode:s=>n[Ti].Encode(t(s)),Decode:s=>this.decode(n[Ti].Decode(s))};return{...n,[Ti]:o}}EncodeSchema(t,n){const r={Decode:this.decode,Encode:t};return{...n,[Ti]:r}}Encode(t){return fn(this.schema)?this.EncodeTransform(t,this.schema):this.EncodeSchema(t,this.schema)}}function Y4(e){return new AG(e)}function J4(e){return He({[qe]:"Void",type:"void"},e)}class RG{ReadonlyOptional(t){return LN(t)}Readonly(t,n){return ml(t,n??!0)}Optional(t,n){return va(t,n??!0)}Any(t){return yh(t)}Array(t,n){return ey(t,n)}Boolean(t){return rv(t)}Capitalize(t,n){return k4(t,n)}Composite(t,n){return _4(t,n)}Const(t,n){return C4(t,n)}Enum(t,n){return A4(t,n)}Exclude(t,n,r){return Sv(t,n,r)}Extends(t,n,r,i,o){return mv(t,n,r,i,o)}Extract(t,n,r){return Ev(t,n,r)}Index(t,n,r){return oy(t,n,r)}Integer(t){return UN(t)}Intersect(t,n){return dl(t,n)}KeyOf(t,n){return sv(t,n)}Literal(t,n){return Tn(t,n)}Lowercase(t,n){return P4(t,n)}Mapped(t,n,r){return QI(t,n,r)}Module(t){return U4(t)}Never(t){return _n(t)}Not(t,n){return V4(t,n)}Null(t){return wv(t)}Number(t){return hl(t)}Object(t,n){return nr(t,n)}Omit(t,n,r){return my(t,n,r)}Partial(t,n){return Nv(t,n)}Pick(t,n,r){return py(t,n,r)}Record(t,n,r){return BN(t,n,r)}Recursive(t,n){return H4(t,n)}Ref(...t){return Dd(t[0],t[1])}Required(t,n){return Ov(t,n)}Rest(t){return G4(t)}String(t){return el(t)}TemplateLiteral(t,n){return uN(t,n)}Transform(t){return Y4(t)}Tuple(t,n){return Uc(t,n)}Uncapitalize(t,n){return D4(t,n)}Union(t,n){return $r(t,n)}Unknown(t){return Hh(t)}Unsafe(t){return BI(t)}Uppercase(t,n){return F4(t,n)}}const HNe=Object.freeze(Object.defineProperty({__proto__:null,Any:yh,Argument:O4,Array:ey,AsyncIterator:Yx,Awaited:fy,BigInt:iv,Boolean:rv,Capitalize:k4,Composite:_4,Const:C4,Constructor:Jx,ConstructorParameters:j4,Date:kN,Enum:A4,Exclude:Sv,Extends:mv,Extract:Ev,Function:Dh,Index:oy,InstanceType:T4,Instantiate:M4,Integer:UN,Intersect:dl,Iterator:ov,KeyOf:sv,Literal:Tn,Lowercase:P4,Mapped:QI,Module:U4,Never:_n,Not:V4,Null:wv,Number:hl,Object:nr,Omit:my,Optional:va,Parameters:q4,Partial:Nv,Pick:py,Promise:fN,Readonly:ml,ReadonlyOptional:LN,Record:BN,Recursive:H4,Ref:Dd,RegExp:W4,Required:Ov,Rest:G4,ReturnType:K4,String:el,Symbol:PN,TemplateLiteral:uN,Transform:Y4,Tuple:Uc,Uint8Array:FN,Uncapitalize:D4,Undefined:DN,Union:$r,Unknown:Hh,Unsafe:BI,Uppercase:F4,Void:J4},Symbol.toStringTag,{value:"Module"}));class WNe extends RG{Argument(t){return O4(t)}AsyncIterator(t,n){return Yx(t,n)}Awaited(t,n){return fy(t,n)}BigInt(t){return iv(t)}ConstructorParameters(t,n){return j4(t,n)}Constructor(t,n,r){return Jx(t,n,r)}Date(t={}){return kN(t)}Function(t,n,r){return Dh(t,n,r)}InstanceType(t,n){return T4(t,n)}Instantiate(t,n){return M4(t,n)}Iterator(t,n){return ov(t,n)}Parameters(t,n){return q4(t,n)}Promise(t,n){return fN(t,n)}RegExp(t,n){return W4(t,n)}ReturnType(t,n){return K4(t,n)}Symbol(t){return PN(t)}Undefined(t){return DN(t)}Uint8Array(t){return FN(t)}Void(t){return J4(t)}}const zt=HNe,pt=Object.freeze(Object.defineProperty({__proto__:null,Any:yh,Argument:O4,Array:ey,AsyncIterator:Yx,Awaited:fy,BigInt:iv,Boolean:rv,Capitalize:k4,Clone:io,CloneRest:HEe,CloneType:vv,Composite:_4,Const:C4,Constructor:Jx,ConstructorParameters:j4,CreateType:He,Date:kN,Enum:A4,Exclude:Sv,ExcludeFromMappedResult:mG,ExcludeFromTemplateLiteral:hG,Extends:mv,ExtendsCheck:ly,ExtendsFromMappedKey:GH,ExtendsFromMappedResult:WH,ExtendsResolverError:FH,get ExtendsResult(){return Oe},ExtendsUndefinedCheck:qh,Extract:Ev,ExtractFromMappedResult:gG,ExtractFromTemplateLiteral:pG,FormatRegistry:ghe,FromTypes:hy,Function:Dh,Hint:Cc,Increment:WEe,Index:oy,IndexFromComputed:Nme,IndexFromMappedKey:cH,IndexFromMappedResult:aH,IndexFromPropertyKey:JI,IndexFromPropertyKeys:dN,IndexPropertyKeys:zc,InstanceType:T4,Instantiate:M4,Integer:UN,Intersect:dl,IntersectEvaluated:lN,Intrinsic:Qh,IntrinsicFromMappedKey:bG,IsTemplateLiteralExpressionFinite:cg,IsTemplateLiteralFinite:Zq,Iterator:ov,JavaScriptTypeBuilder:WNe,JsonTypeBuilder:RG,KeyOf:sv,KeyOfFromMappedResult:xH,KeyOfPattern:gh,KeyOfPropertyEntries:ZI,KeyOfPropertyKeys:Fd,KeyOfPropertyKeysToRest:bH,Kind:qe,KindGuard:Dhe,Literal:Tn,Lowercase:P4,Mapped:QI,MappedFunctionReturnType:gH,MappedKey:jhe,MappedResult:Gr,Module:U4,Never:_n,Not:V4,Null:wv,Number:hl,Object:nr,Omit:my,OmitFromMappedKey:SG,OmitFromMappedResult:wG,Optional:va,OptionalFromMappedResult:Jq,OptionalKind:ul,Parameters:q4,Partial:Nv,PartialFromMappedResult:_G,PatternBoolean:KI,PatternBooleanExact:ume,PatternNever:rH,PatternNeverExact:iH,PatternNumber:ib,PatternNumberExact:mh,PatternString:YI,PatternStringExact:ph,Pick:py,PickFromMappedKey:NG,PickFromMappedResult:EG,Promise:fN,Readonly:ml,ReadonlyFromMappedResult:uH,ReadonlyKind:Ph,ReadonlyOptional:LN,Record:BN,RecordKey:yG,RecordPattern:zN,RecordValue:I4,Recursive:H4,Ref:Dd,RegExp:W4,Required:Ov,RequiredFromMappedResult:CG,Rest:G4,ReturnType:K4,SetComplement:Dme,SetDistinct:dH,SetIncludes:XI,SetIntersect:fH,SetIntersectMany:hH,SetIsSubset:kme,SetUnion:Pme,SetUnionMany:mH,String:el,Symbol:PN,TModule:jG,TemplateLiteral:uN,TemplateLiteralExpressionGenerate:nv,TemplateLiteralFiniteError:Qq,TemplateLiteralGenerate:GI,TemplateLiteralGenerateError:eH,TemplateLiteralParse:hh,TemplateLiteralParseExact:cN,TemplateLiteralParserError:VA,TemplateLiteralPattern:HA,TemplateLiteralPatternError:oH,TemplateLiteralSyntax:nH,TemplateLiteralToUnion:Pb,Transform:Y4,TransformDecodeBuilder:AG,TransformEncodeBuilder:TG,TransformKind:Ti,Tuple:Uc,Type:zt,TypeBoxError:Or,TypeGuard:Rpe,TypeRegistry:Kx,Uint8Array:FN,Uncapitalize:D4,Undefined:DN,Union:$r,UnionEvaluated:fl,Unknown:Hh,Unsafe:BI,Uppercase:F4,ValueGuard:whe,Void:J4},Symbol.toStringTag,{value:"Module"})),fT=Symbol("tb-parse-validation");class VN extends Error{constructor(n,r,i){super(i??`Invalid: ${JSON.stringify(r)}`);ee(this,"errors");this.schema=n,this.data=r,this.errors=[...Wh(n,r)]}first(){return this.errors[0]}firstToString(){const n=this.first();return`${n.message} at "${n.path}"`}toJSON(){return{message:this.message,schema:this.schema,data:this.data,errors:this.errors}}}function GNe(e){const t=structuredClone(e);return X4(t,!1),t}function X4(e,t=!0){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){t?e[fT]=!0:delete e[fT];for(const n in e)typeof e[n]=="object"&&e[n]!==null&&X4(e[n],t)}}function Er(e,t,n){if(!(n!=null&&n.forceParse)&&typeof t=="object"&&fT in t)return(n==null?void 0:n.useDefaults)===!1?t:vh(e,t);const r=(n==null?void 0:n.useDefaults)===!1?t:vh(e,t);if(jc(e,r))return(n==null?void 0:n.skipMark)!==!0&&X4(r,!0),r;if(n!=null&&n.onError)n.onError(Wh(e,t));else throw new VN(e,t)}function $v(e){e.Set("StringEnum",(t,n)=>typeof n=="string"&&t.enum.includes(n))}$v(Kx);const On=(e,t)=>zt.Unsafe({[qe]:"StringEnum",type:"string",enum:e,...t}),gc=(e,t)=>zt.Object({},{...t,additionalProperties:e}),yc=(e,t)=>zt.Literal(e,{...t,default:e,const:e,readOnly:!0}),nl=zt.String({pattern:"^[a-zA-Z_][a-zA-Z0-9_]*$",minLength:2,maxLength:150}),ab=(e,t)=>zt.Object(e,{...t,additionalProperties:!1});ipe(e=>{var t,n;return(t=e==null?void 0:e.schema)!=null&&t.errorMessage?e.schema.errorMessage:((n=e==null?void 0:e.schema)==null?void 0:n[qe])==="StringEnum"?`Expected: ${e.schema.enum.map(r=>`"${r}"`).join(", ")}`:vH(e)});var fS={exports:{}},KNe=fS.exports,fF;function YNe(){return fF||(fF=1,function(e,t){(function(n,r){e.exports=r()})(KNe,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",s="second",a="minute",c="hour",u="day",f="week",h="month",p="quarter",y="year",x="date",v="Invalid Date",E=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,N=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,O={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var L=["th","st","nd","rd"],T=M%100;return"["+M+(L[(T-20)%10]||L[T]||L[0])+"]"}},_=function(M,L,T){var F=String(M);return!F||F.length>=L?M:""+Array(L+1-F.length).join(T)+M},C={s:_,z:function(M){var L=-M.utcOffset(),T=Math.abs(L),F=Math.floor(T/60),k=T%60;return(L<=0?"+":"-")+_(F,2,"0")+":"+_(k,2,"0")},m:function M(L,T){if(L.date()<T.date())return-M(T,L);var F=12*(T.year()-L.year())+(T.month()-L.month()),k=L.clone().add(F,h),q=T-k<0,D=L.clone().add(F+(q?-1:1),h);return+(-(F+(T-k)/(q?k-D:D-k))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:h,y,w:f,d:u,D:x,h:c,m:a,s,ms:o,Q:p}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},j="en",A={};A[j]=O;var R="$isDayjsObject",I=function(M){return M instanceof U||!(!M||!M[R])},P=function M(L,T,F){var k;if(!L)return j;if(typeof L=="string"){var q=L.toLowerCase();A[q]&&(k=q),T&&(A[q]=T,k=q);var D=L.split("-");if(!k&&D.length>1)return M(D[0])}else{var W=L.name;A[W]=L,k=W}return!F&&k&&(j=k),k||!F&&j},z=function(M,L){if(I(M))return M.clone();var T=typeof L=="object"?L:{};return T.date=M,T.args=arguments,new U(T)},B=C;B.l=P,B.i=I,B.w=function(M,L){return z(M,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var U=function(){function M(T){this.$L=P(T.locale,null,!0),this.parse(T),this.$x=this.$x||T.x||{},this[R]=!0}var L=M.prototype;return L.parse=function(T){this.$d=function(F){var k=F.date,q=F.utc;if(k===null)return new Date(NaN);if(B.u(k))return new Date;if(k instanceof Date)return new Date(k);if(typeof k=="string"&&!/Z$/i.test(k)){var D=k.match(E);if(D){var W=D[2]-1||0,X=(D[7]||"0").substring(0,3);return q?new Date(Date.UTC(D[1],W,D[3]||1,D[4]||0,D[5]||0,D[6]||0,X)):new Date(D[1],W,D[3]||1,D[4]||0,D[5]||0,D[6]||0,X)}}return new Date(k)}(T),this.init()},L.init=function(){var T=this.$d;this.$y=T.getFullYear(),this.$M=T.getMonth(),this.$D=T.getDate(),this.$W=T.getDay(),this.$H=T.getHours(),this.$m=T.getMinutes(),this.$s=T.getSeconds(),this.$ms=T.getMilliseconds()},L.$utils=function(){return B},L.isValid=function(){return this.$d.toString()!==v},L.isSame=function(T,F){var k=z(T);return this.startOf(F)<=k&&k<=this.endOf(F)},L.isAfter=function(T,F){return z(T)<this.startOf(F)},L.isBefore=function(T,F){return this.endOf(F)<z(T)},L.$g=function(T,F,k){return B.u(T)?this[F]:this.set(k,T)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(T,F){var k=this,q=!!B.u(F)||F,D=B.p(T),W=function(je,Te){var J=B.w(k.$u?Date.UTC(k.$y,Te,je):new Date(k.$y,Te,je),k);return q?J:J.endOf(u)},X=function(je,Te){return B.w(k.toDate()[je].apply(k.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(Te)),k)},oe=this.$W,se=this.$M,ie=this.$D,le="set"+(this.$u?"UTC":"");switch(D){case y:return q?W(1,0):W(31,11);case h:return q?W(1,se):W(0,se+1);case f:var pe=this.$locale().weekStart||0,ye=(oe<pe?oe+7:oe)-pe;return W(q?ie-ye:ie+(6-ye),se);case u:case x:return X(le+"Hours",0);case c:return X(le+"Minutes",1);case a:return X(le+"Seconds",2);case s:return X(le+"Milliseconds",3);default:return this.clone()}},L.endOf=function(T){return this.startOf(T,!1)},L.$set=function(T,F){var k,q=B.p(T),D="set"+(this.$u?"UTC":""),W=(k={},k[u]=D+"Date",k[x]=D+"Date",k[h]=D+"Month",k[y]=D+"FullYear",k[c]=D+"Hours",k[a]=D+"Minutes",k[s]=D+"Seconds",k[o]=D+"Milliseconds",k)[q],X=q===u?this.$D+(F-this.$W):F;if(q===h||q===y){var oe=this.clone().set(x,1);oe.$d[W](X),oe.init(),this.$d=oe.set(x,Math.min(this.$D,oe.daysInMonth())).$d}else W&&this.$d[W](X);return this.init(),this},L.set=function(T,F){return this.clone().$set(T,F)},L.get=function(T){return this[B.p(T)]()},L.add=function(T,F){var k,q=this;T=Number(T);var D=B.p(F),W=function(se){var ie=z(q);return B.w(ie.date(ie.date()+Math.round(se*T)),q)};if(D===h)return this.set(h,this.$M+T);if(D===y)return this.set(y,this.$y+T);if(D===u)return W(1);if(D===f)return W(7);var X=(k={},k[a]=r,k[c]=i,k[s]=n,k)[D]||1,oe=this.$d.getTime()+T*X;return B.w(oe,this)},L.subtract=function(T,F){return this.add(-1*T,F)},L.format=function(T){var F=this,k=this.$locale();if(!this.isValid())return k.invalidDate||v;var q=T||"YYYY-MM-DDTHH:mm:ssZ",D=B.z(this),W=this.$H,X=this.$m,oe=this.$M,se=k.weekdays,ie=k.months,le=k.meridiem,pe=function(Te,J,me,Z){return Te&&(Te[J]||Te(F,q))||me[J].slice(0,Z)},ye=function(Te){return B.s(W%12||12,Te,"0")},je=le||function(Te,J,me){var Z=Te<12?"AM":"PM";return me?Z.toLowerCase():Z};return q.replace(N,function(Te,J){return J||function(me){switch(me){case"YY":return String(F.$y).slice(-2);case"YYYY":return B.s(F.$y,4,"0");case"M":return oe+1;case"MM":return B.s(oe+1,2,"0");case"MMM":return pe(k.monthsShort,oe,ie,3);case"MMMM":return pe(ie,oe);case"D":return F.$D;case"DD":return B.s(F.$D,2,"0");case"d":return String(F.$W);case"dd":return pe(k.weekdaysMin,F.$W,se,2);case"ddd":return pe(k.weekdaysShort,F.$W,se,3);case"dddd":return se[F.$W];case"H":return String(W);case"HH":return B.s(W,2,"0");case"h":return ye(1);case"hh":return ye(2);case"a":return je(W,X,!0);case"A":return je(W,X,!1);case"m":return String(X);case"mm":return B.s(X,2,"0");case"s":return String(F.$s);case"ss":return B.s(F.$s,2,"0");case"SSS":return B.s(F.$ms,3,"0");case"Z":return D}return null}(Te)||D.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(T,F,k){var q,D=this,W=B.p(F),X=z(T),oe=(X.utcOffset()-this.utcOffset())*r,se=this-X,ie=function(){return B.m(D,X)};switch(W){case y:q=ie()/12;break;case h:q=ie();break;case p:q=ie()/3;break;case f:q=(se-oe)/6048e5;break;case u:q=(se-oe)/864e5;break;case c:q=se/i;break;case a:q=se/r;break;case s:q=se/n;break;default:q=se}return k?q:B.a(q)},L.daysInMonth=function(){return this.endOf(h).$D},L.$locale=function(){return A[this.$L]},L.locale=function(T,F){if(!T)return this.$L;var k=this.clone(),q=P(T,F,!0);return q&&(k.$L=q),k},L.clone=function(){return B.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},M}(),H=U.prototype;return z.prototype=H,[["$ms",o],["$s",s],["$m",a],["$H",c],["$W",u],["$M",h],["$y",y],["$D",x]].forEach(function(M){H[M[1]]=function(L){return this.$g(L,M[0],M[1])}}),z.extend=function(M,L){return M.$i||(M(L,U,z),M.$i=!0),z},z.locale=P,z.isDayjs=I,z.unix=function(M){return z(1e3*M)},z.en=A[j],z.Ls=A,z.p={},z})}(fS)),fS.exports}var JNe=YNe();const tE=ga(JNe);var hS={exports:{}},XNe=hS.exports,hF;function QNe(){return hF||(hF=1,function(e,t){(function(n,r){e.exports=r()})(XNe,function(){var n="week",r="year";return function(i,o,s){var a=o.prototype;a.week=function(c){if(c===void 0&&(c=null),c!==null)return this.add(7*(c-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=s(this).startOf(r).add(1,r).date(u),h=s(this).endOf(n);if(f.isBefore(h))return 1}var p=s(this).startOf(r).date(u).startOf(n).subtract(1,"millisecond"),y=this.diff(p,n,!0);return y<0?s(this).startOf("week").week():Math.ceil(y)},a.weeks=function(c){return c===void 0&&(c=null),this.week(c)}}})}(hS)),hS.exports}var ZNe=QNe();const eOe=ga(ZNe);tE.extend(eOe);function IG(e){return tE(e).format("YYYY-MM-DD HH:mm:ss")}const tOe=["SHA-1","SHA-256","SHA-384","SHA-512"];async function mF(e,t,n,r){if(!tOe.includes(e))throw new Error(`Invalid hash algorithm: ${e}`);const i=new TextEncoder().encode((n??"")+t+(r??"")),o=await crypto.subtle.digest(e,i);return Array.from(new Uint8Array(o)).map(a=>a.toString(16).padStart(2,"0")).join("")}const MG={sha256:async(e,t,n)=>mF("SHA-256",e,t,n),sha1:async(e,t,n)=>mF("SHA-1",e,t,n)};function nOe(e){const t=new Uint8Array(e);return crypto.getRandomValues(t),Array.from(t,n=>String.fromCharCode(33+n%94)).join("")}function rOe(){return crypto.randomUUID()}const Ud=(e,t)=>e===t,iOe=e=>bn(e)||To(e)||Id(e),oOe=e=>bt(e)&&Kn(e.enum)&&e.enum.every(t=>iOe(t)),sOe=e=>bt(e)&&Kn(e.allOf),aOe=e=>bt(e)&&Kn(e.anyOf),lOe=e=>bt(e)&&Kn(e.oneOf),cOe=e=>bt(e)&&Ud(e.type,"array")&&Kn(e.items),uOe=e=>bt(e)&&Ud(e.type,"array")&&!Kn(e.items)&&bt(e.items),dOe=e=>bt(e)&&bt(e.const),fOe=e=>bt(e)&&Ud(e.type,"string"),hOe=e=>bt(e)&&Ud(e.type,"number"),mOe=e=>bt(e)&&Ud(e.type,"integer"),pOe=e=>bt(e)&&Ud(e.type,"boolean"),gOe=e=>bt(e)&&Ud(e.type,"null"),yOe=e=>bt(e),bOe=e=>bt(e)&&Ud(e.type,"object")&&yOe(e.properties)&&(e.required===void 0||Kn(e.required)&&e.required.every(t=>bn(t)));function qN(e){return e.map(t=>bg(t))}function xOe(e){return e.map(t=>Tn(t))}function vOe(e){return lN(qN(e.allOf),e)}function wOe(e){return fl(qN(e.anyOf),e)}function SOe(e){return fl(qN(e.oneOf),e)}function EOe(e){return fl(xOe(e.enum))}function NOe(e){return Uc(qN(e.items),e)}function OOe(e){return ey(bg(e.items),e)}function _Oe(e){return Tn(e.const,e)}function $Oe(e){const t=globalThis.Object.getOwnPropertyNames(e.properties).reduce((n,r)=>{var i;return{...n,[r]:(i=e.required)!=null&&i.includes(r)?bg(e.properties[r]):va(bg(e.properties[r]))}},{});return nr(t,e)}function bg(e){return sOe(e)?vOe(e):aOe(e)?wOe(e):lOe(e)?SOe(e):oOe(e)?EOe(e):bOe(e)?$Oe(e):cOe(e)?NOe(e):uOe(e)?OOe(e):dOe(e)?_Oe(e):fOe(e)?el(e):hOe(e)?hl(e):mOe(e)?UN(e):pOe(e)?rv(e):gOe(e)?wv(e):Hh(e||{})}function kG(e,t,n){const r=Math.min(t,n),i=Math.max(t,n);return Math.max(r,Math.min(e,i))}function pF(e){return e==null?0:typeof e=="number"?e:Number.parseInt(e,10)}const PG={fileSize:(e,t=2)=>{if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,i=["Bytes","KB","MB","GB","TB"],o=Math.floor(Math.log(e)/Math.log(n));return Number.parseFloat((e/n**o).toFixed(r))+" "+i[o]}};class gF{constructor(t,n,r){ee(this,"_default");ee(this,"_value");ee(this,"_config");ee(this,"_restriction_bypass",!1);this._schema=t,this.options=r,this._default=vh(t,{}),this._value=n?Er(t,structuredClone(n),{forceParse:this.isForceParse(),skipMark:this.isForceParse()}):this._default,this._config=Object.freeze(this._value)}isForceParse(){var t;return((t=this.options)==null?void 0:t.forceParse)??!0}default(){return this._default}async onBeforeUpdate(t,n){var r;return(r=this.options)!=null&&r.onBeforeUpdate?this.options.onBeforeUpdate(t,n):n}get(t){return t!=null&&t.stripMark?GNe(this._config):this._config}clone(){return structuredClone(this._config)}async set(t,n){var o,s;const r=Er(this._schema,structuredClone(t),{forceParse:!0,skipMark:this.isForceParse()}),i=await this.onBeforeUpdate(this._config,r);return this._value=i,this._config=Object.freeze(i),n!==!0&&await((s=(o=this.options)==null?void 0:o.onUpdate)==null?void 0:s.call(o,this._config)),this._config}bypass(){return this._restriction_bypass=!0,this}throwIfRestricted(t){var r;if(this._restriction_bypass){this._restriction_bypass=!1;return}const n=((r=this.options)==null?void 0:r.restrictPaths)??[];if(Array.isArray(n)&&n.length>0){for(const i of n)if(typeof t=="string"?t.startsWith(i):zC(t,i))throw new Error(`Path "${i}" is restricted`)}}async patch(t,n){var a;const r=this.clone(),i=t.length>0?Y0({},t,n):n;this.throwIfRestricted(i);const o=xW(r,i,(c,u)=>{if(Array.isArray(c)&&Array.isArray(u))return u});if((a=this.options)!=null&&a.overwritePaths){const u=gW(n).map(f=>t.length>0?t+"."+f:f).filter(f=>{var h,p;return(p=(h=this.options)==null?void 0:h.overwritePaths)==null?void 0:p.some(y=>typeof y=="string"?f===y:y.test(f))});if(u.length>0){const f=u.length>1?u.filter(h=>u.some(p=>p!==h&&p.startsWith(h))):u;for(const h of f)Y0(o,h,Vb(i,h))}}const s=await this.set(o);return[i,s]}async overwrite(t,n){const r=this.clone(),i=t.length>0?Y0({},t,n):n;this.throwIfRestricted(i);const o=Y0(r,t,n),s=await this.set(o);return[i,s]}has(t){const n=t.split(".");if(n.length>1){const r=n.slice(0,-1).join(".");if(!zC(this._config,r))throw new Error(`Parent path "${r}" does not exist`)}return zC(this._config,t)}async remove(t){if(this.throwIfRestricted(t),!this.has(t))throw new Error(`Path "${t}" does not exist`);const n=this.clone(),r=Vb(n,t),i=Sh(n,t),o=await this.set(i);return[r,o]}}class Di{constructor(t){this.name=t,this.name=t}toJSON(){return{name:this.name}}}function ku(e){return["string","number","boolean"].includes(typeof e)}function COe(e){return[!0,!1,0,1].includes(e)}class jOe{constructor(t,n,r){ee(this,"expect");this.key=t,this.valid=n,this.validate=r}}function Bs(e,t,n){return new jOe(e,t,n)}function DG(e,t){const n=e.find(r=>r.key===t);if(!n)throw new Error(`Expression does not exist: "${t}"`);return n}const yF="$or";function Q4(e,t,n=[]){const r=t.map(c=>c.key),i=Object.keys(e),o=[yF],s={};if(i.some(c=>c.startsWith("$")&&!o.includes(c)))throw new Error(`Invalid key '${i}'. Keys must not start with '$'.`);if(n.length>0&&i.some(c=>o.includes(c)))throw new Error(`Operand ${yF} can only appear at the top level.`);function a(c,u,f=[]){if(DG(t,c).valid(u)===!1)throw new Error(`Invalid value at "${[...f,c].join(".")}": ${u}`)}for(const[c,u]of Object.entries(e))if(c==="$or")s.$or=Q4(u,t,[...n,c]);else if(ku(u))a("$eq",u,n),s[c]={$eq:u};else if(typeof u=="object"){const f=Object.keys(u).filter(h=>!r.includes(h));if(f.length===0){s[c]={};for(const[h,p]of Object.entries(u))a(h,p,[...n,c]),s[c][h]=p}else throw new Error(`Invalid key(s) at "${c}": ${f.join(", ")}. Expected expressions.`)}return s}function bF(e,t,n){const r=n.convert?Q4(e,t):e,i={$and:[],$or:[],keys:new Set},{$or:o,...s}=r;function a(c,u,f,h=[]){const p=DG(t,c);if(!p)throw new Error(`Expression does not exist: "${c}"`);if(!p.valid(u))throw new Error(`Invalid expected value at "${[...h,c].join(".")}": ${u}`);return p.validate(u,f,n.exp_ctx)}for(const[c,u]of Object.entries(s))for(const[f,h]of Object.entries(u)){const p=n.value_is_kv?c:n.object[c];i.$and.push(a(f,h,p,[c])),i.keys.add(c)}for(const[c,u]of Object.entries(o??{})){const f=n.value_is_kv?c:n.object[c];for(const[h,p]of Object.entries(u))i.$or.push(a(h,p,f,[c])),i.keys.add(c)}return i}function AOe(e){const t={$and:void 0,$or:void 0};return t.$and=e.$and.every(n=>!!n),t.$or=e.$or.some(n=>!!n),!!t.$and||!!t.$or}function TOe(e){return{convert:t=>Q4(t,e),build:(t,n)=>bF(t,e,n),validate:(t,n)=>{const r=bF(t,e,n);return AOe(r)},expressions:e,expressionKeys:e.map(t=>t.key)}}class ROe{constructor(t){ee(this,"is_set",!1);ee(this,"items",{});this.registerFn=t}set(t){if(this.is_set)throw new Error("Registry is already set");return this.items=t,this.is_set=!0,this}add(t,n){return this.items[t]=n,this}register(t,n){if(this.registerFn){const r=this.registerFn(n);return this.items[t]=r,this}return this.add(t,n)}get(t){return this.items[t]}has(t){return t in this.items}all(){return this.items}}const hT="__bknd_flash";function xF(e,t,n="info"){var r;(r=e.req.header("Accept"))!=null&&r.includes("text/html")&&lW(e,hT,JSON.stringify({type:n,message:t}),{path:"/"})}function IOe(e){const t=document.cookie.split("; ");for(const n of t){const[r,i]=n.split("=");if(r===e)try{return decodeURIComponent(i)}catch{return null}}return null}function MOe(e=!0){const t=IOe(hT);return t&&e&&(document.cookie=`${hT}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`),t?JSON.parse(t):void 0}var FG=Symbol.for("kind"),LG=Symbol.for("optional"),fp=Symbol.for("raw"),Eh=class extends Error{constructor(e){super(`Expected ${e}`)}},kOe=class extends Error{constructor(e,t){super(`${e??"Invalid raw schema"}: ${JSON.stringify(t)}`),this.schema=t}},POe=class extends Error{constructor(e,t){super(`${e}, got: '${JSON.stringify(t)}'`),this.value=t}};function DOe(e){return e===null}function Hr(e){return!Array.isArray(e)&&typeof e=="object"&&e!==null}function gl(e){return typeof e=="string"}function Vd(e){return typeof e=="number"}function FOe(e){return typeof e=="number"&&Number.isInteger(e)}function Ap(e){return typeof e=="boolean"}function Kc(e){return Array.isArray(e)}function LOe(e){return typeof e=="string"&&/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(e)}function BOe(e){return typeof e!="boolean"}function zOe(e){return e!==void 0&&BOe(e)&&"type"in e}function ws(e){return Hr(e)&&FG in e}function UOe(e){return ws(e)&&Ap(e[fp])}function mT(e,t,n){if(!e)throw new POe(t,n)}function Ac(e){if(Kc(e))return e.map(Ac).sort();if(Hr(e)){let t=Object.entries(e).sort(([n],[r])=>n.localeCompare(r)).map(([n,r])=>[n,Ac(r)]);return Object.fromEntries(t)}return gl(e)?e.normalize("NFC"):e}var pT=(e=[],t="")=>"/"+[t,...e.map(n=>String(n).replace(/\./g,"/"))].filter(Boolean).join("/"),VOe=e=>e.split("/").slice(1);function qOe(e,t,n=void 0){let r=typeof t=="string"?VOe(t):pT(t);return BG(e,r,n)}function BG(e,t,n=void 0){let r=typeof t=="string"?t.split(/[.\[\]\"]+/).filter(i=>i):t;if(r.length===0)return e;try{let[i,...o]=r;return!i||!(i in e)?n:BG(e[i],o,n)}catch{if(typeof n<"u")return n;throw new Error(`Invalid path: ${r.join(".")}`)}}var xn=(e={},t,n,r)=>({valid:!1,errors:[...e.errors??[],{keywordLocation:pT([...e.keywordPath??[],t]),instanceLocation:pT(e.instancePath),error:typeof n=="string"?n:`Invalid value for ${t}`,data:r}]}),at=()=>({valid:!0,errors:[]}),gy=(e,t,n)=>{let r=Array.isArray(t)?t:[t],i=n?Array.isArray(n)?n:[n]:[];return{...e,keywordPath:[...e.keywordPath??[],...r],instancePath:i?[...e.instancePath??[],...i]:e.instancePath}},mS=(e={})=>({...e,errors:[]}),HOe=({type:e},t,n={})=>{if(e===void 0)return at();let r,i={string:gl,number:Vd,integer:FOe,object:Hr,array:Kc,boolean:Ap,null:DOe};if(Array.isArray(e)){for(let o of e){if(!(o in i))throw new Eh(`Unknown type: ${o}`);if(i[o](t))return at()}r=`Expected one of: ${e.join(", ")}`}else{if(!(e in i))throw new Eh(`Unknown type: ${e}`);i[e](t)||(r=`Expected ${e}`)}return r?xn(n,"type",r,t):at()},WOe=({const:e},t,n={})=>{let r=JSON.stringify(Ac(e)),i=JSON.stringify(Ac(t));return r!==i?xn(n,"const",`Expected const: ${r}`,i):at()},GOe=({enum:e=[]},t,n={})=>{let r=JSON.stringify(e.map(Ac)),i=JSON.stringify(Ac(t));return r.includes(i)?at():xn(n,"enum",`Expected enum: ${r}`,t)};function HN(e,t,n={}){return e.map(r=>r.validate(t,mS(n)).valid?r:void 0).filter(Boolean)}var KOe=({anyOf:e=[]},t,n={})=>HN(e,t,n).length>0?at():xn(n,"anyOf","Expected at least one to match",t),YOe=({oneOf:e=[]},t,n={})=>HN(e,t).length===1?at():xn(n,"oneOf","Expected exactly one to match",t),JOe=({allOf:e=[]},t,n={})=>HN(e,t,n).length===e.length?at():xn(n,"allOf","Expected all to match",t),XOe=({not:e},t,n={})=>ws(e)&&e.validate(t,n).valid?xn(n,"not","Expected not to match",t):at(),QOe=({if:e,then:t,else:n},r,i={})=>{if(e&&(t||n)){if(e.validate(r,mS(i)).valid)return t?t.validate(r,mS(i)):at();if(n)return n.validate(r,mS(i))}return at()},ZOe=({pattern:e=""},t,n={})=>gl(t)?new RegExp(e,"u").test(t)?at():xn(n,"pattern",`Expected string matching pattern ${e}`,t):at(),e_e=({minLength:e=0},t,n={})=>gl(t)?[...Ac(t)].length>=e?at():xn(n,"minLength",`Expected string with minimum length of ${e}`,t):at(),t_e=({maxLength:e=0},t,n={})=>gl(t)?[...Ac(t)].length<=e?at():xn(n,"maxLength",`Expected string with maximum length of ${e}`,t):at(),n_e=({multipleOf:e=0},t,n={})=>{if(!Vd(t))return at();if(!(Number.isFinite(t)&&Number.isFinite(e))||e<=0)throw new Eh("number");let r=t/e,i=Number.EPSILON*Math.max(1,Math.abs(r));return Math.abs(r-Math.round(r))<=i?at():xn(n,"multipleOf",`Expected number being a multiple of ${e}`,t)},r_e=({maximum:e=0},t,n={})=>!Vd(t)||t<=e?at():xn(n,"maximum",`Expected number less than or equal to ${e}`,t),i_e=({exclusiveMaximum:e=0},t,n={})=>!Vd(t)||t<e?at():xn(n,"exclusiveMaximum",`Expected number less than ${e}`,t),o_e=({minimum:e=0},t,n={})=>!Vd(t)||t>=e?at():xn(n,"minimum",`Expected number greater than or equal to ${e}`,t),s_e=({exclusiveMinimum:e=0},t,n={})=>!Vd(t)||t>e?at():xn(n,"exclusiveMinimum",`Expected number greater than ${e}`,t),a_e=({properties:e={}},t,n={})=>{if(!Hr(t))return at();for(let[r,i]of Object.entries(t)){let o=e[r];if(!ws(o))continue;let s=o.validate(i,gy(n,["properties",r],r));if(!s.valid)return s}return at()},l_e=({properties:e={},additionalProperties:t,patternProperties:n},r,i={})=>{if(!Hr(r))return at();if(!ws(t))throw new Eh("additionalProperties must be a boolean or a managed schema");let o=Object.keys(e),s=Hr(n)?Object.keys(r).filter(c=>Object.keys(n).some(u=>new RegExp(u).test(c))):[],a=Object.keys(r).filter(c=>!o.includes(c)&&!s.includes(c));if(a.length>0){if(UOe(t))return t.validate(void 0);if(ws(t))for(let c of a){let u=t.validate(r[c],gy(i,["additionalProperties"],c));if(!u.valid)return u}}return at()},c_e=({dependentRequired:e},t,n={})=>{if(!Hr(t))return at();let r=Object.keys(t).filter(i=>typeof t[i]!="function");if(Hr(e)){for(let[i,o]of Object.entries(e))if(r.includes(i)){for(let s of o)if(!r.includes(s))return xn(n,"dependentRequired",`Expected dependent required property ${s}`,t)}}return at()},u_e=({required:e=[]},t,n={})=>{if(!Hr(t))return at();let r=Object.keys(t).filter(i=>typeof t[i]!="function");return e.every(i=>r.includes(i))?at():xn(n,"required",`Expected object with required properties ${e.join(", ")}`,t)},d_e=({dependentSchemas:e},t,n={})=>{if(!Hr(t))return at();let r=Object.keys(t).filter(i=>typeof t[i]!="function");if(Hr(e)){for(let[i,o]of Object.entries(e))if(r.includes(i)){let s=o.validate(t,n);if(!s.valid)return s}}return at()},f_e=({minProperties:e=0},t,n={})=>Hr(t)?Object.keys(t).length>=e?at():xn(n,"minProperties",`Expected object with at least ${e} properties`,t):at(),h_e=({maxProperties:e=0},t,n={})=>!Hr(t)||Object.keys(t).length<=e?at():xn(n,"maxProperties",`Expected object with at most ${e} properties`,t),m_e=({patternProperties:e={}},t,n={})=>{if(!Hr(t))return at();if(!Hr(e))throw new Eh("patternProperties must be an object");for(let[r,i]of Object.entries(t))for(let[o,s]of Object.entries(e))if(new RegExp(o,"u").test(r)){let a=s.validate(i,gy(n,["patternProperties"],r));if(!a.valid)return a}return at()},p_e=({propertyNames:e},t,n={})=>{if(!Hr(t)||e===void 0)return at();if(!ws(e))throw new Eh("propertyNames must be a managed schema");for(let r of Object.keys(t)){let i=e.validate(r,gy(n,["propertyNames"],r));if(!i.valid)return i}return at()},g_e=({items:e,prefixItems:t=[]},n,r={})=>{if(!Kc(n)||e===void 0)return at();if(!ws(e))throw new Eh("items must be a managed schema");for(let[i,o]of n.slice(t.length).entries()){let s=e.validate(o,gy(r,["items"],String(i)));if(!s.valid)return s}return at()},y_e=({minItems:e=0},t,n={})=>!Kc(t)||t.length>=e?at():xn(n,"minItems",`Expected array with at least ${e} items`,t),b_e=({maxItems:e=0},t,n={})=>!Kc(t)||t.length<=e?at():xn(n,"maxItems",`Expected array with at most ${e} items`,t),x_e=({uniqueItems:e=!1},t,n={})=>{if(!Kc(t)||!e)return at();let r=t.map(Ac);return new Set(r.map(i=>JSON.stringify(i))).size===t.length?at():xn(n,"uniqueItems","Expected array with unique items",t)},v_e=({contains:e,minContains:t,maxContains:n},r,i={})=>{if(!ws(e))throw new Error("contains must be a managed schema");if(!Kc(r))return at();let o=r.filter(s=>e.validate(s).valid).length;return o<(t??1)?xn(i,t?"minContains":"contains",`Expected array to contain at least ${t??1}, but found ${o}`,r):n!==void 0&&o>n?xn(i,"maxContains",`Expected array to contain at most ${n}, but found ${o}`,r):at()},w_e=({prefixItems:e=[]},t,n={})=>{var r;if(!Kc(t))return at();for(let i=0;i<t.length;i++){let o=(r=e[i])==null?void 0:r.validate(t[i],gy(n,String(i),String(i)));if(o&&(o==null?void 0:o.valid)!==!0)return o}return at()},vF={email:e=>{if(e.length>318)return!1;if(/^[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,20}(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,21}){0,2}@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,60}[a-z0-9])?){0,3}$/i.test(e))return!0;if(!e.includes("@")||/(^\.|^"|\.@|\.\.)/.test(e))return!1;let[t,n,...r]=e.split("@");return!t||!n||r.length!==0||t.length>64||n.length>253||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},hostname:e=>e.length>(e.endsWith(".")?254:253)?!1:/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*\.?$/i.test(e),date:e=>{if(e.length!==10)return!1;if(e[5]==="0"&&e[6]==="2"){if(/^\d\d\d\d-02-(?:[012][1-8]|[12]0|[01]9)$/.test(e))return!0;let t=e.match(/^(\d\d\d\d)-02-29$/);if(!t)return!1;let n=Number(t[1]);return n%16===0||n%4===0&&n%25!==0}return e.endsWith("31")?/^\d\d\d\d-(?:0[13578]|1[02])-31$/.test(e):/^\d\d\d\d-(?:0[13-9]|1[012])-(?:[012][1-9]|[123]0)$/.test(e)},time:e=>{if(e.length>27||!/^(?:2[0-3]|[0-1]\d):[0-5]\d:(?:[0-5]\d|60)(?:\.\d+)?(?:z|[+-](?:2[0-3]|[0-1]\d)(?::?[0-5]\d)?)?$/i.test(e))return!1;if(!/:60/.test(e))return!0;let t=e.match(/([0-9.]+|[^0-9.])/g);if(!t)return!1;let n=Number(t[0])*60+Number(t[2]);return t[5]==="+"?n+=24*60-Number(t[6]||0)*60-Number(t[8]||0):t[5]==="-"&&(n+=Number(t[6]||0)*60+Number(t[8]||0)),n%(24*60)===23*60+59},"date-time":e=>{if(e.length>38)return!1;let t=/^\d\d\d\d-(?:0[1-9]|1[0-2])-(?:[0-2]\d|3[01])[t\s](?:2[0-3]|[0-1]\d):[0-5]\d:(?:[0-5]\d|60)(?:\.\d+)?(?:z|[+-](?:2[0-3]|[0-1]\d)(?::?[0-5]\d)?)$/i,n=e[5]==="0"&&e[6]==="2";if(n&&e[8]==="3"||!t.test(e))return!1;if(e[17]==="6"){let r=e.slice(11).match(/([0-9.]+|[^0-9.])/g);if(!r)return!1;let i=Number(r[0])*60+Number(r[2]);if(r[5]==="+"?i+=24*60-Number(r[6]||0)*60-Number(r[8]||0):r[5]==="-"&&(i+=Number(r[6]||0)*60+Number(r[8]||0)),i%(24*60)!==23*60+59)return!1}if(n){if(/^\d\d\d\d-02-(?:[012][1-8]|[12]0|[01]9)/.test(e))return!0;let r=e.match(/^(\d\d\d\d)-02-29/);if(!r)return!1;let i=Number(r[1]??0);return i%16===0||i%4===0&&i%25!==0}return e[8]==="3"&&e[9]==="1"?/^\d\d\d\d-(?:0[13578]|1[02])-31/.test(e):/^\d\d\d\d-(?:0[13-9]|1[012])-(?:[012][1-9]|[123]0)/.test(e)},ipv4:e=>e.length<=15&&/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)$/.test(e),ipv6:e=>{if(e.length>45||e.length<2)return!1;let t=0,n=0,r=0,i=!1,o=!1,s=0,a=!0;for(let u=0;u<e.length;u++){let f=e.charCodeAt(u);if(u===1&&s===58&&f!==58)return!1;if(f>=48&&f<=57){if(++r>4)return!1}else if(f===46){if(t>6||n>=3||r===0||o)return!1;n++,r=0}else if(f===58){if(n>0||t>=7)return!1;if(s===58){if(i)return!1;i=!0}else u===0&&(a=!1);t++,r=0,o=!1}else if(f>=97&&f<=102||f>=65&&f<=70){if(n>0||++r>4)return!1;o=!0}else return!1;s=f}if(t<2||n>0&&(n!==3||r===0))return!1;if(i&&e.length===2)return!0;if(n>0&&!/(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}$/.test(e))return!1;let c=n>0?6:7;return i?(a||r>0)&&t<c:t===c&&a&&r>0},uri:e=>/^[a-z][a-z0-9+\-.]*:(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/?(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i.test(e),"uri-reference":e=>/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/?(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?)?(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i.test(e),"uri-template":e=>/^(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2}|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i.test(e),"json-pointer":e=>/^(?:|\/(?:[^~]|~0|~1)*)$/.test(e),"relative-json-pointer":e=>/^(?:0|[1-9][0-9]*)(?:|#|\/(?:[^~]|~0|~1)*)$/.test(e),uuid:e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),regex:e=>{if(/[^\\]\\Z/.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}},S_e=({format:e},t,n={})=>!gl(t)||!e?at():vF[e]?vF[e](t)?at():xn(n,"format",`Expected format: ${e}`,t):at(),Z4=class{constructor(e){ee(this,"cache");this.root=e,this.cache=new Map}hasRef(e,t){return t!==void 0&&"$ref"in e&&gl(e.$ref)}resolve(e){let t=this.cache.get(e);if(!t){if(t=qOe(this.root,e),!ws(t))throw new Error(`ref not found: ${e}`);if("$ref"in t&&t.$ref===e)throw new Error(`ref loop: ${e}`);this.cache.set(e,t)}return t}},E_e={type:HOe,const:WOe,enum:GOe,allOf:JOe,anyOf:KOe,oneOf:YOe,not:XOe,minLength:e_e,maxLength:t_e,pattern:ZOe,format:S_e,minimum:o_e,exclusiveMinimum:s_e,maximum:r_e,exclusiveMaximum:i_e,multipleOf:n_e,required:u_e,dependentRequired:c_e,dependentSchemas:d_e,minProperties:f_e,maxProperties:h_e,propertyNames:p_e,properties:a_e,patternProperties:m_e,additionalProperties:l_e,minItems:y_e,maxItems:b_e,uniqueItems:x_e,contains:v_e,prefixItems:w_e,items:g_e,if:QOe};function N_e(e,t,n={}){let r={keywordPath:n.keywordPath||[],instancePath:n.instancePath||[],coerce:n.coerce||!1,errors:n.errors||[],shortCircuit:n.shortCircuit||!1,ignoreUnsupported:n.ignoreUnsupported||!1,resolver:n.resolver||new Z4(e),depth:n.depth?n.depth+1:0},i=structuredClone(n!=null&&n.coerce?e.coerce(t,{resolver:r.resolver,depth:r.depth}):t);if(n.ignoreUnsupported!==!0){let o=["$defs"];for(let s of o)if(e[s])throw new Error(`${s} not implemented`)}if(r.resolver.hasRef(e,i)){let o=r.resolver.resolve(e.$ref).validate(i,{...r,errors:[]});o.valid||r.errors.push(...o.errors)}else for(let[o,s]of Object.entries(E_e)){if(e[o]===void 0)continue;let a=s(e,i,{...r,errors:[]});if(!a.valid){if(n.shortCircuit)return a;r.errors.push(...a.errors)}}return{valid:r.errors.length===0,errors:r.errors}}function O_e(e,t,n={}){let r=structuredClone(t),i={resolver:n.resolver||new Z4(e),depth:n.depth||0};return i.resolver.hasRef(e,r)?i.resolver.resolve(e.$ref).coerce(r,{...i,depth:i.depth+1}):r}var Ss=(e={},t="any")=>{let n=Hr(e)?e:{},r=Ap(e)?e:fp in e?e[fp]:void 0,i={...n,[FG]:t,[fp]:r,optional:function(){return Ss({...this,validate:void 0,[fp]:r,[LG]:!0},t)},template:function(o={}){if(n.const!==void 0)return n.const;if(n.default!==void 0)return n.default;if(n.enum!==void 0)return n.enum[0];if(n.template)return n.template(o)},toJSON:function(){let o=this[fp];return Ap(o)?o:JSON.parse(JSON.stringify(n))}};return i.coerce=function(o,s={}){let a={...s,resolver:s.resolver||new Z4(i),depth:s.depth?s.depth+1:0},c=o;return"coerce"in n&&n.coerce!==void 0?n.coerce(c,a):O_e(i,c,a)},i.validate=function(o,s={}){if(Ap(r))return r===!1?xn(s,"","Always fails"):at();let a=s.errors||[];if("validate"in n&&n.validate!==void 0){let c=n.validate(o,s);c.valid||(a=[...a,...c.errors])}return N_e(i,o,{...s,errors:a})},i},sn=(e,t={})=>{for(let r of Object.keys(e||{}))mT(LOe(r),"invalid property name",r),mT(ws(e[r]),"properties must be managed schemas",e[r]);let n=Object.entries(e||{}).filter(([,r])=>!(LG in r)).map(([r])=>r);return Ss({template:__e,coerce:$_e,...t,type:"object",properties:e,required:n.length>0?n:void 0},"object")},lb=(e,t={})=>{let n=Object.fromEntries(Object.entries(e).map(([r,i])=>[r,"optional"in i?i.optional():i]));return sn(n,t)};function __e(e={}){var n;let t={};if(this.properties)for(let[r,i]of Object.entries(this.properties)){if(e.withOptional!==!0&&!((n=this.required)!=null&&n.includes(r)))continue;let o=i.template(e);o!==void 0&&(t[r]=o)}return t}function $_e(e,t={}){let n=e;if(typeof n=="string"&&(n.match(/^\{/)||n.match(/^\[/))&&(n=JSON.parse(n)),!(typeof n!="object"||n===null)){if(this.properties)for(let[r,i]of Object.entries(this.properties)){let o=n[r];o!==void 0&&(n[r]=i.coerce(o,t))}return n}}var Zr=(e={})=>Ss({template:()=>"",coerce:t=>Vd(t)?String(t):t,...e,type:"string"},"string"),bd=(e={})=>Ss({coerce:t=>gl(t)?Number(t):t,template:zG,...e,type:"number"},"number"),C_e=(e={})=>Ss({coerce:t=>gl(t)?Number.parseInt(t):t,template:zG,...e,type:"integer"},"integer");function zG(){if(this.minimum)return this.minimum;if(this.exclusiveMinimum){if(this.multipleOf){let e=this.exclusiveMinimum;for(;e%this.multipleOf!==0;)e++;return e}return this.exclusiveMinimum+1}return 0}var Tp=(e,t={})=>(e!==void 0&&mT(ws(e),"items must be a schema",e),Ss({template:()=>[],coerce:j_e,...t,type:"array",items:e},"array"));function j_e(e,t){try{let n=typeof e=="string"?JSON.parse(e):e;if(!Array.isArray(n))return;if(ws(this.items))for(let[r,i]of n.entries())n[r]=this.items.coerce(i,t);return n}catch{}return e}var qb=(e={})=>Ss({...e,coerce:function(t){if("coerce"in e&&e.coerce)return e.coerce(t);if(gl(t)&&["true","false","1","0"].includes(t))return t==="true"||t==="1";if(Vd(t)){if(t===1)return!0;if(t===0)return!1}return t},type:"boolean"},"boolean");function wF(e,t){return Array.isArray(e)?e.map(t):e!==void 0?[t(e)]:[]}function SF(e,t,n=r=>r){return Object.fromEntries(Object.entries(e).map(([r,i])=>[r,n(t(i),r)]))}function hp(e){if(Ap(e))return Ss(!!e);let t=structuredClone(e);if(!Hr(t))throw new kOe("non-object schemas not implemented",t);"properties"in t&&t.properties&&(t.properties=SF(t.properties,hp,(o,s)=>"required"in t&&Array.isArray(t.required)&&t.required.includes(s)?o:o.optional()));let n=["patternProperties","dependentSchemas","$defs"];for(let o of n)o in t&&t[o]&&(t[o]=SF(t[o],hp));let r=["additionalProperties","items","prefixItems","propertyNames","contains","not","if","then","else"];for(let o of r)o in t&&typeof t[o]<"u"&&(Kc(t[o])?t[o]=wF(t[o],hp):t[o]=hp(t[o]));let i=["anyOf","oneOf","allOf"];for(let o of i)if(o in t){let{[o]:s}=t;t[o]=wF(s,hp)}if(zOe(t))switch(t.type){case"string":return Zr(t);case"number":return bd(t);case"integer":return C_e(t);case"boolean":return qb(t);case"object":{let{properties:o,...s}=t;return sn(o,s)}case"array":{let{items:o,...s}=t;return Tp(o,s)}}return Ss(t)}var Cv=(e,t={})=>Ss({...t,coerce:function(n,r={}){let i=n;if("coerce"in t&&t.coerce!==void 0)return t.coerce.bind(this)(n,r);let o=HN(e,i,{ignoreUnsupported:!0,resolver:r.resolver,coerce:!0});return o.length>0?o[0].coerce(i,r):i},anyOf:e},"anyOf"),A_e=e=>{let{validate:t,...n}=e(Ss({$ref:"#"},"recursive"));return Ss(n,"recursive")},UG=Symbol.for("jsonv"),on=(e,t,n,r)=>{let i=uW(e,async(o,s)=>{let a=(n==null?void 0:n.coerce)!==!1?t.coerce(o):o,c=t.validate(a);return c.valid?a:s.json({...c,schema:t},400)});return n!=null&&n.skipOpenAPI?i:Object.assign(i,{[UG]:{type:"parameters",value:{target:e,schema:t}}})},T_e={query:"query",param:"path",header:"header",cookie:"cookie"},R_e={json:{type:"application/json"},form:{type:"multipart/form-data"}};function I_e(e,t){var i;let n=T_e[t],r=R_e[t];return n?{parameters:Object.entries(e.properties).map(([o,s])=>{var a;return{name:o,in:n,required:((a=e.required)==null?void 0:a.includes(o))||void 0,description:s.description||void 0,schema:structuredClone(s.toJSON())}})}:r?{requestBody:{content:{[r.type]:{schema:structuredClone(e.toJSON()),example:((i=e.examples)==null?void 0:i[0])??e.template({withOptional:!0})}}}}:{}}var cn=e=>Object.assign(async(t,n)=>{await n()},{[UG]:{type:"route-doc",value:e}});class M_e extends Error{constructor(t,n,r=[]){super(`Invalid schema given for ${JSON.stringify(n,null,2)}

Error: ${JSON.stringify(r[0],null,2)}`),this.schema=t,this.value=n,this.errors=r}}const k_e=e=>{const t=e.toJSON();return hp(t)};function EF(e,t,n={}){const r=n.clone?k_e(e):e,i=n.coerse!==!1?r.coerce(t):t,o=r.validate(i,{shortCircuit:!0,ignoreUnsupported:!0});if(!o.valid)throw new M_e(r,t,o.errors);return n.withDefaults?bW(r.template({withOptional:!0}),i):i}var vA;let Bi=(vA=class{constructor(t){ee(this,"_returning");ee(this,"params");ee(this,"returned",!1);this.params=t}validate(t){throw new P_e(this,t)}clone(t){const n=new this.constructor(t);return n.returned=!0,n}},ee(vA,"slug","untitled-event"),vA);class WN extends Error{constructor(t,n){super(`Expected "${t}", got "${n}"`)}}class P_e extends Error{constructor(t,n){super(`Event "${t.constructor.slug}" returned without validation`),this.data=n}}class D_e{constructor(t,n,r="async",i){ee(this,"mode","async");ee(this,"event");ee(this,"handler");ee(this,"once",!1);ee(this,"id");this.event=t,this.handler=n,this.mode=r,this.id=i}}class jv{constructor(t,n){ee(this,"events",[]);ee(this,"listeners",[]);ee(this,"enabled",!0);ee(this,"asyncs",[]);var r;this.options=n,t&&this.registerEvents(t),(r=n==null?void 0:n.listeners)==null||r.forEach(i=>this.addListener(i))}enable(){return this.enabled=!0,this}disable(){return this.enabled=!1,this}clearEvents(){return this.events=[],this}clearAll(){return this.clearEvents(),this.listeners=[],this}getListeners(){return[...this.listeners]}get Events(){return new Proxy(this,{get:(t,n)=>this.events.find(r=>r.slug===n)})}eventExists(t){var r;let n;return typeof t=="string"?n=t:n=((r=t.constructor)==null?void 0:r.slug)??t.slug,!!this.events.find(i=>n===i.slug)}throwIfEventNotRegistered(t){var n;if(!this.eventExists(t)){const r=((n=t.constructor)==null?void 0:n.slug)??t.slug??t;throw new Error(`Event "${r}" not registered`)}}registerEvent(t,n=!1){if(this.eventExists(t)){if(n)return this;throw new Error(`Event "${t.name}" already registered.`)}return this.events.push(t),this}registerEvents(t){return(typeof t=="object"?Object.values(t):t).forEach(r=>this.registerEvent(r,!0)),this}addListener(t){return this.throwIfEventNotRegistered(t.event),t.id&&this.listeners.find(r=>r.id===t.id)?(yt.debug(`Listener with id "${t.id}" already exists.`),this):(this.listeners.push(t),this)}createEventListener(t,n,r="async"){const i=typeof t=="string"?this.events.find(a=>a.slug===t):t,o=typeof r=="string"?{mode:r}:r,s=new D_e(i,n,o.mode);o.once&&(s.once=!0),o.id&&(s.id=`${i.slug}-${o.id}`),this.addListener(s)}onEvent(t,n,r){this.createEventListener(t,n,r)}on(t,n,r){this.createEventListener(t,n,r)}onAny(t,n){this.events.forEach(r=>this.onEvent(r,t,n))}collectAsyncs(t){this.asyncs.push(...t)}async executeAsyncs(t=n=>Promise.all(n)){if(this.asyncs.length===0)return;const n=[...this.asyncs];this.asyncs=[],await t(n.map(r=>r()))}async emit(t){var s,a,c;const n=t.constructor.slug;if(!this.enabled)return yt.debug("EventManager disabled, not emitting",n),t;if(!this.eventExists(t))throw new Error(`Event "${n}" not registered`);const r=[],i=[];this.listeners=this.listeners.filter(u=>u.event.slug!==n?!0:(u.mode==="sync"?r.push(u):i.push(async()=>await u.handler(t,u.event.slug)),!u.once)),this.collectAsyncs(i);let o=t;for(const u of r)try{const f=await u.handler(o,u.event.slug);if(typeof f<"u"){const h=o.validate(f);if(h&&h.constructor.slug===n){if(!h.returned)throw new Error(`Returned event ${h.constructor.slug} must be marked as returned.`);o=h}}}catch(f){if(f instanceof WN)(a=(s=this.options)==null?void 0:s.onInvalidReturn)==null||a.call(s,o,f),yt.warn(`Invalid return of event listener for "${n}": ${f.message}`);else if((c=this.options)!=null&&c.onError)this.options.onError(o,f);else throw f}return o}}class Av extends xs{getSafeErrorAndCode(){return{error:"Invalid credentials",code:Cn.UNAUTHORIZED}}toJSON(){return co()?super.toJSON():{error:this.getSafeErrorAndCode().error,type:"AuthException"}}}class F_e extends Av{constructor(){super("User not found");ee(this,"name","UserNotFoundException");ee(this,"code",Cn.NOT_FOUND)}}class VC extends Av{constructor(){super("Invalid credentials");ee(this,"name","InvalidCredentialsException");ee(this,"code",Cn.UNAUTHORIZED)}}class L_e extends Av{constructor(){super("Unable to create user");ee(this,"name","UnableToCreateUserException");ee(this,"code",Cn.INTERNAL_SERVER_ERROR)}}class Pu extends Av{constructor(n){super(n??"Invalid conditions");ee(this,"code",Cn.UNPROCESSABLE_ENTITY)}}var VG=e=>HG(e.replace(/_|-/g,t=>({_:"/","-":"+"})[t]??t)),qG=e=>B_e(e).replace(/\/|\+/g,t=>({"/":"_","+":"-"})[t]??t),B_e=e=>{let t="";const n=new Uint8Array(e);for(let r=0,i=n.length;r<i;r++)t+=String.fromCharCode(n[r]);return btoa(t)},HG=e=>{const t=atob(e),n=new Uint8Array(new ArrayBuffer(t.length)),r=t.length/2;for(let i=0,o=t.length-1;i<=r;i++,o--)n[i]=t.charCodeAt(i),n[o]=t.charCodeAt(o);return n},WG=(e=>(e.HS256="HS256",e.HS384="HS384",e.HS512="HS512",e.RS256="RS256",e.RS384="RS384",e.RS512="RS512",e.PS256="PS256",e.PS384="PS384",e.PS512="PS512",e.ES256="ES256",e.ES384="ES384",e.ES512="ES512",e.EdDSA="EdDSA",e))(WG||{}),z_e=class extends Error{constructor(e){super(`${e} is not an implemented algorithm`),this.name="JwtAlgorithmNotImplemented"}},GG=class extends Error{constructor(e){super(`invalid JWT token: ${e}`),this.name="JwtTokenInvalid"}},U_e=class extends Error{constructor(e){super(`token (${e}) is being used before it's valid`),this.name="JwtTokenNotBefore"}},V_e=class extends Error{constructor(e){super(`token (${e}) expired`),this.name="JwtTokenExpired"}},q_e=class extends Error{constructor(e,t){super(`Incorrect "iat" claim must be a older than "${e}" (iat: "${t}")`),this.name="JwtTokenIssuedAt"}},H_e=class extends Error{constructor(e){super(`jwt header is invalid: ${JSON.stringify(e)}`),this.name="JwtHeaderInvalid"}},W_e=class extends Error{constructor(e){super(`token(${e}) signature mismatched`),this.name="JwtTokenSignatureMismatched"}},Hb=(e=>(e.Encrypt="encrypt",e.Decrypt="decrypt",e.Sign="sign",e.Verify="verify",e.DeriveKey="deriveKey",e.DeriveBits="deriveBits",e.WrapKey="wrapKey",e.UnwrapKey="unwrapKey",e))(Hb||{}),Tv=new TextEncoder,G_e=new TextDecoder;async function K_e(e,t,n){const r=KG(t),i=await J_e(e,r);return await crypto.subtle.sign(r,i,n)}async function Y_e(e,t,n,r){const i=KG(t),o=await X_e(e,i);return await crypto.subtle.verify(i,o,n,r)}function gT(e){return HG(e.replace(/-+(BEGIN|END).*/g,"").replace(/\s/g,""))}async function J_e(e,t){if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");if(YG(e)){if(e.type!=="private"&&e.type!=="secret")throw new Error(`unexpected key type: CryptoKey.type is ${e.type}, expected private or secret`);return e}const n=[Hb.Sign];return typeof e=="object"?await crypto.subtle.importKey("jwk",e,t,!1,n):e.includes("PRIVATE")?await crypto.subtle.importKey("pkcs8",gT(e),t,!1,n):await crypto.subtle.importKey("raw",Tv.encode(e),t,!1,n)}async function X_e(e,t){if(!crypto.subtle||!crypto.subtle.importKey)throw new Error("`crypto.subtle.importKey` is undefined. JWT auth middleware requires it.");if(YG(e)){if(e.type==="public"||e.type==="secret")return e;e=await NF(e)}if(typeof e=="string"&&e.includes("PRIVATE")){const r=await crypto.subtle.importKey("pkcs8",gT(e),t,!0,[Hb.Sign]);e=await NF(r)}const n=[Hb.Verify];return typeof e=="object"?await crypto.subtle.importKey("jwk",e,t,!1,n):e.includes("PUBLIC")?await crypto.subtle.importKey("spki",gT(e),t,!1,n):await crypto.subtle.importKey("raw",Tv.encode(e),t,!1,n)}async function NF(e){if(e.type!=="private")throw new Error(`unexpected key type: ${e.type}`);if(!e.extractable)throw new Error("unexpected private key is unextractable");const t=await crypto.subtle.exportKey("jwk",e),{kty:n}=t,{alg:r,e:i,n:o}=t,{crv:s,x:a,y:c}=t;return{kty:n,alg:r,e:i,n:o,crv:s,x:a,y:c,key_ops:[Hb.Verify]}}function KG(e){switch(e){case"HS256":return{name:"HMAC",hash:{name:"SHA-256"}};case"HS384":return{name:"HMAC",hash:{name:"SHA-384"}};case"HS512":return{name:"HMAC",hash:{name:"SHA-512"}};case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"RS384":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"PS256":return{name:"RSA-PSS",hash:{name:"SHA-256"},saltLength:32};case"PS384":return{name:"RSA-PSS",hash:{name:"SHA-384"},saltLength:48};case"PS512":return{name:"RSA-PSS",hash:{name:"SHA-512"},saltLength:64};case"ES256":return{name:"ECDSA",hash:{name:"SHA-256"},namedCurve:"P-256"};case"ES384":return{name:"ECDSA",hash:{name:"SHA-384"},namedCurve:"P-384"};case"ES512":return{name:"ECDSA",hash:{name:"SHA-512"},namedCurve:"P-521"};case"EdDSA":return{name:"Ed25519",namedCurve:"Ed25519"};default:throw new z_e(e)}}function YG(e){return uG()==="node"&&crypto.webcrypto?e instanceof crypto.webcrypto.CryptoKey:e instanceof CryptoKey}var qC=e=>qG(Tv.encode(JSON.stringify(e)).buffer).replace(/=/g,""),Q_e=e=>qG(e).replace(/=/g,""),OF=e=>JSON.parse(G_e.decode(VG(e)));function Z_e(e){if(typeof e=="object"&&e!==null){const t=e;return"alg"in t&&Object.values(WG).includes(t.alg)&&(!("typ"in t)||t.typ==="JWT")}return!1}var e$e=async(e,t,n="HS256")=>{const r=qC(e);let i;typeof t=="object"&&"alg"in t?(n=t.alg,i=qC({alg:n,typ:"JWT",kid:t.kid})):i=qC({alg:n,typ:"JWT"});const o=`${i}.${r}`,s=await K_e(t,n,Tv.encode(o)),a=Q_e(s);return`${o}.${a}`},t$e=async(e,t,n="HS256")=>{const r=e.split(".");if(r.length!==3)throw new GG(e);const{header:i,payload:o}=JG(e);if(!Z_e(i))throw new H_e(i);const s=Date.now()/1e3|0;if(o.nbf&&o.nbf>s)throw new U_e(e);if(o.exp&&o.exp<=s)throw new V_e(e);if(o.iat&&s<o.iat)throw new q_e(s,o.iat);const a=e.substring(0,e.lastIndexOf("."));if(!await Y_e(t,n,VG(r[2]),Tv.encode(a)))throw new W_e(e);return o},JG=e=>{try{const[t,n]=e.split("."),r=OF(t),i=OF(n);return{header:r,payload:i}}catch{throw new GG(e)}},e3={sign:e$e,verify:t$e,decode:JG},n$e=async(e,t=Object.create(null))=>{const{all:n=!1,dot:r=!1}=t,o=(e instanceof XG?e.raw.headers:e.headers).get("Content-Type");return o!=null&&o.startsWith("multipart/form-data")||o!=null&&o.startsWith("application/x-www-form-urlencoded")?r$e(e,{all:n,dot:r}):{}};async function r$e(e,t){const n=await e.formData();return n?i$e(n,t):{}}function i$e(e,t){const n=Object.create(null);return e.forEach((r,i)=>{t.all||i.endsWith("[]")?o$e(n,i,r):n[i]=r}),t.dot&&Object.entries(n).forEach(([r,i])=>{r.includes(".")&&(s$e(n,r,i),delete n[r])}),n}var o$e=(e,t,n)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n},s$e=(e,t,n)=>{let r=e;const i=t.split(".");i.forEach((o,s)=>{s===i.length-1?r[o]=n:((!r[o]||typeof r[o]!="object"||Array.isArray(r[o])||r[o]instanceof File)&&(r[o]=Object.create(null)),r=r[o])})},_F=e=>eW(e,s4),Lp,Hs,kc,QG,ZG,yT,Ju,Zz,XG=(Zz=class{constructor(e,t="/",n=[[]]){Ve(this,kc);ee(this,"raw");Ve(this,Lp);Ve(this,Hs);ee(this,"routeIndex",0);ee(this,"path");ee(this,"bodyCache",{});Ve(this,Ju,e=>{const{bodyCache:t,raw:n}=this,r=t[e];if(r)return r;const i=Object.keys(t)[0];return i?t[i].then(o=>(i==="json"&&(o=JSON.stringify(o)),new Response(o)[e]())):t[e]=n[e]()});this.raw=e,this.path=t,Le(this,Hs,n),Le(this,Lp,{})}param(e){return e?nt(this,kc,QG).call(this,e):nt(this,kc,ZG).call(this)}query(e){return G0e(this.url,e)}queries(e){return K0e(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((n,r)=>{t[r]=n}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await n$e(this,e))}json(){return G(this,Ju).call(this,"json")}text(){return G(this,Ju).call(this,"text")}arrayBuffer(){return G(this,Ju).call(this,"arrayBuffer")}blob(){return G(this,Ju).call(this,"blob")}formData(){return G(this,Ju).call(this,"formData")}addValidatedData(e,t){G(this,Lp)[e]=t}valid(e){return G(this,Lp)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return G(this,Hs)[0].map(([[,e]])=>e)}get routePath(){return G(this,Hs)[0].map(([[,e]])=>e)[this.routeIndex].path}},Lp=new WeakMap,Hs=new WeakMap,kc=new WeakSet,QG=function(e){const t=G(this,Hs)[0][this.routeIndex][1][e],n=nt(this,kc,yT).call(this,t);return n?/\%/.test(n)?_F(n):n:void 0},ZG=function(){const e={},t=Object.keys(G(this,Hs)[0][this.routeIndex][1]);for(const n of t){const r=nt(this,kc,yT).call(this,G(this,Hs)[0][this.routeIndex][1][n]);r&&typeof r=="string"&&(e[n]=/\%/.test(r)?_F(r):r)}return e},yT=function(e){return G(this,Hs)[1]?G(this,Hs)[1][e]:e},Ju=new WeakMap,Zz),a$e={Stringify:1},eK=async(e,t,n,r,i)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const o=e.callbacks;return o!=null&&o.length?(i?i[0]+=e:i=[e],Promise.all(o.map(a=>a({phase:t,buffer:i,context:r}))).then(a=>Promise.all(a.filter(Boolean).map(c=>eK(c,t,!1,r,i))).then(()=>i[0]))):Promise.resolve(e)},l$e="text/plain; charset=UTF-8",HC=(e,t={})=>{for(const n of Object.keys(t))e.set(n,t[n]);return e},Cx,jx,Jl,Kf,Xl,Fn,Xn,La,Ql,Ax,Bp,zp,Tx,Rx,Gi,is,eU,c$e=(eU=class{constructor(e,t){Ve(this,Gi);Ve(this,Cx);Ve(this,jx);ee(this,"env",{});Ve(this,Jl);ee(this,"finalized",!1);ee(this,"error");Ve(this,Kf,200);Ve(this,Xl);Ve(this,Fn);Ve(this,Xn);Ve(this,La);Ve(this,Ql,!0);Ve(this,Ax);Ve(this,Bp);Ve(this,zp);Ve(this,Tx);Ve(this,Rx);ee(this,"render",(...e)=>(G(this,Bp)??Le(this,Bp,t=>this.html(t)),G(this,Bp).call(this,...e)));ee(this,"setLayout",e=>Le(this,Ax,e));ee(this,"getLayout",()=>G(this,Ax));ee(this,"setRenderer",e=>{Le(this,Bp,e)});ee(this,"header",(e,t,n)=>{if(t===void 0){G(this,Fn)?G(this,Fn).delete(e):G(this,Xn)&&delete G(this,Xn)[e.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(e);return}n!=null&&n.append?(G(this,Fn)||(Le(this,Ql,!1),Le(this,Fn,new Headers(G(this,Xn))),Le(this,Xn,{})),G(this,Fn).append(e,t)):G(this,Fn)?G(this,Fn).set(e,t):(G(this,Xn)??Le(this,Xn,{}),G(this,Xn)[e.toLowerCase()]=t),this.finalized&&(n!=null&&n.append?this.res.headers.append(e,t):this.res.headers.set(e,t))});ee(this,"status",e=>{Le(this,Ql,!1),Le(this,Kf,e)});ee(this,"set",(e,t)=>{G(this,Jl)??Le(this,Jl,new Map),G(this,Jl).set(e,t)});ee(this,"get",e=>G(this,Jl)?G(this,Jl).get(e):void 0);ee(this,"newResponse",(...e)=>nt(this,Gi,is).call(this,...e));ee(this,"body",(e,t,n)=>typeof t=="number"?nt(this,Gi,is).call(this,e,t,n):nt(this,Gi,is).call(this,e,t));ee(this,"text",(e,t,n)=>{if(!G(this,Xn)){if(G(this,Ql)&&!n&&!t)return new Response(e);Le(this,Xn,{})}return G(this,Xn)["content-type"]=l$e,typeof t=="number"?nt(this,Gi,is).call(this,e,t,n):nt(this,Gi,is).call(this,e,t)});ee(this,"json",(e,t,n)=>{const r=JSON.stringify(e);return G(this,Xn)??Le(this,Xn,{}),G(this,Xn)["content-type"]="application/json",typeof t=="number"?nt(this,Gi,is).call(this,r,t,n):nt(this,Gi,is).call(this,r,t)});ee(this,"html",(e,t,n)=>(G(this,Xn)??Le(this,Xn,{}),G(this,Xn)["content-type"]="text/html; charset=UTF-8",typeof e=="object"?eK(e,a$e.Stringify,!1,{}).then(r=>typeof t=="number"?nt(this,Gi,is).call(this,r,t,n):nt(this,Gi,is).call(this,r,t)):typeof t=="number"?nt(this,Gi,is).call(this,e,t,n):nt(this,Gi,is).call(this,e,t)));ee(this,"redirect",(e,t)=>(G(this,Fn)??Le(this,Fn,new Headers),G(this,Fn).set("Location",String(e)),this.newResponse(null,t??302)));ee(this,"notFound",()=>(G(this,zp)??Le(this,zp,()=>new Response),G(this,zp).call(this,this)));Le(this,Cx,e),t&&(Le(this,Xl,t.executionCtx),this.env=t.env,Le(this,zp,t.notFoundHandler),Le(this,Rx,t.path),Le(this,Tx,t.matchResult))}get req(){return G(this,jx)??Le(this,jx,new XG(G(this,Cx),G(this,Rx),G(this,Tx))),G(this,jx)}get event(){if(G(this,Xl)&&"respondWith"in G(this,Xl))return G(this,Xl);throw Error("This context has no FetchEvent")}get executionCtx(){if(G(this,Xl))return G(this,Xl);throw Error("This context has no ExecutionContext")}get res(){return Le(this,Ql,!1),G(this,La)||Le(this,La,new Response("404 Not Found",{status:404}))}set res(e){if(Le(this,Ql,!1),G(this,La)&&e)try{for(const[t,n]of G(this,La).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const r=G(this,La).headers.getSetCookie();e.headers.delete("set-cookie");for(const i of r)e.headers.append("set-cookie",i)}else e.headers.set(t,n)}catch(t){if(t instanceof TypeError&&t.message.includes("immutable")){this.res=new Response(e.body,{headers:e.headers,status:e.status});return}else throw t}Le(this,La,e),this.finalized=!0}get var(){return G(this,Jl)?Object.fromEntries(G(this,Jl)):{}}},Cx=new WeakMap,jx=new WeakMap,Jl=new WeakMap,Kf=new WeakMap,Xl=new WeakMap,Fn=new WeakMap,Xn=new WeakMap,La=new WeakMap,Ql=new WeakMap,Ax=new WeakMap,Bp=new WeakMap,zp=new WeakMap,Tx=new WeakMap,Rx=new WeakMap,Gi=new WeakSet,is=function(e,t,n){if(G(this,Ql)&&!n&&!t&&G(this,Kf)===200)return new Response(e,{headers:G(this,Xn)});if(t&&typeof t!="number"){const i=new Headers(t.headers);G(this,Fn)&&G(this,Fn).forEach((s,a)=>{a==="set-cookie"?i.append(a,s):i.set(a,s)});const o=HC(i,G(this,Xn));return new Response(e,{headers:o,status:t.status??G(this,Kf)})}const r=typeof t=="number"?t:G(this,Kf);G(this,Xn)??Le(this,Xn,{}),G(this,Fn)??Le(this,Fn,new Headers),HC(G(this,Fn),G(this,Xn)),G(this,La)&&(G(this,La).headers.forEach((i,o)=>{var s,a;o==="set-cookie"?(s=G(this,Fn))==null||s.append(o,i):(a=G(this,Fn))==null||a.set(o,i)}),HC(G(this,Fn),G(this,Xn))),n??(n={});for(const[i,o]of Object.entries(n))if(typeof o=="string")G(this,Fn).set(i,o);else{G(this,Fn).delete(i);for(const s of o)G(this,Fn).append(i,s)}return new Response(e,{status:r,headers:G(this,Fn)})},eU),u$e=e3.verify,d$e=e3.decode,f$e=e3.sign;const{Type:vr}=pt,tK=60*60*24*7,nK=vr.Partial(vr.Object({path:vr.String({default:"/"}),sameSite:On(["strict","lax","none"],{default:"lax"}),secure:vr.Boolean({default:!0}),httpOnly:vr.Boolean({default:!0}),expires:vr.Number({default:tK}),renew:vr.Boolean({default:!0}),pathSuccess:vr.String({default:"/"}),pathLoggedOut:vr.String({default:"/"})}),{default:{},additionalProperties:!1}),rK=vr.Object({secret:vr.String({default:""}),alg:vr.Optional(On(["HS256","HS384","HS512"],{default:"HS256"})),expires:vr.Optional(vr.Number()),issuer:vr.Optional(vr.String()),fields:vr.Array(vr.String(),{default:["id","email","role"]})},{default:{},additionalProperties:!1}),h$e=vr.Object({jwt:rK,cookie:nK});class m$e{constructor(t,n,r){ee(this,"config");this.strategies=t,this.userPool=n,this.config=Er(h$e,r??{})}async resolveLogin(t,n,r,i,o){try{const s=(o==null?void 0:o.identifier)||"email";if(typeof s!="string"||s.length===0)throw new Pu("Identifier must be a string");if(!(s in r))throw new Pu(`Profile must have identifier "${s}"`);const a=await this.userPool.findBy(n.getName(),s,r[s]);if(a.strategy_value){if(a.strategy!==n.getName())throw new Pu("User signed up with a different strategy")}else throw new Pu("User must have a strategy value");await i(a);const c=await this.safeAuthResponse(a);return this.respondWithUser(t,c,o)}catch(s){return this.respondWithError(t,s,o)}}async resolveRegister(t,n,r,i,o){try{const s=(o==null?void 0:o.identifier)||"email";if(typeof s!="string"||s.length===0)throw new Pu("Identifier must be a string");if(!(s in r))throw new Pu(`Profile must have identifier "${s}"`);if(!("strategy_value"in r))throw new Pu("Profile must have a strategy value");const a=await this.userPool.create(n.getName(),{...r,strategy_value:r.strategy_value});await i(a);const c=await this.safeAuthResponse(a);return this.respondWithUser(t,c,o)}catch(s){return this.respondWithError(t,s,o)}}async respondWithUser(t,n,r){const i=this.getSafeUrl(t,(r==null?void 0:r.redirect)??this.config.cookie.pathSuccess??"/");if("token"in n)return await this.setAuthCookie(t,n.token),this.isJsonRequest(t)||r!=null&&r.forceJsonResponse?t.json(n):t.redirect(i);throw new xs("Invalid response")}async respondWithError(t,n,r){if(yt.error("respondWithError",n),this.isJsonRequest(t)||r!=null&&r.forceJsonResponse)throw n;await xF(t,String(n),"error");const i=this.getSafeUrl(t,(r==null?void 0:r.redirect)??t.req.header("Referer")??"/");return t.redirect(i)}getStrategies(){return this.strategies}strategy(t){try{return this.strategies[t]}catch{throw new Error(`Strategy "${String(t)}" not found`)}}async jwt(t){var o,s,a;const r={...eE(t,this.config.jwt.fields),iat:Math.floor(Date.now()/1e3)};(o=this.config.jwt)!=null&&o.issuer&&(r.iss=this.config.jwt.issuer),(s=this.config.jwt)!=null&&s.expires&&(r.exp=Math.floor(Date.now()/1e3)+this.config.jwt.expires);const i=this.config.jwt.secret;if(!i||i.length===0)throw new Error("Cannot sign JWT without a secret");return f$e(r,i,((a=this.config.jwt)==null?void 0:a.alg)??"HS256")}async safeAuthResponse(t){const n=eE(t,this.config.jwt.fields);return{user:n,token:await this.jwt(n)}}async verify(t){var n,r,i;try{const o=await u$e(t,((n=this.config.jwt)==null?void 0:n.secret)??"",((r=this.config.jwt)==null?void 0:r.alg)??"HS256");if((i=this.config.jwt)!=null&&i.issuer&&o.iss!==this.config.jwt.issuer)throw new xs("Invalid issuer",403);return o}catch{}}get cookieOptions(){const{expires:t=tK,renew:n,...r}=this.config.cookie;return{...r,expires:new Date(Date.now()+t*1e3)}}async getAuthCookie(t){try{const n=this.config.jwt.secret,r=await aW(t,n,"auth");return typeof r!="string"?void 0:r}catch(n){n instanceof Error&&yt.error("[getAuthCookie]",n.message);return}}async requestCookieRefresh(t){var n;if(this.config.cookie.renew&&((n=t.get("auth"))!=null&&n.user)){const r=await this.getAuthCookie(t);r&&await this.setAuthCookie(t,r)}}async setAuthCookie(t,n){yt.debug("setting auth cookie",bbe(n));const r=this.config.jwt.secret;await cW(t,"auth",n,r,this.cookieOptions)}async deleteAuthCookie(t){yt.debug("deleting auth cookie"),await Z0e(t,"auth",this.cookieOptions)}async logout(t){t.set("auth",void 0),await this.getAuthCookie(t)&&(await this.deleteAuthCookie(t),await xF(t,"Signed out","info"))}isJsonRequest(t){return t.req.header("Content-Type")==="application/json"}async getBody(t){return this.isJsonRequest(t)?await t.req.json():Object.fromEntries((await t.req.formData()).entries())}getSafeUrl(t,n){const r=n.replace(/\/+$/,"/");return IEe("redirects_non_fq")?r:new URL(t.req.url).origin+r}async resolveAuthFromRequest(t){let n;if(t.req.raw.headers.has("Authorization")?n=String(t.req.header("Authorization")).replace("Bearer ",""):n=await this.getAuthCookie(t),n)return await this.verify(n)}toJSON(t){return{...this.config,jwt:t?this.config.jwt:void 0}}}function nE(e){return typeof e>"u"||e===void 0}function rl(e){return typeof e=="string"}function t3(e){return typeof e=="number"}function iK(e){return typeof e=="boolean"}function oK(e){return e===null}function sK(e){return typeof e=="bigint"}function Zh(e){return typeof e=="function"}function GN(e){return typeof e=="object"&&e!==null}function ne(e){return Object.freeze(e)}function j1(e){return xd(e)?e:[e]}function xd(e){return Array.isArray(e)}const $o=ne({is(e){return e.kind==="IdentifierNode"},create(e){return ne({kind:"IdentifierNode",name:e})}}),bT=ne({is(e){return e.kind==="SchemableIdentifierNode"},create(e){return ne({kind:"SchemableIdentifierNode",identifier:$o.create(e)})},createWithSchema(e,t){return ne({kind:"SchemableIdentifierNode",schema:$o.create(e),identifier:$o.create(t)})}}),qd=ne({is(e){return e.kind==="AliasNode"},create(e,t){return ne({kind:"AliasNode",node:e,alias:t})}}),od=ne({is(e){return e.kind==="TableNode"},create(e){return ne({kind:"TableNode",table:bT.create(e)})},createWithSchema(e,t){return ne({kind:"TableNode",table:bT.createWithSchema(e,t)})}});function Ts(e){return GN(e)&&Zh(e.toOperationNode)}function p$e(e){return GN(e)&&"expressionType"in e&&Ts(e)}function g$e(e){return GN(e)&&"expression"in e&&rl(e.alias)&&Ts(e)}const Ll=ne({is(e){return e.kind==="SelectModifierNode"},create(e,t){return ne({kind:"SelectModifierNode",modifier:e,of:t})},createWithExpression(e){return ne({kind:"SelectModifierNode",rawModifier:e})}}),vd=ne({is(e){return e.kind==="AndNode"},create(e,t){return ne({kind:"AndNode",left:e,right:t})}}),yy=ne({is(e){return e.kind==="OrNode"},create(e,t){return ne({kind:"OrNode",left:e,right:t})}}),WC=ne({is(e){return e.kind==="OnNode"},create(e){return ne({kind:"OnNode",on:e})},cloneWithOperation(e,t,n){return ne({...e,on:t==="And"?vd.create(e.on,n):yy.create(e.on,n)})}}),cb=ne({is(e){return e.kind==="JoinNode"},create(e,t){return ne({kind:"JoinNode",joinType:e,table:t,on:void 0})},createWithOn(e,t,n){return ne({kind:"JoinNode",joinType:e,table:t,on:WC.create(n)})},cloneWithOn(e,t){return ne({...e,on:e.on?WC.cloneWithOperation(e.on,"And",t):WC.create(t)})}}),xg=ne({is(e){return e.kind==="BinaryOperationNode"},create(e,t,n){return ne({kind:"BinaryOperationNode",leftOperand:e,operator:t,rightOperand:n})}}),y$e=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],b$e=["+","-","*","/","%","^","&","|","#","<<",">>"],aK=["->","->>"],x$e=[...y$e,...b$e,"&&","||"],v$e=["exists","not exists"],w$e=["not","-",...v$e],S$e=[...x$e,...aK,...w$e,"between","between symmetric"],Nh=ne({is(e){return e.kind==="OperatorNode"},create(e){return ne({kind:"OperatorNode",operator:e})}});function $F(e){return rl(e)&&aK.includes(e)}const n3=ne({is(e){return e.kind==="ColumnNode"},create(e){return ne({kind:"ColumnNode",column:$o.create(e)})}}),lK=ne({is(e){return e.kind==="SelectAllNode"},create(){return ne({kind:"SelectAllNode"})}}),KN=ne({is(e){return e.kind==="ReferenceNode"},create(e,t){return ne({kind:"ReferenceNode",table:t,column:e})},createSelectAll(e){return ne({kind:"ReferenceNode",table:e,column:lK.create()})}});function cK(e){return GN(e)&&Ts(e)&&rl(e.dynamicReference)}const xT=ne({is(e){return e.kind==="OrderByItemNode"},create(e,t){return ne({kind:"OrderByItemNode",orderBy:e,direction:t})}}),vo=ne({is(e){return e.kind==="RawNode"},create(e,t){return ne({kind:"RawNode",sqlFragments:ne(e),parameters:ne(t)})},createWithSql(e){return vo.create([e],[])},createWithChild(e){return vo.create(["",""],[e])},createWithChildren(e){return vo.create(new Array(e.length+1).fill(""),e)}});function E$e(e){return e==="asc"||e==="desc"}function r3(e){if(e.length===2)return[GC(e[0],e[1])];if(e.length===1){const[t]=e;return Array.isArray(t)?t.map(n=>GC(n)):[GC(t)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${e.length}`)}function GC(e,t){const n=N$e(e);if(xT.is(n)){if(t)throw new Error("Cannot specify direction twice!");return n}return xT.create(n,uK(t))}function N$e(e){if(QN(e))return XN(e);if(cK(e))return e.toOperationNode();const[t,n]=e.split(" ");if(n){if(!E$e(n))throw new Error(`Invalid order by direction: ${n}`);return xT.create(wd(t),uK(n))}return wd(e)}function uK(e){if(e)return e==="asc"||e==="desc"?vo.createWithSql(e):e.toOperationNode()}const rE=ne({is(e){return e.kind==="JSONReferenceNode"},create(e,t){return ne({kind:"JSONReferenceNode",reference:e,traversal:t})},cloneWithTraversal(e,t){return ne({...e,traversal:t})}}),dK=ne({is(e){return e.kind==="JSONOperatorChainNode"},create(e){return ne({kind:"JSONOperatorChainNode",operator:e,values:ne([])})},cloneWithValue(e,t){return ne({...e,values:ne([...e.values,t])})}}),ub=ne({is(e){return e.kind==="JSONPathNode"},create(e){return ne({kind:"JSONPathNode",inOperator:e,pathLegs:ne([])})},cloneWithLeg(e,t){return ne({...e,pathLegs:ne([...e.pathLegs,t])})}});function O$e(e){return rl(e)?wd(e):e.toOperationNode()}function Wb(e){return xd(e)?e.map(t=>ls(t)):[ls(e)]}function ls(e){return QN(e)?XN(e):O$e(e)}function _$e(e,t){const n=wd(e);if($F(t))return rE.create(n,dK.create(Nh.create(t)));const r=t.slice(0,-1);if($F(r))return rE.create(n,ub.create(Nh.create(r)));throw new Error(`Invalid JSON operator: ${t}`)}function wd(e){const t=".";if(!e.includes(t))return KN.create(n3.create(e));const n=e.split(t).map(fK);if(n.length===3)return C$e(n);if(n.length===2)return j$e(n);throw new Error(`invalid column reference ${e}`)}function $$e(e){const t=" as ";if(e.includes(t)){const[n,r]=e.split(t).map(fK);return qd.create(wd(n),$o.create(r))}else return wd(e)}function C$e(e){const[t,n,r]=e;return KN.create(n3.create(r),od.createWithSchema(t,n))}function j$e(e){const[t,n]=e;return KN.create(n3.create(n),od.create(t))}function fK(e){return e.trim()}const A$e=ne({is(e){return e.kind==="PrimitiveValueListNode"},create(e){return ne({kind:"PrimitiveValueListNode",values:ne([...e])})}}),T$e=ne({is(e){return e.kind==="ValueListNode"},create(e){return ne({kind:"ValueListNode",values:ne(e)})}}),Sd=ne({is(e){return e.kind==="ValueNode"},create(e){return ne({kind:"ValueNode",value:e})},createImmediate(e){return ne({kind:"ValueNode",value:e,immediate:!0})}});function R$e(e){return xd(e)?I$e(e):Ai(e)}function Ai(e){return QN(e)?XN(e):Sd.create(e)}function i3(e){return t3(e)||iK(e)||oK(e)}function o3(e){if(!i3(e))throw new Error(`unsafe immediate value ${JSON.stringify(e)}`);return Sd.createImmediate(e)}function I$e(e){return e.some(QN)?T$e.create(e.map(t=>Ai(t))):A$e.create(e)}const Gb=ne({is(e){return e.kind==="ParensNode"},create(e){return ne({kind:"ParensNode",node:e})}});function fa(e){if(e.length===3)return s3(e[0],e[1],e[2]);if(e.length===1)return Ai(e[0]);throw new Error(`invalid arguments: ${JSON.stringify(e)}`)}function s3(e,t,n){return M$e(t)&&hK(n)?xg.create(ls(e),wT(t),Sd.createImmediate(n)):xg.create(ls(e),wT(t),R$e(n))}function Kb(e,t,n){return xg.create(ls(e),wT(t),ls(n))}function CF(e,t){return vT(Object.entries(e).filter(([,n])=>!nE(n)).map(([n,r])=>s3(n,hK(r)?"is":"=",r)),t)}function vT(e,t,n=!0){const r=t==="and"?vd.create:yy.create;if(e.length===0)return xg.create(Sd.createImmediate(1),Nh.create("="),Sd.createImmediate(t==="and"?1:0));let i=jF(e[0]);for(let o=1;o<e.length;++o)i=r(i,jF(e[o]));return e.length>1&&n?Gb.create(i):i}function M$e(e){return e==="is"||e==="is not"}function hK(e){return oK(e)||iK(e)}function wT(e){if(rl(e)&&S$e.includes(e))return Nh.create(e);if(Ts(e))return e.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(e)}`)}function jF(e){return Ts(e)?e.toOperationNode():e}const Ed=ne({is(e){return e.kind==="OrderByNode"},create(e){return ne({kind:"OrderByNode",items:ne([...e])})},cloneWithItems(e,t){return ne({...e,items:ne([...e.items,...t])})}}),AF=ne({is(e){return e.kind==="PartitionByNode"},create(e){return ne({kind:"PartitionByNode",items:ne(e)})},cloneWithItems(e,t){return ne({...e,items:ne([...e.items,...t])})}}),ST=ne({is(e){return e.kind==="OverNode"},create(){return ne({kind:"OverNode"})},cloneWithOrderByItems(e,t){return ne({...e,orderBy:e.orderBy?Ed.cloneWithItems(e.orderBy,t):Ed.create(t)})},cloneWithPartitionByItems(e,t){return ne({...e,partitionBy:e.partitionBy?AF.cloneWithItems(e.partitionBy,t):AF.create(t)})}}),iE=ne({is(e){return e.kind==="FromNode"},create(e){return ne({kind:"FromNode",froms:ne(e)})},cloneWithFroms(e,t){return ne({...e,froms:ne([...e.froms,...t])})}}),TF=ne({is(e){return e.kind==="GroupByNode"},create(e){return ne({kind:"GroupByNode",items:ne(e)})},cloneWithItems(e,t){return ne({...e,items:ne([...e.items,...t])})}}),RF=ne({is(e){return e.kind==="HavingNode"},create(e){return ne({kind:"HavingNode",having:e})},cloneWithOperation(e,t,n){return ne({...e,having:t==="And"?vd.create(e.having,n):yy.create(e.having,n)})}}),vn=ne({is(e){return e.kind==="SelectQueryNode"},create(e){return ne({kind:"SelectQueryNode",...e&&{with:e}})},createFrom(e,t){return ne({kind:"SelectQueryNode",from:iE.create(e),...t&&{with:t}})},cloneWithSelections(e,t){return ne({...e,selections:e.selections?ne([...e.selections,...t]):ne(t)})},cloneWithDistinctOn(e,t){return ne({...e,distinctOn:e.distinctOn?ne([...e.distinctOn,...t]):ne(t)})},cloneWithFrontModifier(e,t){return ne({...e,frontModifiers:e.frontModifiers?ne([...e.frontModifiers,t]):ne([t])})},cloneWithOrderByItems(e,t){return ne({...e,orderBy:e.orderBy?Ed.cloneWithItems(e.orderBy,t):Ed.create(t)})},cloneWithGroupByItems(e,t){return ne({...e,groupBy:e.groupBy?TF.cloneWithItems(e.groupBy,t):TF.create(t)})},cloneWithLimit(e,t){return ne({...e,limit:t})},cloneWithOffset(e,t){return ne({...e,offset:t})},cloneWithFetch(e,t){return ne({...e,fetch:t})},cloneWithHaving(e,t){return ne({...e,having:e.having?RF.cloneWithOperation(e.having,"And",t):RF.create(t)})},cloneWithSetOperations(e,t){return ne({...e,setOperations:e.setOperations?ne([...e.setOperations,...t]):ne([...t])})},cloneWithoutSelections(e){return ne({...e,selections:[]})},cloneWithoutLimit(e){return ne({...e,limit:void 0})},cloneWithoutOffset(e){return ne({...e,offset:void 0})},cloneWithoutOrderBy(e){return ne({...e,orderBy:void 0})},cloneWithoutGroupBy(e){return ne({...e,groupBy:void 0})}});function em(e,t){Object.defineProperties(e.prototype,{then:{enumerable:!1,value:()=>{throw new Error(t)}}})}var Ws,md;let mK=(md=class{constructor(t){Ve(this,Ws);Le(this,Ws,ne(t))}on(...t){return new md({...G(this,Ws),joinNode:cb.cloneWithOn(G(this,Ws).joinNode,fa(t))})}onRef(t,n,r){return new md({...G(this,Ws),joinNode:cb.cloneWithOn(G(this,Ws).joinNode,Kb(t,n,r))})}onTrue(){return new md({...G(this,Ws),joinNode:cb.cloneWithOn(G(this,Ws).joinNode,vo.createWithSql("true"))})}$call(t){return t(this)}toOperationNode(){return G(this,Ws).joinNode}},Ws=new WeakMap,md);em(mK,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const k$e=ne({is(e){return e.kind==="PartitionByItemNode"},create(e){return ne({kind:"PartitionByItemNode",partitionBy:e})}});function P$e(e){return Wb(e).map(k$e.create)}var Yf;const c2=class c2{constructor(t){Ve(this,Yf);Le(this,Yf,ne(t))}orderBy(t,n){return new c2({overNode:ST.cloneWithOrderByItems(G(this,Yf).overNode,r3([t,n]))})}partitionBy(t){return new c2({overNode:ST.cloneWithPartitionByItems(G(this,Yf).overNode,P$e(t))})}$call(t){return t(this)}toOperationNode(){return G(this,Yf).overNode}};Yf=new WeakMap;let oE=c2;em(oE,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const db=ne({is(e){return e.kind==="SelectionNode"},create(e){return ne({kind:"SelectionNode",selection:e})},createSelectAll(){return ne({kind:"SelectionNode",selection:lK.create()})},createSelectAllFromTable(e){return ne({kind:"SelectionNode",selection:KN.createSelectAll(e)})}});function pK(e){return Zh(e)?pK(e(JN())):xd(e)?e.map(t=>IF(t)):[IF(e)]}function IF(e){return rl(e)?db.create($$e(e)):cK(e)?db.create(e.toOperationNode()):db.create(NK(e))}function gK(e){return e?Array.isArray(e)?e.map(MF):[MF(e)]:[db.createSelectAll()]}function MF(e){if(rl(e))return db.createSelectAllFromTable(ta(e));throw new Error(`invalid value selectAll expression: ${JSON.stringify(e)}`)}const D$e=ne({is(e){return e.kind==="InsertQueryNode"},create(e,t,n){return ne({kind:"InsertQueryNode",into:e,...t&&{with:t},replace:n})},createWithoutInto(){return ne({kind:"InsertQueryNode"})},cloneWith(e,t){return ne({...e,...t})}}),F$e=ne({is(e){return e.kind==="UpdateQueryNode"},create(e,t){return ne({kind:"UpdateQueryNode",table:e,...t&&{with:t}})},createWithoutTable(){return ne({kind:"UpdateQueryNode"})},cloneWithFromItems(e,t){return ne({...e,from:e.from?iE.cloneWithFroms(e.from,t):iE.create(t)})},cloneWithUpdates(e,t){return ne({...e,updates:e.updates?ne([...e.updates,...t]):t})},cloneWithLimit(e,t){return ne({...e,limit:t})}}),kF=ne({is(e){return e.kind==="UsingNode"},create(e){return ne({kind:"UsingNode",tables:ne(e)})},cloneWithTables(e,t){return ne({...e,tables:ne([...e.tables,...t])})}}),L$e=ne({is(e){return e.kind==="DeleteQueryNode"},create(e,t){return ne({kind:"DeleteQueryNode",from:iE.create(e),...t&&{with:t}})},cloneWithOrderByItems(e,t){return ne({...e,orderBy:e.orderBy?Ed.cloneWithItems(e.orderBy,t):Ed.create(t)})},cloneWithoutOrderBy(e){return ne({...e,orderBy:void 0})},cloneWithLimit(e,t){return ne({...e,limit:t})},cloneWithoutLimit(e){return ne({...e,limit:void 0})},cloneWithUsing(e,t){return ne({...e,using:e.using!==void 0?kF.cloneWithTables(e.using,t):kF.create(t)})}}),wp=ne({is(e){return e.kind==="WhereNode"},create(e){return ne({kind:"WhereNode",where:e})},cloneWithOperation(e,t,n){return ne({...e,where:t==="And"?vd.create(e.where,n):yy.create(e.where,n)})}}),PF=ne({is(e){return e.kind==="ReturningNode"},create(e){return ne({kind:"ReturningNode",selections:ne(e)})},cloneWithSelections(e,t){return ne({...e,selections:e.selections?ne([...e.selections,...t]):ne(t)})}}),B$e=ne({is(e){return e.kind==="ExplainNode"},create(e,t){return ne({kind:"ExplainNode",format:e,options:t})}}),YN=ne({is(e){return e.kind==="WhenNode"},create(e){return ne({kind:"WhenNode",condition:e})},cloneWithResult(e,t){return ne({...e,result:t})}}),z$e=ne({is(e){return e.kind==="MergeQueryNode"},create(e,t){return ne({kind:"MergeQueryNode",into:e,...t&&{with:t}})},cloneWithUsing(e,t){return ne({...e,using:t})},cloneWithWhen(e,t){return ne({...e,whens:e.whens?ne([...e.whens,t]):ne([t])})},cloneWithThen(e,t){return ne({...e,whens:e.whens?ne([...e.whens.slice(0,-1),YN.cloneWithResult(e.whens[e.whens.length-1],t)]):void 0})}}),DF=ne({is(e){return e.kind==="OutputNode"},create(e){return ne({kind:"OutputNode",selections:ne(e)})},cloneWithSelections(e,t){return ne({...e,selections:e.selections?ne([...e.selections,...t]):ne(t)})}}),Dr=ne({is(e){return vn.is(e)||D$e.is(e)||F$e.is(e)||L$e.is(e)||z$e.is(e)},cloneWithEndModifier(e,t){return ne({...e,endModifiers:e.endModifiers?ne([...e.endModifiers,t]):ne([t])})},cloneWithWhere(e,t){return ne({...e,where:e.where?wp.cloneWithOperation(e.where,"And",t):wp.create(t)})},cloneWithJoin(e,t){return ne({...e,joins:e.joins?ne([...e.joins,t]):ne([t])})},cloneWithReturning(e,t){return ne({...e,returning:e.returning?PF.cloneWithSelections(e.returning,t):PF.create(t)})},cloneWithoutReturning(e){return ne({...e,returning:void 0})},cloneWithoutWhere(e){return ne({...e,where:void 0})},cloneWithExplain(e,t,n){return ne({...e,explain:B$e.create(t,n==null?void 0:n.toOperationNode())})},cloneWithTop(e,t){return ne({...e,top:t})},cloneWithOutput(e,t){return ne({...e,output:e.output?DF.cloneWithSelections(e.output,t):DF.create(t)})}});class U$e extends Error{constructor(n){super("no result");ee(this,"node");this.node=n}}function V$e(e){return Object.prototype.hasOwnProperty.call(e,"prototype")}const q$e=ne({is(e){return e.kind==="TopNode"},create(e,t){return ne({kind:"TopNode",expression:e,modifiers:t})}});function H$e(e,t){if(!t3(e)&&!sK(e))throw new Error(`Invalid top expression: ${e}`);if(!nE(t)&&!W$e(t))throw new Error(`Invalid top modifiers: ${t}`);return q$e.create(e,t)}function W$e(e){return e==="percent"||e==="with ties"||e==="percent with ties"}const G$e=ne({is(e){return e.kind==="LimitNode"},create(e){return ne({kind:"LimitNode",limit:e})}}),FF=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function K$e(e){let t="";for(let n=0;n<e;++n)t+=Y$e();return t}function Y$e(){return FF[~~(Math.random()*FF.length)]}function Vl(){return new J$e}var Up;class J$e{constructor(){Ve(this,Up)}get queryId(){return G(this,Up)===void 0&&Le(this,Up,K$e(8)),G(this,Up)}}Up=new WeakMap;var u2;class X$e{constructor(){ee(this,"nodeStack",[]);Ve(this,u2,ne({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)}))}transformNode(t){if(!t)return t;this.nodeStack.push(t);const n=this.transformNodeImpl(t);return this.nodeStack.pop(),ne(n)}transformNodeImpl(t){return G(this,u2)[t.kind](t)}transformNodeList(t){return t&&ne(t.map(n=>this.transformNode(n)))}transformSelectQuery(t){return{kind:"SelectQueryNode",from:this.transformNode(t.from),selections:this.transformNodeList(t.selections),distinctOn:this.transformNodeList(t.distinctOn),joins:this.transformNodeList(t.joins),groupBy:this.transformNode(t.groupBy),orderBy:this.transformNode(t.orderBy),where:this.transformNode(t.where),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),limit:this.transformNode(t.limit),offset:this.transformNode(t.offset),with:this.transformNode(t.with),having:this.transformNode(t.having),explain:this.transformNode(t.explain),setOperations:this.transformNodeList(t.setOperations),fetch:this.transformNode(t.fetch),top:this.transformNode(t.top)}}transformSelection(t){return{kind:"SelectionNode",selection:this.transformNode(t.selection)}}transformColumn(t){return{kind:"ColumnNode",column:this.transformNode(t.column)}}transformAlias(t){return{kind:"AliasNode",node:this.transformNode(t.node),alias:this.transformNode(t.alias)}}transformTable(t){return{kind:"TableNode",table:this.transformNode(t.table)}}transformFrom(t){return{kind:"FromNode",froms:this.transformNodeList(t.froms)}}transformReference(t){return{kind:"ReferenceNode",column:this.transformNode(t.column),table:this.transformNode(t.table)}}transformAnd(t){return{kind:"AndNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformOr(t){return{kind:"OrNode",left:this.transformNode(t.left),right:this.transformNode(t.right)}}transformValueList(t){return{kind:"ValueListNode",values:this.transformNodeList(t.values)}}transformParens(t){return{kind:"ParensNode",node:this.transformNode(t.node)}}transformJoin(t){return{kind:"JoinNode",joinType:t.joinType,table:this.transformNode(t.table),on:this.transformNode(t.on)}}transformRaw(t){return{kind:"RawNode",sqlFragments:ne([...t.sqlFragments]),parameters:this.transformNodeList(t.parameters)}}transformWhere(t){return{kind:"WhereNode",where:this.transformNode(t.where)}}transformInsertQuery(t){return{kind:"InsertQueryNode",into:this.transformNode(t.into),columns:this.transformNodeList(t.columns),values:this.transformNode(t.values),returning:this.transformNode(t.returning),onConflict:this.transformNode(t.onConflict),onDuplicateKey:this.transformNode(t.onDuplicateKey),endModifiers:this.transformNodeList(t.endModifiers),with:this.transformNode(t.with),ignore:t.ignore,replace:t.replace,explain:this.transformNode(t.explain),defaultValues:t.defaultValues,top:this.transformNode(t.top),output:this.transformNode(t.output)}}transformValues(t){return{kind:"ValuesNode",values:this.transformNodeList(t.values)}}transformDeleteQuery(t){return{kind:"DeleteQueryNode",from:this.transformNode(t.from),using:this.transformNode(t.using),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),returning:this.transformNode(t.returning),endModifiers:this.transformNodeList(t.endModifiers),with:this.transformNode(t.with),orderBy:this.transformNode(t.orderBy),limit:this.transformNode(t.limit),explain:this.transformNode(t.explain),top:this.transformNode(t.top),output:this.transformNode(t.output)}}transformReturning(t){return{kind:"ReturningNode",selections:this.transformNodeList(t.selections)}}transformCreateTable(t){return{kind:"CreateTableNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),constraints:this.transformNodeList(t.constraints),temporary:t.temporary,ifNotExists:t.ifNotExists,onCommit:t.onCommit,frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),selectQuery:this.transformNode(t.selectQuery)}}transformColumnDefinition(t){return{kind:"ColumnDefinitionNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),references:this.transformNode(t.references),primaryKey:t.primaryKey,autoIncrement:t.autoIncrement,unique:t.unique,notNull:t.notNull,unsigned:t.unsigned,defaultTo:this.transformNode(t.defaultTo),check:this.transformNode(t.check),generated:this.transformNode(t.generated),frontModifiers:this.transformNodeList(t.frontModifiers),endModifiers:this.transformNodeList(t.endModifiers),nullsNotDistinct:t.nullsNotDistinct,identity:t.identity,ifNotExists:t.ifNotExists}}transformAddColumn(t){return{kind:"AddColumnNode",column:this.transformNode(t.column)}}transformDropTable(t){return{kind:"DropTableNode",table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformOrderBy(t){return{kind:"OrderByNode",items:this.transformNodeList(t.items)}}transformOrderByItem(t){return{kind:"OrderByItemNode",orderBy:this.transformNode(t.orderBy),direction:this.transformNode(t.direction)}}transformGroupBy(t){return{kind:"GroupByNode",items:this.transformNodeList(t.items)}}transformGroupByItem(t){return{kind:"GroupByItemNode",groupBy:this.transformNode(t.groupBy)}}transformUpdateQuery(t){return{kind:"UpdateQueryNode",table:this.transformNode(t.table),from:this.transformNode(t.from),joins:this.transformNodeList(t.joins),where:this.transformNode(t.where),updates:this.transformNodeList(t.updates),returning:this.transformNode(t.returning),endModifiers:this.transformNodeList(t.endModifiers),with:this.transformNode(t.with),explain:this.transformNode(t.explain),limit:this.transformNode(t.limit),top:this.transformNode(t.top),output:this.transformNode(t.output)}}transformColumnUpdate(t){return{kind:"ColumnUpdateNode",column:this.transformNode(t.column),value:this.transformNode(t.value)}}transformLimit(t){return{kind:"LimitNode",limit:this.transformNode(t.limit)}}transformOffset(t){return{kind:"OffsetNode",offset:this.transformNode(t.offset)}}transformOnConflict(t){return{kind:"OnConflictNode",columns:this.transformNodeList(t.columns),constraint:this.transformNode(t.constraint),indexExpression:this.transformNode(t.indexExpression),indexWhere:this.transformNode(t.indexWhere),updates:this.transformNodeList(t.updates),updateWhere:this.transformNode(t.updateWhere),doNothing:t.doNothing}}transformOnDuplicateKey(t){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(t.updates)}}transformCreateIndex(t){return{kind:"CreateIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists,where:this.transformNode(t.where),nullsNotDistinct:t.nullsNotDistinct}}transformList(t){return{kind:"ListNode",items:this.transformNodeList(t.items)}}transformDropIndex(t){return{kind:"DropIndexNode",name:this.transformNode(t.name),table:this.transformNode(t.table),ifExists:t.ifExists,cascade:t.cascade}}transformPrimaryKeyConstraint(t){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name)}}transformUniqueConstraint(t){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(t.columns),name:this.transformNode(t.name),nullsNotDistinct:t.nullsNotDistinct}}transformForeignKeyConstraint(t){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(t.columns),references:this.transformNode(t.references),name:this.transformNode(t.name),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformSetOperation(t){return{kind:"SetOperationNode",operator:t.operator,expression:this.transformNode(t.expression),all:t.all}}transformReferences(t){return{kind:"ReferencesNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns),onDelete:t.onDelete,onUpdate:t.onUpdate}}transformCheckConstraint(t){return{kind:"CheckConstraintNode",expression:this.transformNode(t.expression),name:this.transformNode(t.name)}}transformWith(t){return{kind:"WithNode",expressions:this.transformNodeList(t.expressions),recursive:t.recursive}}transformCommonTableExpression(t){return{kind:"CommonTableExpressionNode",name:this.transformNode(t.name),materialized:t.materialized,expression:this.transformNode(t.expression)}}transformCommonTableExpressionName(t){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(t.table),columns:this.transformNodeList(t.columns)}}transformHaving(t){return{kind:"HavingNode",having:this.transformNode(t.having)}}transformCreateSchema(t){return{kind:"CreateSchemaNode",schema:this.transformNode(t.schema),ifNotExists:t.ifNotExists}}transformDropSchema(t){return{kind:"DropSchemaNode",schema:this.transformNode(t.schema),ifExists:t.ifExists,cascade:t.cascade}}transformAlterTable(t){return{kind:"AlterTableNode",table:this.transformNode(t.table),renameTo:this.transformNode(t.renameTo),setSchema:this.transformNode(t.setSchema),columnAlterations:this.transformNodeList(t.columnAlterations),addConstraint:this.transformNode(t.addConstraint),dropConstraint:this.transformNode(t.dropConstraint),addIndex:this.transformNode(t.addIndex),dropIndex:this.transformNode(t.dropIndex)}}transformDropColumn(t){return{kind:"DropColumnNode",column:this.transformNode(t.column)}}transformRenameColumn(t){return{kind:"RenameColumnNode",column:this.transformNode(t.column),renameTo:this.transformNode(t.renameTo)}}transformAlterColumn(t){return{kind:"AlterColumnNode",column:this.transformNode(t.column),dataType:this.transformNode(t.dataType),dataTypeExpression:this.transformNode(t.dataTypeExpression),setDefault:this.transformNode(t.setDefault),dropDefault:t.dropDefault,setNotNull:t.setNotNull,dropNotNull:t.dropNotNull}}transformModifyColumn(t){return{kind:"ModifyColumnNode",column:this.transformNode(t.column)}}transformAddConstraint(t){return{kind:"AddConstraintNode",constraint:this.transformNode(t.constraint)}}transformDropConstraint(t){return{kind:"DropConstraintNode",constraintName:this.transformNode(t.constraintName),ifExists:t.ifExists,modifier:t.modifier}}transformCreateView(t){return{kind:"CreateViewNode",name:this.transformNode(t.name),temporary:t.temporary,orReplace:t.orReplace,ifNotExists:t.ifNotExists,materialized:t.materialized,columns:this.transformNodeList(t.columns),as:this.transformNode(t.as)}}transformDropView(t){return{kind:"DropViewNode",name:this.transformNode(t.name),ifExists:t.ifExists,materialized:t.materialized,cascade:t.cascade}}transformGenerated(t){return{kind:"GeneratedNode",byDefault:t.byDefault,always:t.always,identity:t.identity,stored:t.stored,expression:this.transformNode(t.expression)}}transformDefaultValue(t){return{kind:"DefaultValueNode",defaultValue:this.transformNode(t.defaultValue)}}transformOn(t){return{kind:"OnNode",on:this.transformNode(t.on)}}transformSelectModifier(t){return{kind:"SelectModifierNode",modifier:t.modifier,rawModifier:this.transformNode(t.rawModifier),of:this.transformNodeList(t.of)}}transformCreateType(t){return{kind:"CreateTypeNode",name:this.transformNode(t.name),enum:this.transformNode(t.enum)}}transformDropType(t){return{kind:"DropTypeNode",name:this.transformNode(t.name),ifExists:t.ifExists}}transformExplain(t){return{kind:"ExplainNode",format:t.format,options:this.transformNode(t.options)}}transformSchemableIdentifier(t){return{kind:"SchemableIdentifierNode",schema:this.transformNode(t.schema),identifier:this.transformNode(t.identifier)}}transformAggregateFunction(t){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(t.aggregated),distinct:t.distinct,orderBy:this.transformNode(t.orderBy),filter:this.transformNode(t.filter),func:t.func,over:this.transformNode(t.over)}}transformOver(t){return{kind:"OverNode",orderBy:this.transformNode(t.orderBy),partitionBy:this.transformNode(t.partitionBy)}}transformPartitionBy(t){return{kind:"PartitionByNode",items:this.transformNodeList(t.items)}}transformPartitionByItem(t){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(t.partitionBy)}}transformBinaryOperation(t){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(t.leftOperand),operator:this.transformNode(t.operator),rightOperand:this.transformNode(t.rightOperand)}}transformUnaryOperation(t){return{kind:"UnaryOperationNode",operator:this.transformNode(t.operator),operand:this.transformNode(t.operand)}}transformUsing(t){return{kind:"UsingNode",tables:this.transformNodeList(t.tables)}}transformFunction(t){return{kind:"FunctionNode",func:t.func,arguments:this.transformNodeList(t.arguments)}}transformCase(t){return{kind:"CaseNode",value:this.transformNode(t.value),when:this.transformNodeList(t.when),else:this.transformNode(t.else),isStatement:t.isStatement}}transformWhen(t){return{kind:"WhenNode",condition:this.transformNode(t.condition),result:this.transformNode(t.result)}}transformJSONReference(t){return{kind:"JSONReferenceNode",reference:this.transformNode(t.reference),traversal:this.transformNode(t.traversal)}}transformJSONPath(t){return{kind:"JSONPathNode",inOperator:this.transformNode(t.inOperator),pathLegs:this.transformNodeList(t.pathLegs)}}transformJSONPathLeg(t){return{kind:"JSONPathLegNode",type:t.type,value:t.value}}transformJSONOperatorChain(t){return{kind:"JSONOperatorChainNode",operator:this.transformNode(t.operator),values:this.transformNodeList(t.values)}}transformTuple(t){return{kind:"TupleNode",values:this.transformNodeList(t.values)}}transformMergeQuery(t){return{kind:"MergeQueryNode",into:this.transformNode(t.into),using:this.transformNode(t.using),whens:this.transformNodeList(t.whens),with:this.transformNode(t.with),top:this.transformNode(t.top),endModifiers:this.transformNodeList(t.endModifiers),output:this.transformNode(t.output)}}transformMatched(t){return{kind:"MatchedNode",not:t.not,bySource:t.bySource}}transformAddIndex(t){return{kind:"AddIndexNode",name:this.transformNode(t.name),columns:this.transformNodeList(t.columns),unique:t.unique,using:this.transformNode(t.using),ifNotExists:t.ifNotExists}}transformCast(t){return{kind:"CastNode",expression:this.transformNode(t.expression),dataType:this.transformNode(t.dataType)}}transformFetch(t){return{kind:"FetchNode",rowCount:this.transformNode(t.rowCount),modifier:t.modifier}}transformTop(t){return{kind:"TopNode",expression:t.expression,modifiers:t.modifiers}}transformOutput(t){return{kind:"OutputNode",selections:this.transformNodeList(t.selections)}}transformDataType(t){return t}transformSelectAll(t){return t}transformIdentifier(t){return t}transformValue(t){return t}transformPrimitiveValueList(t){return t}transformOperator(t){return t}transformDefaultInsertValue(t){return t}}u2=new WeakMap;const Q$e=ne({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0}),Z$e={json_agg:!0,to_json:!0};var Vp,Jf,Xf,Hn,ET,yK,bK,xK,mp,NT,vK;class eCe extends X$e{constructor(n){super();Ve(this,Hn);Ve(this,Vp);Ve(this,Jf,new Set);Ve(this,Xf,new Set);Le(this,Vp,n)}transformNodeImpl(n){if(!nt(this,Hn,yK).call(this,n))return super.transformNodeImpl(n);const r=nt(this,Hn,xK).call(this,n);for(const s of r)G(this,Xf).add(s);const i=nt(this,Hn,bK).call(this,n);for(const s of i)G(this,Jf).add(s);const o=super.transformNodeImpl(n);for(const s of i)G(this,Jf).delete(s);for(const s of r)G(this,Xf).delete(s);return o}transformSchemableIdentifier(n){const r=super.transformSchemableIdentifier(n);return r.schema||!G(this,Jf).has(n.identifier.name)?r:{...r,schema:$o.create(G(this,Vp))}}transformReferences(n){const r=super.transformReferences(n);return r.table.table.schema?r:{...r,table:od.createWithSchema(G(this,Vp),r.table.table.identifier.name)}}transformAggregateFunction(n){return{...super.transformAggregateFunction({...n,aggregated:[]}),aggregated:nt(this,Hn,ET).call(this,n,"aggregated")}}transformFunction(n){return{...super.transformFunction({...n,arguments:[]}),arguments:nt(this,Hn,ET).call(this,n,"arguments")}}}Vp=new WeakMap,Jf=new WeakMap,Xf=new WeakMap,Hn=new WeakSet,ET=function(n,r){return Z$e[n.func]?n[r].map(i=>!od.is(i)||i.table.schema?this.transformNode(i):{...i,table:this.transformIdentifier(i.table.identifier)}):this.transformNodeList(n[r])},yK=function(n){return n.kind in Q$e},bK=function(n){const r=new Set;if("name"in n&&n.name&&bT.is(n.name)&&nt(this,Hn,NT).call(this,n.name,r),"from"in n&&n.from)for(const i of n.from.froms)nt(this,Hn,mp).call(this,i,r);if("into"in n&&n.into&&nt(this,Hn,mp).call(this,n.into,r),"table"in n&&n.table&&nt(this,Hn,mp).call(this,n.table,r),"joins"in n&&n.joins)for(const i of n.joins)nt(this,Hn,mp).call(this,i.table,r);return"using"in n&&n.using&&nt(this,Hn,mp).call(this,n.using,r),r},xK=function(n){const r=new Set;return"with"in n&&n.with&&nt(this,Hn,vK).call(this,n.with,r),r},mp=function(n,r){const i=od.is(n)?n:qd.is(n)&&od.is(n.node)?n.node:null;i&&nt(this,Hn,NT).call(this,i.table,r)},NT=function(n,r){const i=n.identifier.name;!G(this,Jf).has(i)&&!G(this,Xf).has(i)&&r.add(i)},vK=function(n,r){for(const i of n.expressions){const o=i.name.table.table.identifier.name;G(this,Xf).has(o)||r.add(o)}};var Ix;class tCe{constructor(t){Ve(this,Ix);Le(this,Ix,new eCe(t))}transformQuery(t){return G(this,Ix).transformNode(t.node)}async transformResult(t){return t.result}}Ix=new WeakMap;var Mx,qp,Hp;class LF{constructor(){Ve(this,Mx);Ve(this,qp);Ve(this,Hp);ee(this,"resolve",t=>{G(this,qp)&&G(this,qp).call(this,t)});ee(this,"reject",t=>{G(this,Hp)&&G(this,Hp).call(this,t)});Le(this,Mx,new Promise((t,n)=>{Le(this,Hp,n),Le(this,qp,t)}))}get promise(){return G(this,Mx)}}Mx=new WeakMap,qp=new WeakMap,Hp=new WeakMap;const BF=new Set;function nCe(e){BF.has(e)||(BF.add(e),console.log(e))}const rCe=ne([]);var Qf,kx,OT;class iCe{constructor(t=rCe){Ve(this,kx);Ve(this,Qf);Le(this,Qf,t)}get plugins(){return G(this,Qf)}transformQuery(t,n){for(const r of G(this,Qf)){const i=r.transformQuery({node:t,queryId:n});if(i.kind===t.kind)t=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${t.kind}`,`but it returned a ${i.kind}`].join(" "))}return t}async executeQuery(t,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(t),o=await nt(this,kx,OT).call(this,i,n);return oCe(i,o),o})}async*stream(t,n,r){const i=new LF,o=new LF;this.provideConnection(async a=>(i.resolve(a),await o.promise)).catch(a=>i.reject(a));const s=await i.promise;try{for await(const a of s.streamQuery(t,n))yield await nt(this,kx,OT).call(this,a,r)}finally{o.resolve()}}}Qf=new WeakMap,kx=new WeakSet,OT=async function(t,n){for(const r of G(this,Qf))t=await r.transformResult({result:t,queryId:n});return t};function oCe(e,t){const{numAffectedRows:n}=e;n===void 0&&e.numUpdatedOrDeletedRows===void 0||n!==void 0&&t.numAffectedRows!==void 0||nCe("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Sp extends iCe{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(t){return new Sp([...this.plugins,t])}withPlugins(t){return new Sp([...this.plugins,...t])}withPluginAtFront(t){return new Sp([t,...this.plugins])}withoutPlugins(){return new Sp([])}}const wK=new Sp;function sCe(e,t){return new mK({joinNode:cb.create(e,lE(t))})}function aCe(){return new oE({overNode:ST.create()})}function Qm(e,t){if(t.length===3)return cCe(e,t[0],t[1],t[2]);if(t.length===2)return lCe(e,t[0],t[1]);throw new Error("not implemented")}function lCe(e,t,n){return n(sCe(e,t)).toOperationNode()}function cCe(e,t,n,r){return cb.createWithOn(e,lE(t),Kb(n,"=",r))}const uCe=ne({is(e){return e.kind==="OffsetNode"},create(e){return ne({kind:"OffsetNode",offset:e})}}),dCe=ne({is(e){return e.kind==="GroupByItemNode"},create(e){return ne({kind:"GroupByItemNode",groupBy:e})}});function fCe(e){return e=Zh(e)?e(JN()):e,Wb(e).map(dCe.create)}const hCe=ne({is(e){return e.kind==="SetOperationNode"},create(e,t,n){return ne({kind:"SetOperationNode",operator:e,expression:t,all:n})}});function Zm(e,t,n){return Zh(t)&&(t=t(l3())),xd(t)||(t=[t]),t.map(r=>hCe.create(e,XN(r),n))}var Zl;const d2=class d2{constructor(t){Ve(this,Zl);Le(this,Zl,t)}get expressionType(){}as(t){return new a3(this,t)}or(...t){return new _T(yy.create(G(this,Zl),fa(t)))}and(...t){return new $T(vd.create(G(this,Zl),fa(t)))}$castTo(){return new d2(G(this,Zl))}$notNull(){return new d2(G(this,Zl))}toOperationNode(){return G(this,Zl)}};Zl=new WeakMap;let gn=d2;var Wp,Xu;class a3{constructor(t,n){Ve(this,Wp);Ve(this,Xu);Le(this,Wp,t),Le(this,Xu,n)}get expression(){return G(this,Wp)}get alias(){return G(this,Xu)}toOperationNode(){return qd.create(G(this,Wp).toOperationNode(),Ts(G(this,Xu))?G(this,Xu).toOperationNode():$o.create(G(this,Xu)))}}Wp=new WeakMap,Xu=new WeakMap;var Zf;const f2=class f2{constructor(t){Ve(this,Zf);Le(this,Zf,t)}get expressionType(){}as(t){return new a3(this,t)}or(...t){return new f2(yy.create(G(this,Zf),fa(t)))}$castTo(){return new f2(G(this,Zf))}toOperationNode(){return Gb.create(G(this,Zf))}};Zf=new WeakMap;let _T=f2;var eh;const h2=class h2{constructor(t){Ve(this,eh);Le(this,eh,t)}get expressionType(){}as(t){return new a3(this,t)}and(...t){return new h2(vd.create(G(this,eh),fa(t)))}$castTo(){return new h2(G(this,eh))}toOperationNode(){return Gb.create(G(this,eh))}};eh=new WeakMap;let $T=h2;const mCe={is(e){return e.kind==="FetchNode"},create(e,t){return{kind:"FetchNode",rowCount:Sd.create(e),modifier:t}}};function pCe(e,t){if(!t3(e)&&!sK(e))throw new Error(`Invalid fetch row count: ${e}`);if(!gCe(t))throw new Error(`Invalid fetch modifier: ${t}`);return mCe.create(e,t)}function gCe(e){return e==="only"||e==="with ties"}var Pe;const dt=class dt{constructor(t){Ve(this,Pe);Le(this,Pe,ne(t))}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithWhere(G(this,Pe).queryNode,fa(t))})}whereRef(t,n,r){return new dt({...G(this,Pe),queryNode:Dr.cloneWithWhere(G(this,Pe).queryNode,Kb(t,n,r))})}having(...t){return new dt({...G(this,Pe),queryNode:vn.cloneWithHaving(G(this,Pe).queryNode,fa(t))})}havingRef(t,n,r){return new dt({...G(this,Pe),queryNode:vn.cloneWithHaving(G(this,Pe).queryNode,Kb(t,n,r))})}select(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSelections(G(this,Pe).queryNode,pK(t))})}distinctOn(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithDistinctOn(G(this,Pe).queryNode,Wb(t))})}modifyFront(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithFrontModifier(G(this,Pe).queryNode,Ll.createWithExpression(t.toOperationNode()))})}modifyEnd(t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.createWithExpression(t.toOperationNode()))})}distinct(){return new dt({...G(this,Pe),queryNode:vn.cloneWithFrontModifier(G(this,Pe).queryNode,Ll.create("Distinct"))})}forUpdate(t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.create("ForUpdate",t?j1(t).map(ta):void 0))})}forShare(t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.create("ForShare",t?j1(t).map(ta):void 0))})}forKeyShare(t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.create("ForKeyShare",t?j1(t).map(ta):void 0))})}forNoKeyUpdate(t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.create("ForNoKeyUpdate",t?j1(t).map(ta):void 0))})}skipLocked(){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.create("SkipLocked"))})}noWait(){return new dt({...G(this,Pe),queryNode:Dr.cloneWithEndModifier(G(this,Pe).queryNode,Ll.create("NoWait"))})}selectAll(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSelections(G(this,Pe).queryNode,gK(t))})}innerJoin(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithJoin(G(this,Pe).queryNode,Qm("InnerJoin",t))})}leftJoin(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithJoin(G(this,Pe).queryNode,Qm("LeftJoin",t))})}rightJoin(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithJoin(G(this,Pe).queryNode,Qm("RightJoin",t))})}fullJoin(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithJoin(G(this,Pe).queryNode,Qm("FullJoin",t))})}innerJoinLateral(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithJoin(G(this,Pe).queryNode,Qm("LateralInnerJoin",t))})}leftJoinLateral(...t){return new dt({...G(this,Pe),queryNode:Dr.cloneWithJoin(G(this,Pe).queryNode,Qm("LateralLeftJoin",t))})}orderBy(...t){return new dt({...G(this,Pe),queryNode:vn.cloneWithOrderByItems(G(this,Pe).queryNode,r3(t))})}groupBy(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithGroupByItems(G(this,Pe).queryNode,fCe(t))})}limit(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithLimit(G(this,Pe).queryNode,G$e.create(Ai(t)))})}offset(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithOffset(G(this,Pe).queryNode,uCe.create(Ai(t)))})}fetch(t,n="only"){return new dt({...G(this,Pe),queryNode:vn.cloneWithFetch(G(this,Pe).queryNode,pCe(t,n))})}top(t,n){return new dt({...G(this,Pe),queryNode:Dr.cloneWithTop(G(this,Pe).queryNode,H$e(t,n))})}union(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSetOperations(G(this,Pe).queryNode,Zm("union",t,!1))})}unionAll(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSetOperations(G(this,Pe).queryNode,Zm("union",t,!0))})}intersect(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSetOperations(G(this,Pe).queryNode,Zm("intersect",t,!1))})}intersectAll(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSetOperations(G(this,Pe).queryNode,Zm("intersect",t,!0))})}except(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSetOperations(G(this,Pe).queryNode,Zm("except",t,!1))})}exceptAll(t){return new dt({...G(this,Pe),queryNode:vn.cloneWithSetOperations(G(this,Pe).queryNode,Zm("except",t,!0))})}as(t){return new SK(this,t)}clearSelect(){return new dt({...G(this,Pe),queryNode:vn.cloneWithoutSelections(G(this,Pe).queryNode)})}clearWhere(){return new dt({...G(this,Pe),queryNode:Dr.cloneWithoutWhere(G(this,Pe).queryNode)})}clearLimit(){return new dt({...G(this,Pe),queryNode:vn.cloneWithoutLimit(G(this,Pe).queryNode)})}clearOffset(){return new dt({...G(this,Pe),queryNode:vn.cloneWithoutOffset(G(this,Pe).queryNode)})}clearOrderBy(){return new dt({...G(this,Pe),queryNode:vn.cloneWithoutOrderBy(G(this,Pe).queryNode)})}clearGroupBy(){return new dt({...G(this,Pe),queryNode:vn.cloneWithoutGroupBy(G(this,Pe).queryNode)})}$call(t){return t(this)}$if(t,n){return t?n(this):new dt({...G(this,Pe)})}$castTo(){return new dt(G(this,Pe))}$narrowType(){return new dt(G(this,Pe))}$assertType(){return new dt(G(this,Pe))}$asTuple(){return new gn(this.toOperationNode())}withPlugin(t){return new dt({...G(this,Pe),executor:G(this,Pe).executor.withPlugin(t)})}toOperationNode(){return G(this,Pe).executor.transformQuery(G(this,Pe).queryNode,G(this,Pe).queryId)}compile(){return G(this,Pe).executor.compileQuery(this.toOperationNode(),G(this,Pe).queryId)}async execute(){const t=this.compile();return(await G(this,Pe).executor.executeQuery(t,G(this,Pe).queryId)).rows}async executeTakeFirst(){const[t]=await this.execute();return t}async executeTakeFirstOrThrow(t=U$e){const n=await this.executeTakeFirst();if(n===void 0)throw V$e(t)?new t(this.toOperationNode()):t(this.toOperationNode());return n}async*stream(t=100){const n=this.compile(),r=G(this,Pe).executor.stream(n,t,G(this,Pe).queryId);for await(const i of r)yield*i.rows}async explain(t,n){return await new dt({...G(this,Pe),queryNode:Dr.cloneWithExplain(G(this,Pe).queryNode,t,n)}).execute()}};Pe=new WeakMap;let sE=dt;em(sE,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function yCe(e){return new sE(e)}var Gp,Kp;class SK{constructor(t,n){Ve(this,Gp);Ve(this,Kp);Le(this,Gp,t),Le(this,Kp,n)}get expression(){return G(this,Gp)}get alias(){return G(this,Kp)}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return qd.create(G(this,Gp).toOperationNode(),$o.create(G(this,Kp)))}}Gp=new WeakMap,Kp=new WeakMap;em(SK,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Wu=ne({is(e){return e.kind==="AggregateFunctionNode"},create(e,t=[]){return ne({kind:"AggregateFunctionNode",func:e,aggregated:t})},cloneWithDistinct(e){return ne({...e,distinct:!0})},cloneWithOrderBy(e,t){return ne({...e,orderBy:e.orderBy?Ed.cloneWithItems(e.orderBy,t):Ed.create(t)})},cloneWithFilter(e,t){return ne({...e,filter:e.filter?wp.cloneWithOperation(e.filter,"And",t):wp.create(t)})},cloneWithOrFilter(e,t){return ne({...e,filter:e.filter?wp.cloneWithOperation(e.filter,"Or",t):wp.create(t)})},cloneWithOver(e,t){return ne({...e,over:t})}}),zF=ne({is(e){return e.kind==="FunctionNode"},create(e,t){return ne({kind:"FunctionNode",func:e,arguments:t})}});var Xr;const Gl=class Gl{constructor(t){Ve(this,Xr);Le(this,Xr,ne(t))}get expressionType(){}as(t){return new bCe(this,t)}distinct(){return new Gl({...G(this,Xr),aggregateFunctionNode:Wu.cloneWithDistinct(G(this,Xr).aggregateFunctionNode)})}orderBy(t,n){return new Gl({...G(this,Xr),aggregateFunctionNode:Wu.cloneWithOrderBy(G(this,Xr).aggregateFunctionNode,r3([t,n]))})}filterWhere(...t){return new Gl({...G(this,Xr),aggregateFunctionNode:Wu.cloneWithFilter(G(this,Xr).aggregateFunctionNode,fa(t))})}filterWhereRef(t,n,r){return new Gl({...G(this,Xr),aggregateFunctionNode:Wu.cloneWithFilter(G(this,Xr).aggregateFunctionNode,Kb(t,n,r))})}over(t){const n=aCe();return new Gl({...G(this,Xr),aggregateFunctionNode:Wu.cloneWithOver(G(this,Xr).aggregateFunctionNode,(t?t(n):n).toOperationNode())})}$call(t){return t(this)}$castTo(){return new Gl(G(this,Xr))}$notNull(){return new Gl(G(this,Xr))}toOperationNode(){return G(this,Xr).aggregateFunctionNode}};Xr=new WeakMap;let Rp=Gl;em(Rp,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");var Yp,Jp;class bCe{constructor(t,n){Ve(this,Yp);Ve(this,Jp);Le(this,Yp,t),Le(this,Jp,n)}get expression(){return G(this,Yp)}get alias(){return G(this,Jp)}toOperationNode(){return qd.create(G(this,Yp).toOperationNode(),$o.create(G(this,Jp)))}}Yp=new WeakMap,Jp=new WeakMap;function xCe(){const e=(n,r)=>new gn(zF.create(n,Wb(r??[]))),t=(n,r)=>new Rp({aggregateFunctionNode:Wu.create(n,r?Wb(r):void 0)});return Object.assign(e,{agg:t,avg(n){return t("avg",[n])},coalesce(...n){return e("coalesce",n)},count(n){return t("count",[n])},countAll(n){return new Rp({aggregateFunctionNode:Wu.create("count",gK(n))})},max(n){return t("max",[n])},min(n){return t("min",[n])},sum(n){return t("sum",[n])},any(n){return e("any",[n])},jsonAgg(n){return new Rp({aggregateFunctionNode:Wu.create("json_agg",[rl(n)?ta(n):n.toOperationNode()])})},toJson(n){return new gn(zF.create("to_json",[rl(n)?ta(n):n.toOperationNode()]))}})}const vCe=ne({is(e){return e.kind==="UnaryOperationNode"},create(e,t){return ne({kind:"UnaryOperationNode",operator:e,operand:t})}});function wCe(e,t){return vCe.create(Nh.create(e),ls(t))}const fc=ne({is(e){return e.kind==="CaseNode"},create(e){return ne({kind:"CaseNode",value:e})},cloneWithWhen(e,t){return ne({...e,when:ne(e.when?[...e.when,t]:[t])})},cloneWithThen(e,t){return ne({...e,when:e.when?ne([...e.when.slice(0,-1),YN.cloneWithResult(e.when[e.when.length-1],t)]):void 0})},cloneWith(e,t){return ne({...e,...t})}});var Xp;class SCe{constructor(t){Ve(this,Xp);Le(this,Xp,ne(t))}when(...t){return new EK({...G(this,Xp),node:fc.cloneWithWhen(G(this,Xp).node,YN.create(fa(t)))})}}Xp=new WeakMap;var Qp;class EK{constructor(t){Ve(this,Qp);Le(this,Qp,ne(t))}then(t){return new ECe({...G(this,Qp),node:fc.cloneWithThen(G(this,Qp).node,i3(t)?o3(t):Ai(t))})}}Qp=new WeakMap;var Ba;class ECe{constructor(t){Ve(this,Ba);Le(this,Ba,ne(t))}when(...t){return new EK({...G(this,Ba),node:fc.cloneWithWhen(G(this,Ba).node,YN.create(fa(t)))})}else(t){return new NCe({...G(this,Ba),node:fc.cloneWith(G(this,Ba).node,{else:i3(t)?o3(t):Ai(t)})})}end(){return new gn(fc.cloneWith(G(this,Ba).node,{isStatement:!1}))}endCase(){return new gn(fc.cloneWith(G(this,Ba).node,{isStatement:!0}))}}Ba=new WeakMap;var Zp;class NCe{constructor(t){Ve(this,Zp);Le(this,Zp,ne(t))}end(){return new gn(fc.cloneWith(G(this,Zp).node,{isStatement:!1}))}endCase(){return new gn(fc.cloneWith(G(this,Zp).node,{isStatement:!0}))}}Zp=new WeakMap;const UF=ne({is(e){return e.kind==="JSONPathLegNode"},create(e,t){return ne({kind:"JSONPathLegNode",type:e,value:t})}});var za,Px,jT;class CT{constructor(t){Ve(this,Px);Ve(this,za);Le(this,za,t)}at(t){return nt(this,Px,jT).call(this,"ArrayLocation",t)}key(t){return nt(this,Px,jT).call(this,"Member",t)}}za=new WeakMap,Px=new WeakSet,jT=function(t,n){return rE.is(G(this,za))?new aE(rE.cloneWithTraversal(G(this,za),ub.is(G(this,za).traversal)?ub.cloneWithLeg(G(this,za).traversal,UF.create(t,n)):dK.cloneWithValue(G(this,za).traversal,Sd.createImmediate(n)))):new aE(ub.cloneWithLeg(G(this,za),UF.create(t,n)))};var th;const m2=class m2 extends CT{constructor(n){super(n);Ve(this,th);Le(this,th,n)}get expressionType(){}as(n){return new OCe(this,n)}$castTo(){return new m2(G(this,th))}$notNull(){return new m2(G(this,th))}toOperationNode(){return G(this,th)}};th=new WeakMap;let aE=m2;var eg,Qu;class OCe{constructor(t,n){Ve(this,eg);Ve(this,Qu);Le(this,eg,t),Le(this,Qu,n)}get expression(){return G(this,eg)}get alias(){return G(this,Qu)}toOperationNode(){return qd.create(G(this,eg).toOperationNode(),Ts(G(this,Qu))?G(this,Qu).toOperationNode():$o.create(G(this,Qu)))}}eg=new WeakMap,Qu=new WeakMap;const VF=ne({is(e){return e.kind==="TupleNode"},create(e){return ne({kind:"TupleNode",values:ne(e)})}}),_Ce=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],$Ce=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],CCe=ne({is(e){return e.kind==="DataTypeNode"},create(e){return ne({kind:"DataTypeNode",dataType:e})}});function jCe(e){return!!(_Ce.includes(e)||$Ce.some(t=>t.test(e)))}function ACe(e){if(Ts(e))return e.toOperationNode();if(jCe(e))return CCe.create(e);throw new Error(`invalid column data type ${JSON.stringify(e)}`)}const TCe=ne({is(e){return e.kind==="CastNode"},create(e,t){return ne({kind:"CastNode",expression:e,dataType:t})}});function l3(e=wK){function t(i,o,s){return new gn(s3(i,o,s))}function n(i,o){return new gn(wCe(i,o))}const r=Object.assign(t,{fn:void 0,eb:void 0,selectFrom(i){return yCe({queryId:Vl(),executor:e,queryNode:vn.createFrom(RCe(i))})},case(i){return new SCe({node:fc.create(nE(i)?void 0:ls(i))})},ref(i,o){return nE(o)?new gn(wd(i)):new CT(_$e(i,o))},jsonPath(){return new CT(ub.create())},table(i){return new gn(ta(i))},val(i){return new gn(Ai(i))},refTuple(...i){return new gn(VF.create(i.map(ls)))},tuple(...i){return new gn(VF.create(i.map(Ai)))},lit(i){return new gn(o3(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,o,s){return new gn(xg.create(ls(i),Nh.create("between"),vd.create(Ai(o),Ai(s))))},betweenSymmetric(i,o,s){return new gn(xg.create(ls(i),Nh.create("between symmetric"),vd.create(Ai(o),Ai(s))))},and(i){return xd(i)?new gn(vT(i,"and")):new gn(CF(i,"and"))},or(i){return xd(i)?new gn(vT(i,"or")):new gn(CF(i,"or"))},parens(...i){const o=fa(i);return Gb.is(o)?new gn(o):new gn(Gb.create(o))},cast(i,o){return new gn(TCe.create(ls(i),ACe(o)))},withSchema(i){return l3(e.withPluginAtFront(new tCe(i)))}});return r.fn=xCe(),r.eb=r,r}function JN(e){return l3()}function XN(e){if(Ts(e))return e.toOperationNode();if(Zh(e))return e(JN()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(e)}`)}function NK(e){if(Ts(e))return e.toOperationNode();if(Zh(e))return e(JN()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(e)}`)}function QN(e){return p$e(e)||g$e(e)||Zh(e)}function RCe(e){return xd(e)?e.map(t=>lE(t)):[lE(e)]}function lE(e){return rl(e)?ICe(e):NK(e)}function ICe(e){const t=" as ";if(e.includes(t)){const[n,r]=e.split(t).map(OK);return qd.create(ta(n),$o.create(r))}else return ta(e)}function ta(e){const t=".";if(e.includes(t)){const[n,r]=e.split(t).map(OK);return od.createWithSchema(n,r)}else return od.create(e)}function OK(e){return e.trim()}var $i,hs,pS,AT,TT;const _b=class _b{constructor(t){Ve(this,hs);Ve(this,$i);Le(this,$i,ne(t))}get expressionType(){}get isRawBuilder(){return!0}as(t){return new _K(this,t)}$castTo(){return new _b({...G(this,$i)})}$notNull(){return new _b(G(this,$i))}withPlugin(t){return new _b({...G(this,$i),plugins:G(this,$i).plugins!==void 0?ne([...G(this,$i).plugins,t]):ne([t])})}toOperationNode(){return nt(this,hs,AT).call(this,nt(this,hs,pS).call(this))}compile(t){return nt(this,hs,TT).call(this,nt(this,hs,pS).call(this,t))}async execute(t){const n=nt(this,hs,pS).call(this,t);return n.executeQuery(nt(this,hs,TT).call(this,n),G(this,$i).queryId)}};$i=new WeakMap,hs=new WeakSet,pS=function(t){const n=t!==void 0?t.getExecutor():wK;return G(this,$i).plugins!==void 0?n.withPlugins(G(this,$i).plugins):n},AT=function(t){return t.transformQuery(G(this,$i).rawNode,G(this,$i).queryId)},TT=function(t){return t.compileQuery(nt(this,hs,AT).call(this,t),G(this,$i).queryId)};let cE=_b;function $u(e){return new cE(e)}em(cE,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");var nh,Zu;class _K{constructor(t,n){Ve(this,nh);Ve(this,Zu);Le(this,nh,t),Le(this,Zu,n)}get expression(){return G(this,nh)}get alias(){return G(this,Zu)}get rawBuilder(){return G(this,nh)}toOperationNode(){return qd.create(G(this,nh).toOperationNode(),Ts(G(this,Zu))?G(this,Zu).toOperationNode():$o.create(G(this,Zu)))}}nh=new WeakMap,Zu=new WeakMap;em(_K,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Yb=Object.assign((e,...t)=>$u({queryId:Vl(),rawNode:vo.create(e,(t==null?void 0:t.map(qF))??[])}),{ref(e){return $u({queryId:Vl(),rawNode:vo.createWithChild(wd(e))})},val(e){return $u({queryId:Vl(),rawNode:vo.createWithChild(Ai(e))})},value(e){return this.val(e)},table(e){return $u({queryId:Vl(),rawNode:vo.createWithChild(ta(e))})},id(...e){const t=new Array(e.length+1).fill(".");return t[0]="",t[t.length-1]="",$u({queryId:Vl(),rawNode:vo.create(t,e.map($o.create))})},lit(e){return $u({queryId:Vl(),rawNode:vo.createWithChild(Sd.createImmediate(e))})},literal(e){return this.lit(e)},raw(e){return $u({queryId:Vl(),rawNode:vo.createWithSql(e)})},join(e,t=Yb`, `){const n=new Array(2*e.length-1),r=t.toOperationNode();for(let i=0;i<e.length;++i)n[2*i]=qF(e[i]),i!==e.length-1&&(n[2*i+1]=r);return $u({queryId:Vl(),rawNode:vo.createWithChildren(n)})}});function qF(e){return Ts(e)?e.toOperationNode():Ai(e)}const HF=["text","integer","real","blob","date","datetime","timestamp","boolean","json"],WF=Symbol.for("bknd:connection");class $K{constructor(t,n={},r=[]){ee(this,"initialized",!1);ee(this,"kysely");ee(this,"supported",{batching:!1});this.fn=n,this.plugins=r,this.kysely=t,this[WF]=!0}async init(){this.initialized=!0}static isConnection(t){return t?t[WF]===!0:!1}getIntrospector(){return this.kysely.introspection}supports(t){return this.supported[t]??!1}async ping(){return(await Yb`SELECT 1`.execute(this.kysely)).rows.length>0}async batch(t){throw new Error("Batching not supported")}async batchQuery(t){if(!this.supports("batching")){const n=[];for(const r of t){const i=await r.execute();n.push(i)}return n}return await this.batch(t)}validateFieldSpecType(t){if(!HF.includes(t))throw new Error(`Invalid field type "${t}". Allowed types are: ${HF.join(", ")}`);return!0}async close(){}}class MCe extends $K{constructor(){super(void 0);ee(this,"supported",{batching:!0})}getFieldSchema(n,r){throw new Error("Method not implemented.")}}class kCe extends xs{constructor(){super(...arguments);ee(this,"name","UnableToConnectException");ee(this,"code",Cn.INTERNAL_SERVER_ERROR)}}class Gu extends xs{constructor(){super(...arguments);ee(this,"name","InvalidSearchParamsException");ee(this,"code",Cn.UNPROCESSABLE_ENTITY)}}class PCe extends xs{constructor(){super(...arguments);ee(this,"name","TransformRetrieveFailedException");ee(this,"code",Cn.UNPROCESSABLE_ENTITY)}}class to extends xs{constructor(){super(...arguments);ee(this,"name","TransformPersistFailedException");ee(this,"code",Cn.UNPROCESSABLE_ENTITY)}static invalidType(n,r,i){const o=typeof i=="object"?JSON.stringify(i):i,s=`Property "${n}" must be of type "${r}", "${o}" of type "${typeof i}" given.`;return new to(s)}static required(n){return new to(`Property "${n}" is required`)}}class DCe extends xs{constructor(n,r,i){console.error("InvalidFieldConfigException",{given:r,error:i.firstToString()});super(`Invalid Field config given for field "${n.name}": ${i.firstToString()}`);ee(this,"name","InvalidFieldConfigException");ee(this,"code",Cn.BAD_REQUEST);this.given=r}}class FCe extends xs{constructor(n){var t=(...MJe)=>(super(...MJe),ee(this,"name","EntityNotDefinedException"),ee(this,"code",Cn.BAD_REQUEST),this);t(n?`Entity "${typeof n!="string"?n.name:n}" not defined`:"Cannot find an entity that is undefined")}}class CK extends Bi{validate(t){const{entity:n}=this.params;if(!n.isValidData(t,"create"))throw yt.warn("MutatorInsertBefore.validate: invalid",{entity:n.name,data:t}),new WN("EntityData","invalid");return this.clone({entity:n,data:t})}}ee(CK,"slug","mutator-insert-before");class jK extends Bi{}ee(jK,"slug","mutator-insert-after");class AK extends Bi{validate(t){const{entity:n,entityId:r}=this.params;if(!n.isValidData(t,"update"))throw yt.warn("MutatorUpdateBefore.validate: invalid",{entity:n.name,entityId:r,data:t}),new WN("EntityData","invalid");return this.clone({entityId:r,entity:n,data:t})}}ee(AK,"slug","mutator-update-before");class TK extends Bi{}ee(TK,"slug","mutator-update-after");class RK extends Bi{}ee(RK,"slug","mutator-delete-before");class IK extends Bi{}ee(IK,"slug","mutator-delete-after");const Jb={MutatorInsertBefore:CK,MutatorInsertAfter:jK,MutatorUpdateBefore:AK,MutatorUpdateAfter:TK,MutatorDeleteBefore:RK,MutatorDeleteAfter:IK};class MK extends Bi{}ee(MK,"slug","repository-find-one-before");class kK extends Bi{}ee(kK,"slug","repository-find-one-after");class RT extends Bi{}ee(RT,"slug","repository-find-many-before"),ee(RT,"another","one");class PK extends Bi{}ee(PK,"slug","repository-find-many-after");const DK={RepositoryFindOneBefore:MK,RepositoryFindOneAfter:kK,RepositoryFindManyBefore:RT,RepositoryFindManyAfter:PK};class FK{constructor(t){ee(this,"_relations",[]);this._relations=t}get all(){return this._relations}relationsOf(t){return this._relations.filter(n=>n.visibleFrom("source")&&n.source.entity.name===t.name||n.visibleFrom("target")&&n.target.entity.name===t.name)}sourceRelationsOf(t){return this._relations.filter(n=>n.source.entity.name===t.name)}targetRelationsOf(t){return this._relations.filter(n=>n.visibleFrom("target")&&n.target.entity.name===t.name)}listableRelationsOf(t){return this.relationsOf(t).filter(n=>n.isListableFor(t))}relationOf(t,n){return this.relationsOf(t).find(r=>r.target.entity.name===t.name&&r.source.reference===n||r.source.entity.name===t.name&&r.target.reference===n)}hasRelations(t){return this.relationsOf(t).length>0}relatedEntitiesOf(t){return this.relationsOf(t).map(n=>n.other(t).entity)}relationReferencesOf(t){return this.relationsOf(t).map(n=>n.other(t).reference)}}const{Type:Jn}=pt,LCe=["create","read","update","delete"],BCe=["create","read","update","delete","form","table","submit"],zCe=!1,IT=!0,MT=!1,Ea=Jn.Object({label:Jn.Optional(Jn.String()),description:Jn.Optional(Jn.String()),required:Jn.Optional(Jn.Boolean({default:zCe})),fillable:Jn.Optional(Jn.Union([Jn.Boolean({title:"Boolean",default:IT}),Jn.Array(On(LCe),{title:"Context",uniqueItems:!0})],{default:IT})),hidden:Jn.Optional(Jn.Union([Jn.Boolean({title:"Boolean",default:MT}),Jn.Array(On(BCe),{title:"Context",uniqueItems:!0})],{default:MT})),virtual:Jn.Optional(Jn.Boolean()),default_value:Jn.Optional(Jn.Any())},{additionalProperties:!1});let Na=class{constructor(t,n){ee(this,"_required");ee(this,"_type");ee(this,"name");ee(this,"type","field");ee(this,"config");this.name=t,this._type,this._required;try{this.config=Er(this.getSchema(),n||{})}catch(r){throw r instanceof VN?new DCe(this,n,r):r}}getType(){return this.type}schema(){return Object.freeze({name:this.name,type:"text",nullable:!0,dflt:this.getDefault()})}hasDefault(){return this.config.default_value!==void 0}getDefault(){var t;return(t=this.config)==null?void 0:t.default_value}isFillable(t){return Array.isArray(this.config.fillable)?t?this.config.fillable.includes(t):IT:!!this.config.fillable}isHidden(t){return Array.isArray(this.config.hidden)?t?this.config.hidden.includes(t):MT:this.config.hidden??!1}isRequired(){var t;return((t=this.config)==null?void 0:t.required)??!1}isVirtual(){return this.config.virtual??!1}getLabel(t){return this.config.label?this.config.label:(t==null?void 0:t.fallback)!==!1?mg(this.name):void 0}getDescription(){return this.config.description}getValue(t,n){return t}getHtmlConfig(){return{element:"input",props:{type:"text"}}}isValid(t,n){return typeof t<"u"?this.isFillable(n):n==="create"?!this.isRequired():!0}transformRetrieve(t){return t}async transformPersist(t,n,r){if(this.nullish(t)){if(this.isRequired()&&!this.hasDefault())throw to.required(this.name);return this.getDefault()}return t}toSchemaWrapIfRequired(t){return this.isRequired()?t:Jn.Optional(t)}nullish(t){return t==null}toJsonSchema(){return this.toSchemaWrapIfRequired(Jn.Any())}toType(){return{required:this.isRequired(),comment:this.getDescription(),type:"any"}}toJSON(){return{type:this.type,config:this.config}}};const{Type:J0}=pt,LK=J0.Composite([J0.Object({default_value:J0.Optional(J0.Boolean({default:!1}))}),Ea]);class BK extends Na{constructor(){super(...arguments);ee(this,"type","boolean")}getSchema(){return LK}getValue(n,r){switch(r){case"table":return n?"Yes":"No";default:return n}}schema(){return Object.freeze({...super.schema(),type:"boolean"})}getHtmlConfig(){return{...super.getHtmlConfig(),element:"boolean"}}transformRetrieve(n){return typeof n>"u"||n===null?this.isRequired()?!1:this.hasDefault()?this.getDefault():null:typeof n=="string"?n==="1":!!n}async transformPersist(n,r,i){const o=await super.transformPersist(n,r,i);if(this.nullish(o))return this.isRequired()?!!this.config.default_value:void 0;if(typeof o=="number")return o!==0;if(typeof o!="boolean")throw to.invalidType(this.name,"boolean",o);return o}toJsonSchema(){return this.toSchemaWrapIfRequired(J0.Boolean({default:this.getDefault()}))}toType(){return{...super.toType(),type:"boolean"}}}const{Type:ql}=pt,zK=ql.Composite([ql.Object({type:On(["date","datetime","week"],{default:"date"}),timezone:ql.Optional(ql.String()),min_date:ql.Optional(ql.String()),max_date:ql.Optional(ql.String())}),Ea],{additionalProperties:!1});class kT extends Na{constructor(){super(...arguments);ee(this,"type","date")}getSchema(){return zK}schema(){return Object.freeze({...super.schema(),type:this.config.type==="datetime"?"datetime":"date"})}getHtmlConfig(){const n=this.config.type==="datetime"?"datetime-local":this.config.type;return{...super.getHtmlConfig(),element:"date",props:{type:n}}}parseDateFromString(n){if(this.config.type==="week"&&n.includes("-W")){const[r,i]=n.split("-W").map(o=>Number.parseInt(o,10));return tE().year(r).week(i).toDate()}return new Date(n)}getValue(n,r){if(n===null||!n)return;const i=this.parseDateFromString(n);if(r==="submit")try{return i.toISOString()}catch{return}if(this.config.type==="week")try{return`${i.getFullYear()}-W${tE(i).week()}`}catch(o){yt.warn("DateField.getValue:week error",n,String(o));return}try{const s=new Date().getTimezoneOffset(),a=new Date(i.getTime()-s*6e4);return this.formatDate(a)}catch(o){yt.warn("DateField.getValue error",this.config.type,n,String(o));return}}formatDate(n){switch(this.config.type){case"datetime":return n.toISOString().split(".")[0].replace("T"," ");default:return n.toISOString().split("T")[0]}}transformRetrieve(n){const r=super.transformRetrieve(n);if(r===null)return null;try{return new Date(r)}catch{return null}}async transformPersist(n,r,i){const o=await super.transformPersist(n,r,i);if(this.nullish(o))return o;switch(this.config.type){case"date":case"week":return new Date(o).toISOString().split("T")[0];default:return new Date(o).toISOString()}}toJsonSchema(){return this.toSchemaWrapIfRequired(ql.String({default:this.getDefault()}))}toType(){return{...super.toType(),type:"Date | string"}}}const{Type:qi}=pt,UK=qi.Composite([qi.Object({default_value:qi.Optional(qi.String()),options:qi.Optional(qi.Union([qi.Object({type:yc("strings"),values:qi.Array(qi.String())},{title:"Strings"}),qi.Object({type:yc("objects"),values:qi.Array(qi.Object({label:qi.String(),value:qi.String()}))},{title:"Objects",additionalProperties:!1})]))}),Ea],{additionalProperties:!1});class c3 extends Na{constructor(n,r){super(n,r);ee(this,"type","enum");if(this.config.default_value&&!this.isValidValue(this.config.default_value))throw new Error(`Default value "${this.config.default_value}" is not a valid option`)}getSchema(){return UK}getOptions(){var r,i;const n=((r=this.config)==null?void 0:r.options)??{type:"strings",values:[]};return n.type==="strings"?(i=n.values)==null?void 0:i.map(o=>({label:o,value:o})):n==null?void 0:n.values}isValidValue(n){return this.getOptions().map(i=>i.value).includes(n)}getValue(n,r){var i;if(!this.isValidValue(n))return this.hasDefault()?this.getDefault():null;switch(r){case"table":return((i=this.getOptions().find(o=>o.value===n))==null?void 0:i.label)??n}return n}transformRetrieve(n){const r=super.transformRetrieve(n);return r===null&&this.hasDefault()?this.getDefault():this.isValidValue(r)?r:this.hasDefault()?this.getDefault():null}async transformPersist(n,r,i){const o=await super.transformPersist(n,r,i);if(this.nullish(o))return o;if(!this.isValidValue(o))throw new to(`Field "${this.name}" must be one of the following values: ${this.getOptions().map(s=>s.value).join(", ")}`);return o}toJsonSchema(){var i,o;const r=((o=(((i=this.config)==null?void 0:i.options)??{values:[]}).values)==null?void 0:o.map(s=>typeof s=="string"?s:s.value))??[];return this.toSchemaWrapIfRequired(On(r,{default:this.getDefault()}))}toType(){const n=this.getOptions().map(({value:r})=>typeof r=="string"?`"${r}"`:r);return{...super.toType(),type:n.length>0?n.join(" | "):"string"}}}const{Type:GF}=pt,VK=GF.Composite([Ea,GF.Object({})]);class u3 extends Na{constructor(){super(...arguments);ee(this,"type","json")}getSchema(){return VK}transformRetrieve(n){const r=super.transformRetrieve(n);return r===null&&this.hasDefault()?this.getDefault():this.isSerialized(r)?JSON.parse(r):r}isSerializable(n){try{const r=JSON.stringify(n);if(r===JSON.stringify(JSON.parse(r)))return!0}catch{}return!1}isSerialized(n){try{if(typeof n=="string")return n===JSON.stringify(JSON.parse(n))}catch{}return!1}getValue(n,r){switch(r){case"form":return n===null?"":JSON.stringify(n,null,2);case"table":return n===null?null:JSON.stringify(n);case"submit":return typeof n=="string"&&n.length===0?null:JSON.parse(n)}return n}async transformPersist(n,r,i){const o=await super.transformPersist(n,r,i);if(this.nullish(o))return o;if(!this.isSerializable(o))throw new to(`Field "${this.name}" must be serializable to JSON.`);return this.isSerialized(o)?o:JSON.stringify(o)}toType(){return{...super.toType(),type:"any"}}}function fb(e,t){const n=typeof e;if(n!==typeof t)return!1;if(Array.isArray(e)){if(!Array.isArray(t))return!1;const r=e.length;if(r!==t.length)return!1;for(let i=0;i<r;i++)if(!fb(e[i],t[i]))return!1;return!0}if(n==="object"){if(!e||!t)return e===t;const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const s of r)if(!fb(e[s],t[s]))return!1;return!0}return e===t}function qs(e){return encodeURI(UCe(e))}function UCe(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}const VCe={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},qCe={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},HCe={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};let WCe=typeof self<"u"&&self.location&&self.location.origin!=="null"?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker");function Vf(e,t=Object.create(null),n=WCe,r=""){if(e&&typeof e=="object"&&!Array.isArray(e)){const o=e.$id||e.id;if(o){const s=new URL(o,n.href);s.hash.length>1?t[s.href]=e:(s.hash="",r===""?n=s:Vf(e,t,n))}}else if(e!==!0&&e!==!1)return t;const i=n.href+(r?"#"+r:"");if(t[i]!==void 0)throw new Error(`Duplicate schema URI "${i}".`);if(t[i]=e,e===!0||e===!1)return t;if(e.__absolute_uri__===void 0&&Object.defineProperty(e,"__absolute_uri__",{enumerable:!1,value:i}),e.$ref&&e.__absolute_ref__===void 0){const o=new URL(e.$ref,n.href);o.hash=o.hash,Object.defineProperty(e,"__absolute_ref__",{enumerable:!1,value:o.href})}if(e.$recursiveRef&&e.__absolute_recursive_ref__===void 0){const o=new URL(e.$recursiveRef,n.href);o.hash=o.hash,Object.defineProperty(e,"__absolute_recursive_ref__",{enumerable:!1,value:o.href})}if(e.$anchor){const o=new URL("#"+e.$anchor,n.href);t[o.href]=e}for(let o in e){if(HCe[o])continue;const s=`${r}/${qs(o)}`,a=e[o];if(Array.isArray(a)){if(VCe[o]){const c=a.length;for(let u=0;u<c;u++)Vf(a[u],t,n,`${s}/${u}`)}}else if(qCe[o])for(let c in a)Vf(a[c],t,n,`${s}/${qs(c)}`);else Vf(a,t,n,s)}return t}const GCe=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,KCe=[0,31,28,31,30,31,30,31,31,30,31,30,31],YCe=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,JCe=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,XCe=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,QCe=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,ZCe=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,eje=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,tje=/^(?:\/(?:[^~/]|~0|~1)*)*$/,nje=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,rje=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,ije=e=>{if(e[0]==='"')return!1;const[t,n,...r]=e.split("@");return!t||!n||r.length!==0||t.length>64||n.length>253||t[0]==="."||t.endsWith(".")||t.includes("..")||!/^[a-z0-9.-]+$/i.test(n)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t)?!1:n.split(".").every(i=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(i))},oje=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,sje=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,aje=e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e));function Ia(e){return e.test.bind(e)}const KF={date:qK,time:HK.bind(void 0,!1),"date-time":uje,duration:aje,uri:hje,"uri-reference":Ia(XCe),"uri-template":Ia(QCe),url:Ia(ZCe),email:ije,hostname:Ia(JCe),ipv4:Ia(oje),ipv6:Ia(sje),regex:pje,uuid:Ia(eje),"json-pointer":Ia(tje),"json-pointer-uri-fragment":Ia(nje),"relative-json-pointer":Ia(rje)};function lje(e){return e%4===0&&(e%100!==0||e%400===0)}function qK(e){const t=e.match(GCe);if(!t)return!1;const n=+t[1],r=+t[2],i=+t[3];return r>=1&&r<=12&&i>=1&&i<=(r==2&&lje(n)?29:KCe[r])}function HK(e,t){const n=t.match(YCe);if(!n)return!1;const r=+n[1],i=+n[2],o=+n[3],s=!!n[5];return(r<=23&&i<=59&&o<=59||r==23&&i==59&&o==60)&&(!e||s)}const cje=/t|\s/i;function uje(e){const t=e.split(cje);return t.length==2&&qK(t[0])&&HK(!0,t[1])}const dje=/\/|:/,fje=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function hje(e){return dje.test(e)&&fje.test(e)}const mje=/[^\\]\\Z/;function pje(e){if(mje.test(e))return!1;try{return new RegExp(e,"u"),!0}catch{return!1}}function gje(e){let t=0,n=e.length,r=0,i;for(;r<n;)t++,i=e.charCodeAt(r++),i>=55296&&i<=56319&&r<n&&(i=e.charCodeAt(r),(i&64512)==56320&&r++);return t}function Dn(e,t,n="2019-09",r=Vf(t),i=!0,o=null,s="#",a="#",c=Object.create(null)){if(t===!0)return{valid:!0,errors:[]};if(t===!1)return{valid:!1,errors:[{instanceLocation:s,keyword:"false",keywordLocation:s,error:"False boolean schema."}]};const u=typeof e;let f;switch(u){case"boolean":case"number":case"string":f=u;break;case"object":e===null?f="null":Array.isArray(e)?f="array":f="object";break;default:throw new Error(`Instances of "${u}" type are not supported.`)}const{$ref:h,$recursiveRef:p,$recursiveAnchor:y,type:x,const:v,enum:E,required:N,not:O,anyOf:_,allOf:C,oneOf:j,if:A,then:R,else:I,format:P,properties:z,patternProperties:B,additionalProperties:U,unevaluatedProperties:H,minProperties:M,maxProperties:L,propertyNames:T,dependentRequired:F,dependentSchemas:k,dependencies:q,prefixItems:D,items:W,additionalItems:X,unevaluatedItems:oe,contains:se,minContains:ie,maxContains:le,minItems:pe,maxItems:ye,uniqueItems:je,minimum:Te,maximum:J,exclusiveMinimum:me,exclusiveMaximum:Z,multipleOf:we,minLength:Ne,maxLength:$e,pattern:_e,__absolute_ref__:Y,__absolute_recursive_ref__:re}=t,Q=[];if(y===!0&&o===null&&(o=t),p==="#"){const ue=o===null?r[re]:o,de=`${a}/$recursiveRef`,ae=Dn(e,o===null?t:o,n,r,i,ue,s,de,c);ae.valid||Q.push({instanceLocation:s,keyword:"$recursiveRef",keywordLocation:de,error:"A subschema had errors."},...ae.errors)}if(h!==void 0){const de=r[Y||h];if(de===void 0){let Ee=`Unresolved $ref "${h}".`;throw Y&&Y!==h&&(Ee+=`  Absolute URI "${Y}".`),Ee+=`
Known schemas:
- ${Object.keys(r).join(`
- `)}`,new Error(Ee)}const ae=`${a}/$ref`,he=Dn(e,de,n,r,i,o,s,ae,c);if(he.valid||Q.push({instanceLocation:s,keyword:"$ref",keywordLocation:ae,error:"A subschema had errors."},...he.errors),n==="4"||n==="7")return{valid:Q.length===0,errors:Q}}if(Array.isArray(x)){let ue=x.length,de=!1;for(let ae=0;ae<ue;ae++)if(f===x[ae]||x[ae]==="integer"&&f==="number"&&e%1===0&&e===e){de=!0;break}de||Q.push({instanceLocation:s,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${x.join('", "')}".`})}else x==="integer"?(f!=="number"||e%1||e!==e)&&Q.push({instanceLocation:s,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${x}".`}):x!==void 0&&f!==x&&Q.push({instanceLocation:s,keyword:"type",keywordLocation:`${a}/type`,error:`Instance type "${f}" is invalid. Expected "${x}".`});if(v!==void 0&&(f==="object"||f==="array"?fb(e,v)||Q.push({instanceLocation:s,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(v)}.`}):e!==v&&Q.push({instanceLocation:s,keyword:"const",keywordLocation:`${a}/const`,error:`Instance does not match ${JSON.stringify(v)}.`})),E!==void 0&&(f==="object"||f==="array"?E.some(ue=>fb(e,ue))||Q.push({instanceLocation:s,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(E)}.`}):E.some(ue=>e===ue)||Q.push({instanceLocation:s,keyword:"enum",keywordLocation:`${a}/enum`,error:`Instance does not match any of ${JSON.stringify(E)}.`})),O!==void 0){const ue=`${a}/not`;Dn(e,O,n,r,i,o,s,ue).valid&&Q.push({instanceLocation:s,keyword:"not",keywordLocation:ue,error:'Instance matched "not" schema.'})}let xe=[];if(_!==void 0){const ue=`${a}/anyOf`,de=Q.length;let ae=!1;for(let he=0;he<_.length;he++){const Ee=_[he],ke=Object.create(c),Fe=Dn(e,Ee,n,r,i,y===!0?o:null,s,`${ue}/${he}`,ke);Q.push(...Fe.errors),ae=ae||Fe.valid,Fe.valid&&xe.push(ke)}ae?Q.length=de:Q.splice(de,0,{instanceLocation:s,keyword:"anyOf",keywordLocation:ue,error:"Instance does not match any subschemas."})}if(C!==void 0){const ue=`${a}/allOf`,de=Q.length;let ae=!0;for(let he=0;he<C.length;he++){const Ee=C[he],ke=Object.create(c),Fe=Dn(e,Ee,n,r,i,y===!0?o:null,s,`${ue}/${he}`,ke);Q.push(...Fe.errors),ae=ae&&Fe.valid,Fe.valid&&xe.push(ke)}ae?Q.length=de:Q.splice(de,0,{instanceLocation:s,keyword:"allOf",keywordLocation:ue,error:"Instance does not match every subschema."})}if(j!==void 0){const ue=`${a}/oneOf`,de=Q.length,ae=j.filter((he,Ee)=>{const ke=Object.create(c),Fe=Dn(e,he,n,r,i,y===!0?o:null,s,`${ue}/${Ee}`,ke);return Q.push(...Fe.errors),Fe.valid&&xe.push(ke),Fe.valid}).length;ae===1?Q.length=de:Q.splice(de,0,{instanceLocation:s,keyword:"oneOf",keywordLocation:ue,error:`Instance does not match exactly one subschema (${ae} matches).`})}if((f==="object"||f==="array")&&Object.assign(c,...xe),A!==void 0){const ue=`${a}/if`;if(Dn(e,A,n,r,i,o,s,ue,c).valid){if(R!==void 0){const ae=Dn(e,R,n,r,i,o,s,`${a}/then`,c);ae.valid||Q.push({instanceLocation:s,keyword:"if",keywordLocation:ue,error:'Instance does not match "then" schema.'},...ae.errors)}}else if(I!==void 0){const ae=Dn(e,I,n,r,i,o,s,`${a}/else`,c);ae.valid||Q.push({instanceLocation:s,keyword:"if",keywordLocation:ue,error:'Instance does not match "else" schema.'},...ae.errors)}}if(f==="object"){if(N!==void 0)for(const he of N)he in e||Q.push({instanceLocation:s,keyword:"required",keywordLocation:`${a}/required`,error:`Instance does not have required property "${he}".`});const ue=Object.keys(e);if(M!==void 0&&ue.length<M&&Q.push({instanceLocation:s,keyword:"minProperties",keywordLocation:`${a}/minProperties`,error:`Instance does not have at least ${M} properties.`}),L!==void 0&&ue.length>L&&Q.push({instanceLocation:s,keyword:"maxProperties",keywordLocation:`${a}/maxProperties`,error:`Instance does not have at least ${L} properties.`}),T!==void 0){const he=`${a}/propertyNames`;for(const Ee in e){const ke=`${s}/${qs(Ee)}`,Fe=Dn(Ee,T,n,r,i,o,ke,he);Fe.valid||Q.push({instanceLocation:s,keyword:"propertyNames",keywordLocation:he,error:`Property name "${Ee}" does not match schema.`},...Fe.errors)}}if(F!==void 0){const he=`${a}/dependantRequired`;for(const Ee in F)if(Ee in e){const ke=F[Ee];for(const Fe of ke)Fe in e||Q.push({instanceLocation:s,keyword:"dependentRequired",keywordLocation:he,error:`Instance has "${Ee}" but does not have "${Fe}".`})}}if(k!==void 0)for(const he in k){const Ee=`${a}/dependentSchemas`;if(he in e){const ke=Dn(e,k[he],n,r,i,o,s,`${Ee}/${qs(he)}`,c);ke.valid||Q.push({instanceLocation:s,keyword:"dependentSchemas",keywordLocation:Ee,error:`Instance has "${he}" but does not match dependant schema.`},...ke.errors)}}if(q!==void 0){const he=`${a}/dependencies`;for(const Ee in q)if(Ee in e){const ke=q[Ee];if(Array.isArray(ke))for(const Fe of ke)Fe in e||Q.push({instanceLocation:s,keyword:"dependencies",keywordLocation:he,error:`Instance has "${Ee}" but does not have "${Fe}".`});else{const Fe=Dn(e,ke,n,r,i,o,s,`${he}/${qs(Ee)}`);Fe.valid||Q.push({instanceLocation:s,keyword:"dependencies",keywordLocation:he,error:`Instance has "${Ee}" but does not match dependant schema.`},...Fe.errors)}}}const de=Object.create(null);let ae=!1;if(z!==void 0){const he=`${a}/properties`;for(const Ee in z){if(!(Ee in e))continue;const ke=`${s}/${qs(Ee)}`,Fe=Dn(e[Ee],z[Ee],n,r,i,o,ke,`${he}/${qs(Ee)}`);if(Fe.valid)c[Ee]=de[Ee]=!0;else if(ae=i,Q.push({instanceLocation:s,keyword:"properties",keywordLocation:he,error:`Property "${Ee}" does not match schema.`},...Fe.errors),ae)break}}if(!ae&&B!==void 0){const he=`${a}/patternProperties`;for(const Ee in B){const ke=new RegExp(Ee,"u"),Fe=B[Ee];for(const gt in e){if(!ke.test(gt))continue;const Xt=`${s}/${qs(gt)}`,Mt=Dn(e[gt],Fe,n,r,i,o,Xt,`${he}/${qs(Ee)}`);Mt.valid?c[gt]=de[gt]=!0:(ae=i,Q.push({instanceLocation:s,keyword:"patternProperties",keywordLocation:he,error:`Property "${gt}" matches pattern "${Ee}" but does not match associated schema.`},...Mt.errors))}}}if(!ae&&U!==void 0){const he=`${a}/additionalProperties`;for(const Ee in e){if(de[Ee])continue;const ke=`${s}/${qs(Ee)}`,Fe=Dn(e[Ee],U,n,r,i,o,ke,he);Fe.valid?c[Ee]=!0:(ae=i,Q.push({instanceLocation:s,keyword:"additionalProperties",keywordLocation:he,error:`Property "${Ee}" does not match additional properties schema.`},...Fe.errors))}}else if(!ae&&H!==void 0){const he=`${a}/unevaluatedProperties`;for(const Ee in e)if(!c[Ee]){const ke=`${s}/${qs(Ee)}`,Fe=Dn(e[Ee],H,n,r,i,o,ke,he);Fe.valid?c[Ee]=!0:Q.push({instanceLocation:s,keyword:"unevaluatedProperties",keywordLocation:he,error:`Property "${Ee}" does not match unevaluated properties schema.`},...Fe.errors)}}}else if(f==="array"){ye!==void 0&&e.length>ye&&Q.push({instanceLocation:s,keyword:"maxItems",keywordLocation:`${a}/maxItems`,error:`Array has too many items (${e.length} > ${ye}).`}),pe!==void 0&&e.length<pe&&Q.push({instanceLocation:s,keyword:"minItems",keywordLocation:`${a}/minItems`,error:`Array has too few items (${e.length} < ${pe}).`});const ue=e.length;let de=0,ae=!1;if(D!==void 0){const he=`${a}/prefixItems`,Ee=Math.min(D.length,ue);for(;de<Ee;de++){const ke=Dn(e[de],D[de],n,r,i,o,`${s}/${de}`,`${he}/${de}`);if(c[de]=!0,!ke.valid&&(ae=i,Q.push({instanceLocation:s,keyword:"prefixItems",keywordLocation:he,error:"Items did not match schema."},...ke.errors),ae))break}}if(W!==void 0){const he=`${a}/items`;if(Array.isArray(W)){const Ee=Math.min(W.length,ue);for(;de<Ee;de++){const ke=Dn(e[de],W[de],n,r,i,o,`${s}/${de}`,`${he}/${de}`);if(c[de]=!0,!ke.valid&&(ae=i,Q.push({instanceLocation:s,keyword:"items",keywordLocation:he,error:"Items did not match schema."},...ke.errors),ae))break}}else for(;de<ue;de++){const Ee=Dn(e[de],W,n,r,i,o,`${s}/${de}`,he);if(c[de]=!0,!Ee.valid&&(ae=i,Q.push({instanceLocation:s,keyword:"items",keywordLocation:he,error:"Items did not match schema."},...Ee.errors),ae))break}if(!ae&&X!==void 0){const Ee=`${a}/additionalItems`;for(;de<ue;de++){const ke=Dn(e[de],X,n,r,i,o,`${s}/${de}`,Ee);c[de]=!0,ke.valid||(ae=i,Q.push({instanceLocation:s,keyword:"additionalItems",keywordLocation:Ee,error:"Items did not match additional items schema."},...ke.errors))}}}if(se!==void 0)if(ue===0&&ie===void 0)Q.push({instanceLocation:s,keyword:"contains",keywordLocation:`${a}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(ie!==void 0&&ue<ie)Q.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array has less items (${ue}) than minContains (${ie}).`});else{const he=`${a}/contains`,Ee=Q.length;let ke=0;for(let Fe=0;Fe<ue;Fe++){const gt=Dn(e[Fe],se,n,r,i,o,`${s}/${Fe}`,he);gt.valid?(c[Fe]=!0,ke++):Q.push(...gt.errors)}ke>=(ie||0)&&(Q.length=Ee),ie===void 0&&le===void 0&&ke===0?Q.splice(Ee,0,{instanceLocation:s,keyword:"contains",keywordLocation:he,error:"Array does not contain item matching schema."}):ie!==void 0&&ke<ie?Q.push({instanceLocation:s,keyword:"minContains",keywordLocation:`${a}/minContains`,error:`Array must contain at least ${ie} items matching schema. Only ${ke} items were found.`}):le!==void 0&&ke>le&&Q.push({instanceLocation:s,keyword:"maxContains",keywordLocation:`${a}/maxContains`,error:`Array may contain at most ${le} items matching schema. ${ke} items were found.`})}if(!ae&&oe!==void 0){const he=`${a}/unevaluatedItems`;for(de;de<ue;de++){if(c[de])continue;const Ee=Dn(e[de],oe,n,r,i,o,`${s}/${de}`,he);c[de]=!0,Ee.valid||Q.push({instanceLocation:s,keyword:"unevaluatedItems",keywordLocation:he,error:"Items did not match unevaluated items schema."},...Ee.errors)}}if(je)for(let he=0;he<ue;he++){const Ee=e[he],ke=typeof Ee=="object"&&Ee!==null;for(let Fe=0;Fe<ue;Fe++){if(he===Fe)continue;const gt=e[Fe];(Ee===gt||ke&&(typeof gt=="object"&&gt!==null)&&fb(Ee,gt))&&(Q.push({instanceLocation:s,keyword:"uniqueItems",keywordLocation:`${a}/uniqueItems`,error:`Duplicate items at indexes ${he} and ${Fe}.`}),he=Number.MAX_SAFE_INTEGER,Fe=Number.MAX_SAFE_INTEGER)}}}else if(f==="number"){if(n==="4"?(Te!==void 0&&(me===!0&&e<=Te||e<Te)&&Q.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${me?"or equal to ":""} ${Te}.`}),J!==void 0&&(Z===!0&&e>=J||e>J)&&Q.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${Z?"or equal to ":""} ${J}.`})):(Te!==void 0&&e<Te&&Q.push({instanceLocation:s,keyword:"minimum",keywordLocation:`${a}/minimum`,error:`${e} is less than ${Te}.`}),J!==void 0&&e>J&&Q.push({instanceLocation:s,keyword:"maximum",keywordLocation:`${a}/maximum`,error:`${e} is greater than ${J}.`}),me!==void 0&&e<=me&&Q.push({instanceLocation:s,keyword:"exclusiveMinimum",keywordLocation:`${a}/exclusiveMinimum`,error:`${e} is less than ${me}.`}),Z!==void 0&&e>=Z&&Q.push({instanceLocation:s,keyword:"exclusiveMaximum",keywordLocation:`${a}/exclusiveMaximum`,error:`${e} is greater than or equal to ${Z}.`})),we!==void 0){const ue=e%we;Math.abs(0-ue)>=11920929e-14&&Math.abs(we-ue)>=11920929e-14&&Q.push({instanceLocation:s,keyword:"multipleOf",keywordLocation:`${a}/multipleOf`,error:`${e} is not a multiple of ${we}.`})}}else if(f==="string"){const ue=Ne===void 0&&$e===void 0?0:gje(e);Ne!==void 0&&ue<Ne&&Q.push({instanceLocation:s,keyword:"minLength",keywordLocation:`${a}/minLength`,error:`String is too short (${ue} < ${Ne}).`}),$e!==void 0&&ue>$e&&Q.push({instanceLocation:s,keyword:"maxLength",keywordLocation:`${a}/maxLength`,error:`String is too long (${ue} > ${$e}).`}),_e!==void 0&&!new RegExp(_e,"u").test(e)&&Q.push({instanceLocation:s,keyword:"pattern",keywordLocation:`${a}/pattern`,error:"String does not match pattern."}),P!==void 0&&KF[P]&&!KF[P](e)&&Q.push({instanceLocation:s,keyword:"format",keywordLocation:`${a}/format`,error:`String does not match format "${P}".`})}return{valid:Q.length===0,errors:Q}}class yje{constructor(t,n="2019-09",r=!0){ee(this,"schema");ee(this,"draft");ee(this,"shortCircuit");ee(this,"lookup");this.schema=t,this.draft=n,this.shortCircuit=r,this.lookup=Vf(t)}validate(t){return Dn(t,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(t,n){n&&(t={...t,$id:n}),Vf(t,this.lookup)}}const{Type:Ef}=pt,WK=Ef.Composite([Ef.Object({schema:Ef.Object({},{default:{}}),ui_schema:Ef.Optional(Ef.Object({})),default_from_schema:Ef.Optional(Ef.Boolean())}),Ea],{additionalProperties:!1});class d3 extends Na{constructor(n,r){super(n,r);ee(this,"type","jsonschema");ee(this,"validator");this.validator=new yje(this.getJsonSchema())}getSchema(){return WK}getJsonSchema(){var n;return(n=this.config)==null?void 0:n.schema}getJsonUiSchema(){return this.config.ui_schema??{}}isValid(n,r="update"){return super.isValid(n,r)?!this.isRequired()&&(!n||typeof n!="object")?!0:this.validator.validate(n).valid:!1}getValue(n,r){switch(r){case"form":return n===null?"":n;case"table":return n===null?null:JSON.stringify(n)}return n}transformRetrieve(n){const r=super.transformRetrieve(n);if(r===null){if(this.config.default_from_schema)try{return vh(bg(this.getJsonSchema()),{})}catch{return null}else if(this.hasDefault())return this.getDefault()}return r}async transformPersist(n,r,i){const o=await super.transformPersist(n,r,i);if(this.nullish(o))return o;if(!this.isValid(o))throw new to(this.name,o);return!o||typeof o!="object"?this.getDefault():JSON.stringify(o)}toJsonSchema(){const n=this.getJsonSchema()??{type:"object"};return this.toSchemaWrapIfRequired(bg({default:this.getDefault(),...n}))}toType(){return{...super.toType(),import:[{package:"json-schema-to-ts",name:"FromSchema"}],type:`FromSchema<${nT(this.getJsonSchema(),2,1)}>`}}}const{Type:Oi}=pt,GK=Oi.Composite([Oi.Object({default_value:Oi.Optional(Oi.Number()),minimum:Oi.Optional(Oi.Number()),maximum:Oi.Optional(Oi.Number()),exclusiveMinimum:Oi.Optional(Oi.Number()),exclusiveMaximum:Oi.Optional(Oi.Number()),multipleOf:Oi.Optional(Oi.Number())}),Ea],{additionalProperties:!1});class f3 extends Na{constructor(){super(...arguments);ee(this,"type","number")}getSchema(){return GK}getHtmlConfig(){return{element:"input",props:{type:"number",pattern:"d*",inputMode:"numeric"}}}schema(){return Object.freeze({...super.schema(),type:"integer"})}getValue(n,r){if(typeof n>"u"||n===null)return null;switch(r){case"submit":return Number.parseInt(n)}return n}async transformPersist(n,r,i){const o=await super.transformPersist(n,r,i);if(!this.nullish(o)&&typeof o!="number")throw to.invalidType(this.name,"number",o);if(this.config.maximum&&o>this.config.maximum)throw new to(`Field "${this.name}" cannot be greater than ${this.config.maximum}`);if(this.config.minimum&&o<this.config.minimum)throw new to(`Field "${this.name}" cannot be less than ${this.config.minimum}`);return o}toJsonSchema(){var n,r,i,o,s;return this.toSchemaWrapIfRequired(Oi.Number({default:this.getDefault(),minimum:(n=this.config)==null?void 0:n.minimum,maximum:(r=this.config)==null?void 0:r.maximum,exclusiveMinimum:(i=this.config)==null?void 0:i.exclusiveMinimum,exclusiveMaximum:(o=this.config)==null?void 0:o.exclusiveMaximum,multipleOf:(s=this.config)==null?void 0:s.multipleOf}))}toType(){return{...super.toType(),type:"number"}}}const{Type:pp}=pt,bje=pp.Composite([pp.Omit(Ea,["required"]),pp.Object({required:pp.Optional(pp.Literal(!1))})]);class Xb extends Na{constructor(n=fW.data.default_primary_field){super(n,{fillable:!1,required:!1});ee(this,"type","primary")}isRequired(){return!1}getSchema(){return Ea}schema(){return Object.freeze({type:"integer",name:this.name,primary:!0,nullable:!1})}async transformPersist(n){throw new Error("PrimaryField: This function should not be called")}toJsonSchema(){return this.toSchemaWrapIfRequired(pp.Number({writeOnly:void 0}))}toType(){return{...super.toType(),required:!0,import:[{package:"kysely",name:"Generated"}],type:"Generated<number>"}}}const{Type:lr}=pt,KK=lr.Composite([lr.Object({default_value:lr.Optional(lr.String()),minLength:lr.Optional(lr.Number()),maxLength:lr.Optional(lr.Number()),pattern:lr.Optional(lr.String()),html_config:lr.Optional(lr.Object({element:lr.Optional(lr.String({default:"input"})),props:lr.Optional(lr.Object({},{additionalProperties:lr.Union([lr.String({title:"String"}),lr.Number({title:"Number"})])}))}))}),Ea],{additionalProperties:!1});class h3 extends Na{constructor(){super(...arguments);ee(this,"type","text")}getSchema(){return KK}getHtmlConfig(){return this.config.html_config?this.config.html_config:super.getHtmlConfig()}transformRetrieve(n){const r=super.transformRetrieve(n);return this.config.maxLength?r.substring(0,this.config.maxLength):this.isRequired()?r?r.toString():"":r}async transformPersist(n,r,i){let o=await super.transformPersist(n,r,i);if(this.nullish(o))return o;if(o!==null&&typeof o!="string"&&(o=String(o)),this.config.maxLength&&(o==null?void 0:o.length)>this.config.maxLength)throw new to(`Field "${this.name}" must be at most ${this.config.maxLength} character(s)`);if(this.config.minLength&&(o==null?void 0:o.length)<this.config.minLength)throw new to(`Field "${this.name}" must be at least ${this.config.minLength} character(s)`);if(this.config.pattern&&o&&!new RegExp(this.config.pattern).test(o))throw new to(`Field "${this.name}" must match the pattern ${this.config.pattern}`);return o}toJsonSchema(){var n,r,i;return this.toSchemaWrapIfRequired(lr.String({default:this.getDefault(),minLength:(n=this.config)==null?void 0:n.minLength,maxLength:(r=this.config)==null?void 0:r.maxLength,pattern:(i=this.config)==null?void 0:i.pattern}))}toType(){return{...super.toType(),type:"string"}}}class YK{constructor(t,n,r=!1,i){var o;if(this.entity=t,this.fields=n,this.unique=r,this.name=i,n.length===0)throw new Error("Indices must contain at least one field");if(n.some(s=>!(s instanceof Na)))throw new Error("All fields must be instances of Field");if(r&&!((o=n[0])==null?void 0:o.isRequired()))throw new Error(`Unique indices must have first field as required: ${n.map(a=>a.name).join(", ")}`);i||(this.name=[r?"idx_unique":"idx",t.name,...n.map(s=>s.name)].join("_"))}toJSON(){return{entity:this.entity.name,fields:this.fields.map(t=>t.name),unique:this.unique}}}const xje={primary:{schema:bje,field:Xb},text:{schema:KK,field:h3},number:{schema:GK,field:f3},boolean:{schema:LK,field:BK},date:{schema:zK,field:kT},enum:{schema:UK,field:c3},json:{schema:VK,field:u3},jsonschema:{schema:WK,field:d3}},p2=class p2{constructor(t){this.em=t}getIntrospector(){return this.em.connection.getIntrospector()}async introspect(){const t=await this.getIntrospector().getTables({withInternalKyselyTables:!1}),n=await this.getIntrospector().getIndices(),r=[];for(const i of t)p2.EXCLUDE_TABLES.includes(i.name)||r.push({...i,indices:n.filter(o=>o.table===i.name)});return r}getIntrospectionFromEntity(t){const n=t.getFields(!1),r=this.em.getIndicesOf(t);return{name:t.name,isView:!1,columns:n.map(i=>({name:i.name,dataType:"TEXT",isNullable:!0,isAutoIncrementing:i instanceof Xb,hasDefaultValue:!1,comment:void 0})),indices:r.map(i=>({name:i.name,table:t.name,isUnique:i.unique,columns:i.fields.map(o=>({name:o.name,order:0}))}))}}async getDiff(){const t=await this.introspect(),n=this.em.entities.map(o=>this.getIntrospectionFromEntity(o)),r=[],i=o=>o.name;t.filter(o=>/bknd/.test(o.name)||o.isView?!1:!n.map(s=>s.name).includes(o.name)).forEach(o=>{r.push({name:o.name,isDrop:!0,isNew:!1,columns:{add:[],drop:[],change:[]},indices:{add:[],drop:[]}})});for(const o of n){const s=t.find(a=>a.name===o.name);if(!s)r.push({name:o.name,isNew:!0,columns:{add:o.columns.map(i),drop:[],change:[]},indices:{add:o.indices.map(i),drop:[]}});else{const a=o.columns.filter(y=>!s.columns.map(i).includes(y.name)),c=s.columns.filter(y=>!o.columns.map(i).includes(y.name)),u=[];for(const y of o.columns){const x=s.columns.find(E=>E.name===y.name),v=[];for(const[E,N]of Object.entries(y))x&&x[E]!==N&&v.push({attribute:E,prev:x[E],next:N});Object.keys(v).length>0&&u.push({name:y.name,changes:v})}const f=o.indices.filter(y=>!s.indices.map(x=>x.name).includes(y.name)),h=s.indices.filter(y=>!o.indices.map(x=>x.name).includes(y.name));[a,c,f,h].some(y=>y.length>0)&&r.push({name:o.name,isNew:!1,columns:{add:a.map(i),drop:c.map(i),change:[]},indices:{add:f.map(i),drop:h.map(i)}})}}return r}collectFieldSchemas(t,n){const r=[];if(n.length===0)return r;for(const i of n){const s=this.em.entity(t).getField(i).schema();s&&r.push(this.em.connection.getFieldSchema(s))}return r}async sync(t={force:!1,drop:!1}){const n=await this.getDiff(),r=[],i=this.em.connection.kysely.schema;for(const o of n){const s=[];let a=0;const c=this.collectFieldSchemas(o.name,o.columns.add),u=o.columns.drop,f=o.indices.drop;if(o.isDrop)a++,t.drop&&s.push(i.dropTable(o.name));else if(o.isNew){let h=i.createTable(o.name);for(const p of c)a++,h=h.addColumn(...p);s.push(h)}else{if(c.length>0)for(const h of c)a++,s.push(i.alterTable(o.name).addColumn(...h));if(t.drop&&u.length>0)for(const h of u)a++,s.push(i.alterTable(o.name).dropColumn(h))}for(const h of o.indices.add){const y=this.em.getIndicesOf(o.name).find(v=>v.name===h);let x=i.createIndex(h).on(o.name).columns(y.fields.map(v=>v.name));y.unique&&(x=x.unique()),s.push(x),a++}if(t.drop)for(const h of f)s.push(i.dropIndex(h)),a++;if(a!==0)for(const h of s){const{sql:p,parameters:y}=h.compile();if(r.push({sql:p,parameters:y}),t.force)try{await h.execute()}catch(x){throw new Error(`Failed to execute query: ${p}: ${x.message}`)}}}return r}};ee(p2,"EXCLUDE_TABLES",["libsql_wasm_func_table","sqlite_sequence","_cf_KV"]);let PT=p2;const{Type:Vs}=pt,JK=Vs.Object({name:Vs.Optional(Vs.String()),name_singular:Vs.Optional(Vs.String()),description:Vs.Optional(Vs.String()),sort_field:Vs.Optional(Vs.String({default:fW.data.default_primary_field})),sort_dir:Vs.Optional(On(["asc","desc"],{default:"asc"}))},{additionalProperties:!1}),vje=["regular","system","generated"];var h5,m5;const Ek=class Ek{constructor(t,n,r,i){Ve(this,h5);Ve(this,m5);ee(this,"name");ee(this,"fields");ee(this,"config");ee(this,"data");ee(this,"type","regular");if(typeof t!="string"||t.length===0)throw new Error("Entity name must be a non-empty string");this.name=t,this.config=Er(JK,r||{});const o=(n==null?void 0:n.filter(s=>s instanceof Xb).length)??0;if(o>1)throw new Error(`Entity "${t}" has more than one primary field`);this.fields=o===1?[]:[new Xb],n&&n.forEach(s=>this.addField(s)),i&&(this.type=i)}static create(t){return new Ek(t.name,t.fields,t.config,t.type)}getType(){return this.type}getSelect(t,n){return this.getFields().filter(r=>!r.isHidden(n??"read")).map(r=>t?`${t}.${r.name} as ${r.name}`:r.name)}getDefaultSort(){return{by:this.config.sort_field??"id",dir:this.config.sort_dir??"asc"}}getAliasedSelectFrom(t,n,r){const i=n??this.name;return this.getFields().filter(o=>!o.isVirtual()&&!o.isHidden(r??"read")&&t.includes(o.name)).map(o=>i?`${i}.${o.name} as ${o.name}`:o.name)}getFillableFields(t,n){return this.getFields(n).filter(r=>r.isFillable(t))}getRequiredFields(){return this.getFields().filter(t=>t.isRequired())}getDefaultObject(){return this.getFields().reduce((t,n)=>(n.hasDefault()&&(t[n.name]=n.getDefault()),t),{})}getField(t){return this.fields.find(n=>n.name===t)}__replaceField(t,n){const r=this.fields.findIndex(i=>i.name===t);if(r===-1)throw new Error(`Field "${t}" not found on entity "${this.name}"`);this.fields[r]=n}getPrimaryField(){return this.fields[0]}id(){return this.getPrimaryField()}get label(){return this.config.name??mg(this.name)}field(t){return this.getField(t)}hasField(t){const n=typeof t=="string"?t:t.name;return this.fields.findIndex(r=>r.name===n)!==-1}getFields(t=!1){return t?this.fields:this.fields.filter(n=>!n.isVirtual())}addField(t){const n=this.getField(t.name);if(n){if(JSON.stringify(n)===JSON.stringify(t)){yt.warn(`Field "${t.name}" already exists on entity "${this.name}", but it's the same, so skipping.`);return}throw new Error(`Field "${t.name}" already exists on entity "${this.name}"`)}this.fields.push(t)}__setData(t){this.data=t}isValidData(t,n,r){if(typeof t!="object"&&r!=null&&r.explain)throw new Error(`Entity "${this.name}" data must be an object`);const i=this.getFillableFields(n,!1);if((r==null?void 0:r.ignoreUnknown)!==!0){const o=i.map(c=>c.name),a=Object.keys(t).filter(c=>!o.includes(c));if(a.length>0&&r!=null&&r.explain)throw new Error(`Entity "${this.name}" data must only contain known keys, unknown: "${a}"`)}for(const o of i)if(!o.isValid(t==null?void 0:t[o.name],n)){if(yt.warn("invalid data given for",this.name,n,o.name,t[o.name]),r!=null&&r.explain)throw new Error(`Field "${o.name}" has invalid data: "${t[o.name]}"`);return!1}return!0}toSchema(t){let n;switch(t==null?void 0:t.context){case"create":case"update":n=this.getFillableFields(t.context);break;default:n=this.getFields(!0)}const r=Object.fromEntries(n.map(o=>[o.name,o])),i=Vs.Object(yn(r,o=>{const s=o.isFillable(t==null?void 0:t.context);return{title:o.config.label,$comment:o.config.description,$field:o.type,readOnly:s?void 0:!0,...o.toJsonSchema()}}),{additionalProperties:!1});return t!=null&&t.clean?JSON.parse(JSON.stringify(i)):i}toTypes(){return{name:this.name,type:this.type,comment:this.config.description,fields:Object.fromEntries(this.getFields().map(t=>[t.name,t.toType()]))}}toJSON(){return{type:this.type,fields:Object.fromEntries(this.fields.map(t=>[t.name,t.toJSON()])),config:this.config}}};h5=new WeakMap,m5=new WeakMap;let bc=Ek;const{Type:Nf}=pt;class Oh{constructor(t,n,r={}){ee(this,"config");ee(this,"source");ee(this,"target");ee(this,"directions",["source","target"]);this.source=t,this.target=n;const i=this.constructor.schema;this.config=Er(i,r)}getReferenceQuery(t,n,r){return{}}helper(t){return new Sje(this,t)}other(t){const n=typeof t=="string"?t:t.name;if(this.source.entity.name===this.target.entity.name)return this.source.cardinality===1?this.target:this.source;if(this.source.entity.name===n)return this.target;if(this.target.entity.name===n)return this.source;throw new Error(`Entity "${n}" is not part of the relation "${this.source.entity.name} <-> ${this.target.entity.name}"`)}self(t){return this.other(t).entity.name===this.source.entity.name?this.target:this.source}ref(t){return this.source.reference===t?this.source:this.target}otherRef(t){return this.source.reference===t?this.target:this.source}visibleFrom(t){return this.directions.includes(t)}hydrate(t,n,r){const i=typeof t=="string"?t:t.name,o=this.ref(i),s=r.hydrate(o.entity.name,n);if(o.cardinality===1){if(Array.isArray(s)&&s.length>1)throw new Error(`Failed to hydrate "${o.entity.name}" with value: ${JSON.stringify(n)} (cardinality: 1)`);return s[0]}if(!s)throw new Error(`Failed to hydrate "${o.entity.name}" with value: ${JSON.stringify(n)} (cardinality: -)`);return s}isListableFor(t){return this.target.entity.name===t.name}get required(){return!!this.config.required}async $set(t,n,r){throw new Error("$set is not allowed")}async $create(t,n,r){throw new Error("$create is not allowed")}async $attach(t,n,r){throw new Error("$attach is not allowed")}async $detach(t,n,r){throw new Error("$detach is not allowed")}getName(){return[this.type().replace(":",""),this.source.entity.name,this.target.entity.name,this.config.mappedBy,this.config.inversedBy].filter(Boolean).join("_")}toJSON(){return{type:this.type(),source:this.source.entity.name,target:this.target.entity.name,config:this.config}}}ee(Oh,"schema",Nf.Object({mappedBy:Nf.Optional(Nf.String()),inversedBy:Nf.Optional(Nf.String()),required:Nf.Optional(Nf.Boolean())}));class vg{constructor(t,n,r){ee(this,"entity");ee(this,"cardinality");ee(this,"reference");this.entity=t,this.cardinality=r,this.reference=n}toJSON(){return{entity:this.entity.name,cardinality:this.cardinality,name:this.reference}}}const{Type:Du}=pt,wje=["cascade","set null","set default","restrict","no action"],XK=Du.Composite([Ea,Du.Object({reference:Du.String(),target:Du.String(),target_field:Du.Optional(Du.String({default:"id"})),on_delete:Du.Optional(On(wje,{default:"set null"}))})]);class Yi extends Na{constructor(){super(...arguments);ee(this,"type","relation")}getSchema(){return XK}static create(n,r,i){const o=[r.reference??r.entity.name,r.entity.getPrimaryField().name].join("_");return new Yi(o,{...i,required:n.required,reference:r.reference,target:r.entity.name,target_field:r.entity.getPrimaryField().name})}reference(){return this.config.reference}target(){return this.config.target}targetField(){return this.config.target_field}schema(){return Object.freeze({...super.schema(),type:"integer",references:`${this.config.target}.${this.config.target_field}`,onDelete:this.config.on_delete??"set null"})}transformRetrieve(n){return n}async transformPersist(n,r){throw new Error("RelationField: This function should not be called")}toJsonSchema(){var n,r;return this.toSchemaWrapIfRequired(Du.Number({$ref:`${(n=this.config)==null?void 0:n.target}#/properties/${(r=this.config)==null?void 0:r.target_field}`}))}toType(){return{...super.toType(),type:"number"}}}const Ii={OneToOne:"1:1",ManyToOne:"n:1",ManyToMany:"m:n",Polymorphic:"poly"},{Type:ep}=pt,g2=class g2 extends Oh{constructor(n,r,i,o){const s=(i==null?void 0:i.connectionTable)||g2.defaultConnectionTable(n,r),a=new vg(n,n.name),c=new vg(r,r.name);super(a,c,i);ee(this,"connectionEntity");ee(this,"additionalFields",[]);ee(this,"connectionTableMappedName");ee(this,"em");this.connectionEntity=new bc(s,o,void 0,"generated"),this.connectionTableMappedName=(i==null?void 0:i.connectionTableMappedName)||s,this.additionalFields=o||[]}static defaultConnectionTable(n,r){return`${n.name}_${r.name}`}type(){return Ii.ManyToMany}isListableFor(){return!0}getField(n){const r=this.connectionEntity,i=r.fields.find(o=>o instanceof Yi&&o.target()===n.name);if(!i||!(i instanceof Yi))throw new Error(`Connection entity "${r.name}" does not have a relation to "${n.name}"`);return i}getQueryInfo(n){const r=this.other(n),i=this.connectionEntity,o=this.getField(n),s=this.getField(r.entity),a=`${n.name}.${n.getPrimaryField().name}`,c=`${i.name}.${o.name}`,u=`${i.name}.${s.name}`,f=[i.name,`${r.entity.name}.${r.entity.getPrimaryField().name}`,u],h=`${n.name}.${n.getPrimaryField().name}`;return{other:r,join:f,entityRef:a,selfRef:c,otherRef:u,groupBy:h}}getReferenceQuery(n,r){const{other:i,otherRef:o}=this.getQueryInfo(n);return{where:{[o]:r},join:[i.reference]}}buildJoin(n,r){const{other:i,join:o,entityRef:s,selfRef:a,groupBy:c}=this.getQueryInfo(n);return r.innerJoin(i.entity.name,s,a).innerJoin(...o).groupBy(c)}buildWith(n){if(!this.em)throw new Error("EntityManager not set, can't build");const r=this.em.connection.fn.jsonBuildObject;if(!r)throw new Error("Connection does not support jsonBuildObject");const i=5,{other:o,join:s,entityRef:a,selfRef:c}=this.getQueryInfo(n),u=this.connectionEntity.fields.filter(f=>!(f instanceof Yi||f instanceof Xb));return f=>f.selectFrom(o.entity.name).select(h=>{const p=[];if(u.length>0){const y=this.connectionEntity.name;p.push(r(Object.fromEntries(u.map(x=>[x.name,h.ref(`${y}.${x.name}`)]))).as(this.connectionTableMappedName))}return p}).whereRef(a,"=",c).innerJoin(...s).limit(i)}initialize(n){this.em=n;const r=Yi.create(this,this.source),i=Yi.create(this,this.target);n.hasEntity(this.connectionEntity)?(this.connectionEntity.hasField(r)||this.connectionEntity.addField(r),this.connectionEntity.hasField(i)||this.connectionEntity.addField(i)):(this.connectionEntity.addField(r),this.connectionEntity.addField(i),n.addEntity(this.connectionEntity))}getName(){return[super.getName(),[this.connectionEntity.name,this.connectionTableMappedName].filter(Boolean)].join("_")}};ee(g2,"schema",ep.Composite([Oh.schema,ep.Object({connectionTable:ep.Optional(ep.String()),connectionTableMappedName:ep.Optional(ep.String())})],{additionalProperties:!1}));let Tc=g2;const{Type:Bl}=pt,$b=class $b extends Oh{constructor(n,r,i={}){const o=i.mappedBy||r.name,s=i.inversedBy||n.name,a=typeof i.sourceCardinality=="number"&&i.sourceCardinality>0?i.sourceCardinality:void 0,c=new vg(n,s,a),u=new vg(r,o,1);super(c,u,i);ee(this,"fieldConfig");this.fieldConfig=i.fieldConfig??{}}type(){return Ii.ManyToOne}initialize(n){const r=mg(this.target.reference),i=Yi.create(this,this.target,{label:r,...this.fieldConfig});this.source.entity.field(i.name)||this.source.entity.addField(Yi.create(this,this.target,{label:r,...this.fieldConfig}))}getField(){const n=this.target.entity.getPrimaryField().name,r=this.source.entity.getField(`${this.target.reference}_${n}`);if(!(r instanceof Yi))throw new Error(`Field "${this.target.reference}_${n}" not found on entity "${this.source.entity.name}"`);return r}queryInfo(n,r){const i=this.source.reference===r?"source":"target",o=this[i],s=this[i==="source"?"target":"source"];let a,c,u;i==="source"?(a=this.source.reference,c=`${a}.${this.getField().name}`,u=`${n.name}.${o.entity.getPrimaryField().name}`):(a=this.target.reference,c=`${a}.${n.getPrimaryField().name}`,u=`${n.name}.${this.getField().name}`);const f=`${n.name}.${n.getPrimaryField().name}`;return{other:s,self:o,relationRef:a,entityRef:c,otherRef:u,groupBy:f}}getReferenceQuery(n,r,i){const o=this.source.reference===i?"source":"target",s=this[o],a=this[o==="source"?"target":"source"];return{where:{[`${a.reference}_${a.entity.getPrimaryField().name}`]:r},join:a.entity.name===s.entity.name?[]:[a.entity.name]}}buildJoin(n,r,i){const{self:o,entityRef:s,otherRef:a,groupBy:c}=this.queryInfo(n,i);return r.innerJoin(o.entity.name,s,a).groupBy(c)}buildWith(n,r){const{self:i,entityRef:o,otherRef:s,relationRef:a}=this.queryInfo(n,r);return c=>c.selectFrom(`${i.entity.name} as ${a}`).whereRef(o,"=",s).$if(i.cardinality===1,u=>u.limit(1))}async $set(n,r,i){if(typeof i!="object")throw new Error(`Invalid value for relation field "${r}" given, expected object.`);const o=this.source.entity,a=this.helper(o.name).getMutationInfo();if(!a.$set)throw new Error(`Cannot perform $set for relation "${r}"`);const c=a.local_field,u=this.getField(),f=i[Object.keys(i)[0]];if(!c||!(u instanceof Yi))throw new Error(`Cannot perform $set for relation "${r}"`);if(f===null&&!u.isRequired())return[c,null];if(!(await n.repository(u.target()).exists({[u.targetField()]:f})).exists){const p=u.targetField();throw new Error(`Cannot connect "${o.name}.${r}" to "${u.target()}.${p}" = "${f}": not found.`)}return[c,f]}};ee($b,"DEFAULTS",{with_limit:5}),ee($b,"schema",Bl.Composite([Oh.schema,Bl.Object({sourceCardinality:Bl.Optional(Bl.Number()),with_limit:Bl.Optional(Bl.Number({default:$b.DEFAULTS.with_limit})),fieldConfig:Bl.Optional(Bl.Object({label:Bl.String()}))})],{additionalProperties:!1}));let Nd=$b;class DT extends Nd{constructor(t,n,r){const{mappedBy:i,inversedBy:o,required:s}=r||{};super(t,n,{mappedBy:i,inversedBy:o,sourceCardinality:1,required:s})}type(){return Ii.OneToOne}isListableFor(){return!1}async $set(t,n,r){throw new Error("$set is not allowed")}async $create(t,n,r){if(r===null||typeof r!="object")throw new Error(`Invalid value for relation field "${n}" given, expected object.`);const i=this.other(this.source.entity).entity,s=this.helper(this.source.entity.name).getMutationInfo(),a=s.primary,c=s.local_field;if(!s.$create||!a||!c)throw new Error(`Cannot perform $create for relation "${n}"`);try{const{data:u}=await t.mutator(i).insertOne(r),f=u[a];return[c,f]}catch{throw new Error(`Error performing $create on "${i.name}".`)}}}const{Type:A1}=pt;class Qb extends Oh{constructor(t,n,r={}){const i=r.mappedBy||n.name,o=r.inversedBy||t.name,s=typeof r.targetCardinality=="number"&&r.targetCardinality>0?r.targetCardinality:void 0,a=new vg(t,o,1),c=new vg(n,i,s);super(a,c,r),this.directions=["source"]}type(){return Ii.Polymorphic}queryInfo(t){const n=this.other(t),r=`${n.entity.name}.${this.getReferenceField().name}`,i=`${t.name}.${this.config.mappedBy}`,o=`${n.entity.name}.${this.config.mappedBy}`,s=`${t.name}.${t.getPrimaryField().name}`,a=`${n.entity.name}.${this.getEntityIdField().name}`,c=`${t.name}.${t.getPrimaryField().name}`;return{other:n,whereLhs:r,reference:i,reference_other:o,entityRef:s,otherRef:a,groupBy:c}}buildJoin(t,n){const{other:r,whereLhs:i,reference:o,entityRef:s,otherRef:a,groupBy:c}=this.queryInfo(t);return n.innerJoin(r.entity.name,u=>u.onRef(s,"=",a).on(i,"=",o)).groupBy(c)}getReferenceQuery(t,n){const r=this.queryInfo(t);return{where:{[this.getReferenceField().name]:r.reference_other,[this.getEntityIdField().name]:n}}}buildWith(t){const{other:n,whereLhs:r,reference:i,entityRef:o,otherRef:s}=this.queryInfo(t);return a=>a.selectFrom(n.entity.name).where(r,"=",i).whereRef(o,"=",s).$if(n.cardinality===1,c=>c.limit(1))}isListableFor(t){return this.source.entity.name===t.name&&this.target.cardinality!==1}getReferenceField(){return new h3("reference",{hidden:!0,fillable:["create"]})}getEntityIdField(){return new f3("entity_id",{hidden:!0,fillable:["create"]})}initialize(t){const n=this.getReferenceField(),r=this.getEntityIdField();this.target.entity.field(n.name)||this.target.entity.addField(n),this.target.entity.field(r.name)||this.target.entity.addField(r)}}ee(Qb,"schema",A1.Composite([Oh.schema,A1.Object({targetCardinality:A1.Optional(A1.Number())})],{additionalProperties:!1}));const YF=["$set","$create","$attach","$detach"];class Sje{constructor(t,n){ee(this,"relation");ee(this,"access");ee(this,"self");ee(this,"other");if(this.relation=t,t.source.entity.name===n)this.access="source",this.self=t.source,this.other=t.target;else if(t.target.entity.name===n)this.access="target",this.self=t.target,this.other=t.source;else throw new Error(`Entity "${n}" is not part of the relation "${t.source.entity.name} <-> ${t.target.entity.name}"`)}getMutationInfo(){var i,o;const t={$set:!1,$create:!1,$attach:!1,$detach:!1};let n,r;switch(this.relation.type()){case Ii.ManyToOne:typeof this.self.cardinality>"u"&&this.other.cardinality===1&&(t.$set=!0,n=(i=this.relation.getField())==null?void 0:i.name,r=this.other.entity.getPrimaryField().name);break;case Ii.OneToOne:this.access==="source"&&(t.$create=!0,t.$set=!0,n=(o=this.relation.getField())==null?void 0:o.name,r=this.other.entity.getPrimaryField().name);break;case Ii.ManyToMany:this.access==="source"&&(t.$attach=!0,t.$detach=!0,r=this.other.entity.getPrimaryField().name);break}return{reference:this.other.reference,local_field:n,...t,primary:r,cardinality:this.other.cardinality,relation_type:this.relation.type()}}}class Eje{constructor(t,n){this.entity=t,this.em=n}getRelationalKeys(){const t=[];return this.entity.type==="generated"&&this.em.relations.all.find(r=>r instanceof Tc&&r.connectionEntity.name===this.entity.name)instanceof Tc&&t.push(...this.entity.fields.filter(r=>r.type==="relation").map(r=>r.name)),this.em.relationsOf(this.entity.name).map(n=>{const r=n.helper(this.entity.name).getMutationInfo();t.push(r.reference),r.local_field&&t.push(r.local_field)}),t}async persistRelationField(t,n,r){if(r===null&&!t.isRequired())return[n,r];if(typeof r=="object")throw new Error(`Invalid value for relation field "${n}" given, expected primitive.`);if(!(await this.em.repository(t.target()).exists({[t.targetField()]:r})).exists){const o=t.targetField();throw new Error(`Cannot connect "${this.entity.name}.${n}" to "${t.target()}.${o}" = "${r}": not found.`)}return[n,r]}async persistReference(t,n,r){if(typeof r!="object"||r===null||typeof r>"u")throw new Error(`Invalid value for relation "${n}" given, expected object to persist reference. Like '{$set: {id: 1}}'.`);const i=Object.keys(r)[0];if(!YF.includes(i))throw new Error(`Invalid operation "${i}" for relation "${n}". Allowed: ${YF.join(", ")}`);const o=r[i];return await t[i](this.em,n,o)}async persistRelation(t,n){const r=this.entity.getField(t);if(r instanceof Yi)return this.persistRelationField(r,t,n);const i=this.em.relationOf(this.entity.name,t);if(i)return this.persistReference(i,t,n);throw new Error(`Relation "${t}" failed to resolve on entity "${this.entity.name}": Unable to resolve relation origin.`)}}const QK={[Ii.OneToOne]:{schema:DT.schema,cls:DT},[Ii.ManyToOne]:{schema:Nd.schema,cls:Nd},[Ii.ManyToMany]:{schema:Tc.schema,cls:Tc},[Ii.Polymorphic]:{schema:Qb.schema,cls:Qb}},Nje={relation:{schema:XK,field:Yi}},uE=Zr({pattern:"^(?:[a-zA-Z_$][\\w$]*)(?:,[a-zA-Z_$][\\w$]*)*$"}),JF=Cv([uE,Tp(uE,{uniqueItems:!0})],{default:[],coerce:e=>Array.isArray(e)?e:typeof e=="string"?e.includes(",")?e.split(","):[e]:[]}),XF={by:"id",dir:"asc"},Oje=sn({by:Zr(),dir:Zr({enum:["asc","desc"]}).optional()}),_je=Cv([Zr(),Oje],{default:XF,coerce:e=>{if(typeof e=="string"){if(/^-?[a-zA-Z_][a-zA-Z0-9_.]*$/.test(e)){const t=e[0]==="-"?"desc":"asc";return{by:t==="desc"?e.slice(1):e,dir:t}}else if(/^{.*}$/.test(e))return JSON.parse(e);return yt.warn(`Invalid sort given: '${JSON.stringify(e)}'`),XF}return e}}),$je=Cv([Zr(),sn({})],{default:{},examples:[{attribute:{$eq:1}}],coerce:e=>{const t=typeof e=="string"?JSON.parse(e):e;return sd.convert(t)}}),Cje=e=>Cv([uE,Tp(uE),e],{coerce:function(t,n={}){let r=t;if(typeof r=="string"&&(r.match(/^\{/)||r.match(/^\[/)?r=JSON.parse(r):r.includes(",")?r=r.split(","):r=[r]),Array.isArray(r)&&(r=r.reduce((i,o)=>(i[o]={},i),{})),Fb(r))for(const i in r)r[i]=e.coerce(r[i],n);return r}}),os=A_e(e=>lb({limit:bd({default:10}),offset:bd({default:0}),sort:_je,where:$je,select:JF,join:JF,with:Cje(e)})),jje=()=>os.template({withOptional:!0}),{Type:Ma}=pt,ZK=Ma.Composite([Ma.Object({entity:Ma.String(),min_items:Ma.Optional(Ma.Number()),max_items:Ma.Optional(Ma.Number()),mime_types:Ma.Optional(Ma.Array(Ma.String()))}),Ea]);class Zb extends Na{constructor(n,r){super(n,{...r,fillable:["update"],virtual:!0});ee(this,"type","media")}getSchema(){return ZK}getMaxItems(){return this.config.max_items}getMinItems(){return this.config.min_items}schema(){}toJsonSchema(){var o,s;const n="../schema.json#/properties/media",r=(o=this.config)==null?void 0:o.min_items,i=(s=this.config)==null?void 0:s.max_items;return i===1?{$ref:n}:{type:"array",items:{$ref:n},minItems:r,maxItems:i}}}const FT={...xje,...Nje,media:{schema:ZK,field:Zb}},Aje=QK,eY=EN(FT,(e,t)=>zt.Object({type:zt.Const(t,{default:t,readOnly:!0}),config:zt.Optional(e.schema)},{title:t})),m3=zt.Union(Object.values(eY)),tY=gc(m3),ZN=zt.Object({type:zt.Optional(zt.String({enum:vje,default:"regular",readOnly:!0})),config:zt.Optional(JK),fields:zt.Optional(tY)}),p3=Object.entries(QK).map(([e,t])=>zt.Object({type:zt.Const(e,{default:e,readOnly:!0}),source:zt.String(),target:zt.String(),config:zt.Optional(t.schema)},{title:e})),Tje=zt.Object({entity:zt.String(),fields:zt.Array(zt.String(),{minItems:1}),unique:zt.Optional(zt.Boolean({default:!1}))},{additionalProperties:!1}),Rje=zt.Object({basepath:zt.Optional(zt.String({default:"/api/data"})),entities:zt.Optional(gc(ZN,{default:{}})),relations:zt.Optional(gc(zt.Union(p3),{default:{}})),indices:zt.Optional(gc(Tje,{default:{}}))},{additionalProperties:!1});function g3(e,t){const n=yn(t.fields??{},(r,i)=>{const{type:o}=r;if(!(o in FT))throw new Error(`Field type "${o}" not found`);const{field:s}=FT[o];return new s(i,r.config)});return new bc(e,Object.values(n),t.config,t.type)}function nY(e,t){return new Aje[e.type].cls(t(e.source),t(e.target),e.config)}const Da=new Di("data.entity.read"),eO=new Di("data.entity.create"),LT=new Di("data.entity.update"),BT=new Di("data.entity.delete"),rY=new Di("data.database.sync"),Ije=new Di("data.raw.query"),Mje=new Di("data.raw.mutate"),kje=Object.freeze(Object.defineProperty({__proto__:null,databaseSync:rY,entityCreate:eO,entityDelete:BT,entityRead:Da,entityUpdate:LT,rawMutate:Mje,rawQuery:Ije},Symbol.toStringTag,{value:"Module"}));({...Jb});const Kl=class Kl{constructor(t,n,r){ee(this,"emgr");ee(this,"__unstable_disable_system_entity_creation",!0);this.em=t,this.entity=n,this.options=r,this.emgr=(r==null?void 0:r.emgr)??new jv(Jb)}__unstable_toggleSystemEntityCreation(t){this.__unstable_disable_system_entity_creation=t}get conn(){return this.em.connection.kysely}async getValidatedData(t,n){const r=this.entity;if(!n)throw new Error("Context must be provided for validation");const i=Object.keys(t),o={},s=new Eje(r,this.em),a=s.getRelationalKeys();for(const c of i){if(a.includes(c)){const f=await s.persistRelation(c,t[c]);if(Array.isArray(f)){const[h,p]=f;o[h]=p}continue}const u=r.getField(c);if(!u)throw new Error(`Field "${c}" not found on entity "${r.name}". Fields: ${r.getFillableFields().map(f=>f.name).join(", ")}`);if(!u.isFillable(n))throw new Error(`Field "${c}" is not fillable on entity "${r.name}"`);o[c]=await u.transformPersist(t[c],this.em,n)}if(Object.keys(o).length===0)throw new Error(`No data left to update "${r.name}"`);return o}async many(t){const n=this.entity,{sql:r,parameters:i}=t.compile();try{const o=await t.execute(),s=this.em.hydrate(n.name,o);return{entity:n,sql:r,parameters:[...i],result:o,data:s}}catch(o){throw yt.error("[Error in query]",r),o}}async single(t){const{data:n,...r}=await this.many(t);return{...r,data:n[0]}}async insertOne(t){const n=this.entity;if(n.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${n.name}" is disabled`);const r=await this.emgr.emit(new Kl.Events.MutatorInsertBefore({entity:n,data:t})),i=r.returned?r.params.data:t,o={...n.getDefaultObject(),...await this.getValidatedData(i,"create")},s=n.getRequiredFields();for(const u of s)if(typeof o[u.name]>"u"||o[u.name]===null)throw new Error(`Field "${u.name}" is required`);const a=this.conn.insertInto(n.name).values(o).returning(n.getSelect()),c=await this.single(a);return await this.emgr.emit(new Kl.Events.MutatorInsertAfter({entity:n,data:c.data,changed:o})),c}async updateOne(t,n){const r=this.entity;if(!Number.isInteger(t))throw new Error("ID must be provided for update");const i=await this.emgr.emit(new Kl.Events.MutatorUpdateBefore({entity:r,entityId:t,data:n})),o=i.returned?i.params.data:n,s=await this.getValidatedData(o,"update"),a=this.conn.updateTable(r.name).set(s).where(r.id().name,"=",t).returning(r.getSelect()),c=await this.single(a);return await this.emgr.emit(new Kl.Events.MutatorUpdateAfter({entity:r,entityId:t,data:c.data,changed:s})),c}async deleteOne(t){const n=this.entity;if(!Number.isInteger(t))throw new Error("ID must be provided for deletion");await this.emgr.emit(new Kl.Events.MutatorDeleteBefore({entity:n,entityId:t}));const r=this.conn.deleteFrom(n.name).where(n.id().name,"=",t).returning(n.getSelect()),i=await this.single(r);return await this.emgr.emit(new Kl.Events.MutatorDeleteAfter({entity:n,entityId:t,data:i.data})),i}getValidOptions(t){const n=this.entity,r={};if(t!=null&&t.where){const i=sd.getPropertyNames(t.where).filter(o=>typeof n.getField(o)>"u");if(i.length>0)throw new Gu(`Invalid where field(s): ${i.join(", ")}`);r.where=t.where}return r}appendWhere(t,n){const r=this.entity;if(r.name,n){const i=sd.getPropertyNames(n).filter(o=>typeof r.getField(o)>"u");if(i.length>0)throw new Gu(`Invalid where field(s): ${i.join(", ")}`);return sd.addClause(t,n)}return t}async deleteWhere(t){const n=this.entity;if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error("Where clause must be provided for mass deletion");const r=this.appendWhere(this.conn.deleteFrom(n.name),t).returning(n.getSelect());return await this.many(r)}async updateWhere(t,n){const r=this.entity,i=await this.getValidatedData(t,"update");if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Where clause must be provided for mass update");const o=this.appendWhere(this.conn.updateTable(r.name),n).set(i).returning(r.getSelect());return await this.many(o)}async insertMany(t){const n=this.entity;if(n.type==="system"&&this.__unstable_disable_system_entity_creation)throw new Error(`Creation of system entity "${n.name}" is disabled`);const r=[];for(const o of t){const s={...n.getDefaultObject(),...await this.getValidatedData(o,"create")},a=n.getRequiredFields();for(const c of a)if(typeof s[c.name]>"u"||s[c.name]===null)throw new Error(`Field "${c.name}" is required`);r.push(s)}const i=this.conn.insertInto(n.name).values(r).returning(n.getSelect());return await this.many(i)}};ee(Kl,"Events",Jb);let zT=Kl;class dE{static buildClause(t,n,r,i){const o=t.relationOf(r.name,i);if(!o)throw new Error(`Relation "${i}" not found`);return o.buildJoin(r,n,i)}static getJoinedEntityNames(t,n,r){return r.flatMap(i=>{const o=t.relationOf(n.name,i);if(!o)throw new Error(`Relation "${i}" not found`);const s=o.other(n);return o instanceof Nd?[s.entity.name]:o instanceof Tc?[s.entity.name,o.connectionEntity.name]:[]})}static addClause(t,n,r,i){if(i.length===0)return n;let o=n;for(const s of i)o=dE.buildClause(t,o,r,s);return o}}const Vu=class Vu{constructor(t,n,r={}){ee(this,"emgr");this.em=t,this.entity=n,this.options=r,this.emgr=(r==null?void 0:r.emgr)??new jv(Jb)}cloneFor(t,n={}){return new Vu(this.em,this.em.entity(t),{...this.options,...n,emgr:this.emgr})}get conn(){return this.em.connection.kysely}checkIndex(t,n,r){var o;!this.em.getIndexedFields(t).map(s=>s.name).includes(n)&&((o=this.options)==null?void 0:o.silent)!==!0&&yt.warn(`Field "${t}.${n}" used in "${r}" is not indexed`)}getValidOptions(t){const n=this.entity,r={...structuredClone(jje()),sort:n.getDefaultSort(),select:n.getSelect()};if(!t)return r;if(t.sort){if(!r.select.includes(t.sort.by))throw new Gu(`Invalid sort field "${t.sort.by}"`);if(!["asc","desc"].includes(t.sort.dir))throw new Gu(`Invalid sort direction "${t.sort.dir}"`);this.checkIndex(n.name,t.sort.by,"sort"),r.sort={dir:"asc",...t.sort}}if(t.select&&t.select.length>0){const i=t.select.filter(o=>!r.select.includes(o));if(i.length>0)throw new Gu(`Invalid select field(s): ${i.join(", ")}`).context({entity:n.name,valid:r.select});r.select=t.select}if(t.with&&(ex.validateWiths(this.em,n.name,t.with),r.with=t.with),t.join&&t.join.length>0)for(const i of t.join){if(!this.em.relationOf(n.name,i))throw new Gu(`JOIN: "${i}" is not a relation of "${n.name}"`);r.join.push(i)}if(t.where){const i=[n.name];r.join.length>0&&i.push(...dE.getJoinedEntityNames(this.em,n,r.join));const o=sd.getPropertyNames(t.where).filter(s=>{if(s.includes(".")){const[a,c]=s.split(".");return i.includes(a)?(this.checkIndex(a,c,"where"),!this.em.entity(a).getField(c)):!0}return this.checkIndex(n.name,s,"where"),typeof n.getField(s)>"u"});if(o.length>0)throw new Gu(`Invalid where field(s): ${o.join(", ")}`).context({aliases:i,entity:n.name});r.where=t.where}return t.limit&&(r.limit=t.limit),t.offset&&(r.offset=t.offset),r}async executeQb(t){var i,o;const n=t.compile();((i=this.options)==null?void 0:i.silent)!==!0&&yt.debug(`Repository: query
${n.sql}
`,n.parameters);let r;try{r=await t.execute()}catch(s){if(((o=this.options)==null?void 0:o.silent)!==!0)throw s instanceof Error&&yt.error("[ERROR] Repository.executeQb",s.message),s}return{result:r,sql:n.sql,parameters:[...n.parameters]}}async performQuery(t){var c,u,f,h,p,y;const n=this.entity,r=t.compile(),i={entity:n,sql:r.sql,parameters:[...r.parameters],result:[],data:[],meta:{total:0,count:0,items:0,time:0,query:{sql:r.sql,parameters:r.parameters}}};if(((c=this.options)==null?void 0:c.includeCounts)===!1||((u=this.options)==null?void 0:u.includeCounts)===!0&&!this.em.connection.supports("batching")){const x=performance.now(),v=await this.executeQb(t),E=Number.parseFloat((performance.now()-x).toFixed(2)),N=v.result??[],O=this.em.hydrate(n.name,N);return{...i,result:N,data:O,meta:{...i.meta,total:void 0,count:void 0,items:O.length,time:E}}}((f=this.options)==null?void 0:f.silent)!==!0&&yt.debug(`Repository: query
${r.sql}
`,r.parameters);const o=(x="count")=>this.conn.fn.countAll().as(x),s=t.clearSelect().select(o()).clearLimit().clearOffset().clearGroupBy().clearOrderBy(),a=this.conn.selectFrom(n.name).select(o());try{const x=performance.now(),[v,E,N]=await this.em.connection.batchQuery([s,a,t]),O=Number.parseFloat((performance.now()-x).toFixed(2)),_=this.em.hydrate(n.name,N);return{...i,result:N,data:_,meta:{...i.meta,total:pF((h=E[0])==null?void 0:h.count),count:pF((p=v[0])==null?void 0:p.count),items:N.length,time:O}}}catch(x){if(((y=this.options)==null?void 0:y.silent)!==!0)throw x instanceof Error&&yt.error("[ERROR] Repository.performQuery",x.message),x;return i}}async triggerFindBefore(t,n){const r=n.limit===1?Vu.Events.RepositoryFindOneBefore:Vu.Events.RepositoryFindManyBefore;await this.emgr.emit(new r({entity:t,options:n}))}async triggerFindAfter(t,n,r){n.limit===1?await this.emgr.emit(new Vu.Events.RepositoryFindOneAfter({entity:t,options:n,data:r[0]})):await this.emgr.emit(new Vu.Events.RepositoryFindManyAfter({entity:t,options:n,data:r}))}async single(t,n){await this.triggerFindBefore(this.entity,n);const{data:r,...i}=await this.performQuery(t);return await this.triggerFindAfter(this.entity,n,r),{...i,data:r[0]}}addOptionsToQueryBuilder(t,n,r){var h,p;const i=this.entity;let o=t??this.conn.selectFrom(i.name);const s=(r==null?void 0:r.validate)!==!1?this.getValidOptions(n):n;if(!s)return o;const a=(r==null?void 0:r.alias)??i.name,c=y=>`${a}.${y}`,u=(r==null?void 0:r.ignore)??[],f={limit:10,offset:0,...r==null?void 0:r.defaults};return!u.includes("select")&&s.select&&(o=o.select(i.getAliasedSelectFrom(s.select,a))),!u.includes("with")&&s.with&&(o=ex.addClause(this.em,o,i,s.with)),!u.includes("join")&&s.join&&(o=dE.addClause(this.em,o,i,s.join)),!u.includes("where")&&s.where&&(o=sd.addClause(o,s.where)),u.includes("limit")||(o=o.limit(s.limit??f.limit)),u.includes("offset")||(o=o.offset(s.offset??f.offset)),u.includes("sort")||(o=o.orderBy(c(((h=s.sort)==null?void 0:h.by)??"id"),((p=s.sort)==null?void 0:p.dir)??"asc")),o}buildQuery(t,n=[]){const r=this.entity,i=this.getValidOptions(t);return{qb:this.addOptionsToQueryBuilder(void 0,i,{ignore:n,alias:r.name,validate:!1}),options:i}}async findId(t,n){const{qb:r,options:i}=this.buildQuery({...n,where:{[this.entity.getPrimaryField().name]:t},limit:1},["offset","sort"]);return this.single(r,i)}async findOne(t,n){const{qb:r,options:i}=this.buildQuery({...n,where:t,limit:1});return await this.single(r,i)}async findMany(t){const{qb:n,options:r}=this.buildQuery(t);await this.triggerFindBefore(this.entity,r);const i=await this.performQuery(n);return await this.triggerFindAfter(this.entity,r,i.data),i}async findManyByReference(t,n,r){const i=this.entity,s=this.em.relations.listableRelationsOf(i).find(f=>f.ref(n).reference===n);if(!s)throw new Error(`Relation "${n}" not found or not listable on entity "${i.name}"`);const a=s.other(i).entity,c=s.getReferenceQuery(a,t,n);if(!("where"in c)||Object.keys(c.where).length===0)throw new Error(`Invalid reference query for "${n}" on entity "${a.name}"`);const u={...r,...c,where:{...c.where,...r==null?void 0:r.where}};return this.cloneFor(a).findMany(u)}async count(t){var c;const n=this.entity,r=this.getValidOptions({where:t}),i=this.conn.fn.count(Yb`*`).as("count");let o=this.conn.selectFrom(n.name).select(i);r.where&&(o=sd.addClause(o,r.where));const{result:s,...a}=await this.executeQb(o);return{sql:a.sql,parameters:[...a.parameters],result:s,count:((c=s[0])==null?void 0:c.count)??0}}async exists(t){const n=this.entity,r=this.getValidOptions({where:t}),i=this.conn.fn.count(Yb`*`).as("count");let o=this.conn.selectFrom(n.name).select(i);o=sd.addClause(o,r.where).limit(1);const{result:s,...a}=await this.executeQb(o);return{sql:a.sql,parameters:[...a.parameters],result:s,exists:s[0].count>0}}};ee(Vu,"Events",DK);let UT=Vu;function zs(e){if(typeof e!="string")throw new Error(`Invalid key: ${e}`);return e}const Pje=[Bs("$eq",e=>ku(e),(e,t,n)=>n(zs(t),"=",e)),Bs("$ne",e=>ku(e),(e,t,n)=>n(zs(t),"!=",e)),Bs("$gt",e=>ku(e),(e,t,n)=>n(zs(t),">",e)),Bs("$gte",e=>ku(e),(e,t,n)=>n(zs(t),">=",e)),Bs("$lt",e=>ku(e),(e,t,n)=>n(zs(t),"<",e)),Bs("$lte",e=>ku(e),(e,t,n)=>n(zs(t),"<=",e)),Bs("$isnull",e=>COe(e),(e,t,n)=>n(zs(t),e?"is":"is not",null)),Bs("$in",e=>Array.isArray(e),(e,t,n)=>n(zs(t),"in",e)),Bs("$notin",e=>Array.isArray(e),(e,t,n)=>n(zs(t),"not in",e)),Bs("$between",e=>Array.isArray(e)&&e.length===2,(e,t,n)=>n.between(zs(t),e[0],e[1])),Bs("$like",e=>ku(e),(e,t,n)=>n(zs(t),"like",String(e).replace(/\*/g,"%")))],KC=TOe(Pje);class sd{static addClause(t,n){return Object.keys(n).length===0?t:t.where(r=>{const i=KC.build(n,{value_is_kv:!0,exp_ctx:r,convert:!0});return i.$or.length>0&&i.$and.length>0?r.and(i.$and).or(r.and(i.$or)):i.$or.length>0?r.or(i.$or):r.and(i.$and)})}static convert(t){return KC.convert(t)}static getPropertyNames(t){const{keys:n}=KC.build(t,{value_is_kv:!0,exp_ctx:()=>null,convert:!0});return Array.from(n)}}class ex{static addClause(t,n,r,i){if(!i||!Fb(i))return console.warn(`'withs' undefined or invalid, given: ${JSON.stringify(i)}`),n;const o=t.connection.fn;let s=n;for(const[a,c]of Object.entries(i)){const u=t.relationOf(r.name,a);if(!u)throw new Error(`Relation "${r.name}<>${a}" not found`);const f=u.ref(a).cardinality,h=f===1?o.jsonObjectFrom:o.jsonArrayFrom;if(!h)throw new Error("Connection does not support jsonObjectFrom/jsonArrayFrom");const p=u.other(r);s=s.select(y=>{let x=u.buildWith(r,a)(y);return c&&(x=t.repo(p.entity).addOptionsToQueryBuilder(x,c,{ignore:["with","join",f===1?"limit":void 0].filter(Boolean)})),c.with&&(x=ex.addClause(t,x,p.entity,c.with)),h(x).as(p.reference)})}return s}static validateWiths(t,n,r){let i=0;if(!r||!Fb(r))return r&&console.warn(`'withs' invalid, given: ${JSON.stringify(r)}`),i;const o=[];for(const[s,a]of Object.entries(r)){if(!t.relationOf(n,s))throw new Gu(`WITH: "${s}" is not a relation of "${n}"`);i++,"with"in a&&o.push(ex.validateWiths(t,s,a.with))}return o.length>0&&(i+=Math.max(...o)),i}}const Cb=class Cb{constructor(t,n,r=[],i=[],o){ee(this,"connection");ee(this,"_entities",[]);ee(this,"_relations",[]);ee(this,"_indices",[]);ee(this,"_schema");ee(this,"emgr");if(t.forEach(s=>this.addEntity(s)),r.forEach(s=>this.addRelation(s)),i.forEach(s=>this.addIndex(s)),!$K.isConnection(n))throw new kCe("");this.connection=n,this.emgr=o??new jv,this.emgr.registerEvents(Cb.Events)}fork(){return new Cb(this._entities,this.connection,this._relations,this._indices)}get entities(){return this._entities}get relations(){return new FK(this._relations)}get indices(){return this._indices}async ping(){return(await Yb`SELECT 1`.execute(this.connection.kysely)).rows.length>0}addEntity(t){const n=this.entities.find(r=>r.name===t.name);if(n){if(JSON.stringify(n)===JSON.stringify(t)){yt.warn(`Entity "${t.name}" already exists, but it's the same, skipping adding it.`);return}throw new Error(`Entity "${t.name}" already exists`)}this.entities.push(t)}__replaceEntity(t,n=t.name){const r=this._entities.findIndex(i=>i.name===n);if(r===-1)throw new Error(`Entity "${n}" not found and cannot be replaced`);this._entities[r]=t}entity(t,n){const r=this.entities.find(i=>t instanceof bc?i.name===t.name:i.name===t);if(!r){if(n===!0)return;throw new FCe(t instanceof bc?t.name:t)}return r}hasEntity(t){const n=typeof t=="string"?t:t.name;return this.entities.some(r=>r.name===n)}hasIndex(t){const n=typeof t=="string"?t:t.name;return this.indices.some(r=>r.name===n)}getIndexedFields(t){const n=this.entity(t),r=this.getIndicesOf(n),i=n.fields.filter(s=>s.type==="relation"),o=r.map(s=>s.fields[0]);return[n.getPrimaryField(),...i,...o].filter(Boolean)}addRelation(t){if(!this.entity(t.source.entity.name)||!this.entity(t.target.entity.name))throw new Error("Relation source or target entity not found");if(this._relations.find(r=>{const i=r.source.entity.name===t.source.entity.name&&r.target.entity.name===t.target.entity.name,o=r.source.reference===t.source.reference&&r.target.reference===t.target.reference;return i&&o}))throw new Error(`Relation "${t.type}" between "${t.source.entity.name}" and "${t.target.entity.name}" already exists`);this._relations.push(t),t.initialize(this)}relationsOf(t){return this.relations.relationsOf(this.entity(t))}relationOf(t,n){return this.relations.relationOf(this.entity(t),n)}hasRelations(t){return this.relations.hasRelations(this.entity(t))}relatedEntitiesOf(t){return this.relations.relatedEntitiesOf(this.entity(t))}relationReferencesOf(t){return this.relations.relationReferencesOf(this.entity(t))}repository(t){return this.repo(t)}repo(t,n={}){return new UT(this,this.entity(t),{...n,emgr:this.emgr})}mutator(t){return new zT(this,this.entity(t),{emgr:this.emgr})}addIndex(t,n=!1){if(this.indices.find(r=>r.name===t.name)){if(n)throw new Error(`Index "${t.name}" already exists`);return}this._indices.push(t)}getIndicesOf(t){const n=t instanceof bc?t:this.entity(t);return this.indices.filter(r=>r.entity.name===n.name)}schema(){return this._schema||(this._schema=new PT(this)),this._schema}hydrate(t,n){const r=this.entity(t),i=[];for(const o of n){for(let[s,a]of Object.entries(o)){const c=r.getField(s);if(!c||c.isVirtual()){const u=this.relationOf(t,s);if(u){if(!a)continue;a=u.hydrate(s,Array.isArray(a)?a:[a],this),o[s]=a;continue}else if(c!=null&&c.isVirtual())continue;throw new Error(`Field "${s}" not found on entity "${r.name}"`)}try{a===null&&c.hasDefault()&&(o[s]=c.getDefault()),o[s]=c.transformRetrieve(a)}catch(u){throw new PCe(`"${c.type}" field "${s}" on entity "${r.name}": ${u.message}`)}}i.push(o)}return i}toJSON(){return{entities:Object.fromEntries(this.entities.map(t=>[t.name,t.toJSON()])),relations:Object.fromEntries(this.relations.all.map(t=>[t.getName(),t.toJSON()])),indices:Object.fromEntries(this.indices.map(t=>[t.name,t.toJSON()]))}}};ee(Cb,"Events",{...Jb,...DK});let fE=Cb;const T1={text:e=>new h3(e.field_name,{...e.config,required:e.is_required}),number:e=>new f3(e.field_name,{...e.config,required:e.is_required}),date:e=>new kT(e.field_name,{...e.config,required:e.is_required}),datetime:e=>new kT(e.field_name,{...e.config,required:e.is_required}),boolean:e=>new BK(e.field_name,{...e.config,required:e.is_required}),enumm:e=>new c3(e.field_name,{...e.config,required:e.is_required}),json:e=>new u3(e.field_name,{...e.config,required:e.is_required}),jsonSchema:e=>new d3(e.field_name,{...e.config,required:e.is_required}),media:e=>new Zb(e.field_name,{...e.config,entity:e.entity.name,required:e.is_required}),medium:e=>new Zb(e.field_name,{...e.config,entity:e.entity.name,required:e.is_required})};function oc(e){return new Yc("text",e,!1)}function VT(e){return new Yc("number",e,!1)}function qT(e){return new Yc("date",{...e,type:"datetime"},!1)}function Dje(e){return new Yc("boolean",e,!1)}function HT(e){var r;const n={options:{type:typeof((r=e==null?void 0:e.enum)==null?void 0:r[0])!="string"?"objects":"strings",values:(e==null?void 0:e.enum)??[]}};return new Yc("enumm",n,!1)}function Fje(e){return new Yc("json",e,!1)}function Lje(e){return new Yc("jsonSchema",e,!1)}function Bje(e,t){if(t instanceof Yc)return t.make(e);throw new Error("Invalid field")}class Yc{constructor(t,n,r){this.type=t,this.config=n,this.is_required=r}required(){return this.is_required=!0,this}getField(t){if(!T1[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return T1[this.type](t)}catch(n){throw new Error(`Faild to construct field "${this.type}": ${n}`)}}make(t){if(!T1[this.type])throw new Error(`Unknown field type: ${this.type}`);try{return T1[this.type]({entity:{name:"unknown",fields:{}},field_name:t,config:this.config,is_required:this.is_required})}catch(n){throw new Error(`Faild to construct field "${this.type}": ${n}`)}}}function y3(e,t,n,r){const i=[];for(const[o,s]of Object.entries(t)){const a=s,c={entity:{name:e,fields:t},field_name:o,config:a.config,is_required:a.is_required};i.push(a.getField(c))}return new bc(e,i,n,r)}function zje(e){return{manyToOne:(t,n)=>new Nd(e,t,n),oneToOne:(t,n)=>new DT(e,t,n),manyToMany:(t,n,r)=>{const i=[];if(r){const o=r,s=[],a=(n==null?void 0:n.connectionTable)??Tc.defaultConnectionTable(e,t);for(const[c,u]of Object.entries(r)){const f=u,h={entity:{name:a,fields:o},field_name:c,config:f.config,is_required:f.is_required};s.push(f.getField(h))}i.push(s)}return new Tc(e,t,n,i)},polyToOne:(t,n)=>new Qb(e,t,{...n,targetCardinality:1}),polyToMany:(t,n)=>new Qb(e,t,n)}}function Uje(e){return{on:(t,n)=>{const r=t.map(i=>{const o=e.field(i);if(!o)throw new Error(`Field "${String(i)}" not found on entity "${e.name}"`);return o});return new YK(e,r,n)}}}class Vje extends fE{constructor(t,n=[],r=[]){super(Object.values(t),new MCe,n,r),this.__entities=t}withConnection(t){return new fE(this.entities,t,this.relations.all,this.indices)}}function iY(e,t){const n=[],r=[],i=a=>new Proxy(zje(a),{get(c,u){return(...f)=>(n.push(c[u](...f)),i(a))}}),o=a=>new Proxy(Uje(a),{get(c,u){return(...f)=>(r.push(c[u](...f)),o(a))}});t&&t({relation:i,index:o},e);const s=new Vje(e,n,r);return{DB:s.__entities,entities:s.__entities,relations:n,indices:r,proto:s,toJSON:()=>s.toJSON()}}var wA;let Rv=(wA=class{constructor(t,n){ee(this,"_built",!1);ee(this,"_schema");ee(this,"_listener",()=>null);this._ctx=n,this._schema=new gF(this.getSchema(),t,{forceParse:this.useForceParse(),onUpdate:async r=>{await this._listener(r)},restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}onBeforeUpdate(t,n){return n}setListener(t){return this._listener=t,this}useForceParse(){return!1}getRestrictedPaths(){}getOverwritePaths(){}get configDefault(){return this._schema.default()}get config(){return this._schema.get()}setContext(t){return this._ctx=t,this}schema(){return this._schema}onServerInit(t){}get ctx(){if(!this._ctx)throw new Error("Context not set");return this._ctx}async build(){throw new Error("Not implemented")}setBuilt(){this._built=!0,this._schema=new gF(this.getSchema(),this.toJSON(!0),{onUpdate:async t=>{await this._listener(t)},forceParse:this.useForceParse(),restrictPaths:this.getRestrictedPaths(),overwritePaths:this.getOverwritePaths(),onBeforeUpdate:this.onBeforeUpdate.bind(this)})}isBuilt(){return this._built}throwIfNotBuilt(){if(!this._built)throw new Error("Config not built: "+this.constructor.name)}toJSON(t){return this.config}ensureEntity(t){const n=this.ctx.em.entity(t.name,!0);if(!n){this.ctx.em.addEntity(t),this.ctx.flags.sync_required=!0;return}for(const r of t.fields){const i=n.field(r.name);i?this.setEntityFieldConfigs(r,i)>0&&(this.ctx.flags.sync_required=!0):(n.addField(r),this.ctx.flags.sync_required=!0)}this.ctx.em.__replaceEntity(new bc(n.name,n.fields,n.config,t.type))}ensureIndex(t){this.ctx.em.hasIndex(t)||(this.ctx.em.addIndex(t),this.ctx.flags.sync_required=!0)}ensureSchema(t){var n;return Object.values(t.entities??{}).forEach(this.ensureEntity.bind(this)),(n=t.indices)==null||n.forEach(this.ensureIndex.bind(this)),t}setEntityFieldConfigs(t,n,r=["hidden","fillable","required"]){let i=0;for(const o of r)w4(n.config[o],t.config[o])||(n.config[o]=t.config[o],i++);return i}replaceEntityField(t,n,r){const i=this.ctx.em.entity(t),o=typeof n=="string"?n:n.name,s=r instanceof Yc?Bje(o,r):r;this.setEntityFieldConfigs(i.field(o),s),i.__replaceField(o,s)}},ee(wA,"ctx_flags",{sync_required:!1,ctx_reload_required:!1}),wA);var QF=(e,t,n)=>(r,i)=>{let o=-1;return s(0);async function s(a){if(a<=o)throw new Error("next() called multiple times");o=a;let c,u=!1,f;if(e[a]?(f=e[a][0][0],r.req.routeIndex=a):f=a===e.length&&i||void 0,f)try{c=await f(r,()=>s(a+1))}catch(h){if(h instanceof Error&&t)r.error=h,c=await t(h,r),u=!0;else throw h}else r.finalized===!1&&n&&(c=await n(r));return c&&(r.finalized===!1||u)&&(r.res=c),r}},br="ALL",qje="all",Hje=["get","post","put","delete","options","patch"],oY="Can not add a route since the matcher is already built.",sY=class extends Error{},Wje="__COMPOSED_HANDLER",Gje=e=>e.text("404 Not Found",404),ZF=(e,t)=>"getResponse"in e?e.getResponse():(console.error(e),t.text("Internal Server Error",500)),Gs,wr,lY,ec,Af,gS,yS,tU,aY=(tU=class{constructor(t={}){Ve(this,wr);ee(this,"get");ee(this,"post");ee(this,"put");ee(this,"delete");ee(this,"options");ee(this,"patch");ee(this,"all");ee(this,"on");ee(this,"use");ee(this,"router");ee(this,"getPath");ee(this,"_basePath","/");Ve(this,Gs,"/");ee(this,"routes",[]);Ve(this,ec,Gje);ee(this,"errorHandler",ZF);ee(this,"onError",t=>(this.errorHandler=t,this));ee(this,"notFound",t=>(Le(this,ec,t),this));ee(this,"fetch",(t,...n)=>nt(this,wr,yS).call(this,t,n[1],n[0],t.method));ee(this,"request",(t,n,r,i)=>t instanceof Request?this.fetch(n?new Request(t,n):t,r,i):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${dp("/",t)}`,n),r,i)));ee(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(nt(this,wr,yS).call(this,t.request,t,void 0,t.request.method))})});[...Hje,qje].forEach(o=>{this[o]=(s,...a)=>(typeof s=="string"?Le(this,Gs,s):nt(this,wr,Af).call(this,o,G(this,Gs),s),a.forEach(c=>{nt(this,wr,Af).call(this,o,G(this,Gs),c)}),this)}),this.on=(o,s,...a)=>{for(const c of[s].flat()){Le(this,Gs,c);for(const u of[o].flat())a.map(f=>{nt(this,wr,Af).call(this,u.toUpperCase(),G(this,Gs),f)})}return this},this.use=(o,...s)=>(typeof o=="string"?Le(this,Gs,o):(Le(this,Gs,"*"),s.unshift(o)),s.forEach(a=>{nt(this,wr,Af).call(this,br,G(this,Gs),a)}),this);const{strict:r,...i}=t;Object.assign(this,i),this.getPath=r??!0?t.getPath??tW:W0e}route(t,n){const r=this.basePath(t);return n.routes.map(i=>{var s;let o;n.errorHandler===ZF?o=i.handler:(o=async(a,c)=>(await QF([],n.errorHandler)(a,()=>i.handler(a,c))).res,o[Wje]=i.handler),nt(s=r,wr,Af).call(s,i.method,i.path,o)}),this}basePath(t){const n=nt(this,wr,lY).call(this);return n._basePath=dp(this._basePath,t),n}mount(t,n,r){let i,o;r&&(typeof r=="function"?o=r:(o=r.optionHandler,i=r.replaceRequest));const s=o?c=>{const u=o(c);return Array.isArray(u)?u:[u]}:c=>{let u;try{u=c.executionCtx}catch{}return[c.env,u]};i||(i=(()=>{const c=dp(this._basePath,t),u=c==="/"?0:c.length;return f=>{const h=new URL(f.url);return h.pathname=h.pathname.slice(u)||"/",new Request(h,f)}})());const a=async(c,u)=>{const f=await n(i(c.req.raw),...s(c));if(f)return f;await u()};return nt(this,wr,Af).call(this,br,dp(t,"*"),a),this}},Gs=new WeakMap,wr=new WeakSet,lY=function(){const t=new aY({router:this.router,getPath:this.getPath});return t.routes=this.routes,t},ec=new WeakMap,Af=function(t,n,r){t=t.toUpperCase(),n=dp(this._basePath,n);const i={path:n,method:t,handler:r};this.router.add(t,n,[r,i]),this.routes.push(i)},gS=function(t,n){if(t instanceof Error)return this.errorHandler(t,n);throw t},yS=function(t,n,r,i){if(i==="HEAD")return(async()=>new Response(null,await nt(this,wr,yS).call(this,t,n,r,"GET")))();const o=this.getPath(t,{env:r}),s=this.router.match(i,o),a=new c$e(t,{path:o,matchResult:s,env:r,executionCtx:n,notFoundHandler:G(this,ec)});if(s[0].length===1){let u;try{u=s[0][0][0][0](a,async()=>{a.res=await G(this,ec).call(this,a)})}catch(f){return nt(this,wr,gS).call(this,f,a)}return u instanceof Promise?u.then(f=>f||(a.finalized?a.res:G(this,ec).call(this,a))).catch(f=>nt(this,wr,gS).call(this,f,a)):u??G(this,ec).call(this,a)}const c=QF(s[0],this.errorHandler,G(this,ec));return(async()=>{try{const u=await c(a);if(!u.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return u.res}catch(u){return nt(this,wr,gS).call(this,u,a)}})()},tU),hE="[^/]+",hb=".*",mb="(?:|/.*)",X0=Symbol(),Kje=new Set(".\\+*[^]$()");function Yje(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===hb||e===mb?1:t===hb||t===mb?-1:e===hE?1:t===hE?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var rh,ih,Ks,nU,WT=(nU=class{constructor(){Ve(this,rh);Ve(this,ih);Ve(this,Ks,Object.create(null))}insert(t,n,r,i,o){if(t.length===0){if(G(this,rh)!==void 0)throw X0;if(o)return;Le(this,rh,n);return}const[s,...a]=t,c=s==="*"?a.length===0?["","",hb]:["","",hE]:s==="/*"?["","",mb]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(c){const f=c[1];let h=c[2]||hE;if(f&&c[2]&&(h=h.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(h)))throw X0;if(u=G(this,Ks)[h],!u){if(Object.keys(G(this,Ks)).some(p=>p!==hb&&p!==mb))throw X0;if(o)return;u=G(this,Ks)[h]=new WT,f!==""&&Le(u,ih,i.varIndex++)}!o&&f!==""&&r.push([f,G(u,ih)])}else if(u=G(this,Ks)[s],!u){if(Object.keys(G(this,Ks)).some(f=>f.length>1&&f!==hb&&f!==mb))throw X0;if(o)return;u=G(this,Ks)[s]=new WT}u.insert(a,n,r,i,o)}buildRegExpStr(){const n=Object.keys(G(this,Ks)).sort(Yje).map(r=>{const i=G(this,Ks)[r];return(typeof G(i,ih)=="number"?`(${r})@${G(i,ih)}`:Kje.has(r)?`\\${r}`:r)+i.buildRegExpStr()});return typeof G(this,rh)=="number"&&n.unshift(`#${G(this,rh)}`),n.length===0?"":n.length===1?n[0]:"(?:"+n.join("|")+")"}},rh=new WeakMap,ih=new WeakMap,Ks=new WeakMap,nU),y2,Dx,rU,Jje=(rU=class{constructor(){Ve(this,y2,{varIndex:0});Ve(this,Dx,new WT)}insert(e,t,n){const r=[],i=[];for(let s=0;;){let a=!1;if(e=e.replace(/\{[^}]+\}/g,c=>{const u=`@\\${s}`;return i[s]=[u,c],s++,a=!0,u}),!a)break}const o=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let s=i.length-1;s>=0;s--){const[a]=i[s];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(a)!==-1){o[c]=o[c].replace(a,i[s][1]);break}}return G(this,Dx).insert(o,t,r,G(this,y2),n),r}buildRegExp(){let e=G(this,Dx).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const n=[],r=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,o,s)=>o!==void 0?(n[++t]=Number(o),"$()"):(s!==void 0&&(r[Number(s)]=++t),"")),[new RegExp(`^${e}`),n,r]}},y2=new WeakMap,Dx=new WeakMap,rU),cY=[],Xje=[/^$/,[],Object.create(null)],bS=Object.create(null);function uY(e){return bS[e]??(bS[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,n)=>n?`\\${n}`:"(?:|/.*)")}$`))}function Qje(){bS=Object.create(null)}function Zje(e){var u;const t=new Jje,n=[];if(e.length===0)return Xje;const r=e.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,h],[p,y])=>f?1:p?-1:h.length-y.length),i=Object.create(null);for(let f=0,h=-1,p=r.length;f<p;f++){const[y,x,v]=r[f];y?i[x]=[v.map(([N])=>[N,Object.create(null)]),cY]:h++;let E;try{E=t.insert(x,h,y)}catch(N){throw N===X0?new sY(x):N}y||(n[h]=v.map(([N,O])=>{const _=Object.create(null);for(O-=1;O>=0;O--){const[C,j]=E[O];_[C]=j}return[N,_]}))}const[o,s,a]=t.buildRegExp();for(let f=0,h=n.length;f<h;f++)for(let p=0,y=n[f].length;p<y;p++){const x=(u=n[f][p])==null?void 0:u[1];if(!x)continue;const v=Object.keys(x);for(let E=0,N=v.length;E<N;E++)x[v[E]]=a[x[v[E]]]}const c=[];for(const f in s)c[f]=n[s[f]];return[o,c,i]}function tp(e,t){if(e){for(const n of Object.keys(e).sort((r,i)=>i.length-r.length))if(uY(n).test(t))return[...e[n]]}}var ed,td,Dg,dY,fY,iU,eAe=(iU=class{constructor(){Ve(this,Dg);ee(this,"name","RegExpRouter");Ve(this,ed);Ve(this,td);Le(this,ed,{[br]:Object.create(null)}),Le(this,td,{[br]:Object.create(null)})}add(e,t,n){var a;const r=G(this,ed),i=G(this,td);if(!r||!i)throw new Error(oY);r[e]||[r,i].forEach(c=>{c[e]=Object.create(null),Object.keys(c[br]).forEach(u=>{c[e][u]=[...c[br][u]]})}),t==="/*"&&(t="*");const o=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const c=uY(t);e===br?Object.keys(r).forEach(u=>{var f;(f=r[u])[t]||(f[t]=tp(r[u],t)||tp(r[br],t)||[])}):(a=r[e])[t]||(a[t]=tp(r[e],t)||tp(r[br],t)||[]),Object.keys(r).forEach(u=>{(e===br||e===u)&&Object.keys(r[u]).forEach(f=>{c.test(f)&&r[u][f].push([n,o])})}),Object.keys(i).forEach(u=>{(e===br||e===u)&&Object.keys(i[u]).forEach(f=>c.test(f)&&i[u][f].push([n,o]))});return}const s=nW(t)||[t];for(let c=0,u=s.length;c<u;c++){const f=s[c];Object.keys(i).forEach(h=>{var p;(e===br||e===h)&&((p=i[h])[f]||(p[f]=[...tp(r[h],f)||tp(r[br],f)||[]]),i[h][f].push([n,o-u+c+1]))})}}match(e,t){Qje();const n=nt(this,Dg,dY).call(this);return this.match=(r,i)=>{const o=n[r]||n[br],s=o[2][i];if(s)return s;const a=i.match(o[0]);if(!a)return[[],cY];const c=a.indexOf("",1);return[o[1][c],a]},this.match(e,t)}},ed=new WeakMap,td=new WeakMap,Dg=new WeakSet,dY=function(){const e=Object.create(null);return Object.keys(G(this,td)).concat(Object.keys(G(this,ed))).forEach(t=>{e[t]||(e[t]=nt(this,Dg,fY).call(this,t))}),Le(this,ed,Le(this,td,void 0)),e},fY=function(e){const t=[];let n=e===br;return[G(this,ed),G(this,td)].forEach(r=>{const i=r[e]?Object.keys(r[e]).map(o=>[o,r[e][o]]):[];i.length!==0?(n||(n=!0),t.push(...i)):e!==br&&t.push(...Object.keys(r[br]).map(o=>[o,r[br][o]]))}),n?Zje(t):null},iU),nd,tc,oU,tAe=(oU=class{constructor(e){ee(this,"name","SmartRouter");Ve(this,nd,[]);Ve(this,tc,[]);Le(this,nd,e.routers)}add(e,t,n){if(!G(this,tc))throw new Error(oY);G(this,tc).push([e,t,n])}match(e,t){if(!G(this,tc))throw new Error("Fatal error");const n=G(this,nd),r=G(this,tc),i=n.length;let o=0,s;for(;o<i;o++){const a=n[o];try{for(let c=0,u=r.length;c<u;c++)a.add(...r[c]);s=a.match(e,t)}catch(c){if(c instanceof sY)continue;throw c}this.match=a.match.bind(a),Le(this,nd,[a]),Le(this,tc,void 0);break}if(o===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,s}get activeRouter(){if(G(this,tc)||G(this,nd).length!==1)throw new Error("No active router has been determined yet.");return G(this,nd)[0]}},nd=new WeakMap,tc=new WeakMap,oU),M0=Object.create(null),rd,si,oh,tg,Qr,nc,Tf,sU,hY=(sU=class{constructor(t,n,r){Ve(this,nc);Ve(this,rd);Ve(this,si);Ve(this,oh);Ve(this,tg,0);Ve(this,Qr,M0);if(Le(this,si,r||Object.create(null)),Le(this,rd,[]),t&&n){const i=Object.create(null);i[t]={handler:n,possibleKeys:[],score:0},Le(this,rd,[i])}Le(this,oh,[])}insert(t,n,r){Le(this,tg,++WD(this,tg)._);let i=this;const o=U0e(n),s=[];for(let u=0,f=o.length;u<f;u++){const h=o[u],p=o[u+1],y=g8(h,p),x=Array.isArray(y)?y[0]:h;if(Object.keys(G(i,si)).includes(x)){i=G(i,si)[x];const v=g8(h,p);v&&s.push(v[1]);continue}G(i,si)[x]=new hY,y&&(G(i,oh).push(y),s.push(y[1])),i=G(i,si)[x]}const a=Object.create(null),c={handler:r,possibleKeys:s.filter((u,f,h)=>h.indexOf(u)===f),score:G(this,tg)};return a[t]=c,G(i,rd).push(a),i}search(t,n){var c;const r=[];Le(this,Qr,M0);let o=[this];const s=ZH(n),a=[];for(let u=0,f=s.length;u<f;u++){const h=s[u],p=u===f-1,y=[];for(let x=0,v=o.length;x<v;x++){const E=o[x],N=G(E,si)[h];N&&(Le(N,Qr,G(E,Qr)),p?(G(N,si)["*"]&&r.push(...nt(this,nc,Tf).call(this,G(N,si)["*"],t,G(E,Qr))),r.push(...nt(this,nc,Tf).call(this,N,t,G(E,Qr)))):y.push(N));for(let O=0,_=G(E,oh).length;O<_;O++){const C=G(E,oh)[O],j=G(E,Qr)===M0?{}:{...G(E,Qr)};if(C==="*"){const B=G(E,si)["*"];B&&(r.push(...nt(this,nc,Tf).call(this,B,t,G(E,Qr))),Le(B,Qr,j),y.push(B));continue}if(h==="")continue;const[A,R,I]=C,P=G(E,si)[A],z=s.slice(u).join("/");if(I instanceof RegExp){const B=I.exec(z);if(B){if(j[R]=B[0],r.push(...nt(this,nc,Tf).call(this,P,t,G(E,Qr),j)),Object.keys(G(P,si)).length){Le(P,Qr,j);const U=((c=B[0].match(/\//))==null?void 0:c.length)??0;(a[U]||(a[U]=[])).push(P)}continue}}(I===!0||I.test(h))&&(j[R]=h,p?(r.push(...nt(this,nc,Tf).call(this,P,t,j,G(E,Qr))),G(P,si)["*"]&&r.push(...nt(this,nc,Tf).call(this,G(P,si)["*"],t,j,G(E,Qr)))):(Le(P,Qr,j),y.push(P)))}}o=y.concat(a.shift()??[])}return r.length>1&&r.sort((u,f)=>u.score-f.score),[r.map(({handler:u,params:f})=>[u,f])]}},rd=new WeakMap,si=new WeakMap,oh=new WeakMap,tg=new WeakMap,Qr=new WeakMap,nc=new WeakSet,Tf=function(t,n,r,i){const o=[];for(let s=0,a=G(t,rd).length;s<a;s++){const c=G(t,rd)[s],u=c[n]||c[br],f={};if(u!==void 0&&(u.params=Object.create(null),o.push(u),r!==M0||i&&i!==M0))for(let h=0,p=u.possibleKeys.length;h<p;h++){const y=u.possibleKeys[h],x=f[u.score];u.params[y]=i!=null&&i[y]&&!x?i[y]:r[y]??(i==null?void 0:i[y]),f[u.score]=!0}}return o},sU),sh,aU,nAe=(aU=class{constructor(){ee(this,"name","TrieRouter");Ve(this,sh);Le(this,sh,new hY)}add(e,t,n){const r=nW(t);if(r){for(let i=0,o=r.length;i<o;i++)G(this,sh).insert(e,r[i],n);return}G(this,sh).insert(e,t,n)}match(e,t){return G(this,sh).search(e,t)}},sh=new WeakMap,aU),tO=class extends aY{constructor(e={}){super(e),this.router=e.router??new tAe({routers:[new eAe,new nAe]})}},mY=e=>e;function b3(e){const t=e instanceof Request?e:e.req.raw;return new URL(t.url).pathname}function rAe(e,t){const n=e.get("auth");if(!n)throw new Error("auth ctx not found");if(n.skip)return!0;const r=e.req.raw;if(!t)return!1;const i=b3(r),o=t.some(s=>ybe(i,s));return n.skip=o,o}const iAe=e=>mY(async(t,n)=>{t.get("auth")||t.set("auth",{registered:!1,resolved:!1,skip:!1,user:void 0});const r=t.get("app"),i=t.get("auth"),o=r==null?void 0:r.module.auth.authenticator;let s=rAe(t,e==null?void 0:e.skip)||!(r!=null&&r.module.auth.enabled);i.registered?(s=!0,yt.warn(`auth middleware already registered for ${b3(t)}`)):(i.registered=!0,!s&&!i.resolved&&(r!=null&&r.module.auth.enabled)&&(i.user=await(o==null?void 0:o.resolveAuthFromRequest(t)),i.resolved=!0)),await n(),s||o==null||o.requestCookieRefresh(t),i.skip=!1,i.resolved=!1,i.user=void 0}),oAe=(e,t)=>mY(async(n,r)=>{var s,a;const i=n.get("app"),o=n.get("auth");if(!o)throw new Error("auth ctx not found");if(!o.registered||!i){const c=`auth middleware not registered, cannot check permissions for ${b3(n)}`;if(i!=null&&i.module.auth.enabled)throw new Error(c);yt.warn(c)}else if(!o.skip){const c=i.modules.ctx().guard,u=Array.isArray(e)?e:[e];if(t!=null&&t.onGranted||t!=null&&t.onDenied){let f;if(u.every(h=>c.granted(h,n))?f=await((s=t==null?void 0:t.onGranted)==null?void 0:s.call(t,n)):f=await((a=t==null?void 0:t.onDenied)==null?void 0:a.call(t,n)),f instanceof Response)return f}else u.some(f=>c.throwUnlessGranted(f,n))}await r()}),sAe=Object.freeze(Object.defineProperty({__proto__:null,auth:iAe,permission:oAe},Symbol.toStringTag,{value:"Module"}));class Iv{constructor(){ee(this,"middlewares",sAe)}create(){return Iv.createServer()}static createServer(){return new tO}getController(){return this.create()}isJsonRequest(t){return t.req.header("Content-Type")==="application/json"||t.req.header("Accept")==="application/json"}notFound(t){return this.isJsonRequest(t)?t.json({error:"Not found"},404):t.notFound()}getEntitiesEnum(t){const n=t.entities.map(r=>r.name);return n.length>0?Zr({enum:n}):Zr()}}class aAe extends Iv{constructor(t){super(),this.auth=t}get guard(){return this.auth.ctx.guard}get em(){return this.auth.ctx.em}get userRepo(){const t=this.auth.config.entity_name;return this.em.repo(t)}registerStrategyActions(t,n){var h;if(!this.auth.isStrategyEnabled(t))return;const r=(h=t.getActions)==null?void 0:h.call(t);if(!r)return;const{auth:i,permission:o}=this.middlewares,s=this.create().use(i()),a=t.getName(),{create:c,change:u}=r,f=this.auth.em;c&&(s.post("/create",o([FY,eO]),cn({summary:"Create a new user",tags:["auth"]}),async p=>{var y;try{const x=await this.auth.authenticator.getBody(p),v=Er(c.schema,x,{skipMark:!0}),E=await((y=c.preprocess)==null?void 0:y.call(c,v))??v,N=f.mutator(this.auth.config.entity_name);N.__unstable_toggleSystemEntityCreation(!1);const{data:O}=await N.insertOne({...E,strategy:a});return N.__unstable_toggleSystemEntityCreation(!0),p.json({success:!0,action:"create",strategy:a,data:O})}catch(x){if(x instanceof VN)return p.json({success:!1,errors:x.errors},400);throw x}}),s.get("create/schema.json",cn({summary:"Get the schema for creating a user",tags:["auth"]}),async p=>p.json(c.schema))),n.route(`/${a}/actions`,s)}getController(){const{auth:t}=this.middlewares,n=this.create();n.get("/me",cn({summary:"Get the current user",tags:["auth"]}),t(),async i=>{var s;const o=(s=i.get("auth"))==null?void 0:s.user;if(o){const{data:a}=await this.userRepo.findId(o.id);return i.json({user:a})}return i.json({user:null},403)}),n.get("/logout",cn({summary:"Logout the current user",tags:["auth"]}),t(),async i=>{if(await this.auth.authenticator.logout(i),this.auth.authenticator.isJsonRequest(i))return i.json({ok:!0});const o=i.req.header("referer");return o?i.redirect(o):i.redirect("/")}),n.get("/strategies",cn({summary:"Get the available authentication strategies",tags:["auth"]}),on("query",sn({include_disabled:qb().optional()})),async i=>{const{include_disabled:o}=i.req.valid("query"),{strategies:s,basepath:a}=this.auth.toJSON(!1);return o?i.json({strategies:s,basepath:a}):i.json({strategies:yn(s??{},(c,u)=>this.auth.isStrategyEnabled(u)?c:void 0),basepath:a})});const r=this.auth.authenticator.getStrategies();for(const[i,o]of Object.entries(r))this.auth.isStrategyEnabled(o)&&(n.route(`/${i}`,o.getController(this.auth.authenticator)),this.registerStrategyActions(o,n));return n.all("*",i=>i.notFound())}}let GT;var aS,lU;(typeof navigator>"u"||!((lU=(aS=navigator.userAgent)==null?void 0:aS.startsWith)!=null&&lU.call(aS,"Mozilla/5.0 ")))&&(GT="oauth4webapi/v2.17.0");function Mv(e,t){if(e==null)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}const mE=Symbol(),lAe=Symbol(),x3=Symbol(),cAe=Symbol(),pY=Symbol(),uAe=Symbol(),dAe=new TextEncoder,fAe=new TextDecoder;function ld(e){return typeof e=="string"?dAe.encode(e):fAe.decode(e)}const eL=32768;function hAe(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));const t=[];for(let n=0;n<e.byteLength;n+=eL)t.push(String.fromCharCode.apply(null,e.subarray(n,n+eL)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function mAe(e){try{const t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}catch(t){throw new Ze("The input to be decoded is not correctly encoded.",{cause:t})}}function xc(e){return typeof e=="string"?mAe(e):hAe(e)}class pAe{constructor(t){this.cache=new Map,this._cache=new Map,this.maxSize=t}get(t){let n=this.cache.get(t);if(n)return n;if(n=this._cache.get(t))return this.update(t,n),n}has(t){return this.cache.has(t)||this._cache.has(t)}set(t,n){return this.cache.has(t)?this.cache.set(t,n):this.update(t,n),this}delete(t){return this.cache.has(t)?this.cache.delete(t):this._cache.has(t)?this._cache.delete(t):!1}update(t,n){this.cache.set(t,n),this.cache.size>=this.maxSize&&(this._cache=this.cache,this.cache=new Map)}}class ha extends Error{constructor(t){var n;super(t??"operation not supported"),this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class gAe extends Error{constructor(t,n){var r;super(t,n),this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}const Ze=gAe,gY=new pAe(100);function yY(e){return e instanceof CryptoKey}function yAe(e){return yY(e)&&e.type==="private"}function bAe(e){return yY(e)&&e.type==="public"}function v3(e){try{const t=e.headers.get("dpop-nonce");t&&gY.set(new URL(e.url).origin,t)}catch{}return e}function wg(e){return!(e===null||typeof e!="object"||Array.isArray(e))}function nO(e){Mv(e,Headers)&&(e=Object.fromEntries(e.entries()));const t=new Headers(e);if(GT&&!t.has("user-agent")&&t.set("user-agent",GT),t.has("authorization"))throw new TypeError('"options.headers" must not include the "authorization" header name');if(t.has("dpop"))throw new TypeError('"options.headers" must not include the "dpop" header name');return t}function xAe(e){if(typeof e=="function"&&(e=e()),!(e instanceof AbortSignal))throw new TypeError('"options.signal" must return or be an instance of AbortSignal');return e}async function vAe(e,t){if(!(e instanceof URL))throw new TypeError('"issuerIdentifier" must be an instance of URL');if(e.protocol!=="https:"&&e.protocol!=="http:")throw new TypeError('"issuer.protocol" must be "https:" or "http:"');const n=new URL(e.href);switch(t==null?void 0:t.algorithm){case void 0:case"oidc":n.pathname=`${n.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":n.pathname==="/"?n.pathname=".well-known/oauth-authorization-server":n.pathname=`.well-known/oauth-authorization-server/${n.pathname}`.replace("//","/");break;default:throw new TypeError('"options.algorithm" must be "oidc" (default), or "oauth2"')}const r=nO(t==null?void 0:t.headers);return r.set("accept","application/json"),((t==null?void 0:t[x3])||fetch)(n.href,{headers:Object.fromEntries(r.entries()),method:"GET",redirect:"manual",signal:null}).then(v3)}function Br(e){return typeof e=="string"&&e.length!==0}async function wAe(e,t){if(!(e instanceof URL))throw new TypeError('"expectedIssuer" must be an instance of URL');if(!Mv(t,Response))throw new TypeError('"response" must be an instance of Response');if(t.status!==200)throw new Ze('"response" is not a conform Authorization Server Metadata response');tx(t);let n;try{n=await t.json()}catch(r){throw new Ze('failed to parse "response" body as JSON',{cause:r})}if(!wg(n))throw new Ze('"response" body must be a top level object');if(!Br(n.issuer))throw new Ze('"response" body "issuer" property must be a non-empty string');if(new URL(n.issuer).href!==e.href)throw new Ze('"response" body "issuer" does not match "expectedIssuer"');return n}function bY(){return xc(crypto.getRandomValues(new Uint8Array(32)))}function tL(){return bY()}async function SAe(e){if(!Br(e))throw new TypeError('"codeVerifier" must be a non-empty string');return xc(await crypto.subtle.digest("SHA-256",ld(e)))}function nL(e){return encodeURIComponent(e).replace(/%20/g,"+")}function EAe(e,t){const n=nL(e),r=nL(t);return`Basic ${btoa(`${n}:${r}`)}`}function NAe(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new ha("unsupported RsaHashedKeyAlgorithm hash name")}}function OAe(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new ha("unsupported RsaHashedKeyAlgorithm hash name")}}function _Ae(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new ha("unsupported EcKeyAlgorithm namedCurve")}}function $Ae(e){switch(e.algorithm.name){case"RSA-PSS":return NAe(e);case"RSASSA-PKCS1-v1_5":return OAe(e);case"ECDSA":return _Ae(e);case"Ed25519":case"Ed448":return"EdDSA";default:throw new ha("unsupported CryptoKey algorithm name")}}function kv(e){const t=e==null?void 0:e[mE];return typeof t=="number"&&Number.isFinite(t)?t:0}function w3(e){const t=e==null?void 0:e[lAe];return typeof t=="number"&&Number.isFinite(t)&&Math.sign(t)!==-1?t:30}function S3(){return Math.floor(Date.now()/1e3)}function Pv(e){if(typeof e!="object"||e===null)throw new TypeError('"as" must be an object');if(!Br(e.issuer))throw new TypeError('"as.issuer" property must be a non-empty string');return!0}function Dv(e){if(typeof e!="object"||e===null)throw new TypeError('"client" must be an object');if(!Br(e.client_id))throw new TypeError('"client.client_id" property must be a non-empty string');return!0}function rL(e){if(!Br(e))throw new TypeError('"client.client_secret" property must be a non-empty string');return e}function iL(e,t){if(t!==void 0)throw new TypeError(`"client.client_secret" property must not be provided when ${e} client authentication method is used.`)}async function CAe(e,t,n,r,i){switch(n.delete("client_secret"),n.delete("client_assertion_type"),n.delete("client_assertion"),t.token_endpoint_auth_method){case void 0:case"client_secret_basic":{r.set("authorization",EAe(t.client_id,rL(t.client_secret)));break}case"client_secret_post":{n.set("client_id",t.client_id),n.set("client_secret",rL(t.client_secret));break}case"private_key_jwt":throw iL("private_key_jwt",t.client_secret),new TypeError('"options.clientPrivateKey" must be provided when "client.token_endpoint_auth_method" is "private_key_jwt"');case"tls_client_auth":case"self_signed_tls_client_auth":case"none":{iL(t.token_endpoint_auth_method,t.client_secret),t.token_endpoint_auth_method,n.set("client_id",t.client_id);break}default:throw new ha("unsupported client token_endpoint_auth_method")}}async function jAe(e,t,n){if(!n.usages.includes("sign"))throw new TypeError('CryptoKey instances used for signing assertions must include "sign" in their "usages"');const r=`${xc(ld(JSON.stringify(e)))}.${xc(ld(JSON.stringify(t)))}`,i=xc(await crypto.subtle.sign($Y(n),n,ld(r)));return`${r}.${i}`}async function AAe(e,t,n,r,i,o){var p;const{privateKey:s,publicKey:a,nonce:c=gY.get(n.origin)}=t;if(!yAe(s))throw new TypeError('"DPoP.privateKey" must be a private CryptoKey');if(!bAe(a))throw new TypeError('"DPoP.publicKey" must be a public CryptoKey');if(c!==void 0&&!Br(c))throw new TypeError('"DPoP.nonce" must be a non-empty string or undefined');if(!a.extractable)throw new TypeError('"DPoP.publicKey.extractable" must be true');const u=S3()+i,f={alg:$Ae(s),typ:"dpop+jwt",jwk:await RAe(a)},h={iat:u,jti:bY(),htm:r,nonce:c,htu:`${n.origin}${n.pathname}`,ath:o?xc(await crypto.subtle.digest("SHA-256",ld(o))):void 0};(p=t[cAe])==null||p.call(t,f,h),e.set("dpop",await jAe(f,h,s))}let xS;async function TAe(e){const{kty:t,e:n,n:r,x:i,y:o,crv:s}=await crypto.subtle.exportKey("jwk",e),a={kty:t,e:n,n:r,x:i,y:o,crv:s};return xS.set(e,a),a}async function RAe(e){return xS||(xS=new WeakMap),xS.get(e)||TAe(e)}function oL(e,t,n){if(typeof e!="string")throw n?new TypeError(`"as.mtls_endpoint_aliases.${t}" must be a string`):new TypeError(`"as.${t}" must be a string`);return new URL(e)}function xY(e,t,n=!1){return n&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?oL(e.mtls_endpoint_aliases[t],t,n):oL(e[t],t,n)}function vY(e,t){return!!(e.use_mtls_endpoint_aliases||t!=null&&t[uAe])}function Ep(e){const t=e;return typeof t!="object"||Array.isArray(t)||t===null?!1:t.error!==void 0}function IAe(e){return e.length>=2&&e[0]==='"'&&e[e.length-1]==='"'?e.slice(1,-1):e}const MAe=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,kAe=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function PAe(e,t){const n=t.split(MAe).slice(1);if(!n.length)return{scheme:e.toLowerCase(),parameters:{}};n[n.length-1]=n[n.length-1].replace(/,$/,"");const r={};for(let i=1;i<n.length;i+=2){const o=i;if(n[o][0]==='"')for(;n[o].slice(-1)!=='"'&&++i<n.length;)n[o]+=n[i];const s=n[o-1].replace(/^(?:, ?)|=$/g,"").toLowerCase();r[s]=IAe(n[o])}return{scheme:e.toLowerCase(),parameters:r}}function sL(e){if(!Mv(e,Response))throw new TypeError('"response" must be an instance of Response');const t=e.headers.get("www-authenticate");if(t===null)return;const n=[];for(const{1:i,index:o}of t.matchAll(kAe))n.push([i,o]);return n.length?n.map(([i,o],s,a)=>{const c=a[s+1];let u;return c?u=t.slice(o,c[1]):u=t.slice(o),PAe(i,u)}):void 0}async function DAe(e,t,n,r,i,o){if(!Br(e))throw new TypeError('"accessToken" must be a non-empty string');if(!(n instanceof URL))throw new TypeError('"url" must be an instance of URL');return r=nO(r),(o==null?void 0:o.DPoP)===void 0?r.set("authorization",`Bearer ${e}`):(await AAe(r,o.DPoP,n,t.toUpperCase(),kv({[mE]:o==null?void 0:o[mE]}),e),r.set("authorization",`DPoP ${e}`)),((o==null?void 0:o[x3])||fetch)(n.href,{body:i,headers:Object.fromEntries(r.entries()),method:t,redirect:"manual",signal:o!=null&&o.signal?xAe(o.signal):null}).then(v3)}async function aL(e,t,n,r){Pv(e),Dv(t);const i=xY(e,"userinfo_endpoint",vY(t,r)),o=nO(r==null?void 0:r.headers);return t.userinfo_signed_response_alg?o.set("accept","application/jwt"):(o.set("accept","application/json"),o.append("accept","application/jwt")),DAe(n,"GET",i,o,null,{...r,[mE]:kv(t)})}const FAe=Symbol();function LAe(e){var t;return(t=e.headers.get("content-type"))==null?void 0:t.split(";")[0]}async function BAe(e,t,n,r){if(Pv(e),Dv(t),!Mv(r,Response))throw new TypeError('"response" must be an instance of Response');if(r.status!==200)throw new Ze('"response" is not a conform UserInfo Endpoint response');let i;if(LAe(r)==="application/jwt"){tx(r);const{claims:o,jwt:s}=await CY(await r.text(),jY.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported),E3,kv(t),w3(t),t[pY]).then(qAe.bind(void 0,t.client_id)).then(HAe.bind(void 0,e.issuer));VAe.set(r,s),i=o}else{if(t.userinfo_signed_response_alg)throw new Ze("JWT UserInfo Response expected");tx(r);try{i=await r.json()}catch(o){throw new Ze('failed to parse "response" body as JSON',{cause:o})}}if(!wg(i))throw new Ze('"response" body must be a top level object');if(!Br(i.sub))throw new Ze('"response" body "sub" property must be a non-empty string');switch(n){case FAe:break;default:if(!Br(n))throw new Ze('"expectedSubject" must be a non-empty string');if(i.sub!==n)throw new Ze('unexpected "response" body "sub" value')}return i}async function zAe(e,t,n,r,i,o,s){return await CAe(e,t,i,o),o.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),((s==null?void 0:s[x3])||fetch)(r.href,{body:i,headers:Object.fromEntries(o.entries()),method:n,redirect:"manual",signal:null}).then(v3)}async function UAe(e,t,n,r,i){const o=xY(e,"token_endpoint",vY(t,i));r.set("grant_type",n);const s=nO(i==null?void 0:i.headers);return s.set("accept","application/json"),zAe(e,t,"POST",o,r,s,i)}const wY=new WeakMap,VAe=new WeakMap;function SY(e){if(!e.id_token)return;const t=wY.get(e);if(!t)throw new TypeError('"ref" was already garbage collected or did not resolve from the proper sources');return t[0]}async function EY(e,t,n,r=!1,i=!1){if(Pv(e),Dv(t),!Mv(n,Response))throw new TypeError('"response" must be an instance of Response');if(n.status!==200){let s;if(s=await QAe(n))return s;throw new Ze('"response" is not a conform Token Endpoint response')}tx(n);let o;try{o=await n.json()}catch(s){throw new Ze('failed to parse "response" body as JSON',{cause:s})}if(!wg(o))throw new Ze('"response" body must be a top level object');if(!Br(o.access_token))throw new Ze('"response" body "access_token" property must be a non-empty string');if(!Br(o.token_type))throw new Ze('"response" body "token_type" property must be a non-empty string');if(o.token_type=o.token_type.toLowerCase(),o.token_type!=="dpop"&&o.token_type!=="bearer")throw new ha("unsupported `token_type` value");if(o.expires_in!==void 0&&(typeof o.expires_in!="number"||o.expires_in<=0))throw new Ze('"response" body "expires_in" property must be a positive number');if(!i&&o.refresh_token!==void 0&&!Br(o.refresh_token))throw new Ze('"response" body "refresh_token" property must be a non-empty string');if(o.scope!==void 0&&typeof o.scope!="string")throw new Ze('"response" body "scope" property must be a string');if(!r){if(o.id_token!==void 0&&!Br(o.id_token))throw new Ze('"response" body "id_token" property must be a non-empty string');if(o.id_token){const{claims:s,jwt:a}=await CY(o.id_token,jY.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported),E3,kv(t),w3(t),t[pY]).then(KAe.bind(void 0,["aud","exp","iat","iss","sub"])).then(OY.bind(void 0,e.issuer)).then(NY.bind(void 0,t.client_id));if(Array.isArray(s.aud)&&s.aud.length!==1){if(s.azp===void 0)throw new Ze('ID Token "aud" (audience) claim includes additional untrusted audiences');if(s.azp!==t.client_id)throw new Ze('unexpected ID Token "azp" (authorized party) claim value')}if(s.auth_time!==void 0&&(!Number.isFinite(s.auth_time)||Math.sign(s.auth_time)!==1))throw new Ze('ID Token "auth_time" (authentication time) must be a positive number');wY.set(o,[s,a])}}return o}function qAe(e,t){return t.claims.aud!==void 0?NY(e,t):t}function NY(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw new Ze('unexpected JWT "aud" (audience) claim value')}else if(t.claims.aud!==e)throw new Ze('unexpected JWT "aud" (audience) claim value');return t}function HAe(e,t){return t.claims.iss!==void 0?OY(e,t):t}function OY(e,t){if(t.claims.iss!==e)throw new Ze('unexpected JWT "iss" (issuer) claim value');return t}const _Y=new WeakSet;function WAe(e){return _Y.add(e),e}async function lL(e,t,n,r,i,o){if(Pv(e),Dv(t),!_Y.has(n))throw new TypeError('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()');if(!Br(r))throw new TypeError('"redirectUri" must be a non-empty string');if(!Br(i))throw new TypeError('"codeVerifier" must be a non-empty string');const s=Hl(n,"code");if(!s)throw new Ze('no authorization code in "callbackParameters"');const a=new URLSearchParams(o==null?void 0:o.additionalParameters);return a.set("redirect_uri",r),a.set("code_verifier",i),a.set("code",s),UAe(e,t,"authorization_code",a,o)}const GAe={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation"};function KAe(e,t){for(const n of e)if(t.claims[n]===void 0)throw new Ze(`JWT "${n}" (${GAe[n]}) claim missing`);return t}const YAe=Symbol(),YC=Symbol();async function JAe(e,t,n,r,i){const o=await EY(e,t,n);if(Ep(o))return o;if(!Br(o.id_token))throw new Ze('"response" body "id_token" property must be a non-empty string');i??(i=t.default_max_age??YC);const s=SY(o);if((t.require_auth_time||i!==YC)&&s.auth_time===void 0)throw new Ze('ID Token "auth_time" (authentication time) claim missing');if(i!==YC){if(typeof i!="number"||i<0)throw new TypeError('"maxAge" must be a non-negative number');const a=S3()+kv(t),c=w3(t);if(s.auth_time+i<a-c)throw new Ze("too much time has elapsed since the last End-User authentication")}switch(r){case void 0:case YAe:if(s.nonce!==void 0)throw new Ze('unexpected ID Token "nonce" claim value');break;default:if(!Br(r))throw new TypeError('"expectedNonce" must be a non-empty string');if(s.nonce===void 0)throw new Ze('ID Token "nonce" claim missing');if(s.nonce!==r)throw new Ze('unexpected ID Token "nonce" claim value')}return o}async function XAe(e,t,n){const r=await EY(e,t,n,!0);if(Ep(r))return r;if(r.id_token!==void 0){if(typeof r.id_token=="string"&&r.id_token.length)throw new Ze("Unexpected ID Token returned, use processAuthorizationCodeOpenIDResponse() for OpenID Connect callback processing");delete r.id_token}return r}function tx(e){if(e.bodyUsed)throw new TypeError('"response" body has been used already')}async function QAe(e){if(e.status>399&&e.status<500){tx(e);try{const t=await e.json();if(wg(t)&&typeof t.error=="string"&&t.error.length)return t.error_description!==void 0&&typeof t.error_description!="string"&&delete t.error_description,t.error_uri!==void 0&&typeof t.error_uri!="string"&&delete t.error_uri,t.algs!==void 0&&typeof t.algs!="string"&&delete t.algs,t.scope!==void 0&&typeof t.scope!="string"&&delete t.scope,t}catch{}}}function cL(e){if(typeof e.modulusLength!="number"||e.modulusLength<2048)throw new Ze(`${e.name} modulusLength must be at least 2048 bits`)}function ZAe(e){switch(e){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new ha}}function $Y(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:ZAe(e.algorithm.namedCurve)};case"RSA-PSS":switch(cL(e.algorithm),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new ha}case"RSASSA-PKCS1-v1_5":return cL(e.algorithm),e.algorithm.name;case"Ed448":case"Ed25519":return e.algorithm.name}throw new ha}const E3=Symbol();async function eTe(e,t,n,r){const i=`${e}.${t}`;if(!await crypto.subtle.verify($Y(n),n,r,ld(i)))throw new Ze("JWT signature verification failed")}async function CY(e,t,n,r,i,o){let{0:s,1:a,2:c,length:u}=e.split(".");if(u===5)if(o!==void 0)e=await o(e),{0:s,1:a,2:c,length:u}=e.split(".");else throw new ha("JWE structure JWTs are not supported");if(u!==3)throw new Ze("Invalid JWT");let f;try{f=JSON.parse(ld(xc(s)))}catch(v){throw new Ze("failed to parse JWT Header body as base64url encoded JSON",{cause:v})}if(!wg(f))throw new Ze("JWT Header must be a top level object");if(t(f),f.crit!==void 0)throw new Ze('unexpected JWT "crit" header parameter');const h=xc(c);let p;n!==E3&&(p=await n(f),await eTe(s,a,p,h));let y;try{y=JSON.parse(ld(xc(a)))}catch(v){throw new Ze("failed to parse JWT Payload body as base64url encoded JSON",{cause:v})}if(!wg(y))throw new Ze("JWT Payload must be a top level object");const x=S3()+r;if(y.exp!==void 0){if(typeof y.exp!="number")throw new Ze('unexpected JWT "exp" (expiration time) claim type');if(y.exp<=x-i)throw new Ze('unexpected JWT "exp" (expiration time) claim value, timestamp is <= now()')}if(y.iat!==void 0&&typeof y.iat!="number")throw new Ze('unexpected JWT "iat" (issued at) claim type');if(y.iss!==void 0&&typeof y.iss!="string")throw new Ze('unexpected JWT "iss" (issuer) claim type');if(y.nbf!==void 0){if(typeof y.nbf!="number")throw new Ze('unexpected JWT "nbf" (not before) claim type');if(y.nbf>x+i)throw new Ze('unexpected JWT "nbf" (not before) claim value, timestamp is > now()')}if(y.aud!==void 0&&typeof y.aud!="string"&&!Array.isArray(y.aud))throw new Ze('unexpected JWT "aud" (audience) claim type');return{header:f,claims:y,signature:h,key:p,jwt:e}}function jY(e,t,n){if(e!==void 0){if(n.alg!==e)throw new Ze('unexpected JWT "alg" header parameter');return}if(Array.isArray(t)){if(!t.includes(n.alg))throw new Ze('unexpected JWT "alg" header parameter');return}if(n.alg!=="RS256")throw new Ze('unexpected JWT "alg" header parameter')}function Hl(e,t){const{0:n,length:r}=e.getAll(t);if(r>1)throw new Ze(`"${t}" parameter must be provided only once`);return n}const tTe=Symbol(),KT=Symbol();function uL(e,t,n,r){if(Pv(e),Dv(t),n instanceof URL&&(n=n.searchParams),!(n instanceof URLSearchParams))throw new TypeError('"parameters" must be an instance of URLSearchParams, or URL');if(Hl(n,"response"))throw new Ze('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()');const i=Hl(n,"iss"),o=Hl(n,"state");if(!i&&e.authorization_response_iss_parameter_supported)throw new Ze('response parameter "iss" (issuer) missing');if(i&&i!==e.issuer)throw new Ze('unexpected "iss" (issuer) response parameter value');switch(r){case void 0:case KT:if(o!==void 0)throw new Ze('unexpected "state" response parameter encountered');break;case tTe:break;default:if(!Br(r))throw new Ze('"expectedState" must be a non-empty string');if(o===void 0)throw new Ze('response parameter "state" missing');if(o!==r)throw new Ze('unexpected "state" response parameter value')}const s=Hl(n,"error");if(s)return{error:s,error_description:Hl(n,"error_description"),error_uri:Hl(n,"error_uri")};const a=Hl(n,"id_token"),c=Hl(n,"token");if(a!==void 0||c!==void 0)throw new ha("implicit and hybrid flows are not supported");return WAe(new URLSearchParams(n))}const nTe={type:"oidc",client:{token_endpoint_auth_method:"client_secret_basic"},as:{issuer:"https://accounts.google.com"},profile:async e=>({...e,sub:e.sub,email:e.email})},rTe={type:"oauth2",client:{token_endpoint_auth_method:"client_secret_basic"},as:{code_challenge_methods_supported:["S256"],issuer:"https://github.com",scopes_supported:["read:user","user:email"],scope_separator:" ",authorization_endpoint:"https://github.com/login/oauth/authorize",token_endpoint:"https://github.com/login/oauth/access_token",userinfo_endpoint:"https://api.github.com/user"},profile:async(e,t,n)=>{var r;try{const s=(r=(await(await fetch("https://api.github.com/user/emails",{headers:{"User-Agent":"bknd",Accept:"application/json",Authorization:`Bearer ${n.access_token}`}})).json()).find(a=>a.primary))==null?void 0:r.email;if(!s)throw new Error("No primary email found");return{...e,sub:String(e.id),email:s}}catch{throw new Error("Couldn't retrive github email")}}},AY=Object.freeze(Object.defineProperty({__proto__:null,github:rTe,google:nTe},Symbol.toStringTag,{value:"Module"}));let TY=class{constructor(t,n,r,i){ee(this,"actions",{});this.config=t,this.type=n,this.name=r,this.mode=i,this.config=Er(this.getSchema(),t??{})}registerAction(t,n,r){this.actions[t]={schema:n,preprocess:r}}getType(){return this.type}getMode(){return this.mode}getName(){return this.name}toJSON(t){return{type:this.getType(),config:t?this.config:void 0}}getActions(){return this.actions}};const{Type:JC}=pt,iTe=JC.Object({name:On(Object.keys(AY)),type:On(["oidc","oauth2"],{default:"oauth2"}),client:ab({client_id:JC.String(),client_secret:JC.String()})},{title:"OAuth"});class k0 extends xs{constructor(n,r){super("OAuthCallbackException on "+r);ee(this,"name","OAuthCallbackException");this.error=n,this.step=r}}class YT extends TY{constructor(t){super(t,"oauth",t.name,"external")}getSchema(){return iTe}getIssuerConfig(){return AY[this.config.name]}async getConfig(){const t=this.getIssuerConfig();if(t.type==="oidc"){const n=new URL(t.as.issuer),r=await vAe(n);t.as=await wAe(n,r)}return{...t,type:t.type,client:{...t.client,...this.config.client}}}async getCodeChallenge(t,n,r="S256"){var a;const i=(a=t.code_challenge_methods_supported)==null?void 0:a.includes(r);let o,s;return i&&(o=await SAe(n),s=r),{challenge_supported:i,challenge:o,challenge_method:s}}async request(t){const{client:n,as:r}=await this.getConfig(),{challenge_supported:i,challenge:o,challenge_method:s}=await this.getCodeChallenge(r,t.state);if(!r.authorization_endpoint)throw new Error("authorization_endpoint is not provided");const a=t.scopes??r.scopes_supported;if(!Array.isArray(a)||a.length===0)throw new Error("No scopes provided");if(a.every(f=>{var h;return!((h=r.scopes_supported)!=null&&h.includes(f))}))throw new Error("Invalid scopes provided");const c=r.authorization_endpoint,u={client_id:n.client_id,redirect_uri:t.redirect_uri,response_type:"code",scope:a.join(r.scope_separator??" ")};return i?(u.code_challenge=o,u.code_challenge_method=s):u.nonce=t.state,{url:new URL(c)+"?"+new URLSearchParams(u).toString(),endpoint:c,params:u}}async oidc(t,n){const r=await this.getConfig(),{client:i,as:o,type:s}=r,a=uL(o,i,t,KT);if(Ep(a))throw new k0(a,"validateAuthResponse");const c=await lL(o,i,a,n.redirect_uri,n.state),u=sL(c);if(u)throw new k0(u,"www-authenticate");const{challenge_supported:f,challenge:h}=await this.getCodeChallenge(o,n.state),y=await JAe(o,i,c,f?void 0:h);if(Ep(y))throw new k0(y,"processAuthorizationCodeOpenIDResponse");const x=SY(y),v=await aL(o,i,y.access_token),E=await BAe(o,i,x.sub,v);return await r.profile(E,r,x)}async oauth2(t,n){const r=await this.getConfig(),{client:i,type:o,as:s,profile:a}=r,c=uL(s,i,t,KT);if(Ep(c))throw new k0(c,"validateAuthResponse");const u=await lL(s,i,c,n.redirect_uri,n.state),f=sL(u);if(f)throw new k0(f,"www-authenticate");const h=u.clone();let p={};try{if(p=await XAe(s,i,u),Ep(p))throw new Error}catch{p=await h.json()}const x=await(await aL(s,i,p.access_token)).json();return await r.profile(x,r,p)}async callback(t,n){switch(this.getIssuerConfig().type){case"oidc":return await this.oidc(t,n);case"oauth2":return await this.oauth2(t,n);default:throw new Error("Unsupported type")}}getController(t){const n=new tO,r="secret",i="_challenge",o=async(a,c)=>{await cW(a,i,JSON.stringify(c),r,{secure:!0,httpOnly:!0,sameSite:"Lax",maxAge:60*5})},s=async a=>{if(a.req.header("X-State-Challenge"))return{state:a.req.header("X-State-Challenge"),action:a.req.header("X-State-Action"),mode:"token"};const c=await aW(a,r,i);try{return JSON.parse(c)}catch{throw new Error("Invalid state")}};return n.get("/callback",async a=>{const c=new URL(a.req.url),u=new URLSearchParams(c.search),f=await s(a),h=f.mode==="cookie"?c.origin+c.pathname:c.origin+c.pathname.replace("/callback","/token"),p=await this.callback(u,{redirect_uri:h,state:f.state}),y={email:p.email,strategy_value:p.sub},x=async E=>{if(E.strategy_value!==p.sub)throw new xs("Invalid credentials")},v={redirect:f.redirect,forceJsonResponse:f.mode!=="cookie"};switch(f.action){case"login":return t.resolveLogin(a,this,y,x,v);case"register":return t.resolveRegister(a,this,y,x,v);default:throw new Error("Invalid action")}}),n.get("/token",async a=>{const c=new URL(a.req.url),u=new URLSearchParams(c.search);return a.json({code:u.get("code")??null})}),n.post("/:action",async a=>{const c=a.req.param("action");if(!["login","register"].includes(c))return a.notFound();const u=new URL(a.req.url),f=u.pathname.replace(`/${c}`,""),h=u.origin+f+"/callback",p=new URL(a.req.header("Referer")??"/"),y=tL(),x=await this.request({redirect_uri:h,state:y});return await o(a,{state:y,action:c,redirect:p.toString(),mode:"cookie"}),a.redirect(x.url)}),n.get("/:action",async a=>{const c=a.req.param("action");if(!["login","register"].includes(c))return a.notFound();const u=new URL(a.req.url),f=u.pathname.replace(`/${c}`,""),h=u.origin+f+"/token",p=tL(),y=await this.request({redirect_uri:h,state:p});return co()?a.json({url:y.url,redirect_uri:h,challenge:p,action:c,params:y.params}):a.json({url:y.url,challenge:p,action:c})}),n}toJSON(t){const n=t?this.config:pW(this.config,["secret","client_id"]);return{...super.toJSON(t),config:{...n,type:this.getIssuerConfig().type}}}}const{Type:Wi}=pt,XC=Wi.String({pattern:"^(https?|wss?)://[^\\s/$.?#].[^\\s]*$"}),oTe=ab({type:On(["oidc","oauth2"],{default:"oidc"}),name:Wi.String(),client:ab({client_id:Wi.String(),client_secret:Wi.String(),token_endpoint_auth_method:On(["client_secret_basic"])}),as:ab({issuer:Wi.String(),code_challenge_methods_supported:Wi.Optional(On(["S256"])),scopes_supported:Wi.Optional(Wi.Array(Wi.String())),scope_separator:Wi.Optional(Wi.String({default:" "})),authorization_endpoint:Wi.Optional(XC),token_endpoint:Wi.Optional(XC),userinfo_endpoint:Wi.Optional(XC)})},{title:"Custom OAuth"});class dL extends YT{constructor(t){super(t),this.type="custom_oauth"}getIssuerConfig(){return{...this.config,profile:async t=>t}}getSchema(){return oTe}}const sTe={};function aTe(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return sTe.randomBytes(e)}catch{}throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative")}function lTe(e,t){if(e=e||MY,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var n=[];return n.push("$2b$"),e<10&&n.push("0"),n.push(e.toString()),n.push("$"),n.push(JT(aTe(nx),nx)),n.join("")}function RY(e,t,n){if(typeof t=="function"&&(n=t,t=void 0),typeof e=="function"&&(n=e,e=void 0),typeof e>"u")e=MY;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function r(i){na(function(){try{i(null,lTe(e))}catch(o){i(o)}})}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);r(n)}else return new Promise(function(i,o){r(function(s,a){if(s){o(s);return}i(a)})})}function IY(e,t,n,r){function i(o){typeof e=="string"&&typeof t=="number"?RY(t,function(s,a){gL(e,a,o,r)}):typeof e=="string"&&typeof t=="string"?gL(e,t,o,r):na(o.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,s){i(function(a,c){if(a){s(a);return}o(c)})})}function cTe(e,t){for(var n=e.length^t.length,r=0;r<e.length;++r)n|=e.charCodeAt(r)^t.charCodeAt(r);return n===0}function uTe(e,t,n,r){function i(o){if(typeof e!="string"||typeof t!="string"){na(o.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){na(o.bind(this,null,!1));return}IY(e,t.substring(0,29),function(s,a){s?o(s):o(null,cTe(a,t))},r)}if(n){if(typeof n!="function")throw Error("Illegal callback: "+typeof n);i(n)}else return new Promise(function(o,s){i(function(a,c){if(a){s(a);return}o(c)})})}var na=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function dTe(e){for(var t=0,n=0,r=0;r<e.length;++r)n=e.charCodeAt(r),n<128?t+=1:n<2048?t+=2:(n&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320?(++r,t+=4):t+=3;return t}function fTe(e){for(var t=0,n,r,i=new Array(dTe(e)),o=0,s=e.length;o<s;++o)n=e.charCodeAt(o),n<128?i[t++]=n:n<2048?(i[t++]=n>>6|192,i[t++]=n&63|128):(n&64512)===55296&&((r=e.charCodeAt(o+1))&64512)===56320?(n=65536+((n&1023)<<10)+(r&1023),++o,i[t++]=n>>18|240,i[t++]=n>>12&63|128,i[t++]=n>>6&63|128,i[t++]=n&63|128):(i[t++]=n>>12|224,i[t++]=n>>6&63|128,i[t++]=n&63|128);return i}var np="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),Cu=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function JT(e,t){var n=0,r=[],i,o;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;n<t;){if(i=e[n++]&255,r.push(np[i>>2&63]),i=(i&3)<<4,n>=t){r.push(np[i&63]);break}if(o=e[n++]&255,i|=o>>4&15,r.push(np[i&63]),i=(o&15)<<2,n>=t){r.push(np[i&63]);break}o=e[n++]&255,i|=o>>6&3,r.push(np[i&63]),r.push(np[o&63])}return r.join("")}function hTe(e,t){for(var n=0,r=e.length,i=0,o=[],s,a,c,u,f,h;n<r-1&&i<t&&(h=e.charCodeAt(n++),s=h<Cu.length?Cu[h]:-1,h=e.charCodeAt(n++),a=h<Cu.length?Cu[h]:-1,!(s==-1||a==-1||(f=s<<2>>>0,f|=(a&48)>>4,o.push(String.fromCharCode(f)),++i>=t||n>=r)||(h=e.charCodeAt(n++),c=h<Cu.length?Cu[h]:-1,c==-1)||(f=(a&15)<<4>>>0,f|=(c&60)>>2,o.push(String.fromCharCode(f)),++i>=t||n>=r)));)h=e.charCodeAt(n++),u=h<Cu.length?Cu[h]:-1,f=(c&3)<<6>>>0,f|=u,o.push(String.fromCharCode(f)),++i;var p=[];for(n=0;n<i;n++)p.push(o[n].charCodeAt(0));return p}var nx=16,MY=10,mTe=16,pTe=100,fL=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],hL=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],kY=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function rx(e,t,n,r){var i,o=e[t],s=e[t+1];return o^=n[0],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[1],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[2],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[3],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[4],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[5],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[6],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[7],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[8],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[9],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[10],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[11],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[12],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[13],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[14],i=r[o>>>24],i+=r[256|o>>16&255],i^=r[512|o>>8&255],i+=r[768|o&255],s^=i^n[15],i=r[s>>>24],i+=r[256|s>>16&255],i^=r[512|s>>8&255],i+=r[768|s&255],o^=i^n[16],e[t]=s^n[mTe+1],e[t+1]=o,e}function gp(e,t){for(var n=0,r=0;n<4;++n)r=r<<8|e[t]&255,t=(t+1)%e.length;return{key:r,offp:t}}function mL(e,t,n){for(var r=0,i=[0,0],o=t.length,s=n.length,a,c=0;c<o;c++)a=gp(e,r),r=a.offp,t[c]=t[c]^a.key;for(c=0;c<o;c+=2)i=rx(i,0,t,n),t[c]=i[0],t[c+1]=i[1];for(c=0;c<s;c+=2)i=rx(i,0,t,n),n[c]=i[0],n[c+1]=i[1]}function gTe(e,t,n,r){for(var i=0,o=[0,0],s=n.length,a=r.length,c,u=0;u<s;u++)c=gp(t,i),i=c.offp,n[u]=n[u]^c.key;for(i=0,u=0;u<s;u+=2)c=gp(e,i),i=c.offp,o[0]^=c.key,c=gp(e,i),i=c.offp,o[1]^=c.key,o=rx(o,0,n,r),n[u]=o[0],n[u+1]=o[1];for(u=0;u<a;u+=2)c=gp(e,i),i=c.offp,o[0]^=c.key,c=gp(e,i),i=c.offp,o[1]^=c.key,o=rx(o,0,n,r),r[u]=o[0],r[u+1]=o[1]}function pL(e,t,n,r,i){var o=kY.slice(),s=o.length,a;if(n<4||n>31)if(a=Error("Illegal number of rounds (4-31): "+n),r){na(r.bind(this,a));return}else throw a;if(t.length!==nx)if(a=Error("Illegal salt length: "+t.length+" != "+nx),r){na(r.bind(this,a));return}else throw a;n=1<<n>>>0;var c,u,f=0,h;typeof Int32Array=="function"?(c=new Int32Array(fL),u=new Int32Array(hL)):(c=fL.slice(),u=hL.slice()),gTe(t,e,c,u);function p(){if(i&&i(f/n),f<n)for(var x=Date.now();f<n&&(f=f+1,mL(e,c,u),mL(t,c,u),!(Date.now()-x>pTe)););else{for(f=0;f<64;f++)for(h=0;h<s>>1;h++)rx(o,h<<1,c,u);var v=[];for(f=0;f<s;f++)v.push((o[f]>>24&255)>>>0),v.push((o[f]>>16&255)>>>0),v.push((o[f]>>8&255)>>>0),v.push((o[f]&255)>>>0);if(r){r(null,v);return}else return v}r&&na(p)}if(typeof r<"u")p();else for(var y;;)if(typeof(y=p())<"u")return y||[]}function gL(e,t,n,r){var i;if(typeof e!="string"||typeof t!="string")if(i=Error("Invalid string / salt: Not a string"),n){na(n.bind(this,i));return}else throw i;var o,s;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(i=Error("Invalid salt version: "+t.substring(0,2)),n){na(n.bind(this,i));return}else throw i;if(t.charAt(2)==="$")o="\0",s=3;else{if(o=t.charAt(2),o!=="a"&&o!=="b"&&o!=="y"||t.charAt(3)!=="$")if(i=Error("Invalid salt revision: "+t.substring(2,4)),n){na(n.bind(this,i));return}else throw i;s=4}if(t.charAt(s+2)>"$")if(i=Error("Missing salt rounds"),n){na(n.bind(this,i));return}else throw i;var a=parseInt(t.substring(s,s+1),10)*10,c=parseInt(t.substring(s+1,s+2),10),u=a+c,f=t.substring(s+3,s+25);e+=o>="a"?"\0":"";var h=fTe(e),p=hTe(f,nx);function y(x){var v=[];return v.push("$2"),o>="a"&&v.push(o),v.push("$"),u<10&&v.push("0"),v.push(u.toString()),v.push("$"),v.push(JT(p,p.length)),v.push(JT(x,kY.length*4-1)),v.join("")}if(typeof n>"u")return y(pL(h,p,u));pL(h,p,u,function(x,v){x?n(x,null):n(null,y(v))},r)}const{Type:Bu}=pt,yTe=ab({hashing:On(["plain","sha256","bcrypt"],{default:"sha256"}),rounds:Bu.Optional(Bu.Number({minimum:1,maximum:10}))});class yL extends TY{constructor(t={}){super(t,"password","password","form"),this.registerAction("create",this.getPayloadSchema(),async({password:n,...r})=>({...r,strategy_value:await this.hash(n)}))}getSchema(){return yTe}getPayloadSchema(){return Bu.Object({email:Bu.String({pattern:"^[\\w-\\.\\+_]+@([\\w-]+\\.)+[\\w-]{2,4}$"}),password:Bu.String({minLength:8})})}async hash(t){switch(this.config.hashing){case"sha256":return MG.sha256(t);case"bcrypt":{const n=await RY(this.config.rounds??4);return IY(t,n)}default:return t}}async compare(t,n){switch(this.config.hashing){case"sha256":{const r=await this.hash(n);return t===r}case"bcrypt":return await uTe(n,t)}return!1}verify(t){return async n=>{if(await this.compare(n==null?void 0:n.strategy_value,t)!==!0)throw new VC}}getController(t){const n=new tO,r=Bu.Object({redirect:Bu.Optional(Bu.String())}),i=this.getPayloadSchema();return n.post("/login",x8("query",r),async o=>{try{const s=Er(i,await t.getBody(o),{onError:c=>{throw yt.error("Invalid login payload",[...c]),new VC}}),{redirect:a}=o.req.valid("query");return await t.resolveLogin(o,this,s,this.verify(s.password),{redirect:a})}catch(s){return t.respondWithError(o,s)}}),n.post("/register",x8("query",r),async o=>{try{const{redirect:s}=o.req.valid("query"),{password:a,email:c,...u}=Er(i,await t.getBody(o),{onError:h=>{yt.error("Invalid register payload",[...h]),new VC}}),f={...u,email:c,strategy_value:await this.hash(a)};return await t.resolveRegister(o,this,f,async()=>{},{redirect:s})}catch(s){return t.respondWithError(o,s)}}),n}}const{Type:Sn}=pt,bTe={password:{cls:yL,schema:yL.prototype.getSchema()},oauth:{cls:YT,schema:YT.prototype.getSchema()},custom_oauth:{cls:dL,schema:dL.prototype.getSchema()}},PY=bTe,xTe=EN(PY,(e,t)=>Sn.Object({enabled:Sn.Optional(Sn.Boolean({default:!0})),type:Sn.Const(t,{default:t,readOnly:!0}),config:e.schema},{title:t,additionalProperties:!1})),vTe=Sn.Union(Object.values(xTe)),wTe=Sn.Object({enabled:Sn.Optional(Sn.Boolean({default:!1}))}),DY=Sn.Object({permissions:Sn.Optional(Sn.Array(Sn.String())),is_default:Sn.Optional(Sn.Boolean()),implicit_allow:Sn.Optional(Sn.Boolean())},{additionalProperties:!1}),bL=Sn.Object({enabled:Sn.Boolean({default:!1}),basepath:Sn.String({default:"/api/auth"}),entity_name:Sn.String({default:"users"}),allow_register:Sn.Optional(Sn.Boolean({default:!0})),jwt:rK,cookie:nK,strategies:Sn.Optional(gc(vTe,{title:"Strategies",default:{password:{type:"password",enabled:!0,config:{hashing:"sha256"}}}})),guard:Sn.Optional(wTe),roles:Sn.Optional(gc(DY,{default:{}}))},{title:"Authentication",additionalProperties:!1});class STe{constructor(t){this.appAuth=t}get em(){return this.appAuth.em}get users(){return this.appAuth.getUsersEntity()}async findBy(t,n,r){yt.debug("[AppUserPool:findBy]",{strategy:t,prop:n,value:r}),this.toggleStrategyValueVisibility(!0);const i=await this.em.repo(this.users).findOne({[n]:r,strategy:t});if(this.toggleStrategyValueVisibility(!1),!i.data)throw yt.debug("[AppUserPool]: User not found"),new F_e;return i.data}async create(t,n){if(yt.debug("[AppUserPool:create]",{strategy:t,payload:n}),!("strategy_value"in n))throw new Pu("Profile must have a strategy_value value");const r=this.users.getSelect(void 0,"create"),o={...eE(n,r),strategy:t},s=this.em.mutator(this.users);s.__unstable_toggleSystemEntityCreation(!1),this.toggleStrategyValueVisibility(!0);const a=await s.insertOne(o);if(s.__unstable_toggleSystemEntityCreation(!0),this.toggleStrategyValueVisibility(!1),!a.data)throw new L_e;return yt.debug("[AppUserPool]: User created",a.data),a.data}toggleStrategyValueVisibility(t){const n=(r,i)=>{const o=this.users.field(r);if(i)o.config.hidden=!1,o.config.fillable=!0;else{const s=pE.usersFields.strategy_value.config;o.config.hidden=s.hidden,o.config.fillable=s.fillable}};n("strategy_value",t),n("strategy",t)}}const b2=class b2 extends Rv{constructor(){super(...arguments);ee(this,"_authenticator");ee(this,"cache",{});ee(this,"_controller")}async onBeforeUpdate(n,r){var o,s;const i=bL.properties.jwt.properties.secret.default;return!n.enabled&&r.enabled&&r.jwt.secret===i&&(yt.warn("No JWT secret provided, generating a random one"),r.jwt.secret=nOe(64)),(s=(o=r.strategies)==null?void 0:o.password)!=null&&s.enabled||(yt.warn("Password strategy cannot be disabled."),r.strategies.password.enabled=!0),r}get enabled(){return this.config.enabled}async build(){if(!this.enabled){this.setBuilt();return}const n=yn(this.config.roles??{},(i,o)=>gE.create({name:o,...i}));this.ctx.guard.setRoles(Object.values(n)),this.ctx.guard.setConfig(this.config.guard??{});const r=yn(this.config.strategies??{},(i,o)=>{try{return new PY[i.type].cls(i.config)}catch{throw new Error(`Could not build strategy ${String(o)} with config ${JSON.stringify(i.config)}`)}});this._authenticator=new m$e(r,new STe(this),{jwt:this.config.jwt,cookie:this.config.cookie}),this.registerEntities(),super.setBuilt(),this._controller=new aAe(this),this.ctx.server.route(this.config.basepath,this._controller.getController()),this.ctx.guard.registerPermissions(jie)}isStrategyEnabled(n){var i,o;const r=typeof n=="string"?n:n.getName();return r==="password"?!0:((o=(i=this.config.strategies)==null?void 0:i[r])==null?void 0:o.enabled)??!1}get controller(){if(!this.isBuilt())throw new Error("Can't access controller, AppAuth not built yet");return this._controller}getSchema(){return bL}get authenticator(){return this.throwIfNotBuilt(),this._authenticator}get em(){return this.ctx.em}getUsersEntity(n){const r=this.config.entity_name;return n||!this.em.hasEntity(r)?y3(r,b2.usersFields,void 0,"system"):this.em.entity(r)}registerEntities(){const n=this.getUsersEntity(!0);this.ensureSchema(iY({[n.name]:n},({index:r},{users:i})=>{r(i).on(["email"],!0).on(["strategy"]).on(["strategy_value"])}));try{const r=Object.keys(this.config.roles??{});this.replaceEntityField(n,"role",HT({enum:r}))}catch{}try{const r=Object.keys(this.config.strategies??{});this.replaceEntityField(n,"strategy",HT({enum:r}))}catch{}}async createUser({email:n,password:r,...i}){if(!this.enabled)throw new Error("Cannot create user, auth not enabled");const o="password",a=await this.authenticator.strategy(o).hash(r),c=this.em.mutator(this.config.entity_name);c.__unstable_toggleSystemEntityCreation(!1);const{data:u}=await c.insertOne({...i,email:n,strategy:o,strategy_value:a});return c.__unstable_toggleSystemEntityCreation(!0),u}toJSON(n){if(!this.config.enabled)return this.configDefault;const r=this.authenticator.getStrategies();return{...this.config,...this.authenticator.toJSON(n),strategies:yn(r,i=>({enabled:this.isStrategyEnabled(i),...i.toJSON(n)}))}}};ee(b2,"usersFields",{email:oc().required(),strategy:oc({fillable:["create"],hidden:["update","form"]}).required(),strategy_value:oc({fillable:["create"],hidden:["read","table","update","form"]}).required(),role:oc()});let pE=b2;class xL{constructor(t,n){this.permission=t,this.config=n}}class gE{constructor(t,n=[],r=!1,i=!1){this.name=t,this.permissions=n,this.is_default=r,this.implicit_allow=i}static createWithPermissionNames(t,n,r=!1,i=!1){return new gE(t,n.map(o=>new xL(new Di(o))),r,i)}static create(t){var n;return new gE(t.name,((n=t.permissions)==null?void 0:n.map(r=>new xL(new Di(r))))??[],t.is_default,t.implicit_allow)}}const FY=new Di("auth.user.create"),vL=[{version:1,up:async e=>e},{version:2,up:async(e,{db:t})=>e},{version:3,up:async e=>e},{version:4,up:async(e,{db:t})=>({...e,auth:{...e.auth,basepath:"/api/auth2"}})},{version:5,up:async(e,{db:t})=>{var r;const n=((r=e.server.cors)==null?void 0:r.allow_methods)??[];return Y0(e.server,"cors.allow_methods",[...new Set([...n,"PATCH"])]),e}},{version:6,up:async(e,{db:t})=>e},{version:7,up:async(e,{db:t})=>{const{expiresIn:n,...r}=e.auth.jwt;return{...e,auth:{...e.auth,jwt:r}}}},{version:8,up:async e=>{const t=yn(e.auth.strategies,n=>({...n,enabled:!0}));return{...e,auth:{...e.auth,strategies:t}}}},{version:9,up:async e=>{const{admin:t,...n}=e.server;return{...e,server:n}}}];var cU;(cU=vL[vL.length-1])==null||cU.version;const ETe="__bknd";var NTe=e=>{const n={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...e},r=(i=>typeof i=="string"?i==="*"?()=>i:o=>i===o?o:null:typeof i=="function"?i:o=>i.includes(o)?o:null)(n.origin);return async function(o,s){var u,f;function a(h,p){o.res.headers.set(h,p)}const c=r(o.req.header("origin")||"",o);if(c&&a("Access-Control-Allow-Origin",c),n.origin!=="*"){const h=o.req.header("Vary");h?a("Vary",h):a("Vary","Origin")}if(n.credentials&&a("Access-Control-Allow-Credentials","true"),(u=n.exposeHeaders)!=null&&u.length&&a("Access-Control-Expose-Headers",n.exposeHeaders.join(",")),o.req.method==="OPTIONS"){n.maxAge!=null&&a("Access-Control-Max-Age",n.maxAge.toString()),(f=n.allowMethods)!=null&&f.length&&a("Access-Control-Allow-Methods",n.allowMethods.join(","));let h=n.allowHeaders;if(!(h!=null&&h.length)){const p=o.req.header("Access-Control-Request-Headers");p&&(h=p.split(/\s*,\s*/))}return h!=null&&h.length&&(a("Access-Control-Allow-Headers",h.join(",")),o.res.headers.append("Vary","Access-Control-Request-Headers")),o.res.headers.delete("Content-Length"),o.res.headers.delete("Content-Type"),new Response(null,{headers:o.res.headers,status:204,statusText:"No Content"})}await s()}};const{Type:rp}=pt,wL=["GET","POST","PATCH","PUT","DELETE"],OTe=rp.Object({cors:rp.Object({origin:rp.String({default:"*"}),allow_methods:rp.Array(On(wL),{default:wL,uniqueItems:!0}),allow_headers:rp.Array(rp.String(),{default:["Content-Type","Content-Length","Authorization","Accept"]})},{default:{},additionalProperties:!1})},{additionalProperties:!1});class _Te extends Rv{getRestrictedPaths(){return[]}get client(){return this.ctx.server}getSchema(){return OTe}async build(){this.client.use("*",NTe({origin:this.config.cors.origin,allowMethods:this.config.cors.allow_methods,allowHeaders:this.config.cors.allow_headers})),this.client.use("/",async(t,n)=>{await n(),(!t.finalized||t.res.status===404)&&new URL(t.req.url).pathname==="/"&&(t.res=void 0,t.res=Response.json({bknd:"hello world!"}))}),this.client.onError((t,n)=>(yt.error("[AppServer:onError]",t),t instanceof Response?t:t instanceof Av?n.json(t.toJSON(),t.getSafeErrorAndCode().code):t instanceof xs?n.json(t.toJSON(),t.code):t instanceof Error&&co()?n.json({error:t.message,stack:t.stack},500):n.json({error:t.message},500))),this.setBuilt()}toJSON(t){return this.config}}const $Te=new Di("system.access.api");class CTe extends Iv{constructor(t,n){super(),this.ctx=t,this.config=n}get em(){return this.ctx.em}get guard(){return this.ctx.guard}repoResult(t){let n={};if("meta"in t){const{query:i,...o}=t.meta;n=o,co()&&(n.query=i)}const r={data:t.data,meta:n};return Object.fromEntries(Object.entries(r).filter(([i,o])=>typeof o<"u"&&o!==null))}mutatorResult(t){const n={data:t.data};return Object.fromEntries(Object.entries(n).filter(([r,i])=>i!==void 0))}entityExists(t){try{return!!this.em.entity(t)}catch{return!1}}getController(){const{permission:t,auth:n}=this.middlewares,r=this.create().use(n(),t($Te)),i=this.getEntitiesEnum(this.em);function o(s,a){const c=a;return c.description=s,c}return r.get("/",cn({summary:"Retrieve data configuration",tags:["data"]}),o("data info",s=>s.json(this.em.toJSON()))),r.get("/sync",t(rY),cn({summary:"Sync database schema",tags:["data"]}),on("query",lb({force:qb(),drop:qb()})),async s=>{const{force:a,drop:c}=s.req.valid("query"),u=await this.em.schema().introspect(),f=await this.em.schema().sync({force:a,drop:c});return s.json({tables:u.map(h=>h.name),changes:f})}),r.get("/schema.json",t(Da),cn({summary:"Retrieve data schema",tags:["data"]}),async s=>{const a=`${this.config.basepath}/schema.json`,c=Object.fromEntries(this.em.entities.map(u=>[u.name,{$ref:`${this.config.basepath}/schemas/${u.name}`}]));return s.json({$schema:"https://json-schema.org/draft/2020-12/schema",$id:a,properties:c})}),r.get("/schemas/:entity/:context?",t(Da),cn({summary:"Retrieve entity schema",tags:["data"]}),on("param",sn({entity:i,context:Zr({enum:["create","update"],default:"create"}).optional()})),async s=>{const{entity:a,context:c}=s.req.param();if(!this.entityExists(a))return this.notFound(s);const u=this.em.entity(a),f=u.toSchema({context:c}),p=`${new URL(s.req.url).origin}${this.config.basepath}`,y=`${this.config.basepath}/schemas/${a}`;return s.json({$schema:`${p}/schema.json`,$id:y,title:u.label,$comment:u.config.description,...f})}),r.route("/entity",this.getEntityRoutes()),r.get("/info/:entity",t(Da),cn({summary:"Retrieve entity info",tags:["data"]}),on("param",sn({entity:i})),async s=>{const{entity:a}=s.req.param();if(!this.entityExists(a))return this.notFound(s);const c=this.em.entity(a),u=c.fields.map(h=>h.name),f=h=>h.map(p=>({entity:p.other(c).entity.name,ref:p.other(c).reference}));return s.json({name:c.name,fields:u,relations:{all:f(this.em.relations.relationsOf(c)),listable:f(this.em.relations.listableRelationsOf(c)),source:f(this.em.relations.sourceRelationsOf(c)),target:f(this.em.relations.targetRelationsOf(c))}})}),r.all("*",s=>s.notFound())}getEntityRoutes(){const{permission:t}=this.middlewares,n=this.create(),r=this.getEntitiesEnum(this.em);n.post("/:entity/fn/count",t(Da),cn({summary:"Count entities",tags:["data"]}),on("param",sn({entity:r})),on("json",os.properties.where),async a=>{const{entity:c}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const u=a.req.valid("json"),f=await this.em.repository(c).count(u);return a.json({entity:c,count:f.count})}),n.post("/:entity/fn/exists",t(Da),cn({summary:"Check if entity exists",tags:["data"]}),on("param",sn({entity:r})),on("json",os.properties.where),async a=>{const{entity:c}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const u=a.req.valid("json"),f=await this.em.repository(c).exists(u);return a.json({entity:c,exists:f.exists})});const i=lb({...JS(os.properties,["with"]),sort:Zr({default:"id"}),select:Tp(Zr()),join:Tp(Zr())}),o=(a=Object.keys(os.properties))=>{var c;return[...(c=I_e(i,"query").parameters)==null?void 0:c.filter(u=>a.includes(u.name))]};n.get("/:entity",cn({summary:"Read many",parameters:o(["limit","offset","sort","select","join"]),tags:["data"]}),t(Da),on("param",sn({entity:r})),on("query",os,{skipOpenAPI:!0}),async a=>{const{entity:c}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const u=a.req.valid("query"),f=await this.em.repository(c).findMany(u);return a.json(this.repoResult(f),{status:f.data?200:404})}),n.get("/:entity/:id",cn({summary:"Read one",parameters:o(["offset","sort","select"]),tags:["data"]}),t(Da),on("param",sn({entity:r,id:Zr()})),on("query",os,{skipOpenAPI:!0}),async a=>{const{entity:c,id:u}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const f=a.req.valid("query"),h=await this.em.repository(c).findId(Number(u),f);return a.json(this.repoResult(h),{status:h.data?200:404})}),n.get("/:entity/:id/:reference",cn({summary:"Read many by reference",parameters:o(),tags:["data"]}),t(Da),on("param",sn({entity:r,id:Zr(),reference:Zr()})),on("query",os,{skipOpenAPI:!0}),async a=>{const{entity:c,id:u,reference:f}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const h=a.req.valid("query"),p=await this.em.repository(c).findManyByReference(Number(u),f,h);return a.json(this.repoResult(p),{status:p.data?200:404})});const s=lb({...i.properties,with:sn({})});return n.post("/:entity/query",cn({summary:"Query entities",requestBody:{content:{"application/json":{schema:s.toJSON(),example:s.template({withOptional:!0})}}},tags:["data"]}),t(Da),on("param",sn({entity:r})),on("json",os,{skipOpenAPI:!0}),async a=>{const{entity:c}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const u=await a.req.json(),f=await this.em.repository(c).findMany(u);return a.json(this.repoResult(f),{status:f.data?200:404})}),n.post("/:entity",cn({summary:"Insert one or many",tags:["data"]}),t(eO),on("param",sn({entity:r})),on("json",Cv([sn({}),Tp(sn({}))])),async a=>{const{entity:c}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const u=await a.req.json();if(Array.isArray(u)){const h=await this.em.mutator(c).insertMany(u);return a.json(this.mutatorResult(h),201)}const f=await this.em.mutator(c).insertOne(u);return a.json(this.mutatorResult(f),201)}),n.patch("/:entity",cn({summary:"Update many",tags:["data"]}),t(LT),on("param",sn({entity:r})),on("json",sn({update:sn({}),where:os.properties.where})),async a=>{const{entity:c}=a.req.param();if(!this.entityExists(c))return this.notFound(a);const{update:u,where:f}=await a.req.json(),h=await this.em.mutator(c).updateWhere(u,f);return a.json(this.mutatorResult(h))}),n.patch("/:entity/:id",cn({summary:"Update one",tags:["data"]}),t(LT),on("param",sn({entity:r,id:bd()})),on("json",sn({})),async a=>{const{entity:c,id:u}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const f=await a.req.json(),h=await this.em.mutator(c).updateOne(Number(u),f);return a.json(this.mutatorResult(h))}),n.delete("/:entity/:id",cn({summary:"Delete one",tags:["data"]}),t(BT),on("param",sn({entity:r,id:bd()})),async a=>{const{entity:c,id:u}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const f=await this.em.mutator(c).deleteOne(Number(u));return a.json(this.mutatorResult(f))}),n.delete("/:entity",cn({summary:"Delete many",tags:["data"]}),t(BT),on("param",sn({entity:r})),on("json",os.properties.where),async a=>{const{entity:c}=a.req.valid("param");if(!this.entityExists(c))return this.notFound(a);const u=await a.req.json(),f=await this.em.mutator(c).deleteWhere(u);return a.json(this.mutatorResult(f))}),n}}class jTe extends Rv{async build(){const{entities:t={},relations:n={},indices:r={}}=this.config,i=yn(t,(c,u)=>g3(u,c)),o=c=>{const u=typeof c=="string"?c:c.name,f=i[u];if(f)return f;throw new Error(`[AppData] Entity "${u}" not found`)},s=yn(n,c=>nY(c,o)),a=yn(r,(c,u)=>{const f=o(c.entity),h=c.fields.map(p=>f.field(p));return new YK(f,h,c.unique,u)});for(const c of Object.values(i))this.ctx.em.addEntity(c);for(const c of Object.values(s))this.ctx.em.addRelation(c);for(const c of Object.values(a))this.ctx.em.addIndex(c);this.ctx.server.route(this.basepath,new CTe(this.ctx,this.config).getController()),this.ctx.guard.registerPermissions(Object.values(kje)),this.setBuilt()}async onBeforeUpdate(t,n){const r={from:Object.keys(t.entities??{}),to:Object.keys(n.entities??{})};if(r.from.length-r.to.length>1)throw new Error("Cannot remove more than one entity at a time");return n}getSchema(){return Rje}get em(){return this.throwIfNotBuilt(),this.ctx.em}get basepath(){return this.config.basepath??"/api/data"}getOverwritePaths(){return[/^entities\..*\.config$/,/^entities\..*\.fields\..*\.config$/]}toJSON(t){return{...this.config,...this.em.toJSON()}}}const{Type:vS}=pt;function Q0(e,t){const n=o=>{if(typeof o=="string")switch(e.type){case"object":case"array":return JSON.parse(o);case"number":return Number.parseInt(o);case"boolean":return o==="true"||o==="1"}return o},r=o=>typeof o=="string"?t?t(o):n(o):o,i=e.title??e.type?Mo(e.type):"Raw";return vS.Transform(vS.Union([{title:i,...e},vS.String({title:"Template"})])).Decode(r).Encode(o=>o)}const jb=class jb{constructor(t,n){ee(this,"name");ee(this,"_params");if(typeof t!="string")throw new Error(`Task name must be a string, got ${typeof t}`);this.name=t;const r=this.constructor.schema;if(r===jb.schema&&typeof n<"u"&&Object.keys(n).length>0)throw new Error(`Task "${t}" has no schema defined but params passed: ${JSON.stringify(n)}`);this._params=Er(r,n||{})}get params(){return this._params}clone(t,n){return new this.constructor(t,n)}static async resolveParams(t,n,r={}){const i={},o=new iF(r,{renderKeys:!0});for(const[s,a]of Object.entries(n)){if(a&&iF.hasMarkup(a)){try{i[s]=await o.render(a)}catch(c){throw c instanceof vp?c:new vp("Failed to resolve param",{key:s,value:a,error:c.message},"resolve-params")}continue}i[s]=a}return QH(t,i)}async cloneWithResolvedParams(t){const n=Object.fromEntries(t.entries()),r=await jb.resolveParams(this.constructor.schema,this._params,n);return this.clone(this.name,r)}async run(t=new Map){const n=new Date;let r,i,o,s;const a=performance.now();try{const c=await this.cloneWithResolvedParams(t);s=c.params,r=await c.execute(t),o=!0}catch(c){o=!1,c instanceof vp?i=c.toJSON():i={type:"unknown",message:c.message}}return{start:n,output:r,error:i,success:o,params:s,time:performance.now()-a}}error(t,n){return new vp(t,n,"runtime")}get label(){return this.name}toJSON(){return{type:this.type,params:this.params}}};ee(jb,"schema",vS.Object({}));let Sg=jb;const{Type:ns}=pt,QC=["GET","POST","PUT","PATCH","DELETE"];class N3 extends Sg{constructor(){super(...arguments);ee(this,"type","fetch")}getBody(){const n=this.params.body;if(n){if(typeof n=="string")return n;if(typeof n=="object")return JSON.stringify(n);throw new Error(`Invalid body type: ${typeof n}`)}}async execute(){var s;if(!QC.includes(this.params.method??"GET"))throw this.error("Invalid method",{given:this.params.method,valid:QC});const n=this.getBody(),r=new Headers((s=this.params.headers)==null?void 0:s.map(a=>[a.key,a.value])),i=await fetch(this.params.url,{method:this.params.method??"GET",headers:r,body:n});if(!i.ok)throw this.error("Failed to fetch",{status:i.status,statusText:i.statusText});return await i.json()}}ee(N3,"schema",ns.Object({url:ns.String({pattern:"^(http|https)://"}),method:ns.Optional(Q0(On(QC,{default:"GET"}))),headers:ns.Optional(Q0(ns.Array(ns.Object({key:ns.String(),value:ns.String()})),JSON.parse)),body:ns.Optional(Q0(ns.String())),normal:ns.Optional(Q0(ns.Number(),Number.parseInt))}));const{Type:SL}=pt;class LY extends Sg{constructor(){super(...arguments);ee(this,"type","log")}async execute(){return await new Promise(n=>setTimeout(n,this.params.delay)),yt.log(`[DONE] LogTask: ${this.name}`),!0}}ee(LY,"schema",SL.Object({delay:SL.Number({default:10})}));const{Type:EL}=pt;class BY extends Sg{constructor(){super(...arguments);ee(this,"type","render")}async execute(){return this.params.render}}ee(BY,"schema",EL.Object({render:EL.String()}));class zY{constructor(t,n,r,i){ee(this,"source");ee(this,"target");ee(this,"config");ee(this,"id");this.source=t,this.target=n,this.config=r??{},this.config.condition instanceof Va||(this.config.condition=Va.default()),this.id=i??rOe()}get condition(){return this.config.condition}get max_retries(){return this.config.max_retries??0}toJSON(){var t;return Lb({source:this.source.name,target:this.target.name,config:{...this.config,condition:(t=this.config.condition)==null?void 0:t.toJSON()}})}}class Va{constructor(t,n="",r=void 0){this.type=t,this.path=n,this.value=r}static default(){return Va.success()}static success(){return new Va("success")}static error(){return new Va("error")}static matches(t,n){if(typeof t!="string"||t.length===0)throw new Error("Invalid path");return new Va("matches",t,n)}isMet(t){switch(this.type){case"success":return t.success;case"error":return t.success===!1;case"matches":return Vb(t.output,this.path)===this.value}}sameAs(t=Va.default()){return this.type===t.type&&this.path===t.path&&this.value===t.value}toJSON(){return{type:this.type,path:this.path.length===0?void 0:this.path,value:this.value}}static fromObject(t){return new Va(t.type,t.path,t.value)}}class wS extends Bi{task(){return this.params.task}getState(){return this.succeeded()?"success":this.failed()?"failed":this.isStart()?"running":"idle"}isStart(){return this.params.end===void 0}isEnd(){return!this.isStart()}succeeded(){var t;return this.isEnd()&&((t=this.params.result)==null?void 0:t.success)}failed(){var t;return this.isEnd()&&!((t=this.params.result)!=null&&t.success)}}ee(wS,"slug","flow-execution-event");class SS extends Bi{}ee(SS,"slug","flow-execution-state");const x2=class x2{constructor(t){ee(this,"flow");ee(this,"started_at");ee(this,"finished_at");ee(this,"logs",[]);ee(this,"inputs",new Map);ee(this,"queue",[]);ee(this,"emgr");this.flow=t,this.logs=[],this.queue=[this.flow.startTask],this.emgr=new jv(x2.Events)}subscribe(t){this.emgr.onAny(t)}async onDone(t,n){const r=new Date;if(this.logs.push({...n,task:t,end:r}),this.inputs.set(t.name,n),this.flow.respondingTask===t){this.queue=[];return}this.queue=this.queue.filter(o=>o!==t);const i=this.flow.task(t).getOutConnections(n).filter(o=>{var u;const s=o.target,a=this.logs.filter(f=>f.task===s&&f.success).length,c=((u=this.flow.task(s).getInConnections().find(f=>f.source===t))==null?void 0:u.max_retries)??0;if(a>c)throw new Error(`Task "${s.name}" reached max retries (${a}/${c})`);return this.flow.task(s).getInTasks(!0).every(f=>this.logs.some(h=>h.task===f&&h.end!==void 0))}).map(o=>o.target);this.queue.push(...i)}__getLastTaskLog(t){var n;for(let r=this.logs.length-1;r>=0;r--)if(((n=this.logs[r])==null?void 0:n.task)===t)return this.logs[r];return null}async run(){const t=this.queue;if(t.length===0)return;const n=t.map(async r=>{await this.emgr.emit(new wS({task:r}));const i=await r.run(this.inputs);return await this.emgr.emit(new wS({task:r,result:i,end:new Date})),await this.onDone(r,i),i});try{return await Promise.all(n),this.run()}catch(r){throw yt.error("RuntimeExecutor: error",r),r}}async start(t){await this.emgr.emit(new SS({execution:this,state:"started"})),this.inputs.set("flow",{start:new Date,output:t,error:void 0,success:!0,params:t}),this.started_at=new Date,await this.run(),this.finished_at=new Date,await this.emgr.emit(new SS({execution:this,state:"ended"}))}finished(){return this.finished_at!==void 0}errorCount(){return this.logs.filter(t=>!t.success).length}hasErrors(){return this.errorCount()>0}getErrorLogs(){return this.logs.filter(t=>!t.success)}getErrors(){return this.getErrorLogs().map(t=>t.error)}getResponse(){let t=this.flow.respondingTask;t||(t=this.flow.tasks[this.flow.tasks.length-1]);const n=this.__getLastTaskLog(t);if(n)return n.output}};ee(x2,"Events",{ExecutionEvent:wS,ExecutionState:SS});let XT=x2;class O3{constructor(t,n){ee(this,"flow");ee(this,"source");this.flow=t,this.source=n}task(t){return new O3(this.flow,t)}asInputFor(t,n,r){const i=this.getDepth(),o=this.getOutConnections(),s=o.map(c=>c.condition),a=o.some(c=>this.task(c.target).getDepth()<=i);if(s.length>0&&a&&this.getOutConnections().some(c=>c.condition.sameAs(n)))throw new Error("Task cannot be connected to a deeper task with the same condition");this.flow.addConnection(new zY(this.source,t,{condition:n,max_retries:r}))}asOutputFor(t,n){this.task(t).asInputFor(this.source,n)}getNext(){return this.flow.connections.filter(t=>t.source===this.source).map(t=>t.target)}getDepth(){return this.flow.getSequence().findIndex(t=>t.includes(this.source))}getInConnections(t=!1){if(t){const n=this.getDepth();return this.getInConnections().filter(r=>r.target===this.source&&this.task(r.source).getDepth()<n)}return this.flow.connections.filter(n=>n.target===this.source)}getInTasks(t=!1){if(t){const n=this.getDepth();return this.getInConnections().map(r=>r.source).filter(r=>this.task(r).getDepth()<n)}return this.getInConnections().map(n=>n.source)}getOutConnections(t){return t?this.flow.connections.filter(n=>n.source===this.source&&n.condition.isMet(t)):this.flow.connections.filter(n=>n.source===this.source)}getOutTasks(t){return this.getOutConnections(t).map(n=>n.target)}}const{Type:ATe}=pt;class _h{constructor(t){ee(this,"executions",[]);ee(this,"type","manual");ee(this,"config");const n=this.constructor.schema;this.config=Er(n,t??{})}async register(t,...n){this.executions.push(await t.start())}toJSON(){return{type:this.type,config:this.config}}}ee(_h,"schema",ATe.Object({mode:On(["sync","async"],{default:"async"})}));class Fv{constructor(t,n,r,i){ee(this,"name");ee(this,"trigger");ee(this,"tasks",[]);ee(this,"connections",[]);ee(this,"respondingTask");ee(this,"startTask");ee(this,"sequence");this.name=t,this.trigger=i??new _h,n.map(o=>this.addTask(o)),this.connections=r||[],this.startTask=n[0],this.sequence=this.getSequence()}setStartTask(t){return this.startTask=t,this.sequence=this.getSequence(),this}getSequence(t=[]){if(t.length===0)return t.push([this.startTask]),this.getSequence(t);const n=t[t.length-1],r=[];return n==null||n.forEach(i=>{this.task(i).getOutTasks().forEach(s=>{t.some(a=>a.includes(s))||r.push(s)})}),r.length===0?t:(t.push(r),this.getSequence(t))}addTask(t){if(this.tasks.includes(t))throw new Error("Task already defined");if(this.tasks.some(n=>n.name===t.name))throw new Error(`Task with name "${t.name}" already defined. Use a unique name.`);return this.tasks.push(t),this}setRespondingTask(t){if(!this.tasks.includes(t))throw new Error(`Cannot set task "${t.name}" as responding, not registered.`);return this.respondingTask=t,this}addConnection(t){if(this.connections.some(r=>r.source===t.source&&r.target===t.target&&r.condition[0]===t.condition[0]&&r.condition[1]===t.condition[1]))throw new Error("Connection already defined");return this.connections.push(t),this}task(t){return new O3(this,t)}createExecution(){return this.sequence=this.getSequence(),new XT(this)}async start(t=void 0){const n=this.createExecution();return await n.start(t),n}toJSON(){var t,n;return{trigger:this.trigger.toJSON(),tasks:Object.fromEntries(this.tasks.map(r=>[r.name,r.toJSON()])),connections:Object.fromEntries(this.connections.map(r=>[r.id,r.toJSON()])),start_task:(t=this.startTask)==null?void 0:t.name,responding_task:(n=this.respondingTask)==null?void 0:n.name}}static fromObject(t,n,r){var c;const i=yn(n.tasks??{},(u,f)=>{const h=r[u.type];if(!h)throw new Error(`Task ${f} not found in taskMap`);try{const p=h.cls;return new p(f,u.params)}catch(p){throw yt.error("Error creating task",f,u.type,u,h),new Error(`Error creating task ${u.type}: ${p.message}`)}}),o=yn(n.connections??{},(u,f)=>{const h=u.config.condition?Va.fromObject(u.config.condition):void 0;return new zY(i[u.source],i[u.target],{...u.config,condition:h},f)});let s;if(n.trigger){const u=(c=$3[n.trigger.type])==null?void 0:c.cls;u&&(s=new u(n.trigger.config))}const a=new Fv(t,Object.values(i),Object.values(o),s);return a.startTask=n.start_task?i[n.start_task]:null,n.responding_task&&(a.respondingTask=i[n.responding_task]),a}}const{Type:ip}=pt;class UY extends Sg{constructor(){super(...arguments);ee(this,"type","subflow")}async execute(){const n=this.params.flow;if(!(n instanceof Fv))throw new Error("Invalid flow provided");if(this.params.loop){const i=Array.isArray(this.params.input)?this.params.input:[this.params.input],o=[];for(const s of i){const a=n.createExecution();await a.start(s),o.push(await a.getResponse())}return o}const r=n.createExecution();return await r.start(this.params.input),r.getResponse()}}ee(UY,"schema",ip.Object({flow:ip.Any(),input:ip.Optional(Q0(ip.Any(),JSON.parse)),loop:ip.Optional(ip.Boolean())}));const{Type:ZC}=pt;class VY extends _h{constructor(){super(...arguments);ee(this,"type","event")}async register(n,r){if(!r.eventExists(this.config.event))throw new Error(`Event ${this.config.event} is not registered.`);r.on(this.config.event,async i=>{const o=n.createExecution();this.executions.push(o);try{await o.start(i.params)}catch(s){yt.error(s)}},this.config.mode)}}ee(VY,"schema",ZC.Composite([_h.schema,ZC.Object({event:ZC.String()})]));const{Type:ej}=pt,TTe=["GET","POST","PUT","PATCH","DELETE"];class _3 extends _h{constructor(){super(...arguments);ee(this,"type","http")}async register(n,r){const i=this.config.method.toLowerCase();r[i](this.config.path,async o=>{const s=o.req.raw,a=o[this.config.response_type],c=n.createExecution();if(this.executions.push(c),this.config.mode==="sync"){await c.start(s);const u=c.getResponse(),f=c.getErrors();return f.length>0?o.json({success:!1,errors:f}):a(u)}return c.start(s),o.json({success:!0})})}}ee(_3,"schema",ej.Composite([_h.schema,ej.Object({path:ej.String({pattern:"^/.*$"}),method:On(TTe,{default:"GET"}),response_type:On(["json","text","html"],{default:"json"})})]));const $3={manual:{cls:_h},event:{cls:VY},http:{cls:_3}},qY={fetch:{cls:N3},log:{cls:LY},render:{cls:BY},subflow:{cls:UY}},{Type:un}=pt,HY={...qY},WY=$3,GY=yn(HY,(e,t)=>un.Object({type:yc(t),params:e.cls.schema},{title:String(t),additionalProperties:!1}));un.Union(Object.values(GY));const RTe=yn(WY,(e,t)=>un.Object({type:yc(t),config:e.cls.schema},{title:String(t),additionalProperties:!1})),ITe=un.Object({source:un.String(),target:un.String(),config:un.Object({condition:un.Optional(un.Union([un.Object({type:yc("success")},{additionalProperties:!1,title:"success"}),un.Object({type:yc("error")},{additionalProperties:!1,title:"error"}),un.Object({type:yc("matches"),path:un.String(),value:un.String()},{additionalProperties:!1,title:"matches"})])),max_retries:un.Optional(un.Number())},{default:{},additionalProperties:!1})}),KY=un.Object({trigger:un.Union(Object.values(RTe)),tasks:un.Optional(gc(un.Union(Object.values(GY)))),connections:un.Optional(gc(ITe)),start_task:un.Optional(un.String()),responding_task:un.Optional(un.String())},{additionalProperties:!1}),MTe=un.Object({basepath:un.String({default:"/api/flows"}),flows:gc(KY,{default:{}})},{default:{},additionalProperties:!1});class kTe extends Rv{constructor(){super(...arguments);ee(this,"flows",{})}getSchema(){return MTe}getFlowInfo(n){return{...n.toJSON(),tasks:n.tasks.length,connections:n.connections}}async build(){const n=yn(this.config.flows,(i,o)=>Fv.fromObject(o,i,HY));this.flows=n;const r=new tO;r.get("/",async i=>{const o=yn(this.flows,s=>this.getFlowInfo(s));return i.json(o)}),r.get("/flow/:name",async i=>{var s;const o=i.req.param("name");return i.json((s=this.flows[o])==null?void 0:s.toJSON())}),r.get("/flow/:name/run",async i=>{const o=i.req.param("name"),s=this.flows[o],a=s.createExecution(),c=performance.now();await a.start();const u=performance.now()-c,f=a.getErrors();return i.json({success:f.length===0,time:u,errors:f,response:a.getResponse(),flow:this.getFlowInfo(s),logs:a.logs})}),r.all("*",i=>i.notFound()),this.ctx.server.route(this.config.basepath,r);for(const[i,o]of Object.entries(this.flows)){const s=o.trigger;switch(!0){case s instanceof _3:await s.register(o,this.ctx.server);break}}this.setBuilt()}toJSON(){return{...this.config,flows:yn(this.flows,n=>n.toJSON())}}}class C3 extends Bi{validate(t){if(typeof t!="object")throw new WN("object",typeof t);return this.clone({...t,...this.params})}}ee(C3,"slug","file-uploaded");class j3 extends Bi{}ee(j3,"slug","file-deleted");class A3 extends Bi{}ee(A3,"slug","file-access");const PTe=Object.freeze(Object.defineProperty({__proto__:null,FileAccessEvent:A3,FileDeletedEvent:j3,FileUploadedEvent:C3},Symbol.toStringTag,{value:"Module"}));var Ua;const v2=class v2{constructor(t,n={},r){Ve(this,Ua);ee(this,"emgr");ee(this,"config");Le(this,Ua,t),this.config={...n,body_max_size:n.body_max_size},this.emgr=r??new jv,this.emgr.registerEvents(v2.Events)}getAdapter(){return G(this,Ua)}async objectMetadata(t){return await G(this,Ua).getObjectMeta(t)}getConfig(){return this.config}async uploadFile(t,n,r){const i=await G(this,Ua).putObject(n,t);if(typeof i>"u")throw new Error("Failed to upload file");let o={name:n,meta:{size:0,type:"application/octet-stream"},etag:typeof i=="string"?i:""};if(typeof i=="object"?o=i:Jh(t)&&(o.meta.size=t.size,o.meta.type=t.type),!lG(o.meta.type,["application/octet-stream","application/json"])){const a=await G(this,Ua).getObjectMeta(n);if(!a)throw new Error("Failed to get object meta");o.meta=a}if(o.meta.type.startsWith("image")&&(!o.meta.width||!o.meta.height))try{const a=await qEe(t);o.meta={...o.meta,...a}}catch(a){yt.warn("Failed to get image dimensions",a)}const s={file:t,...o,state:{name:o.name,path:o.name}};if(!r){const a=await this.emgr.emit(new C3(s));if(a.returned)return a.params}return s}async deleteFile(t){await G(this,Ua).deleteObject(t),await this.emgr.emit(new j3({name:t}))}async fileExists(t){return await G(this,Ua).objectExists(t)}};Ua=new WeakMap,ee(v2,"Events",PTe);let pb=v2;const NL=Symbol.for("bknd:storage");class YY{constructor(){this[NL]=!0}static isAdapter(t){return t?t[NL]===!0:!1}}const{Type:op}=pt,OL=op.Object({cloud_name:op.String(),api_key:op.String(),api_secret:op.String(),upload_preset:op.Optional(op.String())},{title:"Cloudinary",description:"Cloudinary media storage"});class JY extends YY{constructor(n){super();ee(this,"config");this.config=Er(OL,n)}getSchema(){return OL}getMimeType(n){switch(!0){case(n.format==="jpeg"||n.format==="jpg"):return"image/jpeg"}return`${n.resource_type}/${n.format}`}getName(){return"cloudinary"}getAuthorizationHeader(){return{Authorization:`Basic ${btoa(`${this.config.api_key}:${this.config.api_secret}`)}`}}async putObject(n,r){const i=n.replace(/\.[a-z0-9]{2,5}$/,""),o=new FormData;o.append("file",r),o.append("public_id",i),o.append("api_key",this.config.api_key),this.config.upload_preset&&o.append("upload_preset",this.config.upload_preset);const s=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/auto/upload`,{method:"POST",headers:{Accept:"application/json"},body:o});if(!s.ok)return;const a=await s.json();return{name:a.public_id+"."+a.format,etag:a.etag,meta:{type:this.getMimeType(a),size:a.bytes}}}async listObjects(n){const r=await fetch(`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/resources/search`,{method:"GET",headers:{Accept:"application/json","Cache-Control":"no-cache",...this.getAuthorizationHeader()}});if(!r.ok)throw new Error("Failed to list objects");return(await r.json()).resources.map(s=>({key:s.public_id,last_modified:new Date(s.uploaded_at),size:s.bytes}))}async headObject(n){const r=this.getObjectUrl(n);return await fetch(r,{method:"HEAD",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0",Range:"bytes=0-1"}})}async objectExists(n){return(await this.headObject(n)).ok}async getObjectMeta(n){var i;const r=await this.headObject(n);if(r.ok){const o=r.headers.get("content-type"),s=Number((i=r.headers.get("content-range"))==null?void 0:i.split("/")[1]);return{type:o,size:s}}throw new Error("Cannot get object meta")}guessType(n){const r={image:["jpg","jpeg","png","gif","webp","svg"],video:["mp4","webm","ogg"]},i=n.split(".").pop();return Object.keys(r).find(o=>r[o].includes(i))}getObjectUrl(n){const r=this.guessType(n)??"image";return`https://res.cloudinary.com/${this.config.cloud_name}/${r}/upload/${n}`}async generateSignature(n,r){const i=n.timestamp??Math.floor(Date.now()/1e3),o=Object.entries({...n,timestamp:i}).sort(([a],[c])=>a.localeCompare(c)).map(([a,c])=>`${a}=${c}`).join("&");return{signature:await MG.sha1(o+(r??this.config.api_secret)),timestamp:i}}filenameToPublicId(n){return n.split(".").slice(0,-1).join(".")}async getObject(n,r){const i=await fetch(this.getObjectUrl(n),{method:"GET",headers:obe(r,["range"])});return new Response(i.body,{status:i.status,statusText:i.statusText,headers:i.headers})}async deleteObject(n){const r=this.guessType(n)??"image",i=this.filenameToPublicId(n),{timestamp:o,signature:s}=await this.generateSignature({public_id:i}),a=new FormData;a.append("public_id",i),a.append("timestamp",String(o)),a.append("signature",s),a.append("api_key",this.config.api_key);const c=`https://api.cloudinary.com/v1_1/${this.config.cloud_name}/${r}/destroy`,u=await fetch(c,{headers:{Accept:"application/json","Cache-Control":"no-cache",...this.getAuthorizationHeader()},method:"POST",body:a});if(!u.ok)throw new Error(`Failed to delete object: ${u.status} ${u.statusText}`)}toJSON(n){return{type:"cloudinary",config:n?this.config:{cloud_name:this.config.cloud_name}}}}const{Type:R1}=pt,_L=R1.Object({access_key:R1.String(),secret_access_key:R1.String(),url:R1.String({pattern:"^https?://(?:.*)?[^/.]+$",description:"URL to S3 compatible endpoint without trailing slash",examples:["https://{account_id}.r2.cloudflarestorage.com/{bucket}","https://{bucket}.s3.{region}.amazonaws.com"]})},{title:"AWS S3",description:"AWS S3 or compatible storage"});var ng;class XY extends YY{constructor(n){super();Ve(this,ng);ee(this,"client");this.client=new gxe({accessKeyId:n.access_key,secretAccessKey:n.secret_access_key,retries:co()?0:10},{convertParams:"pascalToKebab",responseType:"xml"}),Le(this,ng,Er(_L,n))}getName(){return"s3"}getSchema(){return _L}getUrl(n="",r={}){let i=this.getObjectUrl("").slice(0,-1);return n.length>0&&(i+=`/${n}`),this.client.getUrl(i,r)}getObjectUrl(n){return`${G(this,ng).url}/${n}`}async listObjects(n=""){const r={ListType:2,Prefix:n},i=this.getUrl("",r),o=await this.client.fetchJson(i,{method:"GET"}),{Contents:s}=o.ListBucketResult,a=s?Array.isArray(s)?s:[s]:[];return us(a,(u,f)=>{f.Key&&f.LastModified&&f.Size&&u.push({key:f.Key,last_modified:f.LastModified,size:f.Size})},[])}async putObject(n,r,i={}){const o=this.getUrl(n,{}),s=await this.client.fetch(o,{method:"PUT",body:r,headers:Jh(r)?{"Content-Length":String(r.size)}:{}});if(!s.ok)throw new Error(`Failed to upload object: ${s.status} ${s.statusText}`);return String(s.headers.get("etag"))}async headObject(n,r={}){const i=this.getUrl(n,{});return await this.client.fetch(i,{method:"HEAD",headers:{Range:"bytes=0-1"}})}async getObjectMeta(n){var s;const r=await this.headObject(n),i=String(r.headers.get("content-type")),o=Number(String((s=r.headers.get("content-range"))==null?void 0:s.split("/")[1]));return{type:i,size:o}}async objectExists(n,r={}){return(await this.headObject(n)).ok}async getObject(n,r){const i=this.getUrl(n),o=await this.client.fetch(i,{method:"GET",headers:sbe(r,["if-none-match","accept-encoding","accept","if-modified-since"])});return new Response(o.body,{status:o.status,statusText:o.statusText,headers:o.headers})}async deleteObject(n,r={}){const i=this.getUrl(n,r);await this.client.fetch(i,{method:"DELETE"})}toJSON(n){return{type:this.getName(),config:n?G(this,ng):void 0}}}ng=new WeakMap;const QY=new Di("media.file.read"),ZY=new Di("media.file.list"),QT=new Di("media.file.upload"),eJ=new Di("media.file.delete"),DTe=Object.freeze(Object.defineProperty({__proto__:null,deleteFile:eJ,listFiles:ZY,readFile:QY,uploadFile:QT},Symbol.toStringTag,{value:"Module"}));function FTe(e){var n;if(!e.includes("."))return;const t=e.split(".");return(n=t[t.length-1])==null?void 0:n.toLowerCase()}function $L(e,t=16){const n=typeof e=="string"?e:e.name;if(typeof n!="string")throw console.error("Couldn't extract filename from",e),new Error("Invalid file name");let r=FTe(n);if(!r&&Jh(e)&&e.type){const i=cG(e.type);i.length>0&&(r=i)}return[hW(t),r].filter(Boolean).join(".")}const LTe=new ROe(e=>({cls:e,schema:e.prototype.getSchema()})).register("s3",XY).register("cloudinary",JY);XY.prototype.getSchema(),JY.prototype.getSchema();class BTe extends Iv{constructor(t){super(),this.media=t}getStorageAdapter(){return this.getStorage().getAdapter()}getStorage(){return this.media.storage}getController(){const{auth:t,permission:n}=this.middlewares,r=this.create().use(t()),i=this.getEntitiesEnum(this.media.em);r.get("/files",cn({summary:"Get the list of files",tags:["media"]}),n(ZY),async a=>{const c=await this.getStorageAdapter().listObjects();return a.json(c)}),r.get("/file/:filename",cn({summary:"Get a file by name",tags:["media"]}),n(QY),async a=>{const{filename:c}=a.req.param();if(!c)throw new Error("No file name provided");await this.getStorage().emgr.emit(new A3({name:c}));const u=await this.getStorageAdapter().getObject(c,a.req.raw.headers),f=new Headers(u.headers);return f.set("Cache-Control","public, max-age=31536000, immutable"),new Response(u.body,{status:u.status,statusText:u.statusText,headers:f})}),r.delete("/file/:filename",cn({summary:"Delete a file by name",tags:["media"]}),n(eJ),async a=>{const{filename:c}=a.req.param();if(!c)throw new Error("No file name provided");return await this.getStorage().deleteFile(c),a.json({message:"File deleted"})});const o=this.getStorage().getConfig().body_max_size??Number.POSITIVE_INFINITY;co()&&r.post("/inspect",cn({summary:"Inspect a file",tags:["media"]}),async a=>{const c=await UC(a);return a.json({type:c==null?void 0:c.type,name:c==null?void 0:c.name,size:c==null?void 0:c.size})});const s={content:{"multipart/form-data":{schema:{type:"object",properties:{file:{type:"string",format:"binary"}},required:["file"]}},"application/octet-stream":{schema:{type:"string",format:"binary"}}}};return r.post("/upload/:filename?",cn({summary:"Upload a file",tags:["media"],requestBody:s}),on("param",sn({filename:Zr().optional()})),n(QT),async a=>{const c=a.req.param("filename"),u=await UC(a);if(!u)return a.json({error:"No file provided"},Cn.BAD_REQUEST);if(u.size>o)return a.json({error:`Max size (${o} bytes) exceeded`},Cn.PAYLOAD_TOO_LARGE);const f=c??$L(u),h=await this.getStorage().uploadFile(u,f);return a.json(h,Cn.CREATED)}),r.post("/entity/:entity/:id/:field",cn({summary:"Add a file to an entity",tags:["media"],requestBody:s}),on("param",sn({entity:i,id:bd(),field:Zr()})),on("query",sn({overwrite:qb().optional()})),n([eO,QT]),async a=>{const c=a.req.param("entity"),u=a.req.param("field"),f=Number.parseInt(a.req.param("id")),h=this.media.em.entity(c);if(!h)return a.json({error:`Entity "${c}" not found`},Cn.NOT_FOUND);const p=h.field(u);if(!p||!(p instanceof Zb))return a.json({error:`Invalid field "${u}"`},Cn.BAD_REQUEST);const y=this.media.getMediaEntity().name,x=`${c}.${u}`,v={scope:u,reference:x,entity_id:f},E=p.getMaxItems(),N=[];if(E){const{overwrite:I}=a.req.valid("query"),{count:P}=await this.media.em.repository(y).count(v);if(P>=E){if(!I)return a.json({error:`Max items (${E}) reached`},Cn.BAD_REQUEST);if(P>E)return a.json({error:`Max items (${E}) exceeded already with ${P} items.`},Cn.UNPROCESSABLE_ENTITY);const z=await this.media.em.repo(y).findMany({select:["path"],where:v,sort:{by:"id",dir:"asc"},limit:P-E+1});z.data&&z.data.length>0&&z.data.map(B=>N.push(B.path))}}const{exists:O}=await this.media.em.repository(h).exists({id:f});if(!O)return a.json({error:`Entity "${c}" with ID "${f}" doesn't exist found`},Cn.NOT_FOUND);const _=await UC(a);if(!_)return a.json({error:"No file provided"},Cn.BAD_REQUEST);if(_.size>o)return a.json({error:`Max size (${o} bytes) exceeded`},Cn.PAYLOAD_TOO_LARGE);const C=$L(_),j=await this.getStorage().uploadFile(_,C,!0),A=this.media.em.mutator(y);A.__unstable_toggleSystemEntityCreation(!1);const R=await A.insertOne({...this.media.uploadedEventDataToMediaPayload(j),...v});if(A.__unstable_toggleSystemEntityCreation(!0),N.length>0)for(const I of N)await this.getStorage().deleteFile(I);return a.json({ok:!0,result:R.data,...j},Cn.CREATED)}),r.all("*",a=>a.notFound())}}const zTe={media:LTe},{Type:ka}=pt,tJ=zTe.media;function nJ(){const e=EN(tJ.all(),(n,r)=>{var i,o;return ka.Object({type:yc(r),config:n.schema},{title:((i=n.schema)==null?void 0:i.title)??r,description:(o=n.schema)==null?void 0:o.description,additionalProperties:!1})}),t=ka.Union(Object.values(e));return ka.Object({enabled:ka.Boolean({default:!1}),basepath:ka.String({default:"/api/media"}),entity_name:ka.String({default:"media"}),storage:ka.Object({body_max_size:ka.Optional(ka.Number({description:"Max size of the body in bytes. Leave blank for unlimited."}))},{default:{}}),adapter:ka.Optional(t)},{additionalProperties:!1})}nJ();const w2=class w2 extends Rv{constructor(){super(...arguments);ee(this,"_storage")}async build(){if(!this.config.enabled){this.setBuilt();return}if(!this.config.adapter){console.info("No storage adapter provided, skip building media.");return}let n;try{const{type:r,config:i}=this.config.adapter,o=tJ.get(r).cls;n=new o(i),this._storage=new pb(n,this.config.storage,this.ctx.emgr),this.setBuilt(),this.setupListeners(),this.ctx.guard.registerPermissions(DTe),this.ctx.server.route(this.basepath,new BTe(this).getController());const s=this.getMediaEntity(!0);this.ensureSchema(iY({[s.name]:s},({index:a},{media:c})=>{a(c).on(["path"],!0).on(["reference"]).on(["entity_id"])}))}catch(r){throw console.error(r),new Error(`Could not build adapter with config ${JSON.stringify(this.config.adapter)}`)}}getSchema(){return nJ()}get basepath(){return this.config.basepath}get storage(){return this.throwIfNotBuilt(),this._storage}uploadedEventDataToMediaPayload(n){const r={};return n.meta.width&&n.meta.height&&(r.width=n.meta.width,r.height=n.meta.height),{path:n.name,mime_type:n.meta.type,size:n.meta.size,etag:n.etag,modified_at:new Date,metadata:r}}getMediaEntity(n){const r=this.config.entity_name;return n||!this.em.hasEntity(r)?y3(r,w2.mediaFields,void 0,"system"):this.em.entity(r)}get em(){return this.ctx.em}setupListeners(){const{emgr:n,em:r}=this.ctx,i=this.getMediaEntity().name;n.onEvent(pb.Events.FileUploadedEvent,async o=>{const s=r.mutator(i);s.__unstable_toggleSystemEntityCreation(!1);const a=this.uploadedEventDataToMediaPayload(o.params),{data:c}=await s.insertOne(a);return s.__unstable_toggleSystemEntityCreation(!0),{data:c}},{mode:"sync",id:"add-data-media"}),n.onEvent(pb.Events.FileDeletedEvent,async o=>{const{data:s}=await r.repo(i).findOne({path:o.params.name});s&&await r.mutator(i).deleteOne(s.id),yt.log("App:storage:file deleted",o.params)},{mode:"sync",id:"delete-data-media"})}getOverwritePaths(){return[/^\.?adapter$/]}toJSON(n){return!this.isBuilt()||!this.config.enabled?this.configDefault:{...this.config,adapter:this.storage.getAdapter().toJSON(n)}}};ee(w2,"mediaFields",{path:oc().required(),folder:Dje({default_value:!1,hidden:!0,fillable:["create"]}),mime_type:oc(),size:VT(),scope:oc({hidden:!0,fillable:["create"]}),etag:oc(),modified_at:qT(),reference:oc(),entity_id:VT(),metadata:Fje()});let ZT=w2;const{Type:Us}=pt,rJ={server:_Te,data:jTe,auth:pE,media:ZT,flows:kTe},UTe=Us.Union([iJ(),Us.Array(Us.Object({t:On(["a","r","e"]),p:Us.Array(Us.Union([Us.String(),Us.Number()])),o:Us.Optional(Us.Any()),n:Us.Optional(Us.Any())}))]);y3(ETe,{version:VT().required(),type:HT({enum:["config","diff","backup"]}).required(),json:Lje({schema:UTe}).required(),created_at:qT(),updated_at:qT()});dW("modules_debug");function iJ(){return{type:"object",...yn(rJ,t=>t.prototype.getSchema())}}function VTe(){return yn(rJ,t=>vh(t.prototype.getSchema(),{}))}class rO{constructor(t={},n){ee(this,"fetcher");this._options=t,this.fetcher=n??fetch}getDefaultOptions(){return{}}get options(){return{host:"http://localhost",token:void 0,...this.getDefaultOptions(),...this._options}}key(){return this.options.basepath??""}getUrl(t){const n=this.options.basepath??"";return this.options.host+(n+"/"+t).replace(/\/{2,}/g,"/").replace(/\/$/,"")}request(t,n,r){const i=(r==null?void 0:r.method)??"GET",o=Array.isArray(t)?t.join("/"):t;let s=this.getUrl(o);n instanceof URLSearchParams?s+="?"+n.toString():typeof n=="object"&&Object.keys(n).length>0&&(s+="?"+SN(n));const a=new Headers(this.options.headers??{});for(const[f,h]of Object.entries((r==null?void 0:r.headers)??{}))a.set(f,h);a.has("Accept")||a.set("Accept","application/json"),this.options.token&&this.options.token_transport==="header"&&a.set("Authorization",`Bearer ${this.options.token}`);let c=r==null?void 0:r.body;if(r&&"body"in r&&["POST","PATCH","PUT"].includes(i)){const f=a.get("Content-Type")??void 0;(!f||f.startsWith("application/json"))&&(c=JSON.stringify(r.body),a.set("Content-Type","application/json"))}const u=new Request(s,{...r,method:i,body:c,headers:a});return new yE(u,{fetcher:this.fetcher,verbose:this.options.verbose})}get(t,n,r){return this.request(t,n,{...r,method:"GET"})}post(t,n,r){return this.request(t,void 0,{...r,body:n,method:"POST"})}patch(t,n,r){return this.request(t,void 0,{...r,body:n,method:"PATCH"})}put(t,n,r){return this.request(t,void 0,{...r,body:n,method:"PUT"})}delete(t,n,r){return this.request(t,void 0,{...r,body:n,method:"DELETE"})}}function qTe(e,t,n){let r=typeof n<"u"?n:t;const i=["raw","body","ok","status","res","data","toJSON"];return typeof r!="object"&&(r={}),new Proxy(r,{get(o,s,a){return s==="raw"||s==="res"?e:s==="body"?t:s==="data"?n:s==="ok"?e.ok:s==="status"?e.status:s==="toJSON"?()=>o:Reflect.get(o,s,a)},has(o,s){return i.includes(s)?!0:Reflect.has(o,s)},ownKeys(o){return Array.from(new Set([...Reflect.ownKeys(o),...i]))},getOwnPropertyDescriptor(o,s){return i.includes(s)?{configurable:!0,enumerable:!0,value:Reflect.get({raw:e,body:t,ok:e.ok,status:e.status},s)}:Reflect.getOwnPropertyDescriptor(o,s)}})}var uU;uU=Symbol.toStringTag;const Nk=class Nk{constructor(t,n,r){ee(this,uU);this.request=t,this.options=n,this.refineData=r}get verbose(){var t;return((t=this.options)==null?void 0:t.verbose)??!1}refine(t){return new Nk(this.request,this.options,t)}async execute(){var s;co()&&await new Promise(a=>setTimeout(a,200));const t=((s=this.options)==null?void 0:s.fetcher)??fetch;this.verbose&&yt.debug("[FetchPromise] Request",{method:this.request.method,url:this.request.url});const n=await t(this.request);this.verbose&&yt.debug("[FetchPromise] Response",{res:n,ok:n.ok,status:n.status});let r,i;const o=n.headers.get("Content-Type")??"";if(o.startsWith("application/json")?(r=await n.json(),typeof r=="object"&&(i="data"in r?r.data:r)):o.startsWith("text")?r=await n.text():r=n.body,this.refineData)try{i=this.refineData(i)}catch(a){console.warn("[FetchPromise] Error in refineData",a),i=void 0}return qTe(n,r,i)}then(t,n){return this.execute().then(t,n)}catch(t){return this.then(void 0,t)}finally(t){return this.then(n=>(t==null||t(),n),n=>{throw t==null||t(),n})}path(){return new URL(this.request.url).pathname}key(t){const n=new URL(this.request.url);return(t==null?void 0:t.search)!==!1?this.path()+n.search:this.path()}keyArray(t){const n=new URL(this.request.url),r=this.path().split("/");return((t==null?void 0:t.search)!==!1?[...r,n.searchParams.toString()]:r).filter(Boolean)}toString(){return this.key({search:!0})}toJSON(){return{url:this.request.url,method:this.request.method}}};let yE=Nk;class HTe extends rO{getDefaultOptions(){return{basepath:"/api/auth",credentials:"include"}}async login(t,n){var i,o;const r=await this.post([t,"login"],n,{credentials:this.options.credentials});return r.ok&&r.body.token&&await((o=(i=this.options).onTokenUpdate)==null?void 0:o.call(i,r.body.token)),r}async register(t,n){var i,o;const r=await this.post([t,"register"],n,{credentials:this.options.credentials});return r.ok&&r.body.token&&await((o=(i=this.options).onTokenUpdate)==null?void 0:o.call(i,r.body.token)),r}async actionSchema(t,n){return this.get([t,"actions",n,"schema.json"])}async action(t,n,r){return this.post([t,"actions",n],r)}async loginWithPassword(t){return this.login("password",t)}async registerWithPassword(t){return this.register("password",t)}me(){return this.get(["me"])}strategies(){return this.get(["strategies"])}async logout(){var t,n;await((n=(t=this.options).onTokenUpdate)==null?void 0:n.call(t,void 0))}}class WTe extends rO{getDefaultOptions(){return{basepath:"/api/data",queryLengthLimit:1e3,defaultQuery:{limit:10}}}requireObjectSet(t,n){if(!t||typeof t!="object"||Object.keys(t).length===0)throw new Error(n??"object is required")}readOne(t,n,r={}){return this.get(["entity",t,n],r)}readOneBy(t,n={}){return this.readMany(t,{...n,limit:1,offset:0}).refine(r=>r[0])}readMany(t,n={}){const r=n??this.options.defaultQuery,i=this.get(["entity",t],r);return i.request.url.length<=this.options.queryLengthLimit?i:this.post(["entity",t,"query"],r)}readManyByReference(t,n,r,i={}){return this.get(["entity",t,n,r],i??this.options.defaultQuery)}createOne(t,n){return this.post(["entity",t],n)}createMany(t,n){if(!n||!Array.isArray(n)||n.length===0)throw new Error("input is required");return this.post(["entity",t],n)}updateOne(t,n,r){if(!n)throw new Error("ID is required");return this.patch(["entity",t,n],r)}updateMany(t,n,r){return this.requireObjectSet(n),this.patch(["entity",t],{update:r,where:n})}deleteOne(t,n){if(!n)throw new Error("ID is required");return this.delete(["entity",t,n])}deleteMany(t,n){return this.requireObjectSet(n),this.delete(["entity",t],n)}count(t,n={}){return this.post(["entity",t,"fn","count"],n)}exists(t,n={}){return this.post(["entity",t,"fn","exists"],n)}}class GTe extends rO{getDefaultOptions(){return{basepath:"/api/media",upload_fetcher:fetch}}listFiles(){return this.get(["files"])}getFile(t){return this.get(["file",t],void 0,{headers:{Accept:"*/*"}})}async getFileStream(t){const{res:n}=await this.getFile(t);if(!n.ok||!n.body)throw new Error("Failed to fetch file");return n.body}async download(t){const{res:n}=await this.getFile(t);if(!n.ok||!n.body)throw new Error("Failed to fetch file");return await n.blob()}getFileUploadUrl(t){return t?this.getUrl(`/upload/${t.path}`):this.getUrl("/upload")}getEntityUploadUrl(t,n,r){return this.getUrl(`/entity/${t}/${n}/${r}`)}getUploadHeaders(){return this.options.token_transport==="header"&&this.options.token?new Headers({Authorization:`Bearer ${this.options.token}`}):new Headers}uploadFile(t,n){var s;const r={"Content-Type":"application/octet-stream",...((s=n==null?void 0:n._init)==null?void 0:s.headers)||{}};let i=(n==null?void 0:n.filename)||"";try{typeof t.type<"u"&&(r["Content-Type"]=t.type),n!=null&&n.filename||(i=t.name)}catch{}i&&i.length>0&&i.includes("/")&&(i=i.split("/").pop()||"");const o={...(n==null?void 0:n._init)||{},headers:r};if(n!=null&&n.path)return this.post(n.path,t,o);if(!i||i.length===0)throw new Error("Invalid filename");return this.post((n==null?void 0:n.path)??["upload",i],t,o)}async upload(t,n={}){var r;if(t instanceof Request||typeof t=="string"){const o=await(n.fetcher??this.options.upload_fetcher)(t);if(!o.ok||!o.body)throw new Error("Failed to fetch file");return this.uploadFile(o.body,n)}else if(t instanceof Response){if(!t.body)throw new Error("Invalid response");return this.uploadFile(t.body,{...n??{},_init:{...n._init??{},headers:{...((r=n._init)==null?void 0:r.headers)??{},"Content-Type":t.headers.get("Content-Type")||"application/octet-stream"}}})}return this.uploadFile(t,n)}async uploadToEntity(t,n,r,i,o){return this.upload(i,{...o,path:["entity",t,n,r]})}deleteFile(t){return this.delete(["file",t])}}class KTe extends rO{getDefaultOptions(){return{basepath:"/api/system"}}readConfig(){return this.get("config")}readSchema(t){return this.get("schema",{config:t!=null&&t.config?1:0,secrets:t!=null&&t.secrets?1:0,fresh:t!=null&&t.fresh?1:0})}setConfig(t,n,r){return this.post(["config","set",t].join("/")+`?force=${r?1:0}`,n)}addConfig(t,n,r){return this.post(["config","add",t,n],r)}patchConfig(t,n,r){return this.patch(["config","patch",t,n],r)}overwriteConfig(t,n,r){return this.put(["config","overwrite",t,n],r)}removeConfig(t,n){return this.delete(["config","remove",t,n])}}class oJ{constructor(t={}){ee(this,"token");ee(this,"user");ee(this,"verified",!1);ee(this,"token_transport","header");ee(this,"system");ee(this,"data");ee(this,"auth");ee(this,"media");this.options=t,this.verified=t.verified===!0,"request"in t&&t.request?(this.options.host=t.host??new URL(t.request.url).origin,this.options.headers=t.headers??t.request.headers,this.extractToken()):"token"in t&&t.token?(this.token_transport="header",this.updateToken(t.token,{trigger:!1})):"user"in t&&t.user?(this.token_transport="none",this.user=t.user,this.verified=t.verified!==!1):this.extractToken(),this.buildApis()}get fetcher(){return this.options.fetcher??fetch}get baseUrl(){return this.options.host??"http://localhost"}get tokenKey(){return this.options.key??"auth"}extractToken(){var t;if(this.verified=!1,this.options.headers){const n=YTe(this.options.headers.get("cookie"),"auth");if(n){this.token_transport="cookie",this.updateToken(n);return}const r=(t=this.options.headers.get("authorization"))==null?void 0:t.replace("Bearer ","");if(r){this.token_transport="header",this.updateToken(r);return}}else this.storage&&this.storage.getItem(this.tokenKey).then(n=>{this.token_transport="header",this.updateToken(n?String(n):void 0)})}get storage(){return this.options.storage?{getItem:async t=>await this.options.storage.getItem(t),setItem:async(t,n)=>await this.options.storage.setItem(t,n),removeItem:async t=>await this.options.storage.removeItem(t)}:null}updateToken(t,n){var r,i;if(this.token=t,this.verified=!1,t?this.user=JS(d$e(t).payload,["iat","iss","exp"]):this.user=void 0,this.storage){const o=this.tokenKey;t?this.storage.setItem(o,t).then(()=>{var s,a;(a=(s=this.options).onAuthStateChange)==null||a.call(s,this.getAuthState())}):this.storage.removeItem(o).then(()=>{var s,a;(a=(s=this.options).onAuthStateChange)==null||a.call(s,this.getAuthState())})}else(n==null?void 0:n.trigger)!==!1&&((i=(r=this.options).onAuthStateChange)==null||i.call(r,this.getAuthState()));n!=null&&n.rebuild&&this.buildApis()}markAuthVerified(t){return this.verified=t,this}isAuthVerified(){return this.verified}getAuthState(){return{token:this.token,user:this.user,verified:this.verified}}isAuthenticated(){const{token:t,user:n}=this.getAuthState();return!!t&&!!n}async getVerifiedAuthState(){return await this.verifyAuth(),this.getAuthState()}async verifyAuth(){if(!this.token){this.markAuthVerified(!1);return}try{const{ok:t,data:n}=await this.auth.me(),r=n==null?void 0:n.user;if(!t||!r)throw new Error;this.user=r,this.markAuthVerified(!0)}catch{this.markAuthVerified(!1),this.updateToken(void 0)}}getUser(){return this.user||null}getParams(){return Object.freeze({host:this.baseUrl,token:this.token,headers:this.options.headers,token_transport:this.token_transport,verbose:this.options.verbose})}buildApis(){const t=this.getParams(),n=this.options.fetcher;this.system=new KTe(t,n),this.data=new WTe({...t,...this.options.data},n),this.auth=new HTe({...t,credentials:this.options.storage?"omit":"include",...this.options.auth,onTokenUpdate:r=>{var i,o;this.updateToken(r,{rebuild:!0}),(o=(i=this.options.auth)==null?void 0:i.onTokenUpdate)==null||o.call(i,r)}},n),this.media=new GTe({...t,...this.options.media},n)}}function YTe(e,t){if(!e)return null;for(const n of e.split("; ")){const[r,i]=n.split("=");if(r===t&&i)return decodeURIComponent(i)}return null}const T3=w.createContext(void 0),JTe=({children:e,host:t,baseUrl:n=t,...r})=>{const i=R3(),o=sJ();let s=n??(o==null?void 0:o.baseUrl)??"",a;if(i&&(a=i.user),!s)try{s=window.location.origin}catch{}const c={user:a,...r,host:s},u=w.useMemo(()=>new oJ({...c,verbose:co(),onAuthStateChange:p=>{var y;(y=r.onAuthStateChange)==null||y.call(r,p),(!(f!=null&&f.token)||p.token!==(f==null?void 0:f.token))&&h(p)}}),[JSON.stringify(c)]),[f,h]=w.useState(c.user?u.getAuthState():void 0);return m.jsx(T3.Provider,{value:{baseUrl:u.baseUrl,api:u,authState:f},children:e})},yl=e=>{const t=w.useContext(T3);return!(t!=null&&t.api)||e?new oJ({host:""}):t.api},sJ=()=>w.useContext(T3);function R3(){const e={logout_route:"/api/auth/logout",admin_basepath:""};return typeof window<"u"&&window.__BKND__?{...e,...window.__BKND__}:e}var tj={exports:{}},nj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL;function XTe(){if(CL)return nj;CL=1;var e=Fg();function t(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(h,p){var y=p(),x=r({inst:{value:y,getSnapshot:p}}),v=x[0].inst,E=x[1];return o(function(){v.value=y,v.getSnapshot=p,c(v)&&E({inst:v})},[h,y,p]),i(function(){return c(v)&&E({inst:v}),h(function(){c(v)&&E({inst:v})})},[h]),s(y),y}function c(h){var p=h.getSnapshot;h=h.value;try{var y=p();return!n(h,y)}catch{return!0}}function u(h,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return nj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,nj}var jL;function aJ(){return jL||(jL=1,tj.exports=XTe()),tj.exports}var I3=aJ();const lJ=0,cJ=1,uJ=2,AL=3;var TL=Object.prototype.hasOwnProperty;function eR(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&eR(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(TL.call(e,n)&&++r&&!TL.call(t,n)||!(n in t)||!eR(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const qa=new WeakMap,ad=()=>{},Lr=ad(),tR=Object,wt=e=>e===Lr,Qs=e=>typeof e=="function",Od=(e,t)=>({...e,...t}),dJ=e=>Qs(e.then),rj={},I1={},M3="undefined",Lv=typeof window!=M3,nR=typeof document!=M3,QTe=Lv&&"Deno"in window,ZTe=()=>Lv&&typeof window.requestAnimationFrame!=M3,zu=(e,t)=>{const n=qa.get(e);return[()=>!wt(t)&&e.get(t)||rj,r=>{if(!wt(t)){const i=e.get(t);t in I1||(I1[t]=i),n[5](t,Od(i,r),i||rj)}},n[6],()=>!wt(t)&&t in I1?I1[t]:!wt(t)&&e.get(t)||rj]};let rR=!0;const eRe=()=>rR,[iR,oR]=Lv&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ad,ad],tRe=()=>{const e=nR&&document.visibilityState;return wt(e)||e!=="hidden"},nRe=e=>(nR&&document.addEventListener("visibilitychange",e),iR("focus",e),()=>{nR&&document.removeEventListener("visibilitychange",e),oR("focus",e)}),rRe=e=>{const t=()=>{rR=!0,e()},n=()=>{rR=!1};return iR("online",t),iR("offline",n),()=>{oR("online",t),oR("offline",n)}},iRe={isOnline:eRe,isVisible:tRe},oRe={initFocus:nRe,initReconnect:rRe},RL=!De.useId,ix=!Lv||QTe,sRe=e=>ZTe()?window.requestAnimationFrame(e):setTimeout(e,1),ES=ix?w.useEffect:w.useLayoutEffect,ij=typeof navigator<"u"&&navigator.connection,IL=!ix&&ij&&(["slow-2g","2g"].includes(ij.effectiveType)||ij.saveData),M1=new WeakMap,oj=(e,t)=>tR.prototype.toString.call(e)===`[object ${t}]`;let aRe=0;const sR=e=>{const t=typeof e,n=oj(e,"Date"),r=oj(e,"RegExp"),i=oj(e,"Object");let o,s;if(tR(e)===e&&!n&&!r){if(o=M1.get(e),o)return o;if(o=++aRe+"~",M1.set(e,o),Array.isArray(e)){for(o="@",s=0;s<e.length;s++)o+=sR(e[s])+",";M1.set(e,o)}if(i){o="#";const a=tR.keys(e).sort();for(;!wt(s=a.pop());)wt(e[s])||(o+=s+":"+sR(e[s])+",");M1.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},ox=e=>{if(Qs(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?sR(e):"",[e,t]};let lRe=0;const aR=()=>++lRe;async function fJ(...e){const[t,n,r,i]=e,o=Od({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let s=o.populateCache;const a=o.rollbackOnError;let c=o.optimisticData;const u=p=>typeof a=="function"?a(p):a!==!1,f=o.throwOnError;if(Qs(n)){const p=n,y=[],x=t.keys();for(const v of x)!/^\$(inf|sub)\$/.test(v)&&p(t.get(v)._k)&&y.push(v);return Promise.all(y.map(h))}return h(n);async function h(p){const[y]=ox(p);if(!y)return;const[x,v]=zu(t,y),[E,N,O,_]=qa.get(t),C=()=>{const H=E[y];return(Qs(o.revalidate)?o.revalidate(x().data,p):o.revalidate!==!1)&&(delete O[y],delete _[y],H&&H[0])?H[0](uJ).then(()=>x().data):x().data};if(e.length<3)return C();let j=r,A;const R=aR();N[y]=[R,0];const I=!wt(c),P=x(),z=P.data,B=P._c,U=wt(B)?z:B;if(I&&(c=Qs(c)?c(U,z):c,v({data:c,_c:U})),Qs(j))try{j=j(U)}catch(H){A=H}if(j&&dJ(j))if(j=await j.catch(H=>{A=H}),R!==N[y][0]){if(A)throw A;return j}else A&&I&&u(A)&&(s=!0,v({data:U,_c:Lr}));if(s&&!A)if(Qs(s)){const H=s(j,U);v({data:H,error:Lr,_c:Lr})}else v({data:j,error:Lr,_c:Lr});if(N[y][1]=aR(),Promise.resolve(C()).then(()=>{v({_c:Lr})}),A){if(f)throw A;return}return j}}const ML=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},cRe=(e,t)=>{if(!qa.has(e)){const n=Od(oRe,t),r=Object.create(null),i=fJ.bind(Lr,e);let o=ad;const s=Object.create(null),a=(f,h)=>{const p=s[f]||[];return s[f]=p,p.push(h),()=>p.splice(p.indexOf(h),1)},c=(f,h,p)=>{e.set(f,h);const y=s[f];if(y)for(const x of y)x(h,p)},u=()=>{if(!qa.has(e)&&(qa.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,c,a]),!ix)){const f=n.initFocus(setTimeout.bind(Lr,ML.bind(Lr,r,lJ))),h=n.initReconnect(setTimeout.bind(Lr,ML.bind(Lr,r,cJ)));o=()=>{f&&f(),h&&h(),qa.delete(e)}}};return u(),[e,i,u,o]}return[e,qa.get(e)[4]]},uRe=(e,t,n,r,i)=>{const o=n.errorRetryCount,s=i.retryCount,a=~~((Math.random()+.5)*(1<<(s<8?s:8)))*n.errorRetryInterval;!wt(o)&&s>o||setTimeout(r,a,i)},dRe=eR,[k3,P3]=cRe(new Map),fRe=Od({onLoadingSlow:ad,onSuccess:ad,onError:ad,onErrorRetry:uRe,onDiscarded:ad,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:IL?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:IL?5e3:3e3,compare:dRe,isPaused:()=>!1,cache:k3,mutate:P3,fallback:{}},iRe),hRe=(e,t)=>{const n=Od(e,t);if(t){const{use:r,fallback:i}=e,{use:o,fallback:s}=t;r&&o&&(n.use=r.concat(o)),i&&s&&(n.fallback=Od(i,s))}return n},mRe=w.createContext({}),hJ="$inf$",mJ=Lv&&window.__SWR_DEVTOOLS_USE__,pRe=mJ?window.__SWR_DEVTOOLS_USE__:[],gRe=()=>{mJ&&(window.__SWR_DEVTOOLS_REACT__=De)},pJ=e=>Qs(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],gJ=()=>Od(fRe,w.useContext(mRe)),yRe=e=>(t,n,r)=>e(t,n&&((...o)=>{const[s]=ox(t),[,,,a]=qa.get(k3);if(s.startsWith(hJ))return n(...o);const c=a[s];return wt(c)?n(...o):(delete a[s],c)}),r),bRe=pRe.concat(yRe),xRe=e=>function(...n){const r=gJ(),[i,o,s]=pJ(n),a=hRe(r,s);let c=e;const{use:u}=a,f=(u||[]).concat(bRe);for(let h=f.length;h--;)c=f[h](c);return c(i,o||a.fetcher||null,a)},vRe=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}},wRe=(e,t)=>(...n)=>{const[r,i,o]=pJ(n),s=(o.use||[]).concat(t);return e(r,i,{...o,use:s})};gRe();const sj=De.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),aj={dedupe:!0},SRe=(e,t,n)=>{const{cache:r,compare:i,suspense:o,fallbackData:s,revalidateOnMount:a,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:f,refreshWhenOffline:h,keepPreviousData:p}=n,[y,x,v,E]=qa.get(r),[N,O]=ox(e),_=w.useRef(!1),C=w.useRef(!1),j=w.useRef(N),A=w.useRef(t),R=w.useRef(n),I=()=>R.current,P=()=>I().isVisible()&&I().isOnline(),[z,B,U,H]=zu(r,N),M=w.useRef({}).current,L=wt(s)?wt(n.fallback)?Lr:n.fallback[N]:s,T=(Z,we)=>{for(const Ne in M){const $e=Ne;if($e==="data"){if(!i(Z[$e],we[$e])&&(!wt(Z[$e])||!i(ie,we[$e])))return!1}else if(we[$e]!==Z[$e])return!1}return!0},F=w.useMemo(()=>{const Z=!N||!t?!1:wt(a)?I().isPaused()||o?!1:c!==!1:a,we=Q=>{const xe=Od(Q);return delete xe._k,Z?{isValidating:!0,isLoading:!0,...xe}:xe},Ne=z(),$e=H(),_e=we(Ne),Y=Ne===$e?_e:we($e);let re=_e;return[()=>{const Q=we(z());return T(Q,re)?(re.data=Q.data,re.isLoading=Q.isLoading,re.isValidating=Q.isValidating,re.error=Q.error,re):(re=Q,Q)},()=>Y]},[r,N]),k=I3.useSyncExternalStore(w.useCallback(Z=>U(N,(we,Ne)=>{T(Ne,we)||Z()}),[r,N]),F[0],F[1]),q=!_.current,D=y[N]&&y[N].length>0,W=k.data,X=wt(W)?L&&dJ(L)?sj(L):L:W,oe=k.error,se=w.useRef(X),ie=p?wt(W)?wt(se.current)?X:se.current:W:X,le=D&&!wt(oe)?!1:q&&!wt(a)?a:I().isPaused()?!1:o?wt(X)?!1:c:wt(X)||c,pe=!!(N&&t&&q&&le),ye=wt(k.isValidating)?pe:k.isValidating,je=wt(k.isLoading)?pe:k.isLoading,Te=w.useCallback(async Z=>{const we=A.current;if(!N||!we||C.current||I().isPaused())return!1;let Ne,$e,_e=!0;const Y=Z||{},re=!v[N]||!Y.dedupe,Q=()=>RL?!C.current&&N===j.current&&_.current:N===j.current,xe={isValidating:!1,isLoading:!1},ue=()=>{B(xe)},de=()=>{const he=v[N];he&&he[1]===$e&&delete v[N]},ae={isValidating:!0};wt(z().data)&&(ae.isLoading=!0);try{if(re&&(B(ae),n.loadingTimeout&&wt(z().data)&&setTimeout(()=>{_e&&Q()&&I().onLoadingSlow(N,n)},n.loadingTimeout),v[N]=[we(O),aR()]),[Ne,$e]=v[N],Ne=await Ne,re&&setTimeout(de,n.dedupingInterval),!v[N]||v[N][1]!==$e)return re&&Q()&&I().onDiscarded(N),!1;xe.error=Lr;const he=x[N];if(!wt(he)&&($e<=he[0]||$e<=he[1]||he[1]===0))return ue(),re&&Q()&&I().onDiscarded(N),!1;const Ee=z().data;xe.data=i(Ee,Ne)?Ee:Ne,re&&Q()&&I().onSuccess(Ne,N,n)}catch(he){de();const Ee=I(),{shouldRetryOnError:ke}=Ee;Ee.isPaused()||(xe.error=he,re&&Q()&&(Ee.onError(he,N,Ee),(ke===!0||Qs(ke)&&ke(he))&&(!I().revalidateOnFocus||!I().revalidateOnReconnect||P())&&Ee.onErrorRetry(he,N,Ee,Fe=>{const gt=y[N];gt&&gt[0]&&gt[0](AL,Fe)},{retryCount:(Y.retryCount||0)+1,dedupe:!0})))}return _e=!1,ue(),!0},[N,r]),J=w.useCallback((...Z)=>fJ(r,j.current,...Z),[]);if(ES(()=>{A.current=t,R.current=n,wt(W)||(se.current=W)}),ES(()=>{if(!N)return;const Z=Te.bind(Lr,aj);let we=0;I().revalidateOnFocus&&(we=Date.now()+I().focusThrottleInterval);const $e=vRe(N,y,(_e,Y={})=>{if(_e==lJ){const re=Date.now();I().revalidateOnFocus&&re>we&&P()&&(we=re+I().focusThrottleInterval,Z())}else if(_e==cJ)I().revalidateOnReconnect&&P()&&Z();else{if(_e==uJ)return Te();if(_e==AL)return Te(Y)}});return C.current=!1,j.current=N,_.current=!0,B({_k:O}),le&&(wt(X)||ix?Z():sRe(Z)),()=>{C.current=!0,$e()}},[N]),ES(()=>{let Z;function we(){const $e=Qs(u)?u(z().data):u;$e&&Z!==-1&&(Z=setTimeout(Ne,$e))}function Ne(){!z().error&&(f||I().isVisible())&&(h||I().isOnline())?Te(aj).then(we):we()}return we(),()=>{Z&&(clearTimeout(Z),Z=-1)}},[u,f,h,N]),w.useDebugValue(ie),o&&wt(X)&&N){if(!RL&&ix)throw new Error("Fallback data is required when using Suspense in SSR.");A.current=t,R.current=n,C.current=!1;const Z=E[N];if(!wt(Z)){const we=J(Z);sj(we)}if(wt(oe)){const we=Te(aj);wt(ie)||(we.status="fulfilled",we.value=!0),sj(we)}else throw oe}return{mutate:J,get data(){return M.data=!0,ie},get error(){return M.error=!0,oe},get isValidating(){return M.isValidating=!0,ye},get isLoading(){return M.isLoading=!0,je}}},D3=xRe(SRe),ERe=()=>{},NRe=ERe(),lR=Object,kL=e=>e===NRe,ORe=e=>typeof e=="function",k1=new WeakMap,lj=(e,t)=>lR.prototype.toString.call(e)===`[object ${t}]`;let _Re=0;const cR=e=>{const t=typeof e,n=lj(e,"Date"),r=lj(e,"RegExp"),i=lj(e,"Object");let o,s;if(lR(e)===e&&!n&&!r){if(o=k1.get(e),o)return o;if(o=++_Re+"~",k1.set(e,o),Array.isArray(e)){for(o="@",s=0;s<e.length;s++)o+=cR(e[s])+",";k1.set(e,o)}if(i){o="#";const a=lR.keys(e).sort();for(;!kL(s=a.pop());)kL(e[s])||(o+=s+":"+cR(e[s])+",");k1.set(e,o)}}else o=n?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},$Re=e=>{if(ORe(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?cR(e):"",[e,t]},CRe=e=>$Re(e?e(0,null):null)[0],cj=Promise.resolve(),jRe=e=>(t,n,r)=>{const i=w.useRef(!1),{cache:o,initialSize:s=1,revalidateAll:a=!1,persistSize:c=!1,revalidateFirstPage:u=!0,revalidateOnMount:f=!1,parallel:h=!1}=r,[,,,p]=qa.get(k3);let y;try{y=CRe(t),y&&(y=hJ+y)}catch{}const[x,v,E]=zu(o,y),N=w.useCallback(()=>wt(x()._l)?s:x()._l,[o,y,s]);I3.useSyncExternalStore(w.useCallback(I=>y?E(y,()=>{I()}):()=>{},[o,y]),N,N);const O=w.useCallback(()=>{const I=x()._l;return wt(I)?s:I},[y,s]),_=w.useRef(O());ES(()=>{if(!i.current){i.current=!0;return}y&&v({_l:c?_.current:O()})},[y,o]);const C=f&&!i.current,j=e(y,async I=>{const P=x()._i,z=x()._r;v({_r:Lr});const B=[],U=O(),[H]=zu(o,I),M=H().data,L=[];let T=null;for(let F=0;F<U;++F){const[k,q]=ox(t(F,h?null:T));if(!k)break;const[D,W]=zu(o,k);let X=D().data;const oe=a||P||wt(X)||u&&!F&&!wt(M)||C||M&&!wt(M[F])&&!r.compare(M[F],X);if(n&&(typeof z=="function"?z(X,q):oe)){const se=async()=>{if(!(k in p))X=await n(q);else{const le=p[k];delete p[k],X=await le}W({data:X,_k:q}),B[F]=X};h?L.push(se):await se()}else B[F]=X;h||(T=X)}return h&&await Promise.all(L.map(F=>F())),v({_i:Lr}),B},r),A=w.useCallback(function(I,P){const z=typeof P=="boolean"?{revalidate:P}:P||{},B=z.revalidate!==!1;return y?(B&&(wt(I)?v({_i:!0,_r:z.revalidate}):v({_i:!1,_r:z.revalidate})),arguments.length?j.mutate(I,{...z,revalidate:B}):j.mutate()):cj},[y,o]),R=w.useCallback(I=>{if(!y)return cj;const[,P]=zu(o,y);let z;if(Qs(I)?z=I(O()):typeof I=="number"&&(z=I),typeof z!="number")return cj;P({_l:z}),_.current=z;const B=[],[U]=zu(o,y);let H=null;for(let M=0;M<z;++M){const[L]=ox(t(M,H)),[T]=zu(o,L),F=L?T().data:Lr;if(wt(F))return A(U().data);B.push(F),H=F}return A(B)},[y,o,A,O]);return{size:O(),setSize:R,mutate:A,get data(){return j.data},get error(){return j.error},get isValidating(){return j.isValidating},get isLoading(){return j.isLoading}}},ARe=wRe(D3,jRe),iO=(e,t)=>{const n=yl(),r=e(n),i=(t==null?void 0:t.refine)??(c=>c),o=()=>r.execute().then(i),s=r.key();return{...D3((t==null?void 0:t.enabled)===!1?null:s,o,t),promise:r,key:s,api:n}},TRe=(e,t)=>{const[n,r]=w.useState(!1),i=yl(),o=u=>e(i,u),s=(t==null?void 0:t.refine)??(u=>u),a=ARe((u,f)=>f&&!f.length?(r(!0),null):o(u).request.url,u=>new yE(new Request(u),{fetcher:i.fetcher},s).execute(),{revalidateFirstPage:!1}),c=a.data?[].concat(...a.data):[];return{...a,_data:a.data,data:c,endReached:n,promise:o(a.size),key:o(a.size).key(),api:i}},F3=e=>{const t=gJ().mutate,n=yl();return async r=>{let i="";return typeof r=="string"?i=r:typeof r=="function"&&(i=r(n).key()),t(o=>typeof o=="string"&&o.startsWith(i))}};class P1 extends Error{constructor(t,n){let r=n;"error"in t&&(r=t.error,n&&(r=`${n}: ${r}`)),super(r??"UseEntityApiError"),this.response=t}}const RRe=(e,t)=>{const n=yl().data;return{create:async r=>{const i=await n.createOne(e,r);if(!i.ok)throw new P1(i,`Failed to create entity "${e}"`);return i},read:async r=>{const i=t?await n.readOne(e,t,r):await n.readMany(e,r);if(!i.ok)throw new P1(i,`Failed to read entity "${e}"`);return i},update:async(r,i=t)=>{if(!i)throw new Error("id is required");const o=await n.updateOne(e,i,r);if(!o.ok)throw new P1(o,`Failed to update entity "${e}"`);return o},_delete:async(r=t)=>{if(!r)throw new Error("id is required");const i=await n.deleteOne(e,r);if(!i.ok)throw new P1(i,`Failed to delete entity "${e}"`);return i}}};function uR(e,t,n,r){var i,o;return"/"+[...((o=(i=e.options)==null?void 0:i.basepath)==null?void 0:o.split("/"))??[],t,...n?[n]:[]].filter(Boolean).join("/")+(r?"?"+SN(r):"")}const oO=(e,t,n,r)=>{const i=yl().data,o=uR(i,e,t,n),{read:s,...a}=RRe(e,t),c=()=>s(n??{}),u=D3((r==null?void 0:r.enabled)===!1?null:o,c,{revalidateOnFocus:!1,keepPreviousData:!0,...r}),f=async p=>{const y=uR(i,e,p);return P3(x=>typeof x=="string"&&x.startsWith(y),void 0,{revalidate:!0})},h=EN(a,p=>async(...y)=>{const x=await p(...y);return(r==null?void 0:r.revalidateOnMutate)!==!1&&await f(),x});return{...u,...h,mutate:f,mutateRaw:u.mutate,api:i,key:o}};async function IRe(e,t,n,r){function i(s,a){return typeof s<"u"&&typeof a<"u"&&"id"in s&&s.id===n?{...s,...a}:s}const o=uR(e,t);return P3(s=>typeof s=="string"&&s.startsWith(o),async s=>{if(!(typeof s>"u"))return Array.isArray(s)?s.map(a=>i(a,r)):i(s,r)},{revalidate:!1})}const MRe=(e,t,n)=>{const{data:r,...i}=oO(e,t,void 0,{...n,enabled:!1});return{...i,mutate:(s,a)=>IRe(i.api,e,s,a)}},yJ=e=>{const t=yl(e==null?void 0:e.baseUrl),n=F3(),{authState:r}=sJ(),i=(r==null?void 0:r.verified)??!1;async function o(f){return(await t.auth.login("password",f)).data}async function s(f){return(await t.auth.register("password",f)).data}function a(f){t.updateToken(f)}async function c(){t.updateToken(void 0),n()}async function u(){await t.verifyAuth()}return{data:r,user:r==null?void 0:r.user,token:r==null?void 0:r.token,verified:i,login:o,register:s,logout:c,setToken:a,verify:u}};function kRe({api:e,setSchema:t,reloadSchema:n}){async function r(i,o,s,a){const c={id:"schema-"+[i,o,a].join("-"),position:"top-right",autoClose:3e3};return s.success?(console.log("update config",i,o,a,s.body),s.body.success&&t(u=>u&&{...u,config:{...u.config,[o]:s.config}}),gd.show({...c,title:`Config updated: ${Mo(o)}`,color:"blue",message:`Operation ${i.toUpperCase()} at ${o}${a?"."+a:""}`})):gd.show({...c,title:`Config Update failed: ${Mo(o)}${a?"."+a:""}`,color:"red",withCloseButton:!0,autoClose:!1,message:s.error??"Failed to complete config update"}),s.success}return{reload:n,set:async(i,o,s)=>{const a=await e.system.setConfig(i,o,s);return await r("set",i,a)},patch:async(i,o,s)=>{const a=await e.system.patchConfig(i,o,s);return await r("patch",i,a,o)},overwrite:async(i,o,s)=>{const a=await e.system.overwriteConfig(i,o,s);return await r("overwrite",i,a,o)},add:async(i,o,s)=>{const a=await e.system.addConfig(i,o,s);return await r("add",i,a,o)},remove:async(i,o)=>{const s=await e.system.removeConfig(i,o);return await r("remove",i,s,o)}}}class PRe{constructor(t,n={}){ee(this,"_entities",[]);ee(this,"_relations",[]);ee(this,"_flows",[]);this.appJson=t,this._options=n,this._entities=Object.entries(this.appJson.data.entities??{}).map(([r,i])=>g3(r,i)),this._relations=Object.entries(this.appJson.data.relations??{}).map(([,r])=>nY(r,this.entity.bind(this)));for(const[r,i]of Object.entries(this.appJson.flows.flows??{})){const o=Fv.fromObject(r,i,qY);this._flows.push(o)}}get entities(){return this._entities}entity(t){const n=typeof t=="string"?t:t.name,r=this._entities.find(i=>i.name===n);if(!r)throw new Error(`Entity "${n}" not found`);return r}get relations(){return new FK(this._relations)}get flows(){return this._flows}get config(){return this.appJson}get options(){return{basepath:"",logo_return_path:"/",...this._options}}getSettingsPath(t=[]){return[`~/${this.options.basepath}/settings`.replace(/\/+/g,"/"),...t].join("/")}getAbsolutePath(t){const{basepath:n}=this.options;return(t?`~/${n}/${t}`:`~/${n}`).replace(/\/+/g,"/")}getAuthConfig(){return this.appJson.auth}}/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var DRe={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(e,t,n,r)=>{const i=w.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:c,className:u,children:f,...h},p)=>w.createElement("svg",{ref:p,...DRe[e],width:s,height:s,className:["tabler-icon",`tabler-icon-${t}`,u].join(" "),...e==="filled"?{fill:o}:{strokeWidth:a,stroke:o},...h},[c&&w.createElement("title",{key:"svg-title"},c),...r.map(([y,x])=>w.createElement(y,x)),...Array.isArray(f)?f:[f]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L3=Jt("outline","align-justified","IconAlignJustified",[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l12 0",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var FRe=Jt("outline","api","IconApi",[["path",{d:"M4 13h5",key:"svg-0"}],["path",{d:"M12 16v-8h3a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-3",key:"svg-1"}],["path",{d:"M20 8v8",key:"svg-2"}],["path",{d:"M9 16v-5.5a2.5 2.5 0 0 0 -5 0v5.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var LRe=Jt("outline","bolt","IconBolt",[["path",{d:"M13 3l0 7l6 0l-8 11l0 -7l-6 0l8 -11",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var BRe=Jt("outline","box","IconBox",[["path",{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5",key:"svg-0"}],["path",{d:"M12 12l8 -4.5",key:"svg-1"}],["path",{d:"M12 12l0 9",key:"svg-2"}],["path",{d:"M12 12l-8 -4.5",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var zRe=Jt("outline","brand-aws","IconBrandAws",[["path",{d:"M17 18.5a15.198 15.198 0 0 1 -7.37 1.44a14.62 14.62 0 0 1 -6.63 -2.94",key:"svg-0"}],["path",{d:"M19.5 21c.907 -1.411 1.451 -3.323 1.5 -5c-1.197 -.773 -2.577 -.935 -4 -1",key:"svg-1"}],["path",{d:"M3 11v-4.5a1.5 1.5 0 0 1 3 0v4.5",key:"svg-2"}],["path",{d:"M3 9h3",key:"svg-3"}],["path",{d:"M9 5l1.2 6l1.8 -4l1.8 4l1.2 -6",key:"svg-4"}],["path",{d:"M18 10.25c0 .414 .336 .75 .75 .75h1.25a1 1 0 0 0 1 -1v-1a1 1 0 0 0 -1 -1h-1a1 1 0 0 1 -1 -1v-1a1 1 0 0 1 1 -1h1.25a.75 .75 0 0 1 .75 .75",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var URe=Jt("outline","brand-cloudflare","IconBrandCloudflare",[["path",{d:"M13.031 7.007c2.469 -.007 3.295 1.293 3.969 2.993c4 0 4.994 3.825 5 6h-20c-.001 -1.64 1.36 -2.954 3 -3c0 -1.5 1 -3 3 -3c.66 -1.942 2.562 -2.986 5.031 -2.993z",key:"svg-0"}],["path",{d:"M12 13h6",key:"svg-1"}],["path",{d:"M17 10l-2.5 6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var bJ=Jt("outline","bug","IconBug",[["path",{d:"M9 9v-1a3 3 0 0 1 6 0v1",key:"svg-0"}],["path",{d:"M8 9h8a6 6 0 0 1 1 3v3a5 5 0 0 1 -10 0v-3a6 6 0 0 1 1 -3",key:"svg-1"}],["path",{d:"M3 13l4 0",key:"svg-2"}],["path",{d:"M17 13l4 0",key:"svg-3"}],["path",{d:"M12 20l0 -6",key:"svg-4"}],["path",{d:"M4 19l3.35 -2",key:"svg-5"}],["path",{d:"M20 19l-3.35 -2",key:"svg-6"}],["path",{d:"M4 7l3.75 2.4",key:"svg-7"}],["path",{d:"M20 7l-3.75 2.4",key:"svg-8"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var VRe=Jt("outline","chevron-down","IconChevronDown",[["path",{d:"M6 9l6 6l6 -6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var qRe=Jt("outline","chevron-up","IconChevronUp",[["path",{d:"M6 15l6 -6l6 6",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var B3=Jt("outline","circles-relation","IconCirclesRelation",[["path",{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986",key:"svg-0"}],["path",{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var HRe=Jt("outline","cloud","IconCloud",[["path",{d:"M6.657 18c-2.572 0 -4.657 -2.007 -4.657 -4.483c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.913 0 3.464 1.56 3.464 3.486c0 1.927 -1.551 3.487 -3.465 3.487h-11.878",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var by=Jt("outline","database","IconDatabase",[["path",{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0",key:"svg-0"}],["path",{d:"M4 6v6a8 3 0 0 0 16 0v-6",key:"svg-1"}],["path",{d:"M4 12v6a8 3 0 0 0 16 0v-6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var WRe=Jt("outline","external-link","IconExternalLink",[["path",{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6",key:"svg-0"}],["path",{d:"M11 13l9 -9",key:"svg-1"}],["path",{d:"M15 4h5v5",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var GRe=Jt("outline","grip-vertical","IconGripVertical",[["path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-0"}],["path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-1"}],["path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-2"}],["path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-3"}],["path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-4"}],["path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0",key:"svg-5"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var KRe=Jt("outline","hierarchy-2","IconHierarchy2",[["path",{d:"M10 3h4v4h-4z",key:"svg-0"}],["path",{d:"M3 17h4v4h-4z",key:"svg-1"}],["path",{d:"M17 17h4v4h-4z",key:"svg-2"}],["path",{d:"M7 17l5 -4l5 4",key:"svg-3"}],["path",{d:"M12 7l0 6",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var YRe=Jt("outline","home","IconHome",[["path",{d:"M5 12l-2 0l9 -9l9 9l-2 0",key:"svg-0"}],["path",{d:"M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7",key:"svg-1"}],["path",{d:"M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var JRe=Jt("outline","info-circle","IconInfoCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var XRe=Jt("outline","key-off","IconKeyOff",[["path",{d:"M10.17 6.159l2.316 -2.316a2.877 2.877 0 0 1 4.069 0l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.33 2.33",key:"svg-0"}],["path",{d:"M14.931 14.948a2.863 2.863 0 0 1 -1.486 -.79l-.301 -.302l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.863 2.863 0 0 1 -.794 -1.504",key:"svg-1"}],["path",{d:"M15 9h.01",key:"svg-2"}],["path",{d:"M3 3l18 18",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var QRe=Jt("outline","library-plus","IconLibraryPlus",[["path",{d:"M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z",key:"svg-0"}],["path",{d:"M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1",key:"svg-1"}],["path",{d:"M11 10h6",key:"svg-2"}],["path",{d:"M14 7v6",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZRe=Jt("outline","lock-access-off","IconLockAccessOff",[["path",{d:"M4 8v-2c0 -.554 .225 -1.055 .588 -1.417",key:"svg-0"}],["path",{d:"M4 16v2a2 2 0 0 0 2 2h2",key:"svg-1"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v2",key:"svg-2"}],["path",{d:"M16 20h2c.55 0 1.05 -.222 1.41 -.582",key:"svg-3"}],["path",{d:"M15 11a1 1 0 0 1 1 1m-.29 3.704a1 1 0 0 1 -.71 .296h-6a1 1 0 0 1 -1 -1v-3a1 1 0 0 1 1 -1h2",key:"svg-4"}],["path",{d:"M10 11v-1m1.182 -2.826a2 2 0 0 1 2.818 1.826v1",key:"svg-5"}],["path",{d:"M3 3l18 18",key:"svg-6"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var e5e=Jt("outline","minus","IconMinus",[["path",{d:"M5 12l14 0",key:"svg-0"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var xJ=Jt("outline","photo","IconPhoto",[["path",{d:"M15 8h.01",key:"svg-0"}],["path",{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z",key:"svg-1"}],["path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5",key:"svg-2"}],["path",{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var z3=Jt("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var t5e=Jt("outline","refresh","IconRefresh",[["path",{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4",key:"svg-0"}],["path",{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var n5e=Jt("outline","server","IconServer",[["path",{d:"M3 4m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-0"}],["path",{d:"M3 12m0 3a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v2a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3z",key:"svg-1"}],["path",{d:"M7 8l0 .01",key:"svg-2"}],["path",{d:"M7 16l0 .01",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var sx=Jt("outline","settings","IconSettings",[["path",{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z",key:"svg-0"}],["path",{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var r5e=Jt("outline","switch-horizontal","IconSwitchHorizontal",[["path",{d:"M16 3l4 4l-4 4",key:"svg-0"}],["path",{d:"M10 7l10 0",key:"svg-1"}],["path",{d:"M8 13l-4 4l4 4",key:"svg-2"}],["path",{d:"M4 17l9 0",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var vJ=Jt("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var i5e=Jt("outline","user","IconUser",[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var wJ=Jt("outline","world","IconWorld",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M3.6 9h16.8",key:"svg-1"}],["path",{d:"M3.6 15h16.8",key:"svg-2"}],["path",{d:"M11.5 3a17 17 0 0 0 0 18",key:"svg-3"}],["path",{d:"M12.5 3a17 17 0 0 1 0 18",key:"svg-4"}]]);/**
 * @license @tabler/icons-react v3.18.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var o5e=Jt("filled","bolt-filled","IconBoltFilled",[["path",{d:"M13 2l.018 .001l.016 .001l.083 .005l.011 .002h.011l.038 .009l.052 .008l.016 .006l.011 .001l.029 .011l.052 .014l.019 .009l.015 .004l.028 .014l.04 .017l.021 .012l.022 .01l.023 .015l.031 .017l.034 .024l.018 .011l.013 .012l.024 .017l.038 .034l.022 .017l.008 .01l.014 .012l.036 .041l.026 .027l.006 .009c.12 .147 .196 .322 .218 .513l.001 .012l.002 .041l.004 .064v6h5a1 1 0 0 1 .868 1.497l-.06 .091l-8 11c-.568 .783 -1.808 .38 -1.808 -.588v-6h-5a1 1 0 0 1 -.868 -1.497l.06 -.091l8 -11l.01 -.013l.018 -.024l.033 -.038l.018 -.022l.009 -.008l.013 -.014l.04 -.036l.028 -.026l.008 -.006a1 1 0 0 1 .402 -.199l.011 -.001l.027 -.005l.074 -.013l.011 -.001l.041 -.002z",key:"svg-0"}]]);const U3="-",s5e=e=>{const t=l5e(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(U3);return a[0]===""&&a.length!==1&&a.shift(),SJ(a,t)||a5e(s)},getConflictingClassGroupIds:(s,a)=>{const c=n[s]||[];return a&&r[s]?[...c,...r[s]]:c}}},SJ=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?SJ(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(U3);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},PL=/^\[(.+)\]$/,a5e=e=>{if(PL.test(e)){const t=PL.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},l5e=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)dR(n[i],r,i,t);return r},dR=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:DL(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(c5e(i)){dR(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{dR(s,DL(t,o),n,r)})})},DL=(e,t)=>{let n=e;return t.split(U3).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},c5e=e=>e.isThemeGetter,u5e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},fR="!",hR=":",d5e=hR.length,f5e=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let s=0,a=0,c=0,u;for(let x=0;x<i.length;x++){let v=i[x];if(s===0&&a===0){if(v===hR){o.push(i.slice(c,x)),c=x+d5e;continue}if(v==="/"){u=x;continue}}v==="["?s++:v==="]"?s--:v==="("?a++:v===")"&&a--}const f=o.length===0?i:i.substring(c),h=h5e(f),p=h!==f,y=u&&u>c?u-c:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:h,maybePostfixModifierPosition:y}};if(t){const i=t+hR,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},h5e=e=>e.endsWith(fR)?e.substring(0,e.length-1):e.startsWith(fR)?e.substring(1):e,m5e=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},p5e=e=>({cache:u5e(e.cacheSize),parseClassName:f5e(e),sortModifiers:m5e(e),...s5e(e)}),g5e=/\s+/,y5e=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(g5e);let c="";for(let u=a.length-1;u>=0;u-=1){const f=a[u],{isExternal:h,modifiers:p,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:v}=n(f);if(h){c=f+(c.length>0?" "+c:c);continue}let E=!!v,N=r(E?x.substring(0,v):x);if(!N){if(!E){c=f+(c.length>0?" "+c:c);continue}if(N=r(x),!N){c=f+(c.length>0?" "+c:c);continue}E=!1}const O=o(p).join(":"),_=y?O+fR:O,C=_+N;if(s.includes(C))continue;s.push(C);const j=i(N,E);for(let A=0;A<j.length;++A){const R=j[A];s.push(_+R)}c=f+(c.length>0?" "+c:c)}return c};function b5e(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=EJ(t))&&(r&&(r+=" "),r+=n);return r}const EJ=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=EJ(e[r]))&&(n&&(n+=" "),n+=t);return n};function x5e(e,...t){let n,r,i,o=s;function s(c){const u=t.reduce((f,h)=>h(f),e());return n=p5e(u),r=n.cache.get,i=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const f=y5e(c,n);return i(c,f),f}return function(){return o(b5e.apply(null,arguments))}}const Fr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},NJ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,OJ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,v5e=/^\d+\/\d+$/,w5e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,S5e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,E5e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,N5e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,O5e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sp=e=>v5e.test(e),Rt=e=>!!e&&!Number.isNaN(Number(e)),Of=e=>!!e&&Number.isInteger(Number(e)),FL=e=>e.endsWith("%")&&Rt(e.slice(0,-1)),ju=e=>w5e.test(e),_5e=()=>!0,$5e=e=>S5e.test(e)&&!E5e.test(e),V3=()=>!1,C5e=e=>N5e.test(e),j5e=e=>O5e.test(e),A5e=e=>!Xe(e)&&!Qe(e),T5e=e=>xy(e,CJ,V3),Xe=e=>NJ.test(e),_f=e=>xy(e,jJ,$5e),uj=e=>xy(e,U5e,Rt),R5e=e=>xy(e,_J,V3),I5e=e=>xy(e,$J,j5e),M5e=e=>xy(e,V3,C5e),Qe=e=>OJ.test(e),D1=e=>vy(e,jJ),k5e=e=>vy(e,V5e),P5e=e=>vy(e,_J),D5e=e=>vy(e,CJ),F5e=e=>vy(e,$J),L5e=e=>vy(e,q5e,!0),xy=(e,t,n)=>{const r=NJ.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},vy=(e,t,n=!1)=>{const r=OJ.exec(e);return r?r[1]?t(r[1]):n:!1},_J=e=>e==="position",B5e=new Set(["image","url"]),$J=e=>B5e.has(e),z5e=new Set(["length","size","percentage"]),CJ=e=>z5e.has(e),jJ=e=>e==="length",U5e=e=>e==="number",V5e=e=>e==="family-name",q5e=e=>e==="shadow",H5e=()=>{const e=Fr("color"),t=Fr("font"),n=Fr("text"),r=Fr("font-weight"),i=Fr("tracking"),o=Fr("leading"),s=Fr("breakpoint"),a=Fr("container"),c=Fr("spacing"),u=Fr("radius"),f=Fr("shadow"),h=Fr("inset-shadow"),p=Fr("drop-shadow"),y=Fr("blur"),x=Fr("perspective"),v=Fr("aspect"),E=Fr("ease"),N=Fr("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["auto","hidden","clip","visible","scroll"],j=()=>["auto","contain","none"],A=()=>[Qe,Xe,c],R=()=>[sp,"full","auto",...A()],I=()=>[Of,"none","subgrid",Qe,Xe],P=()=>["auto",{span:["full",Of,Qe,Xe]},Qe,Xe],z=()=>[Of,"auto",Qe,Xe],B=()=>["auto","min","max","fr",Qe,Xe],U=()=>["start","end","center","between","around","evenly","stretch","baseline"],H=()=>["start","end","center","stretch"],M=()=>["auto",...A()],L=()=>[sp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],T=()=>[e,Qe,Xe],F=()=>[FL,_f],k=()=>["","none","full",u,Qe,Xe],q=()=>["",Rt,D1,_f],D=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],X=()=>["","none",y,Qe,Xe],oe=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe,Xe],se=()=>["none",Rt,Qe,Xe],ie=()=>["none",Rt,Qe,Xe],le=()=>[Rt,Qe,Xe],pe=()=>[sp,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ju],breakpoint:[ju],color:[_5e],container:[ju],"drop-shadow":[ju],ease:["in","out","in-out"],font:[A5e],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ju],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ju],shadow:[ju],spacing:["px",Rt],text:[ju],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sp,Xe,Qe,v]}],container:["container"],columns:[{columns:[Rt,Xe,Qe,a]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[..._(),Xe,Qe]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Of,"auto",Qe,Xe]}],basis:[{basis:[sp,"full","auto",a,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Rt,sp,"auto","initial","none",Xe]}],grow:[{grow:["",Rt,Qe,Xe]}],shrink:[{shrink:["",Rt,Qe,Xe]}],order:[{order:[Of,"first","last","none",Qe,Xe]}],"grid-cols":[{"grid-cols":I()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":I()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...U(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...U()]}],"align-items":[{items:[...H(),"baseline"]}],"align-self":[{self:["auto",...H(),"baseline"]}],"place-content":[{"place-content":U()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:M()}],mx:[{mx:M()}],my:[{my:M()}],ms:[{ms:M()}],me:[{me:M()}],mt:[{mt:M()}],mr:[{mr:M()}],mb:[{mb:M()}],ml:[{ml:M()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:L()}],w:[{w:[a,"screen",...L()]}],"min-w":[{"min-w":[a,"screen","none",...L()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...L()]}],h:[{h:["screen",...L()]}],"min-h":[{"min-h":["screen","none",...L()]}],"max-h":[{"max-h":["screen",...L()]}],"font-size":[{text:["base",n,D1,_f]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qe,uj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",FL,Xe]}],"font-family":[{font:[k5e,Xe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Qe,Xe]}],"line-clamp":[{"line-clamp":[Rt,"none",Qe,uj]}],leading:[{leading:[o,...A()]}],"list-image":[{"list-image":["none",Qe,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:[Rt,"from-font","auto",Qe,_f]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[Rt,"auto",Qe,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[..._(),P5e,R5e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",D5e,T5e]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Of,Qe,Xe],radial:["",Qe,Xe],conic:[Of,Qe,Xe]},F5e,I5e]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:q()}],"border-w-x":[{"border-x":q()}],"border-w-y":[{"border-y":q()}],"border-w-s":[{"border-s":q()}],"border-w-e":[{"border-e":q()}],"border-w-t":[{"border-t":q()}],"border-w-r":[{"border-r":q()}],"border-w-b":[{"border-b":q()}],"border-w-l":[{"border-l":q()}],"divide-x":[{"divide-x":q()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":q()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...D(),"hidden","none"]}],"divide-style":[{divide:[...D(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...D(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Rt,Qe,Xe]}],"outline-w":[{outline:["",Rt,D1,_f]}],"outline-color":[{outline:[e]}],shadow:[{shadow:["","none",f,L5e,M5e]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",Qe,Xe,h]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[Rt,_f]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":q()}],"inset-ring-color":[{"inset-ring":T()}],opacity:[{opacity:[Rt,Qe,Xe]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none",Qe,Xe]}],blur:[{blur:X()}],brightness:[{brightness:[Rt,Qe,Xe]}],contrast:[{contrast:[Rt,Qe,Xe]}],"drop-shadow":[{"drop-shadow":["","none",p,Qe,Xe]}],grayscale:[{grayscale:["",Rt,Qe,Xe]}],"hue-rotate":[{"hue-rotate":[Rt,Qe,Xe]}],invert:[{invert:["",Rt,Qe,Xe]}],saturate:[{saturate:[Rt,Qe,Xe]}],sepia:[{sepia:["",Rt,Qe,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Xe]}],"backdrop-blur":[{"backdrop-blur":X()}],"backdrop-brightness":[{"backdrop-brightness":[Rt,Qe,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Rt,Qe,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Rt,Qe,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Rt,Qe,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Rt,Qe,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Rt,Qe,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Rt,Qe,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Rt,Qe,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Rt,"initial",Qe,Xe]}],ease:[{ease:["linear","initial",E,Qe,Xe]}],delay:[{delay:[Rt,Qe,Xe]}],animate:[{animate:["none",N,Qe,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Qe,Xe]}],"perspective-origin":[{"perspective-origin":oe()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:le()}],"skew-x":[{"skew-x":le()}],"skew-y":[{"skew-y":le()}],transform:[{transform:[Qe,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:oe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Xe]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[Rt,D1,_f,uj]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Ke=x5e(H5e);function W5e(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(s.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}}const G5e=dU.useInsertionEffect,K5e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Y5e=K5e?w.useLayoutEffect:w.useEffect,J5e=G5e||Y5e,AJ=e=>{const t=w.useRef([e,(...n)=>t[0](...n)]).current;return J5e(()=>{t[0]=e}),t[1]},X5e="popstate",q3="pushState",H3="replaceState",Q5e="hashchange",LL=[X5e,q3,H3,Q5e],Z5e=e=>{for(const t of LL)addEventListener(t,e);return()=>{for(const t of LL)removeEventListener(t,e)}},TJ=(e,t)=>I3.useSyncExternalStore(Z5e,e,t),eIe=()=>location.search,tIe=({ssrSearch:e=""}={})=>TJ(eIe,()=>e),BL=()=>location.pathname,nIe=({ssrPath:e}={})=>TJ(BL,e?()=>e:BL),rIe=(e,{replace:t=!1,state:n=null}={})=>history[t?H3:q3](n,"",e),iIe=(e={})=>[nIe(e),rIe],zL=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[zL]>"u"){for(const e of[q3,H3]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,zL,{value:!0})}const oIe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",RJ=(e="")=>e==="/"?"":e,sIe=(e,t)=>e[0]==="~"?e.slice(1):RJ(t)+e,aIe=(e="",t)=>oIe(mR(RJ(e)),mR(t)),lIe=e=>e[0]==="?"?e.slice(1):e,mR=e=>{try{return decodeURI(e)}catch{return e}},cIe=e=>mR(lIe(e)),IJ={hook:iIe,searchHook:tIe,parser:W5e,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},MJ=w.createContext(IJ),Hd=()=>w.useContext(MJ),kJ={},PJ=w.createContext(kJ),W3=()=>w.useContext(PJ),sO=e=>{const[t,n]=e.hook(e);return[aIe(e.base,t),AJ((r,i)=>n(sIe(r,e.base),i))]},zo=()=>sO(Hd()),uIe=()=>{const e=Hd();return cIe(e.searchHook(e))},DJ=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),s=i.exec(n)||[],[a,...c]=s;return a!==void 0?[!0,(()=>{const u=o!==!1?Object.fromEntries(o.map((h,p)=>[h,c[p]])):s.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[a]:[]]:[!1,null]},FJ=({children:e,...t})=>{var f,h;const n=Hd(),r=t.hook?IJ:n;let i=r;const[o,s]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];s&&(t.ssrSearch=s,t.ssrPath=o),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let a=w.useRef({}),c=a.current,u=c;for(let p in r){const y=p==="base"?r[p]+(t[p]||""):t[p]||r[p];c===u&&y!==u[p]&&(a.current=u={...u}),u[p]=y,y!==r[p]&&(i=u)}return w.createElement(MJ.Provider,{value:i,children:e})},UL=({children:e,component:t},n)=>t?w.createElement(t,{params:n}):typeof e=="function"?e(n):e,dIe=e=>{let t=w.useRef(kJ);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},ut=({path:e,nest:t,match:n,...r})=>{const i=Hd(),[o]=sO(i),[s,a,c]=n??DJ(i.parser,e,o,t),u=dIe({...W3(),...a});if(!s)return null;const f=c?w.createElement(FJ,{base:c},UL(r,u)):UL(r,u);return w.createElement(PJ.Provider,{value:u,children:f})},aO=w.forwardRef((e,t)=>{const n=Hd(),[r,i]=sO(n),{to:o="",href:s=o,onClick:a,asChild:c,children:u,className:f,replace:h,state:p,...y}=e,x=AJ(E=>{E.ctrlKey||E.metaKey||E.altKey||E.shiftKey||E.button!==0||(a==null||a(E),E.defaultPrevented||(E.preventDefault(),i(s,e)))}),v=n.hrefs(s[0]==="~"?s.slice(1):n.base+s,n);return c&&w.isValidElement(u)?w.cloneElement(u,{onClick:x,href:v}):w.createElement("a",{...y,onClick:x,href:v,className:f!=null&&f.call?f(r===s):f,children:u,ref:t})}),LJ=e=>Array.isArray(e)?e.flatMap(t=>LJ(t&&t.type===w.Fragment?t.props.children:t)):[e],Rc=({children:e,location:t})=>{const n=Hd(),[r]=sO(n);for(const i of LJ(e)){let o=0;if(w.isValidElement(i)&&(o=DJ(n.parser,i.props.path,t||r,i.props.nest))[0])return w.cloneElement(i,{match:o})}return null},Vt=e=>(co(),e),fIe=(e="",t="")=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",BJ=(e,t="")=>e[0]==="~"?e.slice(1):t+e,hIe=e=>{try{return decodeURI(e)}catch{return e}},mIe=e=>{const[t,n]=e.hook(e);return[hIe(fIe(e.base,t)),Vt((r,i)=>n(BJ(r,e.base),i))]};function pIe(e,t){const n=window.location.pathname;return n===e||n.endsWith(e)||n.includes(e+"/")}function er({className:e,native:t,onClick:n,...r}){const i=Hd(),[o,s]=mIe(i);function a(y,x){if(y.startsWith(x)){const v=y.replace(x,"");return v.length===0||v[0]==="/"}return!1}const c=r.href??r.to,u=i.hrefs(c[0]==="~"?c.slice(1):i.base+c,i).replace("//","/"),f=BJ(o,i.base).replace("//","/"),h=u.replace(i.base,"").length<=1?u===f:a(f,u);if(t)return m.jsx("a",{className:`${h?"active ":""}${e}`,...r});const p=y=>{n==null||n(y)};return m.jsx(aO,{className:`${h?"active ":""}${e}`,...r,onClick:p})}const gIe={small:"px-2 py-1.5 rounded-md gap-1 text-sm",default:"px-3 py-2.5 rounded-md gap-1.5",large:"px-4 py-3 rounded-md gap-2.5 text-lg"},yIe={small:12,default:16,large:20},bIe={default:"bg-primary/5 hover:bg-primary/10 link text-primary/70",primary:"bg-primary hover:bg-primary/80 link text-background",ghost:"bg-transparent hover:bg-primary/5 link text-primary/70",outline:"border border-primary/20 bg-transparent hover:bg-primary/5 link text-primary/80",red:"dark:bg-red-950 dark:hover:bg-red-900 bg-red-100 hover:bg-red-200 link text-primary/70",subtlered:"dark:text-red-700 text-red-700 dark:hover:bg-red-900 dark:hover:text-red-200 bg-transparent hover:bg-red-50 link"},zJ=({children:e,size:t,variant:n,IconLeft:r,IconRight:i,iconSize:o=yIe[t??"default"],iconProps:s,labelClassName:a,...c})=>({...c,className:Ke("flex flex-row flex-nowrap items-center !font-semibold disabled:opacity-50 cursor-pointer disabled:cursor-not-allowed transition-[opacity,background-color,color,border-color]",gIe[t??"default"],bIe[n??"default"],c.className),children:m.jsxs(m.Fragment,{children:[r&&m.jsx(r,{size:o,...s}),e&&w.Children.count(e)===1?m.jsx("span",{className:Ke("leading-none",a),children:e}):e,i&&m.jsx(i,{size:o,...s})]})}),lt=w.forwardRef((e,t)=>m.jsx("button",{type:"button",ref:t,...zJ(e)})),pR=w.forwardRef((e,t)=>m.jsx(er,{ref:t,href:"#",...zJ(e)})),Fi=({Icon:e=void 0,title:t=void 0,description:n="Check back later my friend.",primary:r,secondary:i,className:o})=>m.jsx("div",{className:Ke("flex flex-col h-full w-full justify-center items-center",o),children:m.jsxs("div",{className:"flex flex-col gap-3 items-center max-w-80",children:[e&&m.jsx(e,{size:48,className:"opacity-50",stroke:1}),m.jsxs("div",{className:"flex flex-col gap-1",children:[t&&m.jsx("h3",{className:"text-center text-lg font-bold",children:t}),m.jsx("p",{className:"text-center text-primary/60",children:n})]}),m.jsxs("div",{className:"mt-1.5 flex flex-row gap-2",children:[i&&m.jsx(lt,{variant:"default",...i}),r&&m.jsx(lt,{variant:"primary",...r})]})]})}),xIe=e=>m.jsx(Fi,{title:"Not Found",...e}),vIe=e=>m.jsx(Fi,{title:"Not Allowed",...e}),wIe=({what:e,...t})=>m.jsx(Fi,{Icon:ZRe,title:"Missing Permission",description:`You're not allowed to access ${e??"this"}.`,...t}),SIe=e=>m.jsx(Fi,{title:"Not Enabled",...e}),Po={NotFound:xIe,NotAllowed:vIe,NotEnabled:SIe,MissingPermission:wIe},ft={data:{root:()=>"/data",entity:{list:e=>`/entity/${e}`,create:e=>`/entity/${e}/create`,edit:(e,t)=>`/entity/${e}/edit/${t}`},schema:{root:()=>"/schema",entity:e=>`/schema/entity/${e}`}},auth:{root:()=>"/auth",users:{list:()=>"/users",edit:e=>`/users/edit/${e}`},roles:{list:()=>"/roles",edit:e=>`/roles/edit/${e}`},settings:()=>"/settings",strategies:()=>"/strategies"},flows:{root:()=>"/flows",flows:{list:()=>"/",edit:e=>`/flow/${e}`}},settings:{root:()=>"/settings",path:e=>`/settings/${e.join("/")}`}};function EIe(e,t){const n=SN(t,{encode:!1});return`${e}?${n}`}function NIe(){const[e]=Cr();return(t,n)=>{e(t(ft),n)}}function Cr(){const[e,t]=zo(),n=Hd(),{app:r}=Bt(),i=r.options.basepath;return[(o,s)=>{(c=>{c()})(()=>{if(s){if("reload"in s){window.location.href=o;return}else if("target"in s){const u=window.location.origin+i+n.base+o;window.open(u,s.target);return}}const c=s!=null&&s.absolute?`~/${i}${o}`.replace(/\/+/g,"/"):o;t(s!=null&&s.query?EIe(c,s==null?void 0:s.query):c,{replace:s==null?void 0:s.replace,state:s==null?void 0:s.state})})},e]}function OIe(e="/",t){const{app:n}=Bt(),[r]=Cr(),i=document.referrer,o=window.history.length,s=i.length===0,a=s&&o>1||!!s;function c(){s&&o>2?window.history.back():typeof e=="string"?r(e):typeof e=="function"&&e()}return{same:s,canGoBack:a,goBack:c}}const UJ=w.createContext(void 0);function _Ie({includeSecrets:e=!1,options:t,children:n,fallback:r=null}){const[i,o]=w.useState(e),[s,a]=w.useState(),[c,u]=w.useState(!1),[f,h]=w.useState(),p=w.useRef(!1),y=w.useRef(0),[x,v]=w.useState(0),E=yl();async function N(){await O(e,{force:!0,fresh:!0})}async function O(R=!1,I){const P=i?2:1;if(y.current===P||i&&(I==null?void 0:I.force)!==!0)return;y.current=P;const z=await E.system.readSchema({config:!0,secrets:R,fresh:I==null?void 0:I.fresh});if(z.ok)f&&h(!1);else if(p.current||(p.current=!0,h(!0),c&&(s!=null&&s.schema)))return;const B=z.ok?z.body:{version:0,schema:iJ(),config:VTe(),permissions:[],fallback:!0};w.startTransition(()=>{const U=()=>{a(B),o(R),u(!0),v(H=>H+1),y.current=0};"startViewTransition"in document?document.startViewTransition(U):U()})}async function _(){i||await O(!0)}if(w.useEffect(()=>{s!=null&&s.schema||O(e)},[]),!c||!s)return r;const C=new PRe(s==null?void 0:s.config,t),j=kRe({api:E,setSchema:a,reloadSchema:N}),A=i&&!f;return m.jsx(UJ.Provider,{value:{...s,actions:j,requireSecrets:_,app:C,options:C.options,hasSecrets:A},children:f?m.jsx($Ie,{}):n},x)}function $Ie(){const[e]=Cr();return m.jsx(Po.MissingPermission,{what:"the Admin UI",primary:{children:"Login",onClick:()=>e("/auth/login")}})}function Bt({withSecrets:e}={}){const t=w.useContext(UJ);return e&&t.requireSecrets(),t}const CIe={},VL=e=>{let t;const n=new Set,r=(f,h)=>{const p=typeof f=="function"?f(t):f;if(!Object.is(p,t)){const y=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(x=>x(t,y))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(CIe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},G3=e=>e?VL(e):VL;var dj={exports:{}},fj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qL;function jIe(){if(qL)return fj;qL=1;var e=Fg(),t=aJ();function n(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,c=e.useDebugValue;return fj.useSyncExternalStoreWithSelector=function(u,f,h,p,y){var x=o(null);if(x.current===null){var v={hasValue:!1,value:null};x.current=v}else v=x.current;x=a(function(){function N(A){if(!O){if(O=!0,_=A,A=p(A),y!==void 0&&v.hasValue){var R=v.value;if(y(R,A))return C=R}return C=A}if(R=C,r(_,A))return R;var I=p(A);return y!==void 0&&y(R,I)?(_=A,R):(_=A,C=I)}var O=!1,_,C,j=h===void 0?null:h;return[function(){return N(f())},j===null?void 0:function(){return N(j())}]},[f,h,p,y]);var E=i(u,x[0],x[1]);return s(function(){v.hasValue=!0,v.value=E},[E]),c(E),E},fj}var HL;function AIe(){return HL||(HL=1,dj.exports=jIe()),dj.exports}var VJ=AIe();const qJ=ga(VJ),HJ={},{useDebugValue:TIe}=De,{useSyncExternalStoreWithSelector:RIe}=qJ;let WL=!1;const IIe=e=>e;function wo(e,t=IIe,n){(HJ?"production":void 0)!=="production"&&n&&!WL&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),WL=!0);const r=RIe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return TIe(r),r}const GL=e=>{(HJ?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?G3(e):e,n=(r,i)=>wo(t,r,i);return Object.assign(n,t),n},K3=e=>e?GL(e):GL,MIe={},lO=(e,t)=>(...n)=>Object.assign({},e,t(...n));function kIe(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const s=c=>c===null?null:JSON.parse(c,void 0),a=(o=n.getItem(i))!=null?o:null;return a instanceof Promise?a.then(s):s(a)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const ax=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ax(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ax(r)(n)}}}},PIe=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:E=>E,version:0,merge:(E,N)=>({...N,...E}),...t},s=!1;const a=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...E)},r,i);const f=ax(o.serialize),h=()=>{const E=o.partialize({...r()});let N;const O=f({state:E,version:o.version}).then(_=>u.setItem(o.name,_)).catch(_=>{N=_});if(N)throw N;return O},p=i.setState;i.setState=(E,N)=>{p(E,N),h()};const y=e((...E)=>{n(...E),h()},r,i);let x;const v=()=>{var E;if(!u)return;s=!1,a.forEach(O=>O(r()));const N=((E=o.onRehydrateStorage)==null?void 0:E.call(o,r()))||void 0;return ax(u.getItem.bind(u))(o.name).then(O=>{if(O)return o.deserialize(O)}).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==o.version){if(o.migrate)return o.migrate(O.state,O.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return O.state}).then(O=>{var _;return x=o.merge(O,(_=r())!=null?_:y),n(x,!0),h()}).then(()=>{N==null||N(x,void 0),s=!0,c.forEach(O=>O(x))}).catch(O=>{N==null||N(void 0,O)})};return i.persist={setOptions:E=>{o={...o,...E},E.getStorage&&(u=E.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>v(),hasHydrated:()=>s,onHydrate:E=>(a.add(E),()=>{a.delete(E)}),onFinishHydration:E=>(c.add(E),()=>{c.delete(E)})},v(),x||y},DIe=(e,t)=>(n,r,i)=>{let o={storage:kIe(()=>localStorage),partialize:v=>v,version:0,merge:(v,E)=>({...E,...v}),...t},s=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...v)},r,i);const f=()=>{const v=o.partialize({...r()});return u.setItem(o.name,{state:v,version:o.version})},h=i.setState;i.setState=(v,E)=>{h(v,E),f()};const p=e((...v)=>{n(...v),f()},r,i);i.getInitialState=()=>p;let y;const x=()=>{var v,E;if(!u)return;s=!1,a.forEach(O=>{var _;return O((_=r())!=null?_:p)});const N=((E=o.onRehydrateStorage)==null?void 0:E.call(o,(v=r())!=null?v:p))||void 0;return ax(u.getItem.bind(u))(o.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==o.version){if(o.migrate)return[!0,o.migrate(O.state,O.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var _;const[C,j]=O;if(y=o.merge(j,(_=r())!=null?_:p),n(y,!0),C)return f()}).then(()=>{N==null||N(y,void 0),y=r(),s=!0,c.forEach(O=>O(y))}).catch(O=>{N==null||N(void 0,O)})};return i.persist={setOptions:v=>{o={...o,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>x(),hasHydrated:()=>s,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},o.skipHydration||x(),y||p},FIe=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((MIe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),PIe(e,t)):DIe(e,t),WJ=FIe,GJ=["dark","light","system"],KL=K3(WJ(lO({theme:null},e=>({setTheme:t=>{GJ.includes(t)&&document.startViewTransition(()=>{e({theme:t})})}})),{name:"bknd-admin-theme"}));function Wd(e="system"){var a;const t=Bt(),n=KL(c=>c.theme),r=KL(c=>c.setTheme),i=(a=t==null?void 0:t.options)==null?void 0:a.theme,o=typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=i??n??e;return{theme:s==="system"?o?"dark":"light":s,value:s,themes:GJ,setTheme:r,state:n,prefersDark:o,override:i}}function cO({scale:e=.2,fill:t,...n}){const r=Wd(),i=n.theme??r.theme,o=t||(i==="light"?"black":"white"),s={width:Math.round(578*e),height:Math.round(188*e)};return m.jsx("div",{style:s,children:m.jsxs("svg",{width:s.width,height:s.height,viewBox:"0 0 578 188",fill:o,xmlns:"http://www.w3.org/2000/svg",children:[m.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M41.5 34C37.0817 34 33.5 37.5817 33.5 42V146C33.5 150.418 37.0817 154 41.5 154H158.5C162.918 154 166.5 150.418 166.5 146V42C166.5 37.5817 162.918 34 158.5 34H41.5ZM123.434 113.942C124.126 111.752 124.5 109.42 124.5 107C124.5 94.2975 114.203 84 101.5 84C99.1907 84 96.9608 84.3403 94.8579 84.9736L87.2208 65.1172C90.9181 63.4922 93.5 59.7976 93.5 55.5C93.5 49.701 88.799 45 83 45C77.201 45 72.5 49.701 72.5 55.5C72.5 61.299 77.201 66 83 66C83.4453 66 83.8841 65.9723 84.3148 65.9185L92.0483 86.0256C87.1368 88.2423 83.1434 92.1335 80.7957 96.9714L65.4253 91.1648C65.4746 90.7835 65.5 90.3947 65.5 90C65.5 85.0294 61.4706 81 56.5 81C51.5294 81 47.5 85.0294 47.5 90C47.5 94.9706 51.5294 99 56.5 99C60.0181 99 63.0648 96.9814 64.5449 94.0392L79.6655 99.7514C78.9094 102.03 78.5 104.467 78.5 107C78.5 110.387 79.2321 113.603 80.5466 116.498L69.0273 123.731C67.1012 121.449 64.2199 120 61 120C55.201 120 50.5 124.701 50.5 130.5C50.5 136.299 55.201 141 61 141C66.799 141 71.5 136.299 71.5 130.5C71.5 128.997 71.1844 127.569 70.6158 126.276L81.9667 119.149C86.0275 125.664 93.2574 130 101.5 130C110.722 130 118.677 124.572 122.343 116.737L132.747 120.899C132.585 121.573 132.5 122.276 132.5 123C132.5 127.971 136.529 132 141.5 132C146.471 132 150.5 127.971 150.5 123C150.5 118.029 146.471 114 141.5 114C138.32 114 135.525 115.649 133.925 118.139L123.434 113.942Z"}),m.jsx("path",{d:"M243.9 151.5C240.4 151.5 237 151 233.7 150C230.4 149 227.4 147.65 224.7 145.95C222 144.15 219.75 142.15 217.95 139.95C216.15 137.65 215 135.3 214.5 132.9L219.3 131.1L218.25 149.7H198.15V39H219.45V89.25L215.4 87.6C216 85.2 217.15 82.9 218.85 80.7C220.55 78.4 222.7 76.4 225.3 74.7C227.9 72.9 230.75 71.5 233.85 70.5C236.95 69.5 240.15 69 243.45 69C250.35 69 256.5 70.8 261.9 74.4C267.3 77.9 271.55 82.75 274.65 88.95C277.85 95.15 279.45 102.25 279.45 110.25C279.45 118.25 277.9 125.35 274.8 131.55C271.7 137.75 267.45 142.65 262.05 146.25C256.75 149.75 250.7 151.5 243.9 151.5ZM238.8 133.35C242.8 133.35 246.25 132.4 249.15 130.5C252.15 128.5 254.5 125.8 256.2 122.4C257.9 118.9 258.75 114.85 258.75 110.25C258.75 105.75 257.9 101.75 256.2 98.25C254.6 94.75 252.3 92.05 249.3 90.15C246.3 88.25 242.8 87.3 238.8 87.3C234.8 87.3 231.3 88.25 228.3 90.15C225.3 92.05 222.95 94.75 221.25 98.25C219.55 101.75 218.7 105.75 218.7 110.25C218.7 114.85 219.55 118.9 221.25 122.4C222.95 125.8 225.3 128.5 228.3 130.5C231.3 132.4 234.8 133.35 238.8 133.35ZM308.312 126.15L302.012 108.6L339.512 70.65H367.562L308.312 126.15ZM288.062 150V39H309.362V150H288.062ZM341.762 150L313.262 114.15L328.262 102.15L367.412 150H341.762ZM371.675 150V70.65H392.075L392.675 86.85L388.475 88.65C389.575 85.05 391.525 81.8 394.325 78.9C397.225 75.9 400.675 73.5 404.675 71.7C408.675 69.9 412.875 69 417.275 69C423.275 69 428.275 70.2 432.275 72.6C436.375 75 439.425 78.65 441.425 83.55C443.525 88.35 444.575 94.3 444.575 101.4V150H423.275V103.05C423.275 99.45 422.775 96.45 421.775 94.05C420.775 91.65 419.225 89.9 417.125 88.8C415.125 87.6 412.625 87.1 409.625 87.3C407.225 87.3 404.975 87.7 402.875 88.5C400.875 89.2 399.125 90.25 397.625 91.65C396.225 93.05 395.075 94.65 394.175 96.45C393.375 98.25 392.975 100.2 392.975 102.3V150H382.475C380.175 150 378.125 150 376.325 150C374.525 150 372.975 150 371.675 150ZM488.536 151.5C481.636 151.5 475.436 149.75 469.936 146.25C464.436 142.65 460.086 137.8 456.886 131.7C453.786 125.5 452.236 118.35 452.236 110.25C452.236 102.35 453.786 95.3 456.886 89.1C460.086 82.9 464.386 78 469.786 74.4C475.286 70.8 481.536 69 488.536 69C492.236 69 495.786 69.6 499.186 70.8C502.686 71.9 505.786 73.45 508.486 75.45C511.286 77.45 513.536 79.7 515.236 82.2C516.936 84.6 517.886 87.15 518.086 89.85L512.686 90.75V39H533.986V150H513.886L512.986 131.7L517.186 132.15C516.986 134.65 516.086 137.05 514.486 139.35C512.886 141.65 510.736 143.75 508.036 145.65C505.436 147.45 502.436 148.9 499.036 150C495.736 151 492.236 151.5 488.536 151.5ZM493.336 133.8C497.336 133.8 500.836 132.8 503.836 130.8C506.836 128.8 509.186 126.05 510.886 122.55C512.586 119.05 513.436 114.95 513.436 110.25C513.436 105.65 512.586 101.6 510.886 98.1C509.186 94.5 506.836 91.75 503.836 89.85C500.836 87.85 497.336 86.85 493.336 86.85C489.336 86.85 485.836 87.85 482.836 89.85C479.936 91.75 477.636 94.5 475.936 98.1C474.336 101.6 473.536 105.65 473.536 110.25C473.536 114.95 474.336 119.05 475.936 122.55C477.636 126.05 479.936 128.8 482.836 130.8C485.836 132.8 489.336 133.8 493.336 133.8Z"})]})})}function YL(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function KJ(...e){return t=>{let n=!1;const r=e.map(i=>{const o=YL(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():YL(e[i],null)}}}}function Gd(...e){return w.useCallback(KJ(...e),e)}var YJ=w.forwardRef((e,t)=>{const{children:n,...r}=e,i=w.Children.toArray(n),o=i.find(BIe);if(o){const s=o.props.children,a=i.map(c=>c===o?w.Children.count(s)>1?w.Children.only(null):w.isValidElement(s)?s.props.children:null:c);return m.jsx(gR,{...r,ref:t,children:w.isValidElement(s)?w.cloneElement(s,void 0,a):null})}return m.jsx(gR,{...r,ref:t,children:n})});YJ.displayName="Slot";var gR=w.forwardRef((e,t)=>{const{children:n,...r}=e;if(w.isValidElement(n)){const i=UIe(n),o=zIe(r,n.props);return n.type!==w.Fragment&&(o.ref=t?KJ(t,i):i),w.cloneElement(n,o)}return w.Children.count(n)>1?w.Children.only(null):null});gR.displayName="SlotClone";var LIe=({children:e})=>m.jsx(m.Fragment,{children:e});function BIe(e){return w.isValidElement(e)&&e.type===LIe}function zIe(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function UIe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var VIe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tm=VIe.reduce((e,t)=>{const n=w.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?YJ:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function JJ(e,t=[]){let n=[];function r(o,s){const a=w.createContext(s),c=n.length;n=[...n,s];const u=h=>{var N;const{scope:p,children:y,...x}=h,v=((N=p==null?void 0:p[e])==null?void 0:N[c])||a,E=w.useMemo(()=>x,Object.values(x));return m.jsx(v.Provider,{value:E,children:y})};u.displayName=o+"Provider";function f(h,p){var v;const y=((v=p==null?void 0:p[e])==null?void 0:v[c])||a,x=w.useContext(y);if(x)return x;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,f]}const i=()=>{const o=n.map(s=>w.createContext(s));return function(a){const c=(a==null?void 0:a[e])||o;return w.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return i.scopeName=e,[r,qIe(i,...t)]}function qIe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:c,scopeName:u})=>{const h=c(o)[`__scope${u}`];return{...a,...h}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function cd(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function sc(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function HIe({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=WIe({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=sc(n),c=w.useCallback(u=>{if(o){const h=typeof u=="function"?u(e):u;h!==e&&a(h)}else i(u)},[o,e,i,a]);return[s,c]}function WIe({defaultProp:e,onChange:t}){const n=w.useState(e),[r]=n,i=w.useRef(r),o=sc(t);return w.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var bE=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{};function GIe(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Bv=e=>{const{present:t,children:n}=e,r=KIe(t),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),o=Gd(r.ref,YIe(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:o}):null};Bv.displayName="Presence";function KIe(e){const[t,n]=w.useState(),r=w.useRef({}),i=w.useRef(e),o=w.useRef("none"),s=e?"mounted":"unmounted",[a,c]=GIe(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=F1(r.current);o.current=a==="mounted"?u:"none"},[a]),bE(()=>{const u=r.current,f=i.current;if(f!==e){const p=o.current,y=F1(u);e?c("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==y?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),bE(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=y=>{const v=F1(r.current).includes(y.animationName);if(y.target===t&&v&&(c("ANIMATION_END"),!i.current)){const E=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=E)})}},p=y=>{y.target===t&&(o.current=F1(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function F1(e){return(e==null?void 0:e.animationName)||"none"}function YIe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var JIe=w.createContext(void 0);function XIe(e){const t=w.useContext(JIe);return e||t||"ltr"}function QIe(e){const t=w.useRef({value:e,previous:e});return w.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function ZIe(e){const[t,n]=w.useState(void 0);return bE(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;s=u.inlineSize,a=u.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function e4e(e,[t,n]){return Math.min(n,Math.max(t,e))}function t4e(e,t){return w.useReducer((n,r)=>t[n][r]??n,e)}var Y3="ScrollArea",[XJ,hJe]=JJ(Y3),[n4e,Rs]=XJ(Y3),QJ=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=e,[a,c]=w.useState(null),[u,f]=w.useState(null),[h,p]=w.useState(null),[y,x]=w.useState(null),[v,E]=w.useState(null),[N,O]=w.useState(0),[_,C]=w.useState(0),[j,A]=w.useState(!1),[R,I]=w.useState(!1),P=Gd(t,B=>c(B)),z=XIe(i);return m.jsx(n4e,{scope:n,type:r,dir:z,scrollHideDelay:o,scrollArea:a,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:y,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:A,scrollbarY:v,onScrollbarYChange:E,scrollbarYEnabled:R,onScrollbarYEnabledChange:I,onCornerWidthChange:O,onCornerHeightChange:C,children:m.jsx(tm.div,{dir:z,...s,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});QJ.displayName=Y3;var ZJ="ScrollAreaViewport",eX=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=e,s=Rs(ZJ,n),a=w.useRef(null),c=Gd(t,a,s.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),m.jsx(tm.div,{"data-radix-scroll-area-viewport":"",...o,ref:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e.style},children:m.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});eX.displayName=ZJ;var bl="ScrollAreaScrollbar",tX=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rs(bl,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=e.orientation==="horizontal";return w.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?m.jsx(r4e,{...r,ref:t,forceMount:n}):i.type==="scroll"?m.jsx(i4e,{...r,ref:t,forceMount:n}):i.type==="auto"?m.jsx(nX,{...r,ref:t,forceMount:n}):i.type==="always"?m.jsx(J3,{...r,ref:t}):null});tX.displayName=bl;var r4e=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rs(bl,e.__scopeScrollArea),[o,s]=w.useState(!1);return w.useEffect(()=>{const a=i.scrollArea;let c=0;if(a){const u=()=>{window.clearTimeout(c),s(!0)},f=()=>{c=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),m.jsx(Bv,{present:n||o,children:m.jsx(nX,{"data-state":o?"visible":"hidden",...r,ref:t})})}),i4e=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Rs(bl,e.__scopeScrollArea),o=e.orientation==="horizontal",s=dO(()=>c("SCROLL_END"),100),[a,c]=t4e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return w.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,i.scrollHideDelay,c]),w.useEffect(()=>{const u=i.viewport,f=o?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const y=u[f];h!==y&&(c("SCROLL"),s()),h=y};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,o,c,s]),m.jsx(Bv,{present:n||a!=="hidden",children:m.jsx(J3,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:cd(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:cd(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),nX=w.forwardRef((e,t)=>{const n=Rs(bl,e.__scopeScrollArea),{forceMount:r,...i}=e,[o,s]=w.useState(!1),a=e.orientation==="horizontal",c=dO(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:f)}},10);return Eg(n.viewport,c),Eg(n.content,c),m.jsx(Bv,{present:r||o,children:m.jsx(J3,{"data-state":o?"visible":"hidden",...i,ref:t})})}),J3=w.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Rs(bl,e.__scopeScrollArea),o=w.useRef(null),s=w.useRef(0),[a,c]=w.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=sX(a.viewport,a.content),f={...r,sizes:a,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:p=>s.current=p};function h(p,y){return d4e(p,s.current,a,y)}return n==="horizontal"?m.jsx(o4e,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollLeft,y=JL(p,a,i.dir);o.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=h(p,i.dir))}}):n==="vertical"?m.jsx(s4e,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&o.current){const p=i.viewport.scrollTop,y=JL(p,a);o.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=h(p))}}):null}),o4e=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Rs(bl,e.__scopeScrollArea),[s,a]=w.useState(),c=w.useRef(null),u=Gd(t,c,o.onScrollbarXChange);return w.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),m.jsx(iX,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":uO(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),lX(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:vE(s.paddingLeft),paddingEnd:vE(s.paddingRight)}})}})}),s4e=w.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,o=Rs(bl,e.__scopeScrollArea),[s,a]=w.useState(),c=w.useRef(null),u=Gd(t,c,o.onScrollbarYChange);return w.useEffect(()=>{c.current&&a(getComputedStyle(c.current))},[c]),m.jsx(iX,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":uO(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const p=o.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),lX(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:vE(s.paddingTop),paddingEnd:vE(s.paddingBottom)}})}})}),[a4e,rX]=XJ(bl),iX=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=e,y=Rs(bl,n),[x,v]=w.useState(null),E=Gd(t,P=>v(P)),N=w.useRef(null),O=w.useRef(""),_=y.viewport,C=r.content-r.viewport,j=sc(f),A=sc(c),R=dO(h,10);function I(P){if(N.current){const z=P.clientX-N.current.left,B=P.clientY-N.current.top;u({x:z,y:B})}}return w.useEffect(()=>{const P=z=>{const B=z.target;(x==null?void 0:x.contains(B))&&j(z,C)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,x,C,j]),w.useEffect(A,[r,A]),Eg(x,R),Eg(y.content,R),m.jsx(a4e,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:sc(o),onThumbPointerUp:sc(s),onThumbPositionChange:A,onThumbPointerDown:sc(a),children:m.jsx(tm.div,{...p,ref:E,style:{position:"absolute",...p.style},onPointerDown:cd(e.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),N.current=x.getBoundingClientRect(),O.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),I(P))}),onPointerMove:cd(e.onPointerMove,I),onPointerUp:cd(e.onPointerUp,P=>{const z=P.target;z.hasPointerCapture(P.pointerId)&&z.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=O.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),xE="ScrollAreaThumb",oX=w.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=rX(xE,e.__scopeScrollArea);return m.jsx(Bv,{present:n||i.hasThumb,children:m.jsx(l4e,{ref:t,...r})})}),l4e=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,o=Rs(xE,n),s=rX(xE,n),{onThumbPositionChange:a}=s,c=Gd(t,h=>s.onThumbChange(h)),u=w.useRef(void 0),f=dO(()=>{u.current&&(u.current(),u.current=void 0)},100);return w.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(f(),!u.current){const y=f4e(h,a);u.current=y,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,f,a]),m.jsx(tm.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:cd(e.onPointerDownCapture,h=>{const y=h.target.getBoundingClientRect(),x=h.clientX-y.left,v=h.clientY-y.top;s.onThumbPointerDown({x,y:v})}),onPointerUp:cd(e.onPointerUp,s.onThumbPointerUp)})});oX.displayName=xE;var X3="ScrollAreaCorner",c4e=w.forwardRef((e,t)=>{const n=Rs(X3,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?m.jsx(u4e,{...e,ref:t}):null});c4e.displayName=X3;var u4e=w.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Rs(X3,n),[o,s]=w.useState(0),[a,c]=w.useState(0),u=!!(o&&a);return Eg(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),Eg(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),u?m.jsx(tm.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function vE(e){return e?parseInt(e,10):0}function sX(e,t){const n=e/t;return isNaN(n)?0:n}function uO(e){const t=sX(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function d4e(e,t,n,r="ltr"){const i=uO(n),o=i/2,s=t||o,a=i-s,c=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return aX([c,u],h)(e)}function JL(e,t,n="ltr"){const r=uO(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-i,s=t.content-t.viewport,a=o-r,c=n==="ltr"?[0,s]:[s*-1,0],u=e4e(e,c);return aX([0,s],[0,a])(u)}function aX(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function lX(e,t){return e>0&&e<t}var f4e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const o={left:e.scrollLeft,top:e.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&t(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function dO(e,t){const n=sc(e),r=w.useRef(0);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),w.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Eg(e,t){const n=sc(t);bE(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var cX=QJ,uX=eX,wE=tX,SE=oX,Q3="Switch",[h4e,mJe]=JJ(Q3),[m4e,p4e]=h4e(Q3),dX=w.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:c="on",onCheckedChange:u,form:f,...h}=e,[p,y]=w.useState(null),x=Gd(t,_=>y(_)),v=w.useRef(!1),E=p?f||!!p.closest("form"):!0,[N=!1,O]=HIe({prop:i,defaultProp:o,onChange:u});return m.jsxs(m4e,{scope:n,checked:N,disabled:a,children:[m.jsx(tm.button,{type:"button",role:"switch","aria-checked":N,"aria-required":s,"data-state":mX(N),"data-disabled":a?"":void 0,disabled:a,value:c,...h,ref:x,onClick:cd(e.onClick,_=>{O(C=>!C),E&&(v.current=_.isPropagationStopped(),v.current||_.stopPropagation())})}),E&&m.jsx(g4e,{control:p,bubbles:!v.current,name:r,value:c,checked:N,required:s,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});dX.displayName=Q3;var fX="SwitchThumb",hX=w.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=p4e(fX,n);return m.jsx(tm.span,{"data-state":mX(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});hX.displayName=fX;var g4e=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=w.useRef(null),s=QIe(n),a=ZIe(t);return w.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(s!==n&&h){const p=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(p)}},[s,n,r]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mX(e){return e?"checked":"unchecked"}var y4e=dX,b4e=hX;const x4e={xs:{className:"p-0.5",size:13},sm:{className:"p-0.5",size:15},md:{className:"p-1",size:18},lg:{className:"p-1.5",size:22}},Tt=w.forwardRef(({Icon:e,size:t,variant:n="ghost",onClick:r,disabled:i,iconProps:o,...s},a)=>{const c=x4e[t??"md"];return m.jsx(lt,{ref:a,variant:n,iconSize:c.size,iconProps:o,IconLeft:e,className:Ke(c.className,s.className),onClick:r,disabled:i})});function pX(e){const t=e.match(/:(\w+)\??/);return(t==null?void 0:t[1])??""}function XL(e,t){return t?e.replace(/:\w+\??/,t):e.replace(/\/:\w+\??/,"")}function Z3(e,t){const n=w4e(e??""),r=e??(n==null?void 0:n.path)??"",i=pX(r),o=W3()[i],[s,a]=w.useState(o===t),c=n?t===n.activeIdentifier:s,[,u]=zo();function f(h){const p=h??!s;n&&n.setActiveIdentifier(t),r?u(p?XL(r,t):XL(r)):a(p)}return w.useEffect(()=>{!n&&e&&t&&a(o===t)},[o,t,e]),{active:c,toggle:f}}const gX=w.createContext(void 0);function v4e({children:e,defaultIdentifier:t,path:n}){const r=pX(n),i=W3()[r],[o,s]=w.useState(i??t);return m.jsx(gX.Provider,{value:{defaultIdentifier:t,path:n,activeIdentifier:o,setActiveIdentifier:s},children:e})}function w4e(e){const t=w.use(gX);if(t&&(!e||t.path===e))return t}const yX=w.createContext(void 0);function S4e({children:e}){const{width:t}=Yoe(),[n,r]=Bg(t>768);return m.jsx(yX.Provider,{value:{sidebar:{open:n,handler:r}},children:e})}function E4e(){return w.useContext(yX)}const Ng=K3(WJ(lO({sidebarOpen:!1,sidebarWidth:350},e=>({toggleSidebar:()=>e(t=>({sidebarOpen:!t.sidebarOpen})),closeSidebar:()=>e({sidebarOpen:!1}),openSidebar:()=>e({sidebarOpen:!0}),setSidebarWidth:t=>e({sidebarWidth:t}),resetSidebarWidth:()=>e({sidebarWidth:350})})),{name:"appshell"}));var bX={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},QL=De.createContext&&De.createContext(bX),N4e=["attr","size","title"];function O4e(e,t){if(e==null)return{};var n=_4e(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function EE(){return EE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EE.apply(this,arguments)}function ZL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZL(Object(n),!0).forEach(function(r){$4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $4e(e,t,n){return t=C4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C4e(e){var t=j4e(e,"string");return typeof t=="symbol"?t:t+""}function j4e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xX(e){return e&&e.map((t,n)=>De.createElement(t.tag,NE({key:n},t.attr),xX(t.child)))}function tt(e){return t=>De.createElement(A4e,EE({attr:NE({},e.attr)},t),xX(e.child))}function A4e(e){var t=n=>{var{attr:r,size:i,title:o}=e,s=O4e(e,N4e),a=i||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),De.createElement("svg",EE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:c,style:NE(NE({color:e.color||n.color},n.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&De.createElement("title",null,o),e.children)};return QL!==void 0?De.createElement(QL.Consumer,null,n=>t(n)):t(bX)}function T4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.079 5.999l.239 .012c1.43 .097 3.434 1.013 4.508 2.586a1 1 0 0 1 -.344 1.44c-.05 .028 -.372 .158 -.497 .217a4.15 4.15 0 0 0 -.722 .431c-.614 .461 -.948 1.009 -.942 1.694c.01 .885 .339 1.454 .907 1.846c.208 .143 .436 .253 .666 .33c.126 .043 .426 .116 .444 .122a1 1 0 0 1 .662 .942c0 2.621 -3.04 6.381 -5.286 6.381c-.79 0 -1.272 -.091 -1.983 -.315l-.098 -.031c-.463 -.146 -.702 -.192 -1.133 -.192c-.52 0 -.863 .06 -1.518 .237l-.197 .053c-.575 .153 -.964 .226 -1.5 .248c-2.749 0 -5.285 -5.093 -5.285 -9.072c0 -3.87 1.786 -6.92 5.286 -6.92c.297 0 .598 .045 .909 .128c.403 .107 .774 .26 1.296 .508c.787 .374 .948 .44 1.009 .44h.016c.03 -.003 .128 -.047 1.056 -.457c1.061 -.467 1.864 -.685 2.746 -.616l-.24 -.012z"},child:[]},{tag:"path",attr:{d:"M14 1a1 1 0 0 1 1 1a3 3 0 0 1 -3 3a1 1 0 0 1 -1 -1a3 3 0 0 1 3 -3z"},child:[]}]})(e)}function R4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14.983 3l.123 .006c2.014 .214 3.527 .672 4.966 1.673a1 1 0 0 1 .371 .488c1.876 5.315 2.373 9.987 1.451 12.28c-1.003 2.005 -2.606 3.553 -4.394 3.553c-.732 0 -1.693 -.968 -2.328 -2.045a21.512 21.512 0 0 0 2.103 -.493a1 1 0 1 0 -.55 -1.924c-3.32 .95 -6.13 .95 -9.45 0a1 1 0 0 0 -.55 1.924c.717 .204 1.416 .37 2.103 .494c-.635 1.075 -1.596 2.044 -2.328 2.044c-1.788 0 -3.391 -1.548 -4.428 -3.629c-.888 -2.217 -.39 -6.89 1.485 -12.204a1 1 0 0 1 .371 -.488c1.439 -1.001 2.952 -1.459 4.966 -1.673a1 1 0 0 1 .935 .435l.063 .107l.651 1.285l.137 -.016a12.97 12.97 0 0 1 2.643 0l.134 .016l.65 -1.284a1 1 0 0 1 .754 -.54l.122 -.009zm-5.983 7a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15zm6 0a2 2 0 0 0 -1.977 1.697l-.018 .154l-.005 .149l.005 .15a2 2 0 1 0 1.995 -2.15z"},child:[]}]})(e)}function I4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 2a1 1 0 0 1 .993 .883l.007 .117v4a1 1 0 0 1 -.883 .993l-.117 .007h-3v1h3a1 1 0 0 1 .991 1.131l-.02 .112l-1 4a1 1 0 0 1 -.858 .75l-.113 .007h-2v6a1 1 0 0 1 -.883 .993l-.117 .007h-4a1 1 0 0 1 -.993 -.883l-.007 -.117v-6h-2a1 1 0 0 1 -.993 -.883l-.007 -.117v-4a1 1 0 0 1 .883 -.993l.117 -.007h2v-1a6 6 0 0 1 5.775 -5.996l.225 -.004h3z"},child:[]}]})(e)}function M4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5.315 2.1c.791 -.113 1.9 .145 3.333 .966l.272 .161l.16 .1l.397 -.083a13.3 13.3 0 0 1 4.59 -.08l.456 .08l.396 .083l.161 -.1c1.385 -.84 2.487 -1.17 3.322 -1.148l.164 .008l.147 .017l.076 .014l.05 .011l.144 .047a1 1 0 0 1 .53 .514a5.2 5.2 0 0 1 .397 2.91l-.047 .267l-.046 .196l.123 .163c.574 .795 .93 1.728 1.03 2.707l.023 .295l.007 .272c0 3.855 -1.659 5.883 -4.644 6.68l-.245 .061l-.132 .029l.014 .161l.008 .157l.004 .365l-.002 .213l-.003 3.834a1 1 0 0 1 -.883 .993l-.117 .007h-6a1 1 0 0 1 -.993 -.883l-.007 -.117v-.734c-1.818 .26 -3.03 -.424 -4.11 -1.878l-.535 -.766c-.28 -.396 -.455 -.579 -.589 -.644l-.048 -.019a1 1 0 0 1 .564 -1.918c.642 .188 1.074 .568 1.57 1.239l.538 .769c.76 1.079 1.36 1.459 2.609 1.191l.001 -.678l-.018 -.168a5.03 5.03 0 0 1 -.021 -.824l.017 -.185l.019 -.12l-.108 -.024c-2.976 -.71 -4.703 -2.573 -4.875 -6.139l-.01 -.31l-.004 -.292a5.6 5.6 0 0 1 .908 -3.051l.152 -.222l.122 -.163l-.045 -.196a5.2 5.2 0 0 1 .145 -2.642l.1 -.282l.106 -.253a1 1 0 0 1 .529 -.514l.144 -.047l.154 -.03z"},child:[]}]})(e)}function k4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 2a9.96 9.96 0 0 1 6.29 2.226a1 1 0 0 1 .04 1.52l-1.51 1.362a1 1 0 0 1 -1.265 .06a6 6 0 1 0 2.103 6.836l.001 -.004h-3.66a1 1 0 0 1 -.992 -.883l-.007 -.117v-2a1 1 0 0 1 1 -1h6.945a1 1 0 0 1 .994 .89c.04 .367 .061 .737 .061 1.11c0 5.523 -4.477 10 -10 10s-10 -4.477 -10 -10s4.477 -10 10 -10z"},child:[]}]})(e)}function P4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(e)}function D4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z"},child:[]}]})(e)}function F4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.333 2c1.96 0 3.56 1.537 3.662 3.472l.005 .195v12.666c0 1.96 -1.537 3.56 -3.472 3.662l-.195 .005h-12.666a3.667 3.667 0 0 1 -3.662 -3.472l-.005 -.195v-12.666c0 -1.96 1.537 -3.56 3.472 -3.662l.195 -.005h12.666zm-2.626 7.293a1 1 0 0 0 -1.414 0l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.32 1.497l2 2l.094 .083a1 1 0 0 0 1.32 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z"},child:[]}]})(e)}function L4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 8v4"},child:[]},{tag:"path",attr:{d:"M12 16h.01"},child:[]}]})(e)}function B4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 13l-6 6"},child:[]},{tag:"path",attr:{d:"M6 13l6 6"},child:[]}]})(e)}function eM(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]},{tag:"path",attr:{d:"M5 12l6 6"},child:[]},{tag:"path",attr:{d:"M5 12l6 -6"},child:[]}]})(e)}function z4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]},{tag:"path",attr:{d:"M13 18l6 -6"},child:[]},{tag:"path",attr:{d:"M13 6l6 6"},child:[]}]})(e)}function U4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M18 11l-6 -6"},child:[]},{tag:"path",attr:{d:"M6 11l6 -6"},child:[]}]})(e)}function V4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"},child:[]},{tag:"path",attr:{d:"M16 12v1.5a2.5 2.5 0 0 0 5 0v-1.5a9 9 0 1 0 -5.5 8.28"},child:[]}]})(e)}function q4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3l8 4.5l0 9l-8 4.5l-8 -4.5l0 -9l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l8 -4.5"},child:[]},{tag:"path",attr:{d:"M12 12l0 9"},child:[]},{tag:"path",attr:{d:"M12 12l-8 -4.5"},child:[]}]})(e)}function H4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 4a2 2 0 0 0 -2 2v3a2 3 0 0 1 -2 3a2 3 0 0 1 2 3v3a2 2 0 0 0 2 2"},child:[]},{tag:"path",attr:{d:"M17 4a2 2 0 0 1 2 2v3a2 3 0 0 0 2 3a2 3 0 0 0 -2 3v3a2 2 0 0 1 -2 2"},child:[]}]})(e)}function W4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4m0 4a4 4 0 0 1 4 -4h8a4 4 0 0 1 4 4v8a4 4 0 0 1 -4 4h-8a4 4 0 0 1 -4 -4z"},child:[]},{tag:"path",attr:{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"},child:[]},{tag:"path",attr:{d:"M16.5 7.5l0 .01"},child:[]}]})(e)}function G4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-10 0a10 10 0 1 0 20 0a10 10 0 1 0 -20 0"},child:[]},{tag:"path",attr:{d:"M12.556 6c.65 0 1.235 .373 1.508 .947l2.839 7.848a1.646 1.646 0 0 1 -1.01 2.108a1.673 1.673 0 0 1 -2.068 -.851l-.46 -1.052h-2.73l-.398 .905a1.67 1.67 0 0 1 -1.977 1.045l-.153 -.047a1.647 1.647 0 0 1 -1.056 -1.956l2.824 -7.852a1.664 1.664 0 0 1 1.409 -1.087l1.272 -.008z"},child:[]}]})(e)}function K4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4l11.733 16h4.267l-11.733 -16z"},child:[]},{tag:"path",attr:{d:"M4 20l6.768 -6.768m2.46 -2.46l6.772 -6.772"},child:[]}]})(e)}function vX(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12z"},child:[]},{tag:"path",attr:{d:"M16 3v4"},child:[]},{tag:"path",attr:{d:"M8 3v4"},child:[]},{tag:"path",attr:{d:"M4 11h16"},child:[]},{tag:"path",attr:{d:"M11 15h1"},child:[]},{tag:"path",attr:{d:"M12 15v3"},child:[]}]})(e)}function Y4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l5 5l10 -10"},child:[]}]})(e)}function wX(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 9l6 6l6 -6"},child:[]}]})(e)}function J4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 6l-6 6l6 6"},child:[]}]})(e)}function X4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 6l6 6l-6 6"},child:[]}]})(e)}function Q4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M6 15l6 -6l6 6"},child:[]}]})(e)}function Z4e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 7l-5 5l5 5"},child:[]},{tag:"path",attr:{d:"M17 7l-5 5l5 5"},child:[]}]})(e)}function e3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7l5 5l-5 5"},child:[]},{tag:"path",attr:{d:"M13 7l5 5l-5 5"},child:[]}]})(e)}function t3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"},child:[]}]})(e)}function tM(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.183 6.117a6 6 0 1 0 4.511 3.986"},child:[]},{tag:"path",attr:{d:"M14.813 17.883a6 6 0 1 0 -4.496 -3.954"},child:[]}]})(e)}function n3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 12h6"},child:[]},{tag:"path",attr:{d:"M12 9v6"},child:[]},{tag:"path",attr:{d:"M6 19a2 2 0 0 1 -2 -2v-4l-1 -1l1 -1v-4a2 2 0 0 1 2 -2"},child:[]},{tag:"path",attr:{d:"M18 19a2 2 0 0 0 2 -2v-4l1 -1l-1 -1v-4a2 2 0 0 0 -2 -2"},child:[]}]})(e)}function SX(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M7 7m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"},child:[]},{tag:"path",attr:{d:"M4.012 16.737a2.005 2.005 0 0 1 -1.012 -1.737v-10c0 -1.1 .9 -2 2 -2h10c.75 0 1.158 .385 1.5 1"},child:[]}]})(e)}function EX(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6c0 1.657 3.582 3 8 3s8 -1.343 8 -3s-3.582 -3 -8 -3s-8 1.343 -8 3"},child:[]},{tag:"path",attr:{d:"M4 6v6c0 1.657 3.582 3 8 3c1.075 0 2.1 -.08 3.037 -.224"},child:[]},{tag:"path",attr:{d:"M20 12v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6c0 1.657 3.582 3 8 3c.166 0 .331 -.002 .495 -.006"},child:[]},{tag:"path",attr:{d:"M16 19h6"},child:[]},{tag:"path",attr:{d:"M19 16v6"},child:[]}]})(e)}function r3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 6m-8 0a8 3 0 1 0 16 0a8 3 0 1 0 -16 0"},child:[]},{tag:"path",attr:{d:"M4 6v6a8 3 0 0 0 16 0v-6"},child:[]},{tag:"path",attr:{d:"M4 12v6a8 3 0 0 0 16 0v-6"},child:[]}]})(e)}function pJe(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.831 20.413l-5.375 -6.91c-.608 -.783 -.608 -2.223 0 -3l5.375 -6.911a1.457 1.457 0 0 1 2.338 0l5.375 6.91c.608 .783 .608 2.223 0 3l-5.375 6.911a1.457 1.457 0 0 1 -2.338 0z"},child:[]}]})(e)}function i3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function Kd(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function o3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 6h-6a2 2 0 0 0 -2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-6"},child:[]},{tag:"path",attr:{d:"M11 13l9 -9"},child:[]},{tag:"path",attr:{d:"M15 4h5v5"},child:[]}]})(e)}function s3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828"},child:[]},{tag:"path",attr:{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87"},child:[]},{tag:"path",attr:{d:"M3 3l18 18"},child:[]}]})(e)}function NX(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"},child:[]},{tag:"path",attr:{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6"},child:[]}]})(e)}function OX(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18.9 7a8 8 0 0 1 1.1 5v1a6 6 0 0 0 .8 3"},child:[]},{tag:"path",attr:{d:"M8 11a4 4 0 0 1 8 0v1a10 10 0 0 0 2 6"},child:[]},{tag:"path",attr:{d:"M12 11v2a14 14 0 0 0 2.5 8"},child:[]},{tag:"path",attr:{d:"M8 15a18 18 0 0 0 1.8 6"},child:[]},{tag:"path",attr:{d:"M4.9 19a22 22 0 0 1 -.9 -7v-1a8 8 0 0 1 12 -6.95"},child:[]}]})(e)}function a3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]},{tag:"path",attr:{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"},child:[]}]})(e)}function l3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 3h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M3 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M17 17h4v4h-4z"},child:[]},{tag:"path",attr:{d:"M7 17l5 -4l5 4"},child:[]},{tag:"path",attr:{d:"M12 7l0 6"},child:[]}]})(e)}function c3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"},child:[]},{tag:"path",attr:{d:"M12 9h.01"},child:[]},{tag:"path",attr:{d:"M11 12h1v4h1"},child:[]}]})(e)}function gJe(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16.555 3.843l3.602 3.602a2.877 2.877 0 0 1 0 4.069l-2.643 2.643a2.877 2.877 0 0 1 -4.069 0l-.301 -.301l-6.558 6.558a2 2 0 0 1 -1.239 .578l-.175 .008h-1.172a1 1 0 0 1 -.993 -.883l-.007 -.117v-1.172a2 2 0 0 1 .467 -1.284l.119 -.13l.414 -.414h2v-2h2v-2l2.144 -2.144l-.301 -.301a2.877 2.877 0 0 1 0 -4.069l2.643 -2.643a2.877 2.877 0 0 1 4.069 0z"},child:[]},{tag:"path",attr:{d:"M15 9h.01"},child:[]}]})(e)}function u3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 8v-2a2 2 0 0 1 2 -2h2"},child:[]},{tag:"path",attr:{d:"M4 16v2a2 2 0 0 0 2 2h2"},child:[]},{tag:"path",attr:{d:"M16 4h2a2 2 0 0 1 2 2v2"},child:[]},{tag:"path",attr:{d:"M16 20h2a2 2 0 0 0 2 -2v-2"},child:[]}]})(e)}function d3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 6l16 0"},child:[]},{tag:"path",attr:{d:"M4 12l16 0"},child:[]},{tag:"path",attr:{d:"M4 18l16 0"},child:[]}]})(e)}function f3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(e)}function h3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 10l2 -2v8"},child:[]},{tag:"path",attr:{d:"M9 8h3a1 1 0 0 1 1 1v2a1 1 0 0 1 -1 1h-2a1 1 0 0 0 -1 1v2a1 1 0 0 0 1 1h3"},child:[]},{tag:"path",attr:{d:"M17 8h2.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-1.5h1.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1 -1.5 1.5h-2.5"},child:[]}]})(e)}function zv(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 8h.01"},child:[]},{tag:"path",attr:{d:"M3 6a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3h-12a3 3 0 0 1 -3 -3v-12z"},child:[]},{tag:"path",attr:{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l5 5"},child:[]},{tag:"path",attr:{d:"M14 14l1 -1c.928 -.893 2.072 -.893 3 0l3 3"},child:[]}]})(e)}function _X(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 5l0 14"},child:[]},{tag:"path",attr:{d:"M5 12l14 0"},child:[]}]})(e)}function m3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4"},child:[]},{tag:"path",attr:{d:"M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"},child:[]}]})(e)}function nM(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 9l4 -4l4 4"},child:[]},{tag:"path",attr:{d:"M16 15l-4 4l-4 -4"},child:[]}]})(e)}function wy(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z"},child:[]},{tag:"path",attr:{d:"M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0"},child:[]}]})(e)}function yR(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M15 15m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M9 3m0 2a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v2a2 2 0 0 1 -2 2h-2a2 2 0 0 1 -2 -2z"},child:[]},{tag:"path",attr:{d:"M6 15v-1a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v1"},child:[]},{tag:"path",attr:{d:"M12 9l0 3"},child:[]}]})(e)}function p3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"},child:[]}]})(e)}function e7(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 15h16"},child:[]},{tag:"path",attr:{d:"M4 4m0 1a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4a1 1 0 0 1 -1 1h-4a1 1 0 0 1 -1 -1z"},child:[]},{tag:"path",attr:{d:"M4 20h12"},child:[]}]})(e)}function g3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 12m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"},child:[]},{tag:"path",attr:{d:"M2 6m0 6a6 6 0 0 1 6 -6h8a6 6 0 0 1 6 6v0a6 6 0 0 1 -6 6h-8a6 6 0 0 1 -6 -6z"},child:[]}]})(e)}function $X(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 7l16 0"},child:[]},{tag:"path",attr:{d:"M10 11l0 6"},child:[]},{tag:"path",attr:{d:"M14 11l0 6"},child:[]},{tag:"path",attr:{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"},child:[]},{tag:"path",attr:{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"},child:[]}]})(e)}function y3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"},child:[]},{tag:"path",attr:{d:"M7 9l5 -5l5 5"},child:[]},{tag:"path",attr:{d:"M12 4l0 12"},child:[]}]})(e)}function b3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0"},child:[]},{tag:"path",attr:{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"},child:[]}]})(e)}function x3e(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 4c-2.5 5 -2.5 10 0 16m14 -16c2.5 5 2.5 10 0 16m-10 -11h1c1 0 1 1 2.016 3.527c.984 2.473 .984 3.473 1.984 3.473h1"},child:[]},{tag:"path",attr:{d:"M8 16c1.5 0 3 -2 4 -3.5s2.5 -3.5 4 -3.5"},child:[]}]})(e)}function rM(e){return tt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6l-12 12"},child:[]},{tag:"path",attr:{d:"M6 6l12 12"},child:[]}]})(e)}function Li({children:e,defaultOpen:t=!1,openEvent:n="onClick",position:r="bottom-start",dropdownWrapperProps:i,items:o,title:s,hideOnEmpty:a=!0,onClickItem:c,renderItem:u,itemsClassName:f,className:h}){const[p,y]=w.useState(t),[x,v]=w.useState(r),E=Fx(()=>y(!1)),N=o.filter(Boolean),[O,_]=w.useState(0),C=Vt((U=50)=>setTimeout(()=>y(H=>!H),typeof U=="number"?U:0)),j=n==="onClick"?U=>{U.stopPropagation(),C()}:void 0,A=Vt(U=>{var T;if(n!=="onContextMenu")return;if(U.preventDefault(),p){C(0),setTimeout(()=>{v(r),_(0)},10);return}const H=U.clientX-U.currentTarget.getBoundingClientRect().left,{left:M=0,right:L=0}=((T=E.current)==null?void 0:T.getBoundingClientRect())??{};if(M>0&&L>0){const F=kG(H,M,L);H<(M+L)/2?(v("bottom-start"),_(F)):(v("bottom-end"),_(L-F))}else v(r),_(0);C()}),R=4,I={"bottom-start":{top:"100%",left:O,marginTop:R},"bottom-end":{right:O,top:"100%",marginTop:R},"top-start":{bottom:"100%",marginBottom:R},"top-end":{bottom:"100%",right:O,marginBottom:R}}[x],P=Vt(U=>{U.onClick&&U.onClick(),c&&c(U),C(50)});if(N.length===0&&a)return null;const z=N.some(U=>"icon"in U&&U.icon),B=u||((U,{key:H,onClick:M})=>typeof U=="function"?m.jsx(w.Fragment,{children:U()},H):m.jsxs("button",{type:"button",disabled:U.disabled,className:Ke("flex flex-row flex-nowrap text-nowrap items-center outline-none cursor-pointer px-2.5 rounded-md link leading-none h-8",f,U.disabled?"opacity-50 cursor-not-allowed":"hover:bg-primary/10",U.destructive&&"text-red-500 hover:bg-red-600 hover:text-white"),onClick:M,title:U.title,children:[z&&m.jsx("div",{className:"size-[16px] text-left mr-1.5 opacity-80",children:U.icon&&m.jsx(U.icon,{className:"size-[16px]"})}),m.jsx("div",{className:"flex flex-grow truncate text-nowrap",children:U.label})]},H));return m.jsxs("div",{role:"dropdown",className:Ke("relative flex",h),ref:E,onContextMenu:A,children:[w.cloneElement(e,{onClick:j}),p&&m.jsxs("div",{...i,className:Ke("absolute z-30 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg min-w-full",i==null?void 0:i.className),style:I,children:[s&&m.jsx("div",{className:"text-sm font-bold px-2.5 mb-1 mt-1 opacity-50 truncate",children:s}),N.map((U,H)=>B(U,{key:H,onClick:M=>{M.stopPropagation(),P(U)}}))]})]})}function v3e(){const[e,t]=zo(),n=[{label:"Data",href:"/data",Icon:r3e},{label:"Auth",href:"/auth",Icon:OX},{label:"Media",href:"/media",Icon:zv},{label:"Flows",href:"/flows",Icon:l3e}],r=n.find(s=>s.exact?e===s.href:e.startsWith(s.href)),i=Vt(s=>{t(s.href)}),o=(s,{key:a,onClick:c})=>m.jsx(gb,{onClick:c,as:"button",className:"rounded-md",children:m.jsxs("div",{"data-active":(r==null?void 0:r.label)===s.label,className:"flex flex-row items-center gap-2.5 data-[active=true]:opacity-50",children:[m.jsx(s.Icon,{size:18}),m.jsx("span",{className:"text-lg",children:s.label})]})},a);return m.jsxs(m.Fragment,{children:[m.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:n.map(s=>m.jsx(gb,{as:er,href:s.href,Icon:s.Icon,disabled:s.disabled,children:s.label},s.href))}),m.jsx("nav",{className:"flex md:hidden flex-row items-center",children:r&&m.jsx(Li,{items:n,onClickItem:i,renderItem:o,children:m.jsx(gb,{as:"button",Icon:r.Icon,className:"active pl-6 pr-3.5",children:m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx("span",{className:"text-lg",children:r.label}),m.jsx(nM,{size:18,className:"opacity-70"})]})})})})]})}function w3e(){const e=Ng(n=>n.toggleSidebar),t=Ng(n=>n.sidebarOpen);return m.jsx(Tt,{id:"toggle-sidebar",size:"lg",Icon:t?rM:d3e,onClick:e})}function S3e({hasSidebar:e=!0}){const{app:t}=Bt(),{theme:n}=Wd(),{logo_return_path:r="/"}=t.options;return m.jsxs("header",{id:"header","data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[m.jsx(er,{href:r,native:r!=="/",className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:m.jsx(cO,{theme:n})}),m.jsx(v3e,{}),m.jsx("div",{className:"flex flex-grow"}),m.jsxs("div",{className:"flex md:hidden flex-row items-center pr-2 gap-2",children:[m.jsx(w3e,{}),m.jsx(t7,{})]}),m.jsx("div",{className:"hidden md:flex flex-row items-center px-4 gap-2",children:m.jsx(t7,{})})]})}function t7(){var c;const{config:e,options:t}=Bt(),n=yJ(),[r]=Cr(),{logout_route:i}=R3();async function o(){await n.logout(),r(i,{reload:!0})}async function s(){r("/auth/login")}const a=[{label:"Settings",onClick:()=>r("/settings"),icon:sx},{label:"OpenAPI",onClick:()=>window.open("/api/system/swagger","_blank"),icon:FRe}];return e.auth.enabled&&(n.user?a.push({label:"Logout",title:`Logout ${n.user.email}`,onClick:o,icon:XRe}):a.push({label:"Login",onClick:s,icon:i5e})),t.theme||a.push(()=>m.jsx(E3e,{})),m.jsx(m.Fragment,{children:m.jsx(Li,{items:a,position:"bottom-end",children:n.user?m.jsx(lt,{className:"rounded-full w-12 h-12 justify-center p-0 text-lg",children:(c=n.user.email[0])==null?void 0:c.toUpperCase()}):m.jsx(lt,{className:"rounded-full w-12 h-12 justify-center p-0",IconLeft:b3e})})})}function E3e(){const{value:e,themes:t,setTheme:n}=Wd();return m.jsx("div",{className:"flex flex-col items-center mt-1 pt-1 border-t border-primary/5",children:m.jsx(Mh,{withItemsBorders:!1,className:"w-full",data:t.map(r=>({value:r,label:pg(r)})),value:e,onChange:n,size:"xs"})})}function CX({children:e}){const t=Ng(n=>n.sidebarWidth);return m.jsx(S4e,{children:m.jsx("div",{id:"app-shell","data-shell":"root",className:"flex flex-1 flex-col select-none h-dvh",style:{"--sidebar-width":`${t}px`},children:e})})}const gb=({children:e,as:t,className:n,Icon:r,disabled:i,...o})=>{const s=t||"a";return m.jsxs(s,{...o,className:Ke("px-6 py-2 [&.active]:bg-muted [&.active]:hover:bg-primary/15 hover:bg-primary/5 flex flex-row items-center rounded-full gap-2.5 link transition-colors",i&&"opacity-50 cursor-not-allowed",n),children:[r&&m.jsx(r,{size:18}),typeof e=="string"?m.jsx("span",{className:"text-lg",children:e}):e]})};function jX({children:e,center:t}){return m.jsx("main",{"data-shell":"content",className:Ke("flex flex-1 flex-row w-dvw h-full",t&&"justify-center items-center"),children:e})}function Uv({children:e}){const{sidebar:t}=E4e();return m.jsx("div",{"data-shell":"main",className:Ke("flex flex-col flex-grow w-1 flex-shrink-1",t.open&&"md:max-w-[calc(100%-var(--sidebar-width))]"),children:e})}function Vv({children:e}){const t=Ng(s=>s.sidebarOpen),n=Ng(s=>s.closeSidebar),r=Fx(n,["mouseup","touchend"]),[i]=zo(),o=()=>{t&&n()};return w.useEffect(o,[i]),v5([["Escape",o]]),m.jsxs(m.Fragment,{children:[m.jsx("aside",{"data-shell":"sidebar",className:"hidden md:flex flex-col basis-[var(--sidebar-width)] flex-shrink-0 flex-grow-0 h-full bg-muted/10",children:e}),m.jsx(N3e,{}),m.jsx("div",{"data-open":t,className:"absolute w-full md:hidden data-[open=true]:translate-x-0 translate-x-[-100%] transition-transform z-10 backdrop-blur-sm",children:m.jsx("aside",{ref:r,"data-shell":"sidebar",className:"flex-col w-[var(--sidebar-width)] flex-shrink-0 flex-grow-0 h-full border-muted border-r bg-background",children:e})})]})}const N3e=()=>{const e=Ng(f=>f.setSidebarWidth),[t,n]=w.useState(!1),[r,i]=w.useState(0),[o,s]=w.useState(0),a=f=>{f.preventDefault(),n(!0),i(f.clientX),s(Number.parseInt(getComputedStyle(document.getElementById("app-shell")).getPropertyValue("--sidebar-width").replace("px","")))},c=f=>{if(!t)return;const h=f.clientX-r,p=kG(o+h,250,window.innerWidth*.5);e(p)},u=()=>{n(!1)};return w.useEffect(()=>(t&&(window.addEventListener("mousemove",c),window.addEventListener("mouseup",u)),()=>{window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",u)}),[t,r,o]),m.jsx("div",{"data-active":t?1:void 0,className:"w-px h-full hidden md:flex bg-muted after:transition-colors relative after:absolute after:inset-0 after:-left-px after:w-[2px] select-none data-[active]:after:bg-sky-400 data-[active]:cursor-col-resize hover:after:bg-sky-400 hover:cursor-col-resize after:z-2",onMouseDown:a,style:{touchAction:"none"}})};function AX({children:e,className:t,...n}){return m.jsx("h2",{...n,className:Ke("text-lg dark:font-bold font-semibold select-text",t),children:e})}function jr({children:e,right:t,className:n,scrollable:r,sticky:i}={}){return m.jsxs("div",{className:Ke("flex flex-row h-14 flex-shrink-0 py-2 pl-5 pr-3 border-muted border-b items-center justify-between bg-muted/10",i&&"sticky top-0 bottom-10 z-10",n),children:[m.jsx("div",{className:Ke("",r&&"overflow-x-scroll overflow-y-visible app-scrollbar"),children:typeof e=="string"?m.jsx(AX,{children:e}):e}),t&&!r&&m.jsx("div",{className:"flex flex-row gap-2.5",children:t}),t&&r&&m.jsxs("div",{className:"flex flex-row sticky z-10 right-0 h-full",children:[m.jsx("div",{className:"h-full w-5 bg-gradient-to-l from-background"}),m.jsx("div",{className:"flex flex-row gap-2.5 bg-background",children:t})]})]})}const So=({children:e,as:t,className:n,disabled:r=!1,...i})=>{const o=t||"a";return m.jsx(o,{...i,className:Ke("flex flex-row px-4 items-center gap-2 h-12",!r&&"cursor-pointer rounded-md [&.active]:bg-primary/10 [&.active]:hover:bg-primary/15 [&.active]:font-medium hover:bg-primary/5 focus:bg-primary/5 link",r&&"opacity-50 cursor-not-allowed pointer-events-none",n),children:e})},O3e=({children:e,as:t,className:n,disabled:r=!1,active:i=!1,badge:o,...s})=>{const a=t||"a";return m.jsxs(a,{...s,className:Ke("hover:bg-primary/5 flex flex-row items-center justify-center gap-2.5 px-5 h-12 leading-none font-medium text-primary/80 rounded-tr-lg rounded-tl-lg",i?"bg-background hover:bg-background text-primary border border-muted border-b-0":"link",o&&"pr-4",n),children:[e,o?m.jsx("span",{className:"px-3 py-1 rounded-full font-mono bg-primary/5 text-sm leading-none",children:o}):null]})},TX=({title:e,items:t})=>m.jsx(jr,{className:"mt-10 border-t pl-3 pb-0 items-end",children:m.jsxs("div",{className:"flex flex-row items-center gap-6 -mb-px",children:[e&&m.jsx(AX,{className:"pl-2 hidden md:block",children:e}),m.jsx("div",{className:"flex flex-row items-center gap-3",children:t==null?void 0:t.map(({label:n,...r},i)=>m.jsx(O3e,{...r,children:n},i))})]})});function ri({children:e,initialOffset:t=64}){const n=w.useRef(null),[r,i]=w.useState(t);function o(){n.current&&i(n.current.offsetTop)}return w.useEffect(o,[]),typeof window<"u"&&window.addEventListener("resize",sG(o,500)),m.jsxs(cX,{style:{height:`calc(100dvh - ${r}px`},ref:n,children:[m.jsx(uX,{className:"w-full h-full",children:e}),m.jsx(wE,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:m.jsx(SE,{className:"flex-1 bg-primary/50"})}),m.jsx(wE,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:m.jsx(SE,{className:"flex-1 bg-primary/50 "})})]})}const _3e=({title:e,open:t,toggle:n,ActiveIcon:r=qRe,children:i,renderHeaderRight:o})=>m.jsxs("div",{style:{minHeight:49},className:Ke("flex flex-col flex-animate overflow-hidden",t?"flex-open border-b border-b-muted":"flex-initial cursor-pointer hover:bg-primary/5"),children:[m.jsxs("div",{className:Ke("flex flex-row bg-muted/10 border-muted border-b h-14 py-4 pr-4 pl-2 items-center gap-2"),onClick:n,children:[m.jsx(Tt,{Icon:t?r:VRe,disabled:t}),m.jsx("h2",{className:"text-lg dark:font-bold font-semibold select-text",children:e}),m.jsx("div",{className:"flex flex-grow"}),o==null?void 0:o({open:t})]}),m.jsx("div",{className:Ke("overflow-y-scroll transition-all",t?" flex-grow":"h-0 opacity-0"),children:i})]}),OE=({routePattern:e,identifier:t,...n})=>{const{active:r,toggle:i}=Z3(e,t);return m.jsx(_3e,{...n,open:r,toggle:i})},bR=({className:e,...t})=>m.jsx("hr",{...t,className:Ke("border-muted my-3",e)});function $3e(e){const t=e==="light",n={offset:2,transitionProps:{transition:"pop",duration:75}},r="!bg-muted/40 border-transparent disabled:bg-muted/50 disabled:text-primary/50 focus:!border-zinc-500";return{theme:{components:{Button:fh.extend({vars:(i,o)=>({root:{"--button-height":"auto"}}),classNames:(i,o)=>({root:Ke("px-3 py-2 rounded-md h-auto")}),defaultProps:{size:"md",variant:t?"filled":"white"}}),Switch:ll.extend({defaultProps:{size:"md",color:t?"dark":"blue"}}),Select:J2.extend({classNames:(i,o)=>({input:r,dropdown:`bknd-admin ${e} bg-background border-primary/20`}),defaultProps:{checkIconPosition:"right",comboboxProps:n}}),TagsInput:RI.extend({defaultProps:{comboboxProps:n}}),Radio:Za.extend({defaultProps:{classNames:{body:"items-center"}}}),TextInput:Wn.extend({classNames:(i,o)=>({wrapper:"leading-none",input:r})}),NumberInput:G2.extend({classNames:(i,o)=>({wrapper:"leading-none",input:r})}),Textarea:qx.extend({classNames:(i,o)=>({wrapper:"leading-none",input:r})}),Modal:Lo.extend({classNames:(i,o)=>({...o.classNames,root:`bknd-admin ${e} ${o.className??""}`,content:"!bg-background !rounded-lg !select-none",overlay:"!backdrop-blur-sm"})}),Tabs:Ln.extend({vars:(i,o)=>({root:{"--tabs-color":"border-primary"}})}),Menu:No.extend({defaultProps:{offset:2},classNames:(i,o)=>({dropdown:"!rounded-lg !px-1",item:"!rounded-md !text-[14px]"})}),SegmentedControl:Mh.extend({classNames:(i,o)=>({root:t?"bg-primary/5":"bg-lightest/60",indicator:t?"bg-background":"bg-primary/15"})}),Notifications:cl.extend({classNames:(i,o)=>({notification:"-top-4 -right-4"})})},primaryColor:"dark",primaryShade:9},forceColorScheme:e}}const C3e="modulepreload",j3e=function(e){return"/"+e},n7={},qv=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=j3e(c),c in n7)return;n7[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":C3e,u||(h.as="script"),h.crossOrigin="",h.href=c,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((p,y)=>{h.addEventListener("load",p),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})};function Yd(){const{config:e,schema:t,actions:n,app:r}=Bt(),i={config:{set:async a=>(console.log("--set",a),await n.set("auth",a,!0)?(await n.reload(),!0):!1)},roles:{add:async(a,c={})=>(console.log("add role",a,c),await n.add("auth",`roles.${a}`,c)),patch:async(a,c)=>(console.log("patch role",a,c),await n.patch("auth",`roles.${a}`,c)),delete:async a=>(console.log("delete role",a),window.confirm(`Are you sure you want to delete the role "${a}"?`)?await n.remove("auth",`roles.${a}`):!1)}},o=["system.access.admin","system.access.api","system.config.read","system.config.read.secrets","system.build"];return{$auth:{roles:{none:Object.keys(e.auth.roles??{}).length===0,minimum_permissions:o,has_admin:Object.entries(e.auth.roles??{}).some(([a,c])=>c.implicit_allow||o.every(u=>{var f;return(f=c.permissions)==null?void 0:f.includes(u)}))},routes:{settings:r.getSettingsPath(["auth"]),listUsers:r.getAbsolutePath("/data/"+ft.data.entity.list(e.auth.entity_name))}},config:e.auth,schema:t.auth,actions:i}}const A3e=({className:e,...t})=>m.jsx(L4e,{...t,className:Ke("dark:text-amber-300 text-amber-700 cursor-help",e)}),iM={Warning:A3e};function uo(e=[]){w.useLayoutEffect(()=>{const t="BKND";document.title=[t,...e].join(" / ")})}function T3e({children:e}){const{config:t,$auth:n}=Yd();return m.jsxs(m.Fragment,{children:[m.jsxs(Vv,{children:[m.jsx(jr,{right:m.jsx(er,{href:n.routes.settings,children:m.jsx(Tt,{Icon:wy})}),children:"Auth"}),m.jsx(ri,{initialOffset:96,children:m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[m.jsx(So,{as:er,href:"/",children:"Overview"}),m.jsxs(So,{as:er,href:n.routes.listUsers,disabled:!t.enabled,className:"justify-between",children:["Users",!t.enabled&&m.jsx(P0,{title:"Auth is not enabled."})]}),m.jsxs(So,{as:er,href:ft.auth.roles.list(),disabled:!t.enabled,className:"justify-between",children:["Roles & Permissions",t.enabled?n.roles.none?m.jsx(P0,{title:"No roles defined."}):n.roles.has_admin?null:m.jsx(P0,{title:"No admin role defined."}):m.jsx(P0,{title:"Auth is not enabled."})]}),m.jsxs(So,{as:er,href:ft.auth.strategies(),disabled:!t.enabled,className:"justify-between",children:["Strategies",!t.enabled&&m.jsx(P0,{title:"Auth is not enabled."})]}),m.jsx(So,{as:er,href:ft.auth.settings(),className:"justify-between",children:"Settings"})]})})})]}),m.jsx(Uv,{children:e})]})}const P0=({title:e})=>m.jsx(iM.Warning,{title:e,className:"size-5 pointer-events-auto"}),fO=({visible:e=!0,title:t,message:n,className:r,children:i,...o})=>e?m.jsx("div",{...o,className:Ke("flex flex-row items-center p-4",r),children:m.jsxs("p",{children:[t&&m.jsxs("b",{children:[t,": "]}),n||i]})}):null,R3e=({className:e,...t})=>m.jsx(fO,{...t,className:Ke("bg-warning text-warning-foreground",e)}),I3e=({className:e,...t})=>m.jsx(fO,{...t,className:Ke("bg-error text-error-foreground",e)}),M3e=({className:e,...t})=>m.jsx(fO,{...t,className:Ke("bg-success text-success-foreground",e)}),k3e=({className:e,...t})=>m.jsx(fO,{...t,className:Ke("bg-info text-info-foreground",e)}),Ga={Warning:R3e,Exception:I3e,Success:M3e,Info:k3e};function P3e(){var y;const{app:e}=Bt(),{config:{roles:t,strategies:n,entity_name:r,enabled:i}}=Yd(),o=r,a=((y=iO(x=>x.data.count(o),{enabled:i}).data)==null?void 0:y.count)??0,c=Object.keys(t??{}).length??0,u=Object.keys(n??{}).length??0,f=e.getAbsolutePath("/data/"+ft.data.entity.list(o)),h=ft.auth.roles.list(),p=ft.auth.strategies();return m.jsxs(m.Fragment,{children:[m.jsx(jr,{children:"Overview"}),m.jsxs(ri,{children:[m.jsx(Ga.Warning,{visible:!i,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),m.jsxs("div",{className:"flex flex-col md:flex-row flex-1 p-3 gap-3",children:[m.jsxs("div",{className:"flex flex-col border border-primary/20 self-stretch md:self-start",children:[m.jsxs("div",{className:"flex flex-row gap-3 py-3 px-4 border-b border-b-muted font-medium bg-muted items-center justify-between",children:["Getting started",m.jsx(OX,{className:"size-5"})]}),m.jsx(L1,{title:"Enable authentication",done:i,to:ft.auth.settings()}),m.jsx(L1,{title:"Create Roles",done:c>0,to:h}),m.jsx(L1,{title:"Create an user",done:a>0,to:f}),m.jsx(L1,{title:"Enable a second strategy",done:u>1,to:p})]}),m.jsxs("div",{className:"grid xs:grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5 flex-grow",children:[m.jsx(hj,{title:"Users registered",value:i?a:0,actions:[{label:"View all",href:f},{label:"Add new",variant:"default",href:f}]}),m.jsx(hj,{title:"Roles",value:i?c:0,actions:[{label:"View all",href:h},{label:"Manage",variant:"default",href:h}]}),m.jsx(hj,{title:"Strategies enabled",value:i?u:0,actions:[{label:"View all",href:p},{label:"Manage",variant:"default",href:p}]})]})]})]})]})}const hj=({title:e,value:t,actions:n})=>m.jsxs("div",{className:"flex flex-col border border-muted h-auto self-start",children:[m.jsxs("div",{className:"flex flex-col gap-2 px-5 pt-3.5 pb-4 border-b border-b-muted",children:[m.jsx("div",{children:m.jsx("span",{className:"opacity-50",children:e})}),m.jsx("div",{className:"text-4xl font-medium",children:t})]}),m.jsx("div",{className:"flex flex-row gap-3 p-3 justify-between",children:n.map((r,i)=>m.jsx(pR,{size:"small",variant:"ghost",href:"#",...r,children:r.label},i))})]}),L1=({title:e,done:t=!1,to:n})=>{const[r]=Cr();return m.jsx("div",{className:"flex border-b border-b-muted",children:m.jsxs("div",{className:Rn("flex flex-1 flex-row gap-3 py-3 px-4",t&&"opacity-50"),children:[m.jsxs("div",{className:"flex flex-row flex-1 gap-3 items-center",children:[t?m.jsx(P4e,{className:"size-5"}):m.jsx(t3e,{className:"size-5"}),m.jsx("p",{className:Rn("font-medium text-primary/80 leading-none",t?"line-through":""),children:e})]}),n&&m.jsx(Tt,{Icon:z4e,onClick:()=>r(n)})]})})},oM=w.createContext(null);oM.displayName="@mantine/modals/ModalsContext";function D3e(){const e=w.useContext(oM);if(!e)throw new Error("[@mantine/modals] useModals hook was called outside of context, wrap your app with ModalsProvider component");return e}function F3e({id:e,cancelProps:t,confirmProps:n,labels:r={cancel:"",confirm:""},closeOnConfirm:i=!0,closeOnCancel:o=!0,groupProps:s,onCancel:a,onConfirm:c,children:u}){const{cancel:f,confirm:h}=r,p=D3e(),y=v=>{typeof(t==null?void 0:t.onClick)=="function"&&(t==null||t.onClick(v)),typeof a=="function"&&a(),o&&p.closeModal(e)},x=v=>{typeof(n==null?void 0:n.onClick)=="function"&&(n==null||n.onClick(v)),typeof c=="function"&&c(),i&&p.closeModal(e)};return m.jsxs(m.Fragment,{children:[u&&m.jsx(We,{mb:"md",children:u}),m.jsxs(G5,{mt:u?0:"md",justify:"flex-end",...s,children:[m.jsx(fh,{variant:"default",...t,onClick:y,children:(t==null?void 0:t.children)||f}),m.jsx(fh,{...n,onClick:x,children:(n==null?void 0:n.children)||h})]})]})}const[L3e,sM]=sse("mantine-modals"),B3e=e=>{const t=e.modalId||$p();return sM("openContextModal")({...e,modalId:t}),t},z3e=sM("closeModal"),U3e=sM("closeAllModals"),RX={closeAll:U3e};function r7(e,t){var n,r,i,o;t&&e.type==="confirm"&&((r=(n=e.props).onCancel)==null||r.call(n)),(o=(i=e.props).onClose)==null||o.call(i)}function V3e(e,t){var n;switch(t.type){case"OPEN":return{current:t.modal,modals:[...e.modals,t.modal]};case"CLOSE":{const r=e.modals.find(o=>o.id===t.modalId);if(!r)return e;r7(r,t.canceled);const i=e.modals.filter(o=>o.id!==t.modalId);return{current:i[i.length-1]||e.current,modals:i}}case"CLOSE_ALL":return e.modals.length?(e.modals.concat().reverse().forEach(r=>{r7(r,t.canceled)}),{current:e.current,modals:[]}):e;case"UPDATE":{const{modalId:r,newProps:i}=t,o=e.modals.map(a=>a.id!==r?a:a.type==="content"||a.type==="confirm"?{...a,props:{...a.props,...i}}:a.type==="context"?{...a,props:{...a.props,...i,innerProps:{...a.props.innerProps,...i.innerProps}}}:a),s=((n=e.current)==null?void 0:n.id)===r&&o.find(a=>a.id===r)||e.current;return{...e,modals:o,current:s}}default:return e}}function q3e(e){if(!e)return{confirmProps:{},modalProps:{}};const{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:c,groupProps:u,labels:f,...h}=e;return{confirmProps:{id:t,children:n,onCancel:r,onConfirm:i,closeOnConfirm:o,closeOnCancel:s,cancelProps:a,confirmProps:c,groupProps:u,labels:f},modalProps:{id:t,...h}}}function H3e({children:e,modalProps:t,labels:n,modals:r}){const[i,o]=w.useReducer(V3e,{modals:[],current:null}),s=w.useRef(i);s.current=i;const a=w.useCallback(O=>{o({type:"CLOSE_ALL",canceled:O})},[s,o]),c=w.useCallback(({modalId:O,..._})=>{const C=O||$p();return o({type:"OPEN",modal:{id:C,type:"content",props:_}}),C},[o]),u=w.useCallback(({modalId:O,..._})=>{const C=O||$p();return o({type:"OPEN",modal:{id:C,type:"confirm",props:_}}),C},[o]),f=w.useCallback((O,{modalId:_,...C})=>{const j=_||$p();return o({type:"OPEN",modal:{id:j,type:"context",props:C,ctx:O}}),j},[o]),h=w.useCallback((O,_)=>{o({type:"CLOSE",modalId:O,canceled:_})},[s,o]),p=w.useCallback(({modalId:O,..._})=>{o({type:"UPDATE",modalId:O,newProps:_})},[o]),y=w.useCallback(({modalId:O,..._})=>{o({type:"UPDATE",modalId:O,newProps:_})},[o]);L3e({openModal:c,openConfirmModal:u,openContextModal:({modal:O,..._})=>f(O,_),closeModal:h,closeContextModal:h,closeAllModals:a,updateModal:p,updateContextModal:y});const x={modalProps:t||{},modals:i.modals,openModal:c,openConfirmModal:u,openContextModal:f,closeModal:h,closeContextModal:h,closeAll:a,updateModal:p,updateContextModal:y},v=()=>{const O=s.current.current;switch(O==null?void 0:O.type){case"context":{const{innerProps:_,...C}=O.props,j=r[O.ctx];return{modalProps:C,content:m.jsx(j,{innerProps:_,context:x,id:O.id})}}case"confirm":{const{modalProps:_,confirmProps:C}=q3e(O.props);return{modalProps:_,content:m.jsx(F3e,{...C,id:O.id,labels:O.props.labels||n})}}case"content":{const{children:_,...C}=O.props;return{modalProps:C,content:_}}default:return{modalProps:{},content:null}}},{modalProps:E,content:N}=v();return m.jsxs(oM.Provider,{value:x,children:[m.jsx(Lo,{zIndex:ya("modal")+1,...t,...E,opened:i.modals.length>0,onClose:()=>{var O;return h((O=i.current)==null?void 0:O.id)},children:N}),e]})}function aM({context:e,id:t,innerProps:{content:n}}){return n}aM.defaultTitle=void 0;aM.modalProps={withCloseButton:!1,classNames:{size:"md",root:"bknd-admin",content:"text-center justify-center",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};const W3e=e=>typeof e=="boolean"||e instanceof Boolean,G3e=e=>typeof e=="number"||e instanceof Number,K3e=e=>typeof e=="bigint"||e instanceof BigInt,IX=e=>!!e&&e instanceof Date,Y3e=e=>typeof e=="string"||e instanceof String,J3e=e=>Array.isArray(e),X3e=e=>typeof e=="object"&&e!==null,MX=e=>!!e&&e instanceof Object&&typeof e=="function";function _E(e,t){return t===void 0&&(t=!1),!e||t?`"${e}"`:e}function Q3e(e,t,n){return n?JSON.stringify(e):t?`"${e}"`:e}function kX(e){let{field:t,value:n,data:r,lastElement:i,openBracket:o,closeBracket:s,level:a,style:c,shouldExpandNode:u,clickToExpandNode:f,outerRef:h,beforeExpandChange:p}=e;const y=w.useRef(!1),[x,v]=w.useState(()=>u(a,n,t)),E=w.useRef(null);w.useEffect(()=>{y.current?v(u(a,n,t)):y.current=!0},[u]);const N=w.useId();if(r.length===0)return Z3e({field:t,openBracket:o,closeBracket:s,lastElement:i,style:c});const O=x?c.collapseIcon:c.expandIcon,_=x?c.ariaLables.collapseJson:c.ariaLables.expandJson,C=a+1,j=r.length-1,A=P=>{x!==P&&(!p||p({level:a,value:n,field:t,newExpandValue:P}))&&v(P)},R=P=>{if(P.key==="ArrowRight"||P.key==="ArrowLeft")P.preventDefault(),A(P.key==="ArrowRight");else if(P.key==="ArrowUp"||P.key==="ArrowDown"){P.preventDefault();const z=P.key==="ArrowUp"?-1:1;if(!h.current)return;const B=h.current.querySelectorAll("[role=button]");let U=-1;for(let M=0;M<B.length;M++)if(B[M].tabIndex===0){U=M;break}if(U<0)return;const H=(U+z+B.length)%B.length;B[U].tabIndex=-1,B[H].tabIndex=0,B[H].focus()}},I=()=>{var P;A(!x);const z=E.current;if(!z)return;const B=(P=h.current)===null||P===void 0?void 0:P.querySelector('[role=button][tabindex="0"]');B&&(B.tabIndex=-1),z.tabIndex=0,z.focus()};return w.createElement("div",{className:c.basicChildStyle,role:"treeitem","aria-expanded":x,"aria-selected":void 0},w.createElement("span",{className:O,onClick:I,onKeyDown:R,role:"button","aria-label":_,"aria-expanded":x,"aria-controls":x?N:void 0,ref:E,tabIndex:a===0?0:-1}),(t||t==="")&&(f?w.createElement("span",{className:c.clickableLabel,onClick:I,onKeyDown:R},_E(t,c.quotesForFieldNames),":"):w.createElement("span",{className:c.label},_E(t,c.quotesForFieldNames),":")),w.createElement("span",{className:c.punctuation},o),x?w.createElement("ul",{id:N,role:"group",className:c.childFieldsContainer},r.map((P,z)=>w.createElement(PX,{key:P[0]||z,field:P[0],value:P[1],style:c,lastElement:z===j,level:C,shouldExpandNode:u,clickToExpandNode:f,outerRef:h}))):w.createElement("span",{className:c.collapsedContent,onClick:I,onKeyDown:R}),w.createElement("span",{className:c.punctuation},s),!i&&w.createElement("span",{className:c.punctuation},","))}function Z3e(e){let{field:t,openBracket:n,closeBracket:r,lastElement:i,style:o}=e;return w.createElement("div",{className:o.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&w.createElement("span",{className:o.label},_E(t,o.quotesForFieldNames),":"),w.createElement("span",{className:o.punctuation},n),w.createElement("span",{className:o.punctuation},r),!i&&w.createElement("span",{className:o.punctuation},","))}function eMe(e){let{field:t,value:n,style:r,lastElement:i,shouldExpandNode:o,clickToExpandNode:s,level:a,outerRef:c,beforeExpandChange:u}=e;return kX({field:t,value:n,lastElement:i||!1,level:a,openBracket:"{",closeBracket:"}",style:r,shouldExpandNode:o,clickToExpandNode:s,data:Object.keys(n).map(f=>[f,n[f]]),outerRef:c,beforeExpandChange:u})}function tMe(e){let{field:t,value:n,style:r,lastElement:i,level:o,shouldExpandNode:s,clickToExpandNode:a,outerRef:c,beforeExpandChange:u}=e;return kX({field:t,value:n,lastElement:i||!1,level:o,openBracket:"[",closeBracket:"]",style:r,shouldExpandNode:s,clickToExpandNode:a,data:n.map(f=>[void 0,f]),outerRef:c,beforeExpandChange:u})}function nMe(e){let{field:t,value:n,style:r,lastElement:i}=e,o,s=r.otherValue;return n===null?(o="null",s=r.nullValue):n===void 0?(o="undefined",s=r.undefinedValue):Y3e(n)?(o=Q3e(n,!r.noQuotesForStringValues,r.stringifyStringValues),s=r.stringValue):W3e(n)?(o=n?"true":"false",s=r.booleanValue):G3e(n)?(o=n.toString(),s=r.numberValue):K3e(n)?(o=`${n.toString()}n`,s=r.numberValue):IX(n)?o=n.toISOString():MX(n)?o="function() { }":o=n.toString(),w.createElement("div",{className:r.basicChildStyle,role:"treeitem","aria-selected":void 0},(t||t==="")&&w.createElement("span",{className:r.label},_E(t,r.quotesForFieldNames),":"),w.createElement("span",{className:s},o),!i&&w.createElement("span",{className:r.punctuation},","))}function PX(e){const t=e.value;return J3e(t)?w.createElement(tMe,Object.assign({},e)):X3e(t)&&!IX(t)&&!MX(t)?w.createElement(eMe,Object.assign({},e)):w.createElement(nMe,Object.assign({},e))}var wi={"container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","child-fields-container":"_1BXBN","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti"};const rMe={collapseJson:"collapse JSON",expandJson:"expand JSON"},i7={container:wi["container-light"],basicChildStyle:wi["basic-element-style"],childFieldsContainer:wi["child-fields-container"],label:wi["label-light"],clickableLabel:wi["clickable-label-light"],nullValue:wi["value-null-light"],undefinedValue:wi["value-undefined-light"],stringValue:wi["value-string-light"],booleanValue:wi["value-boolean-light"],numberValue:wi["value-number-light"],otherValue:wi["value-other-light"],punctuation:wi["punctuation-light"],collapseIcon:wi["collapse-icon-light"],expandIcon:wi["expand-icon-light"],collapsedContent:wi["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1,ariaLables:rMe,stringifyStringValues:!1},iMe=()=>!0,oMe=e=>{let{data:t,style:n=i7,shouldExpandNode:r=iMe,clickToExpandNode:i=!1,beforeExpandChange:o,...s}=e;const a=w.useRef(null);return w.createElement("div",Object.assign({"aria-label":"JSON view"},s,{className:n.container,ref:a,role:"tree"}),w.createElement(PX,{value:t,style:{...i7,...n},lastElement:!0,level:0,shouldExpandNode:r,clickToExpandNode:i,outerRef:a,beforeExpandChange:o}))},Es=({json:e,title:t,expand:n=0,showSize:r=!1,showCopy:i=!1,copyIconProps:o={},className:s})=>{const a=r?JSON.stringify(e).length:void 0,c=a||t||i;function u(){var f;(f=navigator.clipboard)==null||f.writeText(JSON.stringify(e,null,2))}return m.jsxs("div",{className:Ke("bg-primary/5 py-3 relative overflow-hidden",s),children:[c&&m.jsxs("div",{className:"absolute right-4 top-3 font-mono text-zinc-400 flex flex-row gap-2 items-center",children:[(t||a)&&m.jsxs("div",{className:"flex flex-row",children:[t&&m.jsx("span",{children:t})," ",a&&m.jsxs("span",{children:["(",a," Bytes)"]})]}),i&&m.jsx("div",{children:m.jsx(Tt,{Icon:SX,onClick:u,...o})})]}),m.jsx(oMe,{data:e,shouldExpandNode:f=>f<n,style:{basicChildStyle:"pl-5 ml-1 border-l border-muted hover:border-primary/20",container:"ml-[-10px]",label:"text-primary/90 font-bold font-mono mr-2",stringValue:"text-emerald-500 font-mono select-text",numberValue:"text-sky-400 font-mono",nullValue:"text-zinc-400 font-mono",undefinedValue:"text-zinc-400 font-mono",otherValue:"text-zinc-400 font-mono",booleanValue:"text-orange-400 font-mono",punctuation:"text-zinc-400 font-bold font-mono m-0.5",collapsedContent:"text-zinc-400 font-mono after:content-['...']",collapseIcon:"text-zinc-400 font-mono font-bold text-lg after:content-[''] mr-1.5",expandIcon:"text-zinc-400 font-mono font-bold text-lg after:content-[''] mr-1.5",noQuotesForStringValues:!1}})]})},sMe=w.forwardRef(({classNames:e,children:t,opened:n,closeOnClickOutside:r=!1,...i},o)=>{const[s,{open:a,close:c}]=Bg(n);return w.useImperativeHandle(o,()=>({open:a,close:c})),m.jsx(Lo,{withCloseButton:!1,padding:0,size:"xl",opened:s,...i,closeOnClickOutside:r,onClose:c,classNames:{...e,root:"bknd-admin",content:"rounded-lg select-none"},children:t})}),Rf=({path:e,onClose:t})=>m.jsxs("div",{className:"py-3 px-5 font-bold bg-lightest flex flex-row justify-between items-center sticky top-0 left-0 right-0 z-10 border-none",children:[m.jsx("div",{className:"flex flex-row gap-1",children:e.map((n,r)=>{const i=r+1===e.length;return m.jsxs(w.Fragment,{children:[m.jsx("span",{className:Ke("",!i&&"opacity-70"),children:n},r),!i&&m.jsx("span",{className:"opacity-40",children:"/"})]},r)})}),m.jsx(Tt,{Icon:rM,onClick:t})]}),nm=({children:e,className:t})=>m.jsxs(cX,{className:Ke("flex flex-col min-h-96",t),style:{maxHeight:"calc(80vh)"},children:[m.jsx(uX,{className:"w-full h-full",children:m.jsx("div",{className:"py-3 px-5 gap-4 flex flex-col",children:e})}),m.jsx(wE,{forceMount:!0,className:"flex select-none touch-none bg-transparent w-0.5",orientation:"vertical",children:m.jsx(SE,{className:"flex-1 bg-primary/50"})}),m.jsx(wE,{forceMount:!0,className:"flex select-none touch-none bg-muted flex-col h-0.5",orientation:"horizontal",children:m.jsx(SE,{className:"flex-1 bg-primary/50 "})})]}),rm=({next:e,prev:t,nextLabel:n="Next",prevLabel:r="Back",debug:i})=>{const[o,s]=Bg(!1);return m.jsx("div",{className:"flex flex-col border-t border-t-muted",children:m.jsxs("div",{className:"flex flex-row justify-between items-center py-3 px-4",children:[m.jsx("div",{children:i&&m.jsxs(eo,{position:"right-start",shadow:"md",opened:o,classNames:{dropdown:"!px-1 !pr-2.5 !py-2 text-sm"},children:[m.jsx(eo.Target,{children:m.jsx(Tt,{onClick:s.toggle,Icon:bJ,variant:o?"default":"ghost"})}),m.jsx(eo.Dropdown,{children:m.jsx(Es,{json:i,expand:6,className:"p-0"})})]})}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(lt,{className:"w-24 justify-center",...t,children:r}),m.jsx(lt,{className:"w-24 justify-center",variant:"primary",...e,children:n})]})]})})},DX=w.createContext(void 0);function FX({children:e,initialPath:t=[],initialState:n={},lastBack:r}){const[i,o]=w.useState(n),[s,a]=w.useState(t),c=w.Children.toArray(e).filter(p=>p.props.disabled!==!0);function u(){s.length===0?r==null||r():a(p=>p.slice(0,-1))}const f=p=>()=>{a(y=>[...y,p])},h=c.find(p=>p.props.id===s[s.length-1])||c[0];return m.jsx(DX.Provider,{value:{nextStep:f,stepBack:u,state:i,path:s,setState:o,close:r},children:h})}function im(){return w.useContext(DX)}function If({children:e,disabled:t=!1,path:n=[],id:r,...i}){return m.jsx("div",{...i,children:e})}const{Type:aMe}=pt;function Is(){const{config:e,app:t,schema:n,actions:r}=Bt(),i=yn(e.data.entities??{},(a,c)=>g3(c,a)),o={entity:{add:async(a,c)=>{console.log("create entity",{data:c});const u=Er(ZN,c,{skipMark:!0,forceParse:!0});return console.log("validated",u),await r.add("data",`entities.${a}`,u)},patch:a=>{if(!i[a])throw new Error(`Entity "${a}" not found`);return{config:async u=>(console.log("patch config",a,u),await r.overwrite("data",`entities.${a}.config`,u)),fields:cMe(r,a)}}},relations:{add:async a=>{console.log("create relation",{relation:a});const c=crypto.randomUUID(),u=Er(aMe.Union(p3),a,{skipMark:!0,forceParse:!0});return console.log("validated",u),await r.add("data",`relations.${c}`,u)}}};return{$data:{entity:a=>i[a],modals:lMe,system:a=>{var c;return{any:((c=i[a])==null?void 0:c.type)==="system",users:a===e.auth.entity_name,media:a===e.media.entity_name}}},entities:i,relations:t.relations,config:e.data,schema:n.data,actions:o}}const lMe={createAny:()=>li.open(li.ids.dataCreate,{}),createEntity:()=>li.open(li.ids.dataCreate,{initialPath:["entities","entity"],initialState:{action:"entity"}}),createRelation:e=>li.open(li.ids.dataCreate,{initialPath:["entities","relation"],initialState:{action:"relation",relations:{create:[{source:e,type:"n:1"}]}}}),createMedia:e=>li.open(li.ids.dataCreate,{initialPath:["entities","template-media"],initialState:{action:"template-media",initial:{entity:e}}})};function cMe(e,t){return{add:async(n,r)=>{console.log("create field",{name:n,field:r});const i=Er(m3,r,{skipMark:!0,forceParse:!0});return console.log("validated",i),await e.add("data",`entities.${t}.fields.${n}`,i)},patch:()=>null,set:async n=>{console.log("set fields",t,n);try{const r=Er(tY,n,{skipMark:!0,forceParse:!0}),i=await e.overwrite("data",`entities.${t}.fields`,r);console.log("res",i)}catch(r){console.error("error",r),r instanceof VN?alert("Error updating fields: "+r.firstToString()):alert("An error occured, check console. There will be nice error handling soon.")}}}}function uMe(){var h,p,y;const{stepBack:e,state:t,close:n}=im(),[r,i]=w.useState([]),[o,s]=w.useState(!1),a=Is(),c=Bt(),u=[];(h=t.entities)!=null&&h.create&&u.push(...t.entities.create.map(x=>({action:"add",Icon:BRe,type:"Entity",name:x.name,json:x,run:async()=>await a.actions.entity.add(x.name,x)}))),(p=t.fields)!=null&&p.create&&u.push(...t.fields.create.map(x=>({action:"add",Icon:L3,type:"Field",name:x.name,json:x,run:async()=>await a.actions.entity.patch(x.entity).fields.add(x.name,x.field)}))),(y=t.relations)!=null&&y.create&&u.push(...t.relations.create.map(x=>({action:"add",Icon:B3,type:"Relation",name:`${x.source} -> ${x.target} (${x.type})`,json:x,run:async()=>await a.actions.relations.add(x)})));async function f(){s(!0);for(const x of u)try{const v=await x.run();if(i(E=>[...E,v]),v!==!0)break}catch(v){i(E=>[...E,v.message])}}return w.useEffect(()=>{console.log("states",r,u,r.length,u.length,r.every(x=>x===!0)),u.length===r.length&&r.every(x=>x===!0)?c.actions.reload().then(n):s(!1)},[r]),m.jsxs(m.Fragment,{children:[m.jsxs(nm,{children:[m.jsx("div",{children:'This is what will be created. Please confirm by clicking "Next".'}),m.jsx("div",{className:"flex flex-col gap-1",children:u.map((x,v)=>m.jsx(dMe,{...x,state:r[v]},v))})]}),m.jsx(rm,{nextLabel:"Create",next:{onClick:f,disabled:o},prev:{onClick:e,disabled:o},debug:{state:t}})]})}const dMe=({Icon:e,type:t,name:n,json:r,state:i,action:o,initialExpanded:s=!1})=>{const[a,c]=Bg(s),u=typeof i<"u"&&i!==!0,f=i===!0;return m.jsxs("div",{className:Ke("flex flex-col border border-muted rounded bg-background mb-2",u&&"bg-red-500/20",f&&"bg-green-500/20"),children:[m.jsxs("div",{className:"flex flex-row gap-4 px-2 py-2 items-center",children:[m.jsx("div",{className:"flex flex-row items-center p-1 bg-primary/5 rounded",children:m.jsx(e,{className:"w-6 h-6"})}),m.jsxs("div",{className:"flex flex-row flex-grow gap-5",children:[m.jsx(mj,{type:"action",name:o}),m.jsx(mj,{type:"type",name:t}),m.jsx(mj,{type:"name",name:n})]}),r&&m.jsx(Tt,{Icon:JRe,variant:a?"default":"ghost",onClick:c.toggle})]}),r&&a&&m.jsx("div",{className:"flex flex-col border-t border-t-muted",children:m.jsx(Es,{json:r,expand:8,className:"text-sm"})}),u&&typeof i=="string"&&m.jsx("div",{className:"text-sm text-red-500",children:i})]})},mj=({type:e,name:t})=>m.jsxs("div",{className:"flex flex-row text-sm font-mono gap-2",children:[m.jsx("div",{className:"opacity-50",children:Mo(e)}),m.jsx("div",{className:"font-semibold",children:t})]});var Hv=e=>e.type==="checkbox",qf=e=>e instanceof Date,ji=e=>e==null;const LX=e=>typeof e=="object";var tr=e=>!ji(e)&&!Array.isArray(e)&&LX(e)&&!qf(e),BX=e=>tr(e)&&e.target?Hv(e.target)?e.target.checked:e.target.value:e,fMe=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,zX=(e,t)=>e.has(fMe(t)),hMe=e=>{const t=e.constructor&&e.constructor.prototype;return tr(t)&&t.hasOwnProperty("isPrototypeOf")},lM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xr(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(lM&&(e instanceof Blob||r))&&(n||tr(e)))if(t=n?[]:{},!n&&!hMe(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=xr(e[i]));else return e;return t}var Wv=e=>Array.isArray(e)?e.filter(Boolean):[],En=e=>e===void 0,Be=(e,t,n)=>{if(!t||!tr(e))return n;const r=Wv(t.split(/[,[\].]+?/)).reduce((i,o)=>ji(i)?i:i[o],e);return En(r)||r===e?En(e[t])?n:e[t]:r},as=e=>typeof e=="boolean",cM=e=>/^\w*$/.test(e),UX=e=>Wv(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Gt=(e,t,n)=>{let r=-1;const i=cM(t)?[t]:UX(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let c=n;if(r!==s){const u=e[a];c=tr(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=c,e=e[a]}return e};const $E={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},cs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},mMe=De.createContext(null),hO=()=>De.useContext(mMe);var VX=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==cs.all&&(t._proxyFormState[s]=!r||cs.all),n&&(n[s]=!0),e[s]}});return i},Ci=e=>tr(e)&&!Object.keys(e).length,qX=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return Ci(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||cs.all))},Xi=e=>Array.isArray(e)?e:[e],HX=(e,t,n)=>!e||!t||e===t||Xi(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function mO(e){const t=De.useRef(e);t.current=e,De.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function pMe(e){const t=hO(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=De.useState(n._formState),c=De.useRef(!0),u=De.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=De.useRef(i);return f.current=i,mO({disabled:r,next:h=>c.current&&HX(f.current,h.name,o)&&qX(h,u.current,n._updateFormState)&&a({...n._formState,...h}),subject:n._subjects.state}),De.useEffect(()=>(c.current=!0,u.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),De.useMemo(()=>VX(s,n,u.current,!1),[s,n])}var Ka=e=>typeof e=="string",WX=(e,t,n,r,i)=>Ka(e)?(r&&t.watch.add(e),Be(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),Be(n,o))):(r&&(t.watchAll=!0),n);function gMe(e){const t=hO(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=De.useRef(r);a.current=r,mO({disabled:o,subject:n._subjects.values,next:f=>{HX(a.current,f.name,s)&&u(xr(WX(a.current,n._names,f.values||n._formValues,!1,i)))}});const[c,u]=De.useState(n._getWatch(r,i));return De.useEffect(()=>n._removeUnmounted()),c}function om(e){const t=hO(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=zX(i._names.array,n),a=gMe({control:i,name:n,defaultValue:Be(i._formValues,n,Be(i._defaultValues,n,e.defaultValue)),exact:!0}),c=pMe({control:i,name:n,exact:!0}),u=De.useRef(i.register(n,{...e.rules,value:a,...as(e.disabled)?{disabled:e.disabled}:{}})),f=De.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Be(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Be(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Be(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Be(c.validatingFields,n)},error:{enumerable:!0,get:()=>Be(c.errors,n)}}),[c,n]),h=De.useMemo(()=>({name:n,value:a,...as(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p=>u.current.onChange({target:{value:BX(p),name:n},type:$E.CHANGE}),onBlur:()=>u.current.onBlur({target:{value:Be(i._formValues,n),name:n},type:$E.BLUR}),ref:p=>{const y=Be(i._fields,n);y&&p&&(y._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:x=>p.setCustomValidity(x),reportValidity:()=>p.reportValidity()})}}),[n,i._formValues,r,c.disabled,a,i._fields]);return De.useEffect(()=>{const p=i._options.shouldUnregister||o,y=(x,v)=>{const E=Be(i._fields,x);E&&E._f&&(E._f.mount=v)};if(y(n,!0),p){const x=xr(Be(i._options.defaultValues,n));Gt(i._defaultValues,n,x),En(Be(i._formValues,n))&&Gt(i._formValues,n,x)}return!s&&i.register(n),()=>{(s?p&&!i._state.action:p)?i.unregister(n):y(n,!1)}},[n,i,s,o]),De.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),De.useMemo(()=>({field:h,formState:c,fieldState:f}),[h,c,f])}var GX=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Au=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},pj=(e,t,n={})=>n.shouldFocus||En(n.shouldFocus)?n.focusName||`${e}.${En(n.focusIndex)?t:n.focusIndex}.`:"",yb=e=>({isOnSubmit:!e||e===cs.onSubmit,isOnBlur:e===cs.onBlur,isOnChange:e===cs.onChange,isOnAll:e===cs.all,isOnTouch:e===cs.onTouched}),xR=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ip=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=Be(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)return!0;if(s.ref&&t(s.ref,s.name)&&!r)return!0;if(Ip(a,t))break}else if(tr(a)&&Ip(a,t))break}}};var KX=(e,t,n)=>{const r=Xi(Be(e,n));return Gt(r,"root",t[n]),Gt(e,n,r),e},uM=e=>e.type==="file",Ha=e=>typeof e=="function",CE=e=>{if(!lM)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},NS=e=>Ka(e),dM=e=>e.type==="radio",jE=e=>e instanceof RegExp;const o7={value:!1,isValid:!1},s7={value:!0,isValid:!0};var YX=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!En(e[0].attributes.value)?En(e[0].value)||e[0].value===""?s7:{value:e[0].value,isValid:!0}:s7:o7}return o7};const a7={isValid:!1,value:null};var JX=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,a7):a7;function l7(e,t,n="validate"){if(NS(e)||Array.isArray(e)&&e.every(NS)||as(e)&&!e)return{type:n,message:NS(e)?e:"",ref:t}}var ap=e=>tr(e)&&!jE(e)?e:{value:e,message:""},vR=async(e,t,n,r,i,o)=>{const{ref:s,refs:a,required:c,maxLength:u,minLength:f,min:h,max:p,pattern:y,validate:x,name:v,valueAsNumber:E,mount:N}=e._f,O=Be(n,v);if(!N||t.has(v))return{};const _=a?a[0]:s,C=U=>{i&&_.reportValidity&&(_.setCustomValidity(as(U)?"":U||""),_.reportValidity())},j={},A=dM(s),R=Hv(s),I=A||R,P=(E||uM(s))&&En(s.value)&&En(O)||CE(s)&&s.value===""||O===""||Array.isArray(O)&&!O.length,z=GX.bind(null,v,r,j),B=(U,H,M,L=zl.maxLength,T=zl.minLength)=>{const F=U?H:M;j[v]={type:U?L:T,message:F,ref:s,...z(U?L:T,F)}};if(o?!Array.isArray(O)||!O.length:c&&(!I&&(P||ji(O))||as(O)&&!O||R&&!YX(a).isValid||A&&!JX(a).isValid)){const{value:U,message:H}=NS(c)?{value:!!c,message:c}:ap(c);if(U&&(j[v]={type:zl.required,message:H,ref:_,...z(zl.required,H)},!r))return C(H),j}if(!P&&(!ji(h)||!ji(p))){let U,H;const M=ap(p),L=ap(h);if(!ji(O)&&!isNaN(O)){const T=s.valueAsNumber||O&&+O;ji(M.value)||(U=T>M.value),ji(L.value)||(H=T<L.value)}else{const T=s.valueAsDate||new Date(O),F=D=>new Date(new Date().toDateString()+" "+D),k=s.type=="time",q=s.type=="week";Ka(M.value)&&O&&(U=k?F(O)>F(M.value):q?O>M.value:T>new Date(M.value)),Ka(L.value)&&O&&(H=k?F(O)<F(L.value):q?O<L.value:T<new Date(L.value))}if((U||H)&&(B(!!U,M.message,L.message,zl.max,zl.min),!r))return C(j[v].message),j}if((u||f)&&!P&&(Ka(O)||o&&Array.isArray(O))){const U=ap(u),H=ap(f),M=!ji(U.value)&&O.length>+U.value,L=!ji(H.value)&&O.length<+H.value;if((M||L)&&(B(M,U.message,H.message),!r))return C(j[v].message),j}if(y&&!P&&Ka(O)){const{value:U,message:H}=ap(y);if(jE(U)&&!O.match(U)&&(j[v]={type:zl.pattern,message:H,ref:s,...z(zl.pattern,H)},!r))return C(H),j}if(x){if(Ha(x)){const U=await x(O,n),H=l7(U,_);if(H&&(j[v]={...H,...z(zl.validate,H.message)},!r))return C(H.message),j}else if(tr(x)){let U={};for(const H in x){if(!Ci(U)&&!r)break;const M=l7(await x[H](O,n),_,H);M&&(U={...M,...z(H,M.message)},C(M.message),r&&(j[v]=U))}if(!Ci(U)&&(j[v]={ref:_,...U},!r))return j}}return C(!0),j},gj=(e,t)=>[...e,...Xi(t)],yj=e=>Array.isArray(e)?e.map(()=>{}):void 0;function bj(e,t,n){return[...e.slice(0,t),...Xi(n),...e.slice(t)]}var xj=(e,t,n)=>Array.isArray(e)?(En(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],vj=(e,t)=>[...Xi(t),...Xi(e)];function yMe(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return Wv(r).length?r:[]}var wj=(e,t)=>En(t)?[]:yMe(e,Xi(t).sort((n,r)=>n-r)),Sj=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function bMe(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=En(e)?r++:e[t[r++]];return e}function xMe(e){for(const t in e)if(e.hasOwnProperty(t)&&!En(e[t]))return!1;return!0}function cr(e,t){const n=Array.isArray(t)?t:cM(t)?[t]:UX(t),r=n.length===1?e:bMe(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(tr(r)&&Ci(r)||Array.isArray(r)&&xMe(r))&&cr(e,n.slice(0,-1)),e}var c7=(e,t,n)=>(e[t]=n,e);function vMe(e){const t=hO(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o,rules:s}=e,[a,c]=De.useState(n._getFieldArray(r)),u=De.useRef(n._getFieldArray(r).map(Au)),f=De.useRef(a),h=De.useRef(r),p=De.useRef(!1);h.current=r,f.current=a,n._names.array.add(r),s&&n.register(r,s),mO({next:({values:A,name:R})=>{if(R===h.current||!R){const I=Be(A,h.current);Array.isArray(I)&&(c(I),u.current=I.map(Au))}},subject:n._subjects.array});const y=De.useCallback(A=>{p.current=!0,n._updateFieldArray(r,A)},[n,r]),x=(A,R)=>{const I=Xi(xr(A)),P=gj(n._getFieldArray(r),I);n._names.focus=pj(r,P.length-1,R),u.current=gj(u.current,I.map(Au)),y(P),c(P),n._updateFieldArray(r,P,gj,{argA:yj(A)})},v=(A,R)=>{const I=Xi(xr(A)),P=vj(n._getFieldArray(r),I);n._names.focus=pj(r,0,R),u.current=vj(u.current,I.map(Au)),y(P),c(P),n._updateFieldArray(r,P,vj,{argA:yj(A)})},E=A=>{const R=wj(n._getFieldArray(r),A);u.current=wj(u.current,A),y(R),c(R),!Array.isArray(Be(n._fields,r))&&Gt(n._fields,r,void 0),n._updateFieldArray(r,R,wj,{argA:A})},N=(A,R,I)=>{const P=Xi(xr(R)),z=bj(n._getFieldArray(r),A,P);n._names.focus=pj(r,A,I),u.current=bj(u.current,A,P.map(Au)),y(z),c(z),n._updateFieldArray(r,z,bj,{argA:A,argB:yj(R)})},O=(A,R)=>{const I=n._getFieldArray(r);Sj(I,A,R),Sj(u.current,A,R),y(I),c(I),n._updateFieldArray(r,I,Sj,{argA:A,argB:R},!1)},_=(A,R)=>{const I=n._getFieldArray(r);xj(I,A,R),xj(u.current,A,R),y(I),c(I),n._updateFieldArray(r,I,xj,{argA:A,argB:R},!1)},C=(A,R)=>{const I=xr(R),P=c7(n._getFieldArray(r),A,I);u.current=[...P].map((z,B)=>!z||B===A?Au():u.current[B]),y(P),c([...P]),n._updateFieldArray(r,P,c7,{argA:A,argB:I},!0,!1)},j=A=>{const R=Xi(xr(A));u.current=R.map(Au),y([...R]),c([...R]),n._updateFieldArray(r,[...R],I=>I,{},!0,!1)};return De.useEffect(()=>{if(n._state.action=!1,xR(r,n._names)&&n._subjects.state.next({...n._formState}),p.current&&(!yb(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(A=>{const R=Be(A.errors,r),I=Be(n._formState.errors,r);(I?!R&&I.type||R&&(I.type!==R.type||I.message!==R.message):R&&R.type)&&(R?Gt(n._formState.errors,r,R):cr(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const A=Be(n._fields,r);A&&A._f&&!(yb(n._options.reValidateMode).isOnSubmit&&yb(n._options.mode).isOnSubmit)&&vR(A,n._names.disabled,n._formValues,n._options.criteriaMode===cs.all,n._options.shouldUseNativeValidation,!0).then(R=>!Ci(R)&&n._subjects.state.next({errors:KX(n._formState.errors,R,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Ip(n._fields,(A,R)=>{if(n._names.focus&&R.startsWith(n._names.focus)&&A.focus)return A.focus(),1}),n._names.focus="",n._updateValid(),p.current=!1},[a,r,n]),De.useEffect(()=>(!Be(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,i,o]),{swap:De.useCallback(O,[y,r,n]),move:De.useCallback(_,[y,r,n]),prepend:De.useCallback(v,[y,r,n]),append:De.useCallback(x,[y,r,n]),remove:De.useCallback(E,[y,r,n]),insert:De.useCallback(N,[y,r,n]),update:De.useCallback(C,[y,r,n]),replace:De.useCallback(j,[y,r,n]),fields:De.useMemo(()=>a.map((A,R)=>({...A,[i]:u.current[R]||Au()})),[a,i])}}var Ej=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},wR=e=>ji(e)||!LX(e);function Ku(e,t){if(wR(e)||wR(t))return e===t;if(qf(e)&&qf(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(qf(o)&&qf(s)||tr(o)&&tr(s)||Array.isArray(o)&&Array.isArray(s)?!Ku(o,s):o!==s)return!1}}return!0}var XX=e=>e.type==="select-multiple",wMe=e=>dM(e)||Hv(e),Nj=e=>CE(e)&&e.isConnected,QX=e=>{for(const t in e)if(Ha(e[t]))return!0;return!1};function AE(e,t={}){const n=Array.isArray(e);if(tr(e)||n)for(const r in e)Array.isArray(e[r])||tr(e[r])&&!QX(e[r])?(t[r]=Array.isArray(e[r])?[]:{},AE(e[r],t[r])):ji(e[r])||(t[r]=!0);return t}function ZX(e,t,n){const r=Array.isArray(e);if(tr(e)||r)for(const i in e)Array.isArray(e[i])||tr(e[i])&&!QX(e[i])?En(t)||wR(n[i])?n[i]=Array.isArray(e[i])?AE(e[i],[]):{...AE(e[i])}:ZX(e[i],ji(t)?{}:t[i],n[i]):n[i]=!Ku(e[i],t[i]);return n}var D0=(e,t)=>ZX(e,t,AE(t)),eQ=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>En(e)?e:t?e===""?NaN:e&&+e:n&&Ka(e)?new Date(e):r?r(e):e;function Oj(e){const t=e.ref;return uM(t)?t.files:dM(t)?JX(e.refs).value:XX(t)?[...t.selectedOptions].map(({value:n})=>n):Hv(t)?YX(e.refs).value:eQ(En(t.value)?e.ref.value:t.value,e)}var SMe=(e,t,n,r)=>{const i={};for(const o of e){const s=Be(t,o);s&&Gt(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},F0=e=>En(e)?e:jE(e)?e.source:tr(e)?jE(e.value)?e.value.source:e.value:e;const u7="AsyncFunction";var EMe=e=>!!e&&!!e.validate&&!!(Ha(e.validate)&&e.validate.constructor.name===u7||tr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===u7)),NMe=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function d7(e,t,n){const r=Be(e,n);if(r||cM(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=Be(t,o),a=Be(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var OMe=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,_Me=(e,t)=>!Wv(Be(e,t)).length&&cr(e,t);const $Me={mode:cs.onSubmit,reValidateMode:cs.onChange,shouldFocusError:!0};function CMe(e={}){let t={...$Me,...e},n={submitCount:0,isDirty:!1,isLoading:Ha(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=tr(t.defaultValues)||tr(t.values)?xr(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:xr(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Ej(),array:Ej(),state:Ej()},p=yb(t.mode),y=yb(t.reValidateMode),x=t.criteriaMode===cs.all,v=Y=>re=>{clearTimeout(u),u=setTimeout(Y,re)},E=async Y=>{if(!t.disabled&&(f.isValid||Y)){const re=t.resolver?Ci((await I()).errors):await z(r,!0);re!==n.isValid&&h.state.next({isValid:re})}},N=(Y,re)=>{!t.disabled&&(f.isValidating||f.validatingFields)&&((Y||Array.from(a.mount)).forEach(Q=>{Q&&(re?Gt(n.validatingFields,Q,re):cr(n.validatingFields,Q))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Ci(n.validatingFields)}))},O=(Y,re=[],Q,xe,ue=!0,de=!0)=>{if(xe&&Q&&!t.disabled){if(s.action=!0,de&&Array.isArray(Be(r,Y))){const ae=Q(Be(r,Y),xe.argA,xe.argB);ue&&Gt(r,Y,ae)}if(de&&Array.isArray(Be(n.errors,Y))){const ae=Q(Be(n.errors,Y),xe.argA,xe.argB);ue&&Gt(n.errors,Y,ae),_Me(n.errors,Y)}if(f.touchedFields&&de&&Array.isArray(Be(n.touchedFields,Y))){const ae=Q(Be(n.touchedFields,Y),xe.argA,xe.argB);ue&&Gt(n.touchedFields,Y,ae)}f.dirtyFields&&(n.dirtyFields=D0(i,o)),h.state.next({name:Y,isDirty:U(Y,re),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Gt(o,Y,re)},_=(Y,re)=>{Gt(n.errors,Y,re),h.state.next({errors:n.errors})},C=Y=>{n.errors=Y,h.state.next({errors:n.errors,isValid:!1})},j=(Y,re,Q,xe)=>{const ue=Be(r,Y);if(ue){const de=Be(o,Y,En(Q)?Be(i,Y):Q);En(de)||xe&&xe.defaultChecked||re?Gt(o,Y,re?de:Oj(ue._f)):L(Y,de),s.mount&&E()}},A=(Y,re,Q,xe,ue)=>{let de=!1,ae=!1;const he={name:Y};if(!t.disabled){const Ee=!!(Be(r,Y)&&Be(r,Y)._f&&Be(r,Y)._f.disabled);if(!Q||xe){f.isDirty&&(ae=n.isDirty,n.isDirty=he.isDirty=U(),de=ae!==he.isDirty);const ke=Ee||Ku(Be(i,Y),re);ae=!!(!Ee&&Be(n.dirtyFields,Y)),ke||Ee?cr(n.dirtyFields,Y):Gt(n.dirtyFields,Y,!0),he.dirtyFields=n.dirtyFields,de=de||f.dirtyFields&&ae!==!ke}if(Q){const ke=Be(n.touchedFields,Y);ke||(Gt(n.touchedFields,Y,Q),he.touchedFields=n.touchedFields,de=de||f.touchedFields&&ke!==Q)}de&&ue&&h.state.next(he)}return de?he:{}},R=(Y,re,Q,xe)=>{const ue=Be(n.errors,Y),de=f.isValid&&as(re)&&n.isValid!==re;if(t.delayError&&Q?(c=v(()=>_(Y,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?Gt(n.errors,Y,Q):cr(n.errors,Y)),(Q?!Ku(ue,Q):ue)||!Ci(xe)||de){const ae={...xe,...de&&as(re)?{isValid:re}:{},errors:n.errors,name:Y};n={...n,...ae},h.state.next(ae)}},I=async Y=>{N(Y,!0);const re=await t.resolver(o,t.context,SMe(Y||a.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return N(Y),re},P=async Y=>{const{errors:re}=await I(Y);if(Y)for(const Q of Y){const xe=Be(re,Q);xe?Gt(n.errors,Q,xe):cr(n.errors,Q)}else n.errors=re;return re},z=async(Y,re,Q={valid:!0})=>{for(const xe in Y){const ue=Y[xe];if(ue){const{_f:de,...ae}=ue;if(de){const he=a.array.has(de.name),Ee=ue._f&&EMe(ue._f);Ee&&f.validatingFields&&N([xe],!0);const ke=await vR(ue,a.disabled,o,x,t.shouldUseNativeValidation&&!re,he);if(Ee&&f.validatingFields&&N([xe]),ke[de.name]&&(Q.valid=!1,re))break;!re&&(Be(ke,de.name)?he?KX(n.errors,ke,de.name):Gt(n.errors,de.name,ke[de.name]):cr(n.errors,de.name))}!Ci(ae)&&await z(ae,re,Q)}}return Q.valid},B=()=>{for(const Y of a.unMount){const re=Be(r,Y);re&&(re._f.refs?re._f.refs.every(Q=>!Nj(Q)):!Nj(re._f.ref))&&le(Y)}a.unMount=new Set},U=(Y,re)=>!t.disabled&&(Y&&re&&Gt(o,Y,re),!Ku(W(),i)),H=(Y,re,Q)=>WX(Y,a,{...s.mount?o:En(re)?i:Ka(Y)?{[Y]:re}:re},Q,re),M=Y=>Wv(Be(s.mount?o:i,Y,t.shouldUnregister?Be(i,Y,[]):[])),L=(Y,re,Q={})=>{const xe=Be(r,Y);let ue=re;if(xe){const de=xe._f;de&&(!de.disabled&&Gt(o,Y,eQ(re,de)),ue=CE(de.ref)&&ji(re)?"":re,XX(de.ref)?[...de.ref.options].forEach(ae=>ae.selected=ue.includes(ae.value)):de.refs?Hv(de.ref)?de.refs.length>1?de.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(ue)?!!ue.find(he=>he===ae.value):ue===ae.value)):de.refs[0]&&(de.refs[0].checked=!!ue):de.refs.forEach(ae=>ae.checked=ae.value===ue):uM(de.ref)?de.ref.value="":(de.ref.value=ue,de.ref.type||h.values.next({name:Y,values:{...o}})))}(Q.shouldDirty||Q.shouldTouch)&&A(Y,ue,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&D(Y)},T=(Y,re,Q)=>{for(const xe in re){const ue=re[xe],de=`${Y}.${xe}`,ae=Be(r,de);(a.array.has(Y)||tr(ue)||ae&&!ae._f)&&!qf(ue)?T(de,ue,Q):L(de,ue,Q)}},F=(Y,re,Q={})=>{const xe=Be(r,Y),ue=a.array.has(Y),de=xr(re);Gt(o,Y,de),ue?(h.array.next({name:Y,values:{...o}}),(f.isDirty||f.dirtyFields)&&Q.shouldDirty&&h.state.next({name:Y,dirtyFields:D0(i,o),isDirty:U(Y,de)})):xe&&!xe._f&&!ji(de)?T(Y,de,Q):L(Y,de,Q),xR(Y,a)&&h.state.next({...n}),h.values.next({name:s.mount?Y:void 0,values:{...o}})},k=async Y=>{s.mount=!0;const re=Y.target;let Q=re.name,xe=!0;const ue=Be(r,Q),de=()=>re.type?Oj(ue._f):BX(Y),ae=he=>{xe=Number.isNaN(he)||qf(he)&&isNaN(he.getTime())||Ku(he,Be(o,Q,he))};if(ue){let he,Ee;const ke=de(),Fe=Y.type===$E.BLUR||Y.type===$E.FOCUS_OUT,gt=!NMe(ue._f)&&!t.resolver&&!Be(n.errors,Q)&&!ue._f.deps||OMe(Fe,Be(n.touchedFields,Q),n.isSubmitted,y,p),Xt=xR(Q,a,Fe);Gt(o,Q,ke),Fe?(ue._f.onBlur&&ue._f.onBlur(Y),c&&c(0)):ue._f.onChange&&ue._f.onChange(Y);const Mt=A(Q,ke,Fe,!1),_a=!Ci(Mt)||Xt;if(!Fe&&h.values.next({name:Q,type:Y.type,values:{...o}}),gt)return f.isValid&&(t.mode==="onBlur"&&Fe?E():Fe||E()),_a&&h.state.next({name:Q,...Xt?{}:Mt});if(!Fe&&Xt&&h.state.next({...n}),t.resolver){const{errors:Qt}=await I([Q]);if(ae(ke),xe){const Kt=d7(n.errors,r,Q),Uo=d7(Qt,r,Kt.name||Q);he=Uo.error,Q=Uo.name,Ee=Ci(Qt)}}else N([Q],!0),he=(await vR(ue,a.disabled,o,x,t.shouldUseNativeValidation))[Q],N([Q]),ae(ke),xe&&(he?Ee=!1:f.isValid&&(Ee=await z(r,!0)));xe&&(ue._f.deps&&D(ue._f.deps),R(Q,Ee,he,Mt))}},q=(Y,re)=>{if(Be(n.errors,re)&&Y.focus)return Y.focus(),1},D=async(Y,re={})=>{let Q,xe;const ue=Xi(Y);if(t.resolver){const de=await P(En(Y)?Y:ue);Q=Ci(de),xe=Y?!ue.some(ae=>Be(de,ae)):Q}else Y?(xe=(await Promise.all(ue.map(async de=>{const ae=Be(r,de);return await z(ae&&ae._f?{[de]:ae}:ae)}))).every(Boolean),!(!xe&&!n.isValid)&&E()):xe=Q=await z(r);return h.state.next({...!Ka(Y)||f.isValid&&Q!==n.isValid?{}:{name:Y},...t.resolver||!Y?{isValid:Q}:{},errors:n.errors}),re.shouldFocus&&!xe&&Ip(r,q,Y?ue:a.mount),xe},W=Y=>{const re={...s.mount?o:i};return En(Y)?re:Ka(Y)?Be(re,Y):Y.map(Q=>Be(re,Q))},X=(Y,re)=>({invalid:!!Be((re||n).errors,Y),isDirty:!!Be((re||n).dirtyFields,Y),error:Be((re||n).errors,Y),isValidating:!!Be(n.validatingFields,Y),isTouched:!!Be((re||n).touchedFields,Y)}),oe=Y=>{Y&&Xi(Y).forEach(re=>cr(n.errors,re)),h.state.next({errors:Y?n.errors:{}})},se=(Y,re,Q)=>{const xe=(Be(r,Y,{_f:{}})._f||{}).ref,ue=Be(n.errors,Y)||{},{ref:de,message:ae,type:he,...Ee}=ue;Gt(n.errors,Y,{...Ee,...re,ref:xe}),h.state.next({name:Y,errors:n.errors,isValid:!1}),Q&&Q.shouldFocus&&xe&&xe.focus&&xe.focus()},ie=(Y,re)=>Ha(Y)?h.values.subscribe({next:Q=>Y(H(void 0,re),Q)}):H(Y,re,!0),le=(Y,re={})=>{for(const Q of Y?Xi(Y):a.mount)a.mount.delete(Q),a.array.delete(Q),re.keepValue||(cr(r,Q),cr(o,Q)),!re.keepError&&cr(n.errors,Q),!re.keepDirty&&cr(n.dirtyFields,Q),!re.keepTouched&&cr(n.touchedFields,Q),!re.keepIsValidating&&cr(n.validatingFields,Q),!t.shouldUnregister&&!re.keepDefaultValue&&cr(i,Q);h.values.next({values:{...o}}),h.state.next({...n,...re.keepDirty?{isDirty:U()}:{}}),!re.keepIsValid&&E()},pe=({disabled:Y,name:re,field:Q,fields:xe})=>{(as(Y)&&s.mount||Y||a.disabled.has(re))&&(Y?a.disabled.add(re):a.disabled.delete(re),A(re,Oj(Q?Q._f:Be(xe,re)._f),!1,!1,!0))},ye=(Y,re={})=>{let Q=Be(r,Y);const xe=as(re.disabled)||as(t.disabled);return Gt(r,Y,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:Y}},name:Y,mount:!0,...re}}),a.mount.add(Y),Q?pe({field:Q,disabled:as(re.disabled)?re.disabled:t.disabled,name:Y}):j(Y,!0,re.value),{...xe?{disabled:re.disabled||t.disabled}:{},...t.progressive?{required:!!re.required,min:F0(re.min),max:F0(re.max),minLength:F0(re.minLength),maxLength:F0(re.maxLength),pattern:F0(re.pattern)}:{},name:Y,onChange:k,onBlur:k,ref:ue=>{if(ue){ye(Y,re),Q=Be(r,Y);const de=En(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,ae=wMe(de),he=Q._f.refs||[];if(ae?he.find(Ee=>Ee===de):de===Q._f.ref)return;Gt(r,Y,{_f:{...Q._f,...ae?{refs:[...he.filter(Nj),de,...Array.isArray(Be(i,Y))?[{}]:[]],ref:{type:de.type,name:Y}}:{ref:de}}}),j(Y,!1,void 0,de)}else Q=Be(r,Y,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||re.shouldUnregister)&&!(zX(a.array,Y)&&s.action)&&a.unMount.add(Y)}}},je=()=>t.shouldFocusError&&Ip(r,q,a.mount),Te=Y=>{as(Y)&&(h.state.next({disabled:Y}),Ip(r,(re,Q)=>{const xe=Be(r,Q);xe&&(re.disabled=xe._f.disabled||Y,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(ue=>{ue.disabled=xe._f.disabled||Y}))},0,!1))},J=(Y,re)=>async Q=>{let xe;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let ue=xr(o);if(a.disabled.size)for(const de of a.disabled)Gt(ue,de,void 0);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:de,values:ae}=await I();n.errors=de,ue=ae}else await z(r);if(cr(n.errors,"root"),Ci(n.errors)){h.state.next({errors:{}});try{await Y(ue,Q)}catch(de){xe=de}}else re&&await re({...n.errors},Q),je(),setTimeout(je);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ci(n.errors)&&!xe,submitCount:n.submitCount+1,errors:n.errors}),xe)throw xe},me=(Y,re={})=>{Be(r,Y)&&(En(re.defaultValue)?F(Y,xr(Be(i,Y))):(F(Y,re.defaultValue),Gt(i,Y,xr(re.defaultValue))),re.keepTouched||cr(n.touchedFields,Y),re.keepDirty||(cr(n.dirtyFields,Y),n.isDirty=re.defaultValue?U(Y,xr(Be(i,Y))):U()),re.keepError||(cr(n.errors,Y),f.isValid&&E()),h.state.next({...n}))},Z=(Y,re={})=>{const Q=Y?xr(Y):i,xe=xr(Q),ue=Ci(Y),de=ue?i:xe;if(re.keepDefaultValues||(i=Q),!re.keepValues){if(re.keepDirtyValues){const ae=new Set([...a.mount,...Object.keys(D0(i,o))]);for(const he of Array.from(ae))Be(n.dirtyFields,he)?Gt(de,he,Be(o,he)):F(he,Be(de,he))}else{if(lM&&En(Y))for(const ae of a.mount){const he=Be(r,ae);if(he&&he._f){const Ee=Array.isArray(he._f.refs)?he._f.refs[0]:he._f.ref;if(CE(Ee)){const ke=Ee.closest("form");if(ke){ke.reset();break}}}}r={}}o=t.shouldUnregister?re.keepDefaultValues?xr(i):{}:xr(de),h.array.next({values:{...de}}),h.values.next({values:{...de}})}a={mount:re.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!re.keepIsValid||!!re.keepDirtyValues,s.watch=!!t.shouldUnregister,h.state.next({submitCount:re.keepSubmitCount?n.submitCount:0,isDirty:ue?!1:re.keepDirty?n.isDirty:!!(re.keepDefaultValues&&!Ku(Y,i)),isSubmitted:re.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ue?{}:re.keepDirtyValues?re.keepDefaultValues&&o?D0(i,o):n.dirtyFields:re.keepDefaultValues&&Y?D0(i,Y):re.keepDirty?n.dirtyFields:{},touchedFields:re.keepTouched?n.touchedFields:{},errors:re.keepErrors?n.errors:{},isSubmitSuccessful:re.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},we=(Y,re)=>Z(Ha(Y)?Y(o):Y,re);return{control:{register:ye,unregister:le,getFieldState:X,handleSubmit:J,setError:se,_executeSchema:I,_getWatch:H,_getDirty:U,_updateValid:E,_removeUnmounted:B,_updateFieldArray:O,_updateDisabledField:pe,_getFieldArray:M,_reset:Z,_resetDefaultValues:()=>Ha(t.defaultValues)&&t.defaultValues().then(Y=>{we(Y,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:Y=>{n={...n,...Y}},_disableForm:Te,_subjects:h,_proxyFormState:f,_setErrors:C,get _fields(){return r},get _formValues(){return o},get _state(){return s},set _state(Y){s=Y},get _defaultValues(){return i},get _names(){return a},set _names(Y){a=Y},get _formState(){return n},set _formState(Y){n=Y},get _options(){return t},set _options(Y){t={...t,...Y}}},trigger:D,register:ye,handleSubmit:J,watch:ie,setValue:F,getValues:W,reset:we,resetField:me,clearErrors:oe,unregister:le,setError:se,setFocus:(Y,re={})=>{const Q=Be(r,Y),xe=Q&&Q._f;if(xe){const ue=xe.refs?xe.refs[0]:xe.ref;ue.focus&&(ue.focus(),re.shouldSelect&&Ha(ue.select)&&ue.select())}},getFieldState:X}}function Jc(e={}){const t=De.useRef(void 0),n=De.useRef(void 0),[r,i]=De.useState({isDirty:!1,isValidating:!1,isLoading:Ha(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Ha(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...CMe(e),formState:r});const o=t.current.control;return o._options=e,mO({subject:o._subjects.state,next:s=>{qX(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),De.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),De.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),De.useEffect(()=>{e.values&&!Ku(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[e.values,o]),De.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),De.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),De.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=VX(r,o),t.current}const f7=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Be(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},tQ=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?f7(r.ref,n,e):r&&r.refs&&r.refs.forEach(i=>f7(i,n,e))}},jMe=(e,t)=>{t.shouldUseNativeValidation&&tQ(e,t);const n={};for(const r in e){const i=Be(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(AMe(t.names||Object.keys(e),r)){const s=Object.assign({},Be(n,r));Gt(s,"root",o),Gt(n,r,s)}else Gt(n,r,o)}return n},AMe=(e,t)=>{const n=h7(t);return e.some(r=>h7(r).match(`^${n}\\.\\d+`))};function h7(e){return e.replace(/\]|\[/g,"")}class nQ{constructor(t,n,r,i){this.schema=t,this.references=n,this.checkFunc=r,this.code=i,this.hasTransform=XH(t,n)}Code(){return this.code}Schema(){return this.schema}References(){return this.references}Errors(t){return Wh(this.schema,this.references,t)}Check(t){return this.checkFunc(t)}Decode(t){if(!this.checkFunc(t))throw new YH(this.schema,t,this.Errors(t).First());return this.hasTransform?JH(this.schema,this.references,t):t}Encode(t){const n=this.hasTransform?g0e(this.schema,this.references,t):t;if(!this.checkFunc(n))throw new i0e(this.schema,t,this.Errors(t).First());return n}}var ac;(function(e){function t(o){return o===36}e.DollarSign=t;function n(o){return o===95}e.IsUnderscore=n;function r(o){return o>=65&&o<=90||o>=97&&o<=122}e.IsAlpha=r;function i(o){return o>=48&&o<=57}e.IsNumeric=i})(ac||(ac={}));var TE;(function(e){function t(o){return o.length===0?!1:ac.IsNumeric(o.charCodeAt(0))}function n(o){if(t(o))return!1;for(let s=0;s<o.length;s++){const a=o.charCodeAt(s);if(!(ac.IsAlpha(a)||ac.IsNumeric(a)||ac.DollarSign(a)||ac.IsUnderscore(a)))return!1}return!0}function r(o){return o.replace(/'/g,"\\'")}function i(o,s){return n(s)?`${o}.${s}`:`${o}['${r(s)}']`}e.Encode=i})(TE||(TE={}));var SR;(function(e){function t(n){const r=[];for(let i=0;i<n.length;i++){const o=n.charCodeAt(i);ac.IsNumeric(o)||ac.IsAlpha(o)?r.push(n.charAt(i)):r.push(`_${o}_`)}return r.join("").replace(/__/g,"_")}e.Encode=t})(SR||(SR={}));var ER;(function(e){function t(n){return n.replace(/'/g,"\\'")}e.Escape=t})(ER||(ER={}));class TMe extends Or{constructor(t){super("Unknown type"),this.schema=t}}class m7 extends Or{constructor(t){super("Preflight validation check failed to guard for the given schema"),this.schema=t}}var Ff;(function(e){function t(s,a,c){return ur.ExactOptionalPropertyTypes?`('${a}' in ${s} ? ${c} : true)`:`(${TE.Encode(s,a)} !== undefined ? ${c} : true)`}e.IsExactOptionalProperty=t;function n(s){return ur.AllowArrayObject?`(typeof ${s} === 'object' && ${s} !== null)`:`(typeof ${s} === 'object' && ${s} !== null && !Array.isArray(${s}))`}e.IsObjectLike=n;function r(s){return ur.AllowArrayObject?`(typeof ${s} === 'object' && ${s} !== null && !(${s} instanceof Date) && !(${s} instanceof Uint8Array))`:`(typeof ${s} === 'object' && ${s} !== null && !Array.isArray(${s}) && !(${s} instanceof Date) && !(${s} instanceof Uint8Array))`}e.IsRecordLike=r;function i(s){return ur.AllowNaN?`typeof ${s} === 'number'`:`Number.isFinite(${s})`}e.IsNumberLike=i;function o(s){return ur.AllowNullVoid?`(${s} === undefined || ${s} === null)`:`${s} === undefined`}e.IsVoidLike=o})(Ff||(Ff={}));var p7;(function(e){function t(J){return J[qe]==="Any"||J[qe]==="Unknown"}function*n(J,me,Z){yield"true"}function*r(J,me,Z){yield"true"}function*i(J,me,Z){yield`Array.isArray(${Z})`;const[we,Ne]=[le("value","any"),le("acc","number")];vt(J.maxItems)&&(yield`${Z}.length <= ${J.maxItems}`),vt(J.minItems)&&(yield`${Z}.length >= ${J.minItems}`);const $e=X(J.items,me,"value");if(yield`${Z}.every((${we}) => ${$e})`,jn(J.contains)||vt(J.minContains)||vt(J.maxContains)){const _e=jn(J.contains)?J.contains:_n(),Y=X(_e,me,"value"),re=vt(J.minContains)?[`(count >= ${J.minContains})`]:[],Q=vt(J.maxContains)?[`(count <= ${J.maxContains})`]:[],xe=`const count = value.reduce((${Ne}, ${we}) => ${Y} ? acc + 1 : acc, 0)`,ue=["(count > 0)",...re,...Q].join(" && ");yield`((${we}) => { ${xe}; return ${ue}})(${Z})`}J.uniqueItems===!0&&(yield`((${we}) => { const set = new Set(); for(const element of value) { const hashed = hash(element); if(set.has(hashed)) { return false } else { set.add(hashed) } } return true } )(${Z})`)}function*o(J,me,Z){yield`(typeof value === 'object' && Symbol.asyncIterator in ${Z})`}function*s(J,me,Z){yield`(typeof ${Z} === 'bigint')`,ic(J.exclusiveMaximum)&&(yield`${Z} < BigInt(${J.exclusiveMaximum})`),ic(J.exclusiveMinimum)&&(yield`${Z} > BigInt(${J.exclusiveMinimum})`),ic(J.maximum)&&(yield`${Z} <= BigInt(${J.maximum})`),ic(J.minimum)&&(yield`${Z} >= BigInt(${J.minimum})`),ic(J.multipleOf)&&(yield`(${Z} % BigInt(${J.multipleOf})) === 0`)}function*a(J,me,Z){yield`(typeof ${Z} === 'boolean')`}function*c(J,me,Z){yield*D(J.returns,me,`${Z}.prototype`)}function*u(J,me,Z){yield`(${Z} instanceof Date) && Number.isFinite(${Z}.getTime())`,vt(J.exclusiveMaximumTimestamp)&&(yield`${Z}.getTime() < ${J.exclusiveMaximumTimestamp}`),vt(J.exclusiveMinimumTimestamp)&&(yield`${Z}.getTime() > ${J.exclusiveMinimumTimestamp}`),vt(J.maximumTimestamp)&&(yield`${Z}.getTime() <= ${J.maximumTimestamp}`),vt(J.minimumTimestamp)&&(yield`${Z}.getTime() >= ${J.minimumTimestamp}`),vt(J.multipleOfTimestamp)&&(yield`(${Z}.getTime() % ${J.multipleOfTimestamp}) === 0`)}function*f(J,me,Z){yield`(typeof ${Z} === 'function')`}function*h(J,me,Z){const we=globalThis.Object.getOwnPropertyNames(J.$defs).reduce((Ne,$e)=>[...Ne,J.$defs[$e]],[]);yield*D(Dd(J.$ref),[...me,...we],Z)}function*p(J,me,Z){yield`Number.isInteger(${Z})`,vt(J.exclusiveMaximum)&&(yield`${Z} < ${J.exclusiveMaximum}`),vt(J.exclusiveMinimum)&&(yield`${Z} > ${J.exclusiveMinimum}`),vt(J.maximum)&&(yield`${Z} <= ${J.maximum}`),vt(J.minimum)&&(yield`${Z} >= ${J.minimum}`),vt(J.multipleOf)&&(yield`(${Z} % ${J.multipleOf}) === 0`)}function*y(J,me,Z){const we=J.allOf.map(Ne=>X(Ne,me,Z)).join(" && ");if(J.unevaluatedProperties===!1){const Ne=se(`${new RegExp(gh(J))};`),$e=`Object.getOwnPropertyNames(${Z}).every(key => ${Ne}.test(key))`;yield`(${we} && ${$e})`}else if(jn(J.unevaluatedProperties)){const Ne=se(`${new RegExp(gh(J))};`),$e=`Object.getOwnPropertyNames(${Z}).every(key => ${Ne}.test(key) || ${X(J.unevaluatedProperties,me,`${Z}[key]`)})`;yield`(${we} && ${$e})`}else yield`(${we})`}function*x(J,me,Z){yield`(typeof value === 'object' && Symbol.iterator in ${Z})`}function*v(J,me,Z){typeof J.const=="number"||typeof J.const=="boolean"?yield`(${Z} === ${J.const})`:yield`(${Z} === '${ER.Escape(J.const)}')`}function*E(J,me,Z){yield"false"}function*N(J,me,Z){yield`(!${X(J.not,me,Z)})`}function*O(J,me,Z){yield`(${Z} === null)`}function*_(J,me,Z){yield Ff.IsNumberLike(Z),vt(J.exclusiveMaximum)&&(yield`${Z} < ${J.exclusiveMaximum}`),vt(J.exclusiveMinimum)&&(yield`${Z} > ${J.exclusiveMinimum}`),vt(J.maximum)&&(yield`${Z} <= ${J.maximum}`),vt(J.minimum)&&(yield`${Z} >= ${J.minimum}`),vt(J.multipleOf)&&(yield`(${Z} % ${J.multipleOf}) === 0`)}function*C(J,me,Z){yield Ff.IsObjectLike(Z),vt(J.minProperties)&&(yield`Object.getOwnPropertyNames(${Z}).length >= ${J.minProperties}`),vt(J.maxProperties)&&(yield`Object.getOwnPropertyNames(${Z}).length <= ${J.maxProperties}`);const we=Object.getOwnPropertyNames(J.properties);for(const Ne of we){const $e=TE.Encode(Z,Ne),_e=J.properties[Ne];if(J.required&&J.required.includes(Ne))yield*D(_e,me,$e),(qh(_e)||t(_e))&&(yield`('${Ne}' in ${Z})`);else{const Y=X(_e,me,$e);yield Ff.IsExactOptionalProperty(Z,Ne,Y)}}if(J.additionalProperties===!1)if(J.required&&J.required.length===we.length)yield`Object.getOwnPropertyNames(${Z}).length === ${we.length}`;else{const Ne=`[${we.map($e=>`'${$e}'`).join(", ")}]`;yield`Object.getOwnPropertyNames(${Z}).every(key => ${Ne}.includes(key))`}if(typeof J.additionalProperties=="object"){const Ne=X(J.additionalProperties,me,`${Z}[key]`),$e=`[${we.map(_e=>`'${_e}'`).join(", ")}]`;yield`(Object.getOwnPropertyNames(${Z}).every(key => ${$e}.includes(key) || ${Ne}))`}}function*j(J,me,Z){yield`${Z} instanceof Promise`}function*A(J,me,Z){yield Ff.IsRecordLike(Z),vt(J.minProperties)&&(yield`Object.getOwnPropertyNames(${Z}).length >= ${J.minProperties}`),vt(J.maxProperties)&&(yield`Object.getOwnPropertyNames(${Z}).length <= ${J.maxProperties}`);const[we,Ne]=Object.entries(J.patternProperties)[0],$e=se(`${new RegExp(we)}`),_e=X(Ne,me,"value"),Y=jn(J.additionalProperties)?X(J.additionalProperties,me,Z):J.additionalProperties===!1?"false":"true",re=`(${$e}.test(key) ? ${_e} : ${Y})`;yield`(Object.entries(${Z}).every(([key, value]) => ${re}))`}function*R(J,me,Z){const we=lo(J,me);if(W.functions.has(J.$ref))return yield`${oe(J.$ref)}(${Z})`;yield*D(we,me,Z)}function*I(J,me,Z){const we=se(`${new RegExp(J.source,J.flags)};`);yield`(typeof ${Z} === 'string')`,vt(J.maxLength)&&(yield`${Z}.length <= ${J.maxLength}`),vt(J.minLength)&&(yield`${Z}.length >= ${J.minLength}`),yield`${we}.test(${Z})`}function*P(J,me,Z){yield`(typeof ${Z} === 'string')`,vt(J.maxLength)&&(yield`${Z}.length <= ${J.maxLength}`),vt(J.minLength)&&(yield`${Z}.length >= ${J.minLength}`),J.pattern!==void 0&&(yield`${se(`${new RegExp(J.pattern)};`)}.test(${Z})`),J.format!==void 0&&(yield`format('${J.format}', ${Z})`)}function*z(J,me,Z){yield`(typeof ${Z} === 'symbol')`}function*B(J,me,Z){yield`(typeof ${Z} === 'string')`,yield`${se(`${new RegExp(J.pattern)};`)}.test(${Z})`}function*U(J,me,Z){yield`${oe(J.$ref)}(${Z})`}function*H(J,me,Z){if(yield`Array.isArray(${Z})`,J.items===void 0)return yield`${Z}.length === 0`;yield`(${Z}.length === ${J.maxItems})`;for(let we=0;we<J.items.length;we++)yield`${X(J.items[we],me,`${Z}[${we}]`)}`}function*M(J,me,Z){yield`${Z} === undefined`}function*L(J,me,Z){yield`(${J.anyOf.map(Ne=>X(Ne,me,Z)).join(" || ")})`}function*T(J,me,Z){yield`${Z} instanceof Uint8Array`,vt(J.maxByteLength)&&(yield`(${Z}.length <= ${J.maxByteLength})`),vt(J.minByteLength)&&(yield`(${Z}.length >= ${J.minByteLength})`)}function*F(J,me,Z){yield"true"}function*k(J,me,Z){yield Ff.IsVoidLike(Z)}function*q(J,me,Z){const we=W.instances.size;W.instances.set(we,J),yield`kind('${J[qe]}', ${we}, ${Z})`}function*D(J,me,Z,we=!0){const Ne=_o(J.$id)?[...me,J]:me,$e=J;if(we&&_o(J.$id)){const _e=oe(J.$id);if(W.functions.has(_e))return yield`${_e}(${Z})`;{W.functions.set(_e,"<deferred>");const Y=ie(_e,J,me,"value",!1);return W.functions.set(_e,Y),yield`${_e}(${Z})`}}switch($e[qe]){case"Any":return yield*n();case"Argument":return yield*r();case"Array":return yield*i($e,Ne,Z);case"AsyncIterator":return yield*o($e,Ne,Z);case"BigInt":return yield*s($e,Ne,Z);case"Boolean":return yield*a($e,Ne,Z);case"Constructor":return yield*c($e,Ne,Z);case"Date":return yield*u($e,Ne,Z);case"Function":return yield*f($e,Ne,Z);case"Import":return yield*h($e,Ne,Z);case"Integer":return yield*p($e,Ne,Z);case"Intersect":return yield*y($e,Ne,Z);case"Iterator":return yield*x($e,Ne,Z);case"Literal":return yield*v($e,Ne,Z);case"Never":return yield*E();case"Not":return yield*N($e,Ne,Z);case"Null":return yield*O($e,Ne,Z);case"Number":return yield*_($e,Ne,Z);case"Object":return yield*C($e,Ne,Z);case"Promise":return yield*j($e,Ne,Z);case"Record":return yield*A($e,Ne,Z);case"Ref":return yield*R($e,Ne,Z);case"RegExp":return yield*I($e,Ne,Z);case"String":return yield*P($e,Ne,Z);case"Symbol":return yield*z($e,Ne,Z);case"TemplateLiteral":return yield*B($e,Ne,Z);case"This":return yield*U($e,Ne,Z);case"Tuple":return yield*H($e,Ne,Z);case"Undefined":return yield*M($e,Ne,Z);case"Union":return yield*L($e,Ne,Z);case"Uint8Array":return yield*T($e,Ne,Z);case"Unknown":return yield*F();case"Void":return yield*k($e,Ne,Z);default:if(!lg($e[qe]))throw new TMe(J);return yield*q($e,Ne,Z)}}const W={language:"javascript",functions:new Map,variables:new Map,instances:new Map};function X(J,me,Z,we=!0){return`(${[...D(J,me,Z,we)].join(" && ")})`}function oe(J){return`check_${SR.Encode(J)}`}function se(J){const me=`local_${W.variables.size}`;return W.variables.set(me,`const ${me} = ${J}`),me}function ie(J,me,Z,we,Ne=!0){const[$e,_e]=[`
`,xe=>"".padStart(xe," ")],Y=le("value","any"),re=pe("boolean"),Q=[...D(me,Z,we,Ne)].map(xe=>`${_e(4)}${xe}`).join(` &&${$e}`);return`function ${J}(${Y})${re} {${$e}${_e(2)}return (${$e}${Q}${$e}${_e(2)})
}`}function le(J,me){const Z=W.language==="typescript"?`: ${me}`:"";return`${J}${Z}`}function pe(J){return W.language==="typescript"?`: ${J}`:""}function ye(J,me,Z){const we=ie("check",J,me,"value"),Ne=le("value","any"),$e=pe("boolean"),_e=[...W.functions.values()],Y=[...W.variables.values()],re=_o(J.$id)?`return function check(${Ne})${$e} {
  return ${oe(J.$id)}(value)
}`:`return ${we}`;return[...Y,..._e,re].join(`
`)}function je(...J){const me={language:"javascript"},[Z,we,Ne]=J.length===2&&ni(J[1])?[J[0],J[1],me]:J.length===2&&!ni(J[1])?[J[0],[],J[1]]:J.length===3?[J[0],J[1],J[2]]:J.length===1?[J[0],[],me]:[null,[],me];if(W.language=Ne.language,W.variables.clear(),W.functions.clear(),W.instances.clear(),!jn(Z))throw new m7(Z);for(const $e of we)if(!jn($e))throw new m7($e);return ye(Z,we)}e.Code=je;function Te(J,me=[]){const Z=je(J,me,{language:"javascript"}),we=globalThis.Function("kind","format","hash",Z),Ne=new Map(W.instances);function $e(Q,xe,ue){if(!lg(Q)||!Ne.has(xe))return!1;const de=rN(Q),ae=Ne.get(xe);return de(ae,ue)}function _e(Q,xe){return tN(Q)?nN(Q)(xe):!1}function Y(Q){return e4(Q)}const re=we($e,_e,Y);return new nQ(J,me,re,Z)}e.Compile=Te})(p7||(p7={}));function RMe(e,t){for(var n={};e.length;){var r=e[0],i=r.type,o=r.message,s=r.path.substring(1).replace(/\//g,".");if(n[s]||(n[s]={message:o,type:""+i}),t){var a=n[s].types,c=a&&a[""+i];n[s]=GX(s,t,n,""+i,c?[].concat(c,r.message):r.message)}e.shift()}return n}function Xc(e){return function(t,n,r){try{var i=Array.from(e instanceof nQ?e.Errors(t):Wh(e,t));return r.shouldUseNativeValidation&&tQ({},r),Promise.resolve(i.length?{values:{},errors:jMe(RMe(i,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)}:{errors:{},values:t})}catch(o){return Promise.reject(o)}}}function IMe(){var f,h,p,y,x,v,E,N,O;const e=N2(),{nextStep:t,stepBack:n,state:r,setState:i}=im(),{register:o,handleSubmit:s,formState:a,watch:c}=Jc({mode:"onTouched",resolver:Xc(NZ),defaultValues:((h=(f=r.entities)==null?void 0:f.create)==null?void 0:h[0])??{}});function u(_){console.log(_),i(C=>{var A,R;const j=(R=(A=C.entities)==null?void 0:A.create)==null?void 0:R[0];return j&&j.name!==_.name?{...C,entities:{create:[{..._,fields:j.fields}]}}:{...C,entities:{create:[_]}}}),a.isValid&&(console.log("would go next"),t("entity-fields")())}return m.jsx(m.Fragment,{children:m.jsxs("form",{onSubmit:s(u),ref:e,children:[m.jsxs(nm,{children:[m.jsx(Wn,{"data-autofocus":!0,required:!0,error:(p=a.errors.name)==null?void 0:p.message,...o("name"),placeholder:"posts",size:"md",label:"What's the name of the entity?",description:"Use plural form, and all lowercase. It will be used as the database table."}),m.jsx(Wn,{...o("config.name"),error:(x=(y=a.errors.config)==null?void 0:y.name)==null?void 0:x.message,placeholder:"Posts",size:"md",label:"How should it be called?",description:"Use plural form. This will be used to display in the UI."}),m.jsx(Wn,{...o("config.name_singular"),error:(E=(v=a.errors.config)==null?void 0:v.name_singular)==null?void 0:E.message,placeholder:"Post",size:"md",label:"What's the singular form of it?"}),m.jsx(qx,{placeholder:"This is a post (optional)",error:(O=(N=a.errors.config)==null?void 0:N.description)==null?void 0:O.message,...o("config.description"),size:"md",label:"Description"})]}),m.jsx(rm,{next:{type:"submit",disabled:!a.isValid},prev:{onClick:n},debug:{state:r}})]})})}function ud({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:o,...s}){var h;const{field:{value:a,onChange:c,...u},fieldState:f}=om({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return m.jsx(J2,{value:a,onChange:async p=>{await c({...new Event("change",{bubbles:!0,cancelable:!0}),target:{value:p,name:u.name}}),o==null||o(p)},error:(h=f.error)==null?void 0:h.message,...u,...s})}function bb({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:o,...s}){var h;const{field:{value:a,onChange:c,...u},fieldState:f}=om({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return m.jsx(ll,{value:a,checked:a,onChange:p=>{c(p),o==null||o(p)},error:(h=f.error)==null?void 0:h.message,...u,...s})}const MMe=w.lazy(()=>qv(()=>import("./JsonSchemaForm-BB9_PcWW.js"),__vite__mapDeps([0,1])).then(e=>({default:e.JsonSchemaForm}))),Sy=w.forwardRef((e,t)=>m.jsx(w.Suspense,{children:m.jsx(MMe,{ref:t,...e})}));function _i(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kMe=typeof Symbol=="function"&&Symbol.observable||"@@observable",g7=kMe,y7=()=>Math.random().toString(36).substring(7).split("").join("."),PMe={INIT:`@@redux/INIT${y7()}`,REPLACE:`@@redux/REPLACE${y7()}`},b7=PMe;function DMe(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function rQ(e,t,n){if(typeof e!="function")throw new Error(_i(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(_i(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(_i(1));return n(rQ)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,c=!1;function u(){s===o&&(s=new Map,o.forEach((E,N)=>{s.set(N,E)}))}function f(){if(c)throw new Error(_i(3));return i}function h(E){if(typeof E!="function")throw new Error(_i(4));if(c)throw new Error(_i(5));let N=!0;u();const O=a++;return s.set(O,E),function(){if(N){if(c)throw new Error(_i(6));N=!1,u(),s.delete(O),o=null}}}function p(E){if(!DMe(E))throw new Error(_i(7));if(typeof E.type>"u")throw new Error(_i(8));if(typeof E.type!="string")throw new Error(_i(17));if(c)throw new Error(_i(9));try{c=!0,i=r(i,E)}finally{c=!1}return(o=s).forEach(O=>{O()}),E}function y(E){if(typeof E!="function")throw new Error(_i(10));r=E,p({type:b7.REPLACE})}function x(){const E=h;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(_i(11));function O(){const C=N;C.next&&C.next(f())}return O(),{unsubscribe:E(O)}},[g7](){return this}}}return p({type:b7.INIT}),{dispatch:p,subscribe:h,getState:f,replaceReducer:y,[g7]:x}}function x7(e,t){return function(...n){return t(e.apply(this,n))}}function v7(e,t){if(typeof e=="function")return x7(e,t);if(typeof e!="object"||e===null)throw new Error(_i(16));const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=x7(i,t))}return n}function iQ(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function FMe(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(_i(15))};const s={getState:i.getState,dispatch:(c,...u)=>o(c,...u)},a=e.map(c=>c(s));return o=iQ(...a)(i.dispatch),{...i,dispatch:o}}}var _j={exports:{}},$j={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w7;function LMe(){if(w7)return $j;w7=1;var e=Fg();function t(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,o=e.useEffect,s=e.useMemo,a=e.useDebugValue;return $j.useSyncExternalStoreWithSelector=function(c,u,f,h,p){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=s(function(){function E(j){if(!N){if(N=!0,O=j,j=h(j),p!==void 0&&x.hasValue){var A=x.value;if(p(A,j))return _=A}return _=j}if(A=_,n(O,j))return A;var R=h(j);return p!==void 0&&p(A,R)?(O=j,A):(O=j,_=R)}var N=!1,O,_,C=f===void 0?null:f;return[function(){return E(u())},C===null?void 0:function(){return E(C())}]},[u,f,h,p]);var v=r(c,y[0],y[1]);return o(function(){x.hasValue=!0,x.value=v},[v]),a(v),v},$j}var S7;function BMe(){return S7||(S7=1,_j.exports=LMe()),_j.exports}BMe();var zMe=w.version.startsWith("19"),UMe=Symbol.for(zMe?"react.transitional.element":"react.element"),VMe=Symbol.for("react.portal"),qMe=Symbol.for("react.fragment"),HMe=Symbol.for("react.strict_mode"),WMe=Symbol.for("react.profiler"),GMe=Symbol.for("react.consumer"),KMe=Symbol.for("react.context"),oQ=Symbol.for("react.forward_ref"),YMe=Symbol.for("react.suspense"),JMe=Symbol.for("react.suspense_list"),fM=Symbol.for("react.memo"),XMe=Symbol.for("react.lazy"),QMe=oQ,ZMe=fM;function eke(e){if(typeof e=="object"&&e!==null){const{$$typeof:t}=e;switch(t){case UMe:switch(e=e.type,e){case qMe:case WMe:case HMe:case YMe:case JMe:return e;default:switch(e=e&&e.$$typeof,e){case KMe:case oQ:case XMe:case fM:return e;case GMe:return e;default:return t}}case VMe:return t}}}function tke(e){return eke(e)===fM}function nke(e,t,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,c,u,f,h,p;function y(O,_){return c=O,u=_,f=e(c,u),h=t(r,u),p=n(f,h,u),a=!0,p}function x(){return f=e(c,u),t.dependsOnOwnProps&&(h=t(r,u)),p=n(f,h,u),p}function v(){return e.dependsOnOwnProps&&(f=e(c,u)),t.dependsOnOwnProps&&(h=t(r,u)),p=n(f,h,u),p}function E(){const O=e(c,u),_=!s(O,f);return f=O,_&&(p=n(f,h,u)),p}function N(O,_){const C=!o(_,u),j=!i(O,c,_,u);return c=O,u=_,C&&j?x():C?v():j?E():p}return function(_,C){return a?N(_,C):y(_,C)}}function rke(e,{initMapStateToProps:t,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=t(e,i),s=n(e,i),a=r(e,i);return nke(o,s,a,e,i)}function ike(e,t){const n={};for(const r in e){const i=e[r];typeof i=="function"&&(n[r]=(...o)=>t(i(...o)))}return n}function NR(e){return function(n){const r=e(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function E7(e){return e.dependsOnOwnProps?!!e.dependsOnOwnProps:e.length!==1}function sQ(e,t){return function(r,{displayName:i}){const o=function(a,c){return o.dependsOnOwnProps?o.mapToProps(a,c):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,c){o.mapToProps=e,o.dependsOnOwnProps=E7(e);let u=o(a,c);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=E7(u),u=o(a,c)),u},o}}function hM(e,t){return(n,r)=>{throw new Error(`Invalid value of type ${typeof e} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function oke(e){return e&&typeof e=="object"?NR(t=>ike(e,t)):e?typeof e=="function"?sQ(e):hM(e,"mapDispatchToProps"):NR(t=>({dispatch:t}))}function ske(e){return e?typeof e=="function"?sQ(e):hM(e,"mapStateToProps"):NR(()=>({}))}function ake(e,t,n){return{...n,...e,...t}}function lke(e){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(c,u,f){const h=e(c,u,f);return o?i(h,s)||(s=h):(o=!0,s=h),s}}}function cke(e){return e?typeof e=="function"?lke(e):hM(e,"mergeProps"):()=>ake}function uke(e){e()}function dke(){let e=null,t=null;return{clear(){e=null,t=null},notify(){uke(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var N7={notify(){},get:()=>[]};function aQ(e,t){let n,r=N7,i=0,o=!1;function s(v){f();const E=r.subscribe(v);let N=!1;return()=>{N||(N=!0,E(),h())}}function a(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function u(){return o}function f(){i++,n||(n=t?t.addNestedSub(c):e.subscribe(c),r=dke())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=N7)}function p(){o||(o=!0,f())}function y(){o&&(o=!1,h())}const x={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return x}var fke=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hke=fke(),mke=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pke=mke(),gke=()=>hke||pke?w.useLayoutEffect:w.useEffect,RE=gke();function O7(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Cj(e,t){if(O7(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!O7(e[n[i]],t[n[i]]))return!1;return!0}var yke={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bke={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},xke={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lQ={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vke={[QMe]:xke,[ZMe]:lQ};function _7(e){return tke(e)?lQ:vke[e.$$typeof]||yke}var wke=Object.defineProperty,Ske=Object.getOwnPropertyNames,$7=Object.getOwnPropertySymbols,Eke=Object.getOwnPropertyDescriptor,Nke=Object.getPrototypeOf,C7=Object.prototype;function OR(e,t){if(typeof t!="string"){if(C7){const o=Nke(t);o&&o!==C7&&OR(e,o)}let n=Ske(t);$7&&(n=n.concat($7(t)));const r=_7(e),i=_7(t);for(let o=0;o<n.length;++o){const s=n[o];if(!bke[s]&&!(i&&i[s])&&!(r&&r[s])){const a=Eke(t,s);try{wke(e,s,a)}catch{}}}}return e}var jj=Symbol.for("react-redux-context"),Aj=typeof globalThis<"u"?globalThis:{};function Oke(){if(!w.createContext)return{};const e=Aj[jj]??(Aj[jj]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var cQ=Oke(),_ke=[null,null];function $ke(e,t,n){RE(()=>e(...t),n)}function Cke(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function jke(e,t,n,r,i,o,s,a,c,u,f){if(!e)return()=>{};let h=!1,p=null;const y=()=>{if(h||!a.current)return;const v=t.getState();let E,N;try{E=r(v,i.current)}catch(O){N=O,p=O}N||(p=null),E===o.current?s.current||u():(o.current=E,c.current=E,s.current=!0,f())};return n.onStateChange=y,n.trySubscribe(),y(),()=>{if(h=!0,n.tryUnsubscribe(),n.onStateChange=null,p)throw p}}function Ake(e,t){return e===t}function Tke(e,t,n,{pure:r,areStatesEqual:i=Ake,areOwnPropsEqual:o=Cj,areStatePropsEqual:s=Cj,areMergedPropsEqual:a=Cj,forwardRef:c=!1,context:u=cQ}={}){const f=u,h=ske(e),p=oke(t),y=cke(n),x=!!e;return E=>{const N=E.displayName||E.name||"Component",O=`Connect(${N})`,_={shouldHandleStateChanges:x,displayName:O,wrappedComponentName:N,WrappedComponent:E,initMapStateToProps:h,initMapDispatchToProps:p,initMergeProps:y,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function C(R){const[I,P,z]=w.useMemo(()=>{const{reactReduxForwardedRef:me,...Z}=R;return[R.context,me,Z]},[R]),B=w.useMemo(()=>{let me=f;return I!=null&&I.Consumer,me},[I,f]),U=w.useContext(B),H=!!R.store&&!!R.store.getState&&!!R.store.dispatch,M=!!U&&!!U.store,L=H?R.store:U.store,T=M?U.getServerState:L.getState,F=w.useMemo(()=>rke(L.dispatch,_),[L]),[k,q]=w.useMemo(()=>{if(!x)return _ke;const me=aQ(L,H?void 0:U.subscription),Z=me.notifyNestedSubs.bind(me);return[me,Z]},[L,H,U]),D=w.useMemo(()=>H?U:{...U,subscription:k},[H,U,k]),W=w.useRef(void 0),X=w.useRef(z),oe=w.useRef(void 0),se=w.useRef(!1),ie=w.useRef(!1),le=w.useRef(void 0);RE(()=>(ie.current=!0,()=>{ie.current=!1}),[]);const pe=w.useMemo(()=>()=>oe.current&&z===X.current?oe.current:F(L.getState(),z),[L,z]),ye=w.useMemo(()=>Z=>k?jke(x,L,k,F,X,W,se,ie,oe,q,Z):()=>{},[k]);$ke(Cke,[X,W,se,z,oe,q]);let je;try{je=w.useSyncExternalStore(ye,pe,T?()=>F(T(),z):pe)}catch(me){throw le.current&&(me.message+=`
The error may be correlated with this previous error:
${le.current.stack}

`),me}RE(()=>{le.current=void 0,oe.current=void 0,W.current=je});const Te=w.useMemo(()=>w.createElement(E,{...je,ref:P}),[P,E,je]);return w.useMemo(()=>x?w.createElement(B.Provider,{value:D},Te):Te,[B,Te,D])}const A=w.memo(C);if(A.WrappedComponent=E,A.displayName=C.displayName=O,c){const I=w.forwardRef(function(z,B){return w.createElement(A,{...z,reactReduxForwardedRef:B})});return I.displayName=O,I.WrappedComponent=E,OR(I,E)}return OR(A,E)}}var uQ=Tke;function Rke(e){const{children:t,context:n,serverState:r,store:i}=e,o=w.useMemo(()=>{const c=aQ(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=w.useMemo(()=>i.getState(),[i]);RE(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const a=n||cQ;return w.createElement(a.Provider,{value:o},t)}var Ike=Rke,Mke="Invariant failed";function kke(e,t){throw new Error(Mke)}var ra=function(t){var n=t.top,r=t.right,i=t.bottom,o=t.left,s=r-o,a=i-n,c={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return c},mM=function(t,n){return{top:t.top-n.top,left:t.left-n.left,bottom:t.bottom+n.bottom,right:t.right+n.right}},j7=function(t,n){return{top:t.top+n.top,left:t.left+n.left,bottom:t.bottom-n.bottom,right:t.right-n.right}},Pke=function(t,n){return{top:t.top+n.y,left:t.left+n.x,bottom:t.bottom+n.y,right:t.right+n.x}},Tj={top:0,right:0,bottom:0,left:0},pM=function(t){var n=t.borderBox,r=t.margin,i=r===void 0?Tj:r,o=t.border,s=o===void 0?Tj:o,a=t.padding,c=a===void 0?Tj:a,u=ra(mM(n,i)),f=ra(j7(n,s)),h=ra(j7(f,c));return{marginBox:u,borderBox:ra(n),paddingBox:f,contentBox:h,margin:i,border:s,padding:c}},rs=function(t){var n=t.slice(0,-2),r=t.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&kke(),i},Dke=function(){return{x:window.pageXOffset,y:window.pageYOffset}},IE=function(t,n){var r=t.borderBox,i=t.border,o=t.margin,s=t.padding,a=Pke(r,n);return pM({borderBox:a,border:i,margin:o,padding:s})},ME=function(t,n){return n===void 0&&(n=Dke()),IE(t,n)},dQ=function(t,n){var r={top:rs(n.marginTop),right:rs(n.marginRight),bottom:rs(n.marginBottom),left:rs(n.marginLeft)},i={top:rs(n.paddingTop),right:rs(n.paddingRight),bottom:rs(n.paddingBottom),left:rs(n.paddingLeft)},o={top:rs(n.borderTopWidth),right:rs(n.borderRightWidth),bottom:rs(n.borderBottomWidth),left:rs(n.borderLeftWidth)};return pM({borderBox:t,margin:r,padding:i,border:o})},fQ=function(t){var n=t.getBoundingClientRect(),r=window.getComputedStyle(t);return dQ(n,r)},lx=function(t){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];n=a,!r&&(r=requestAnimationFrame(function(){r=null,t.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function hQ(e,t){}hQ.bind(null,"warn");hQ.bind(null,"error");function dd(){}function Fke(e,t){return{...e,...t}}function ds(e,t,n){const r=t.map(i=>{const o=Fke(n,i.options);return e.addEventListener(i.eventName,i.fn,o),function(){e.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const Lke="Invariant failed";class kE extends Error{}kE.prototype.toString=function(){return this.message};function Ue(e,t){throw new kE(Lke)}let Bke=class extends De.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=dd,this.onWindowError=n=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),n.error instanceof kE&&n.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=n=>{this.callbacks=n}}componentDidMount(){this.unbind=ds(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof kE){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}};const zke=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,PE=e=>e+1,Uke=e=>`
  You have lifted an item in position ${PE(e.source.index)}
`,mQ=(e,t)=>{const n=e.droppableId===t.droppableId,r=PE(e.index),i=PE(t.index);return n?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${e.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},pQ=(e,t,n)=>t.droppableId===n.droppableId?`
      The item ${e}
      has been combined with ${n.draggableId}`:`
      The item ${e}
      in list ${t.droppableId}
      has been combined with ${n.draggableId}
      in list ${n.droppableId}
    `,Vke=e=>{const t=e.destination;if(t)return mQ(e.source,t);const n=e.combine;return n?pQ(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},A7=e=>`
  The item has returned to its starting position
  of ${PE(e.index)}
`,qke=e=>{if(e.reason==="CANCEL")return`
      Movement cancelled.
      ${A7(e.source)}
    `;const t=e.destination,n=e.combine;return t?`
      You have dropped the item.
      ${mQ(e.source,t)}
    `:n?`
      You have dropped the item.
      ${pQ(e.draggableId,e.source,n)}
    `:`
    The item has been dropped while not over a drop area.
    ${A7(e.source)}
  `},OS={dragHandleUsageInstructions:zke,onDragStart:Uke,onDragUpdate:Vke,onDragEnd:qke};function Hke(e,t){return!!(e===t||Number.isNaN(e)&&Number.isNaN(t))}function gQ(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Hke(e[n],t[n]))return!1;return!0}function Pt(e,t){const n=w.useState(()=>({inputs:t,result:e()}))[0],r=w.useRef(!0),i=w.useRef(n),s=r.current||!!(t&&i.current.inputs&&gQ(t,i.current.inputs))?i.current:{inputs:t,result:e()};return w.useEffect(()=>{r.current=!1,i.current=s},[s]),s.result}function it(e,t){return Pt(()=>e,t)}const Wr={x:0,y:0},ei=(e,t)=>({x:e.x+t.x,y:e.y+t.y}),Oo=(e,t)=>({x:e.x-t.x,y:e.y-t.y}),fd=(e,t)=>e.x===t.x&&e.y===t.y,Ey=e=>({x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}),$h=(e,t,n=0)=>e==="x"?{x:t,y:n}:{x:n,y:t},cx=(e,t)=>Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2),T7=(e,t)=>Math.min(...t.map(n=>cx(e,n))),yQ=e=>t=>({x:e(t.x),y:e(t.y)});var Wke=(e,t)=>{const n=ra({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n};const Gv=(e,t)=>({top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}),R7=e=>[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}],Gke={top:0,right:0,bottom:0,left:0},Kke=(e,t)=>t?Gv(e,t.scroll.diff.displacement):e,Yke=(e,t,n)=>n&&n.increasedBy?{...e,[t.end]:e[t.end]+n.increasedBy[t.line]}:e,Jke=(e,t)=>t&&t.shouldClipSubject?Wke(t.pageMarginBox,e):ra(e);var Og=({page:e,withPlaceholder:t,axis:n,frame:r})=>{const i=Kke(e.marginBox,r),o=Yke(i,n,t),s=Jke(o,r);return{page:e,withPlaceholder:t,active:s}},gM=(e,t)=>{e.frame||Ue();const n=e.frame,r=Oo(t,n.scroll.initial),i=Ey(r),o={...n,scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}},s=Og({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return{...e,frame:o,subject:s}};function Vr(e,t=gQ){let n=null;function r(...i){if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;const o=e.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}const bQ=Vr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),xQ=Vr(e=>e.reduce((t,n)=>(t[n.descriptor.id]=n,t),{})),pO=Vr(e=>Object.values(e)),Xke=Vr(e=>Object.values(e));var Ny=Vr((e,t)=>Xke(t).filter(r=>e===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function yM(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function gO(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var yO=Vr((e,t)=>t.filter(n=>n.descriptor.id!==e.descriptor.id)),Qke=({isMovingForward:e,draggable:t,destination:n,insideDestination:r,previousImpact:i})=>{if(!n.isCombineEnabled||!yM(i))return null;function s(y){const x={type:"COMBINE",combine:{draggableId:y,droppableId:n.descriptor.id}};return{...i,at:x}}const a=i.displaced.all,c=a.length?a[0]:null;if(e)return c?s(c):null;const u=yO(t,r);if(!c){if(!u.length)return null;const y=u[u.length-1];return s(y.descriptor.id)}const f=u.findIndex(y=>y.descriptor.id===c);f===-1&&Ue();const h=f-1;if(h<0)return null;const p=u[h];return s(p.descriptor.id)},Oy=(e,t)=>e.descriptor.droppableId===t.descriptor.id;const vQ={point:Wr,value:0},ux={invisible:{},visible:{},all:[]},Zke={displaced:ux,displacedBy:vQ,at:null};var fs=(e,t)=>n=>e<=n&&n<=t,wQ=e=>{const t=fs(e.top,e.bottom),n=fs(e.left,e.right);return r=>{if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;const o=t(r.top)||t(r.bottom),s=n(r.left)||n(r.right);if(o&&s)return!0;const c=r.top<e.top&&r.bottom>e.bottom,u=r.left<e.left&&r.right>e.right;return c&&u?!0:c&&s||u&&o}},ePe=e=>{const t=fs(e.top,e.bottom),n=fs(e.left,e.right);return r=>t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right)};const bM={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},SQ={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var tPe=e=>t=>{const n=fs(t.top,t.bottom),r=fs(t.left,t.right);return i=>e===bM?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)};const nPe=(e,t)=>{const n=t.frame?t.frame.scroll.diff.displacement:Wr;return Gv(e,n)},rPe=(e,t,n)=>t.subject.active?n(t.subject.active)(e):!1,iPe=(e,t,n)=>n(t)(e),xM=({target:e,destination:t,viewport:n,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?nPe(e,t):e;return rPe(o,t,i)&&iPe(o,n,i)},oPe=e=>xM({...e,isVisibleThroughFrameFn:wQ}),EQ=e=>xM({...e,isVisibleThroughFrameFn:ePe}),sPe=e=>xM({...e,isVisibleThroughFrameFn:tPe(e.destination.axis)}),aPe=(e,t,n)=>{if(typeof n=="boolean")return n;if(!t)return!0;const{invisible:r,visible:i}=t;if(r[e])return!1;const o=i[e];return o?o.shouldAnimate:!0};function lPe(e,t){const n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return ra(mM(n,r))}function dx({afterDragging:e,destination:t,displacedBy:n,viewport:r,forceShouldAnimate:i,last:o}){return e.reduce(function(a,c){const u=lPe(c,n),f=c.descriptor.id;if(a.all.push(f),!oPe({target:u,destination:t,viewport:r,withDroppableDisplacement:!0}))return a.invisible[c.descriptor.id]=!0,a;const p=aPe(f,o,i),y={draggableId:f,shouldAnimate:p};return a.visible[f]=y,a},{all:[],visible:{},invisible:{}})}function cPe(e,t){if(!e.length)return 0;const n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}function I7({insideDestination:e,inHomeList:t,displacedBy:n,destination:r}){const i=cPe(e,{inHomeList:t});return{displaced:ux,displacedBy:n,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function DE({draggable:e,insideDestination:t,destination:n,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:a}){const c=Oy(e,n);if(s==null)return I7({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const u=t.find(x=>x.descriptor.index===s);if(!u)return I7({insideDestination:t,inHomeList:c,displacedBy:i,destination:n});const f=yO(e,t),h=t.indexOf(u),p=f.slice(h);return{displaced:dx({afterDragging:p,destination:n,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:a}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:s}}}}function _d(e,t){return!!t.effected[e]}var uPe=({isMovingForward:e,destination:t,draggables:n,combine:r,afterCritical:i})=>{if(!t.isCombineEnabled)return null;const o=r.draggableId,a=n[o].descriptor.index;return _d(o,i)?e?a:a-1:e?a+1:a},dPe=({isMovingForward:e,isInHomeList:t,insideDestination:n,location:r})=>{if(!n.length)return null;const i=r.index,o=e?i+1:i-1,s=n[0].descriptor.index,a=n[n.length-1].descriptor.index,c=t?a:a+1;return o<s||o>c?null:o},fPe=({isMovingForward:e,isInHomeList:t,draggable:n,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:a,afterCritical:c})=>{const u=s.at;if(u||Ue(),u.type==="REORDER"){const h=dPe({isMovingForward:e,isInHomeList:t,location:u.destination,insideDestination:o});return h==null?null:DE({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:h})}const f=uPe({isMovingForward:e,destination:i,displaced:s.displaced,draggables:r,combine:u.combine,afterCritical:c});return f==null?null:DE({draggable:n,insideDestination:o,destination:i,viewport:a,last:s.displaced,displacedBy:s.displacedBy,index:f})},hPe=({displaced:e,afterCritical:t,combineWith:n,displacedBy:r})=>{const i=!!(e.visible[n]||e.invisible[n]);return _d(n,t)?i?Wr:Ey(r.point):i?r.point:Wr},mPe=({afterCritical:e,impact:t,draggables:n})=>{const r=gO(t);r||Ue();const i=r.draggableId,o=n[i].page.borderBox.center,s=hPe({displaced:t.displaced,afterCritical:e,combineWith:i,displacedBy:t.displacedBy});return ei(o,s)};const NQ=(e,t)=>t.margin[e.start]+t.borderBox[e.size]/2,pPe=(e,t)=>t.margin[e.end]+t.borderBox[e.size]/2,vM=(e,t,n)=>t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2,M7=({axis:e,moveRelativeTo:t,isMoving:n})=>$h(e.line,t.marginBox[e.end]+NQ(e,n),vM(e,t.marginBox,n)),k7=({axis:e,moveRelativeTo:t,isMoving:n})=>$h(e.line,t.marginBox[e.start]-pPe(e,n),vM(e,t.marginBox,n)),gPe=({axis:e,moveInto:t,isMoving:n})=>$h(e.line,t.contentBox[e.start]+NQ(e,n),vM(e,t.contentBox,n));var yPe=({impact:e,draggable:t,draggables:n,droppable:r,afterCritical:i})=>{const o=Ny(r.descriptor.id,n),s=t.page,a=r.axis;if(!o.length)return gPe({axis:a,moveInto:r.page,isMoving:s});const{displaced:c,displacedBy:u}=e,f=c.all[0];if(f){const p=n[f];if(_d(f,i))return k7({axis:a,moveRelativeTo:p.page,isMoving:s});const y=IE(p.page,u.point);return k7({axis:a,moveRelativeTo:y,isMoving:s})}const h=o[o.length-1];if(h.descriptor.id===t.descriptor.id)return s.borderBox.center;if(_d(h.descriptor.id,i)){const p=IE(h.page,Ey(i.displacedBy.point));return M7({axis:a,moveRelativeTo:p,isMoving:s})}return M7({axis:a,moveRelativeTo:h.page,isMoving:s})},_R=(e,t)=>{const n=e.frame;return n?ei(t,n.scroll.diff.displacement):t};const bPe=({impact:e,draggable:t,droppable:n,draggables:r,afterCritical:i})=>{const o=t.page.borderBox.center,s=e.at;return!n||!s?o:s.type==="REORDER"?yPe({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:i}):mPe({impact:e,draggables:r,afterCritical:i})};var bO=e=>{const t=bPe(e),n=e.droppable;return n?_R(n,t):t},OQ=(e,t)=>{const n=Oo(t,e.scroll.initial),r=Ey(n);return{frame:ra({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function P7(e,t){return e.map(n=>t[n])}function xPe(e,t){for(let n=0;n<t.length;n++){const r=t[n].visible[e];if(r)return r}return null}var vPe=({impact:e,viewport:t,destination:n,draggables:r,maxScrollChange:i})=>{const o=OQ(t,ei(t.scroll.current,i)),s=n.frame?gM(n,ei(n.frame.scroll.current,i)):n,a=e.displaced,c=dx({afterDragging:P7(a.all,r),destination:n,displacedBy:e.displacedBy,viewport:o.frame,last:a,forceShouldAnimate:!1}),u=dx({afterDragging:P7(a.all,r),destination:s,displacedBy:e.displacedBy,viewport:t.frame,last:a,forceShouldAnimate:!1}),f={},h={},p=[a,c,u];return a.all.forEach(x=>{const v=xPe(x,p);if(v){h[x]=v;return}f[x]=!0}),{...e,displaced:{all:a.all,invisible:f,visible:h}}},wPe=(e,t)=>ei(e.scroll.diff.displacement,t),wM=({pageBorderBoxCenter:e,draggable:t,viewport:n})=>{const r=wPe(n,e),i=Oo(r,t.page.borderBox.center);return ei(t.client.borderBox.center,i)},_Q=({draggable:e,destination:t,newPageBorderBoxCenter:n,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Oo(n,e.page.borderBox.center),c={target:Gv(e.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return o?sPe(c):EQ(c)},SPe=({isMovingForward:e,draggable:t,destination:n,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:a,afterCritical:c})=>{if(!n.isEnabled)return null;const u=Ny(n.descriptor.id,r),f=Oy(t,n),h=Qke({isMovingForward:e,draggable:t,destination:n,insideDestination:u,previousImpact:i})||fPe({isMovingForward:e,isInHomeList:f,draggable:t,draggables:r,destination:n,insideDestination:u,previousImpact:i,viewport:o,afterCritical:c});if(!h)return null;const p=bO({impact:h,draggable:t,droppable:n,draggables:r,afterCritical:c});if(_Q({draggable:t,destination:n,newPageBorderBoxCenter:p,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:wM({pageBorderBoxCenter:p,draggable:t,viewport:o}),impact:h,scrollJumpRequest:null};const x=Oo(p,s),v=vPe({impact:h,viewport:o,destination:n,draggables:r,maxScrollChange:x});return{clientSelection:a,impact:v,scrollJumpRequest:x}};const Si=e=>{const t=e.subject.active;return t||Ue(),t};var EPe=({isMovingForward:e,pageBorderBoxCenter:t,source:n,droppables:r,viewport:i})=>{const o=n.subject.active;if(!o)return null;const s=n.axis,a=fs(o[s.start],o[s.end]),c=pO(r).filter(f=>f!==n).filter(f=>f.isEnabled).filter(f=>!!f.subject.active).filter(f=>wQ(i.frame)(Si(f))).filter(f=>{const h=Si(f);return e?o[s.crossAxisEnd]<h[s.crossAxisEnd]:h[s.crossAxisStart]<o[s.crossAxisStart]}).filter(f=>{const h=Si(f),p=fs(h[s.start],h[s.end]);return a(h[s.start])||a(h[s.end])||p(o[s.start])||p(o[s.end])}).sort((f,h)=>{const p=Si(f)[s.crossAxisStart],y=Si(h)[s.crossAxisStart];return e?p-y:y-p}).filter((f,h,p)=>Si(f)[s.crossAxisStart]===Si(p[0])[s.crossAxisStart]);if(!c.length)return null;if(c.length===1)return c[0];const u=c.filter(f=>fs(Si(f)[s.start],Si(f)[s.end])(t[s.line]));return u.length===1?u[0]:u.length>1?u.sort((f,h)=>Si(f)[s.start]-Si(h)[s.start])[0]:c.sort((f,h)=>{const p=T7(t,R7(Si(f))),y=T7(t,R7(Si(h)));return p!==y?p-y:Si(f)[s.start]-Si(h)[s.start]})[0]};const D7=(e,t)=>{const n=e.page.borderBox.center;return _d(e.descriptor.id,t)?Oo(n,t.displacedBy.point):n},NPe=(e,t)=>{const n=e.page.borderBox;return _d(e.descriptor.id,t)?Gv(n,Ey(t.displacedBy.point)):n};var OPe=({pageBorderBoxCenter:e,viewport:t,destination:n,insideDestination:r,afterCritical:i})=>r.filter(s=>EQ({target:NPe(s,i),destination:n,viewport:t.frame,withDroppableDisplacement:!0})).sort((s,a)=>{const c=cx(e,_R(n,D7(s,i))),u=cx(e,_R(n,D7(a,i)));return c<u?-1:u<c?1:s.descriptor.index-a.descriptor.index})[0]||null,Kv=Vr(function(t,n){const r=n[t.line];return{value:r,point:$h(t.line,r)}});const _Pe=(e,t,n)=>{const r=e.axis;if(e.descriptor.mode==="virtual")return $h(r.line,t[r.line]);const i=e.subject.page.contentBox[r.size],c=Ny(e.descriptor.id,n).reduce((u,f)=>u+f.client.marginBox[r.size],0)+t[r.line]-i;return c<=0?null:$h(r.line,c)},$Q=(e,t)=>({...e,scroll:{...e.scroll,max:t}}),CQ=(e,t,n)=>{const r=e.frame;Oy(t,e)&&Ue(),e.subject.withPlaceholder&&Ue();const i=Kv(e.axis,t.displaceBy).point,o=_Pe(e,i,n),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){const f=Og({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:e.frame});return{...e,subject:f}}const a=o?ei(r.scroll.max,o):r.scroll.max,c=$Q(r,a),u=Og({page:e.subject.page,withPlaceholder:s,axis:e.axis,frame:c});return{...e,subject:u,frame:c}},$Pe=e=>{const t=e.subject.withPlaceholder;t||Ue();const n=e.frame;if(!n){const s=Og({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return{...e,subject:s}}const r=t.oldFrameMaxScroll;r||Ue();const i=$Q(n,r),o=Og({page:e.subject.page,axis:e.axis,frame:i,withPlaceholder:null});return{...e,subject:o,frame:i}};var CPe=({previousPageBorderBoxCenter:e,moveRelativeTo:t,insideDestination:n,draggable:r,draggables:i,destination:o,viewport:s,afterCritical:a})=>{if(!t){if(n.length)return null;const h={displaced:ux,displacedBy:vQ,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},p=bO({impact:h,draggable:r,droppable:o,draggables:i,afterCritical:a}),y=Oy(r,o)?o:CQ(o,r,i);return _Q({draggable:r,destination:y,newPageBorderBoxCenter:p,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?h:null}const c=e[o.axis.line]<=t.page.borderBox.center[o.axis.line],u=(()=>{const h=t.descriptor.index;return t.descriptor.id===r.descriptor.id||c?h:h+1})(),f=Kv(o.axis,r.displaceBy);return DE({draggable:r,insideDestination:n,destination:o,viewport:s,displacedBy:f,last:ux,index:u})},jPe=({isMovingForward:e,previousPageBorderBoxCenter:t,draggable:n,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:a})=>{const c=EPe({isMovingForward:e,pageBorderBoxCenter:t,source:r,droppables:o,viewport:s});if(!c)return null;const u=Ny(c.descriptor.id,i),f=OPe({pageBorderBoxCenter:t,viewport:s,destination:c,insideDestination:u,afterCritical:a}),h=CPe({previousPageBorderBoxCenter:t,destination:c,draggable:n,draggables:i,moveRelativeTo:f,insideDestination:u,viewport:s,afterCritical:a});if(!h)return null;const p=bO({impact:h,draggable:n,droppable:c,draggables:i,afterCritical:a});return{clientSelection:wM({pageBorderBoxCenter:p,draggable:n,viewport:s}),impact:h,scrollJumpRequest:null}},Co=e=>{const t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const APe=(e,t)=>{const n=Co(e);return n?t[n]:null};var TPe=({state:e,type:t})=>{const n=APe(e.impact,e.dimensions.droppables),r=!!n,i=e.dimensions.droppables[e.critical.droppable.id],o=n||i,s=o.axis.direction,a=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(a&&!r)return null;const c=t==="MOVE_DOWN"||t==="MOVE_RIGHT",u=e.dimensions.draggables[e.critical.draggable.id],f=e.current.page.borderBoxCenter,{draggables:h,droppables:p}=e.dimensions;return a?SPe({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,destination:o,draggables:h,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):jPe({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:u,isOver:o,draggables:h,droppables:p,viewport:e.viewport,afterCritical:e.afterCritical})};function Mf(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function jQ(e){const t=fs(e.top,e.bottom),n=fs(e.left,e.right);return function(i){return t(i.y)&&n(i.x)}}function RPe(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function IPe({pageBorderBox:e,draggable:t,candidates:n}){const r=t.page.borderBox.center,i=n.map(o=>{const s=o.axis,a=$h(o.axis.line,e.center[s.line],o.page.borderBox.center[s.crossAxisLine]);return{id:o.descriptor.id,distance:cx(r,a)}}).sort((o,s)=>s.distance-o.distance);return i[0]?i[0].id:null}function MPe({pageBorderBox:e,draggable:t,droppables:n}){const r=pO(n).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!RPe(e,o))return!1;if(jQ(o)(e.center))return!0;const s=i.axis,a=o.center[s.crossAxisLine],c=e[s.crossAxisStart],u=e[s.crossAxisEnd],f=fs(o[s.crossAxisStart],o[s.crossAxisEnd]),h=f(c),p=f(u);return!h&&!p?!0:h?c<a:u>a});return r.length?r.length===1?r[0].descriptor.id:IPe({pageBorderBox:e,draggable:t,candidates:r}):null}const AQ=(e,t)=>ra(Gv(e,t));var kPe=(e,t)=>{const n=e.frame;return n?AQ(t,n.scroll.diff.value):t};function TQ({displaced:e,id:t}){return!!(e.visible[t]||e.invisible[t])}function PPe({draggable:e,closest:t,inHomeList:n}){return t?n&&t.descriptor.index>e.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var DPe=({pageBorderBoxWithDroppableScroll:e,draggable:t,destination:n,insideDestination:r,last:i,viewport:o,afterCritical:s})=>{const a=n.axis,c=Kv(n.axis,t.displaceBy),u=c.value,f=e[a.start],h=e[a.end],y=yO(t,r).find(v=>{const E=v.descriptor.id,N=v.page.borderBox.center[a.line],O=_d(E,s),_=TQ({displaced:i,id:E});return O?_?h<=N:f<N-u:_?h<=N+u:f<N})||null,x=PPe({draggable:t,closest:y,inHomeList:Oy(t,n)});return DE({draggable:t,insideDestination:r,destination:n,viewport:o,last:i,displacedBy:c,index:x})};const FPe=4;var LPe=({draggable:e,pageBorderBoxWithDroppableScroll:t,previousImpact:n,destination:r,insideDestination:i,afterCritical:o})=>{if(!r.isCombineEnabled)return null;const s=r.axis,a=Kv(r.axis,e.displaceBy),c=a.value,u=t[s.start],f=t[s.end],p=yO(e,i).find(x=>{const v=x.descriptor.id,E=x.page.borderBox,O=E[s.size]/FPe,_=_d(v,o),C=TQ({displaced:n.displaced,id:v});return _?C?f>E[s.start]+O&&f<E[s.end]-O:u>E[s.start]-c+O&&u<E[s.end]-c-O:C?f>E[s.start]+c+O&&f<E[s.end]+c-O:u>E[s.start]+O&&u<E[s.end]-O});return p?{displacedBy:a,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:p.descriptor.id,droppableId:r.descriptor.id}}}:null},RQ=({pageOffset:e,draggable:t,draggables:n,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const a=AQ(t.page.borderBox,e),c=MPe({pageBorderBox:a,draggable:t,droppables:r});if(!c)return Zke;const u=r[c],f=Ny(u.descriptor.id,n),h=kPe(u,a);return LPe({pageBorderBoxWithDroppableScroll:h,draggable:t,previousImpact:i,destination:u,insideDestination:f,afterCritical:s})||DPe({pageBorderBoxWithDroppableScroll:h,draggable:t,destination:u,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},SM=(e,t)=>({...e,[t.descriptor.id]:t});const BPe=({previousImpact:e,impact:t,droppables:n})=>{const r=Co(e),i=Co(t);if(!r||r===i)return n;const o=n[r];if(!o.subject.withPlaceholder)return n;const s=$Pe(o);return SM(n,s)};var zPe=({draggable:e,draggables:t,droppables:n,previousImpact:r,impact:i})=>{const o=BPe({previousImpact:r,impact:i,droppables:n}),s=Co(i);if(!s)return o;const a=n[s];if(Oy(e,a)||a.subject.withPlaceholder)return o;const c=CQ(a,e,t);return SM(o,c)},xb=({state:e,clientSelection:t,dimensions:n,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||e.viewport,a=n||e.dimensions,c=t||e.current.client.selection,u=Oo(c,e.initial.client.selection),f={offset:u,selection:c,borderBoxCenter:ei(e.initial.client.borderBoxCenter,u)},h={selection:ei(f.selection,s.scroll.current),borderBoxCenter:ei(f.borderBoxCenter,s.scroll.current),offset:ei(f.offset,s.scroll.diff.value)},p={client:f,page:h};if(e.phase==="COLLECTING")return{...e,dimensions:a,viewport:s,current:p};const y=a.draggables[e.critical.draggable.id],x=i||RQ({pageOffset:h.offset,draggable:y,draggables:a.draggables,droppables:a.droppables,previousImpact:e.impact,viewport:s,afterCritical:e.afterCritical}),v=zPe({draggable:y,impact:x,previousImpact:e.impact,draggables:a.draggables,droppables:a.droppables});return{...e,current:p,dimensions:{draggables:a.draggables,droppables:v},impact:x,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function UPe(e,t){return e.map(n=>t[n])}var IQ=({impact:e,viewport:t,draggables:n,destination:r,forceShouldAnimate:i})=>{const o=e.displaced,s=UPe(o.all,n),a=dx({afterDragging:s,destination:r,displacedBy:e.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:o});return{...e,displaced:a}},MQ=({impact:e,draggable:t,droppable:n,draggables:r,viewport:i,afterCritical:o})=>{const s=bO({impact:e,draggable:t,draggables:r,droppable:n,afterCritical:o});return wM({pageBorderBoxCenter:s,draggable:t,viewport:i})},kQ=({state:e,dimensions:t,viewport:n})=>{e.movementMode!=="SNAP"&&Ue();const r=e.impact,i=n||e.viewport,o=t||e.dimensions,{draggables:s,droppables:a}=o,c=s[e.critical.draggable.id],u=Co(r);u||Ue();const f=a[u],h=IQ({impact:r,viewport:i,destination:f,draggables:s}),p=MQ({impact:h,draggable:c,droppable:f,draggables:s,viewport:i,afterCritical:e.afterCritical});return xb({impact:h,clientSelection:p,state:e,dimensions:o,viewport:i})},VPe=e=>({index:e.index,droppableId:e.droppableId}),PQ=({draggable:e,home:t,draggables:n,viewport:r})=>{const i=Kv(t.axis,e.displaceBy),o=Ny(t.descriptor.id,n),s=o.indexOf(e);s===-1&&Ue();const a=o.slice(s+1),c=a.reduce((p,y)=>(p[y.descriptor.id]=!0,p),{}),u={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:c};return{impact:{displaced:dx({afterDragging:a,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:VPe(e.descriptor)}},afterCritical:u}},qPe=(e,t)=>({draggables:e.draggables,droppables:SM(e.droppables,t)}),HPe=({draggable:e,offset:t,initialWindowScroll:n})=>{const r=IE(e.client,t),i=ME(r,n);return{...e,placeholder:{...e.placeholder,client:r},client:r,page:i}},WPe=e=>{const t=e.frame;return t||Ue(),t},GPe=({additions:e,updatedDroppables:t,viewport:n})=>{const r=n.scroll.diff.value;return e.map(i=>{const o=i.descriptor.droppableId,s=t[o],c=WPe(s).scroll.diff.value,u=ei(r,c);return HPe({draggable:i,offset:u,initialWindowScroll:n.scroll.initial})})},KPe=({state:e,published:t})=>{const n=t.modified.map(N=>{const O=e.dimensions.droppables[N.droppableId];return gM(O,N.scroll)}),r={...e.dimensions.droppables,...bQ(n)},i=xQ(GPe({additions:t.additions,updatedDroppables:r,viewport:e.viewport})),o={...e.dimensions.draggables,...i};t.removals.forEach(N=>{delete o[N]});const s={droppables:r,draggables:o},a=Co(e.impact),c=a?s.droppables[a]:null,u=s.draggables[e.critical.draggable.id],f=s.droppables[e.critical.droppable.id],{impact:h,afterCritical:p}=PQ({draggable:u,home:f,draggables:o,viewport:e.viewport}),y=c&&c.isCombineEnabled?e.impact:h,x=RQ({pageOffset:e.current.page.offset,draggable:s.draggables[e.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:y,viewport:e.viewport,afterCritical:p}),v={...e,phase:"DRAGGING",impact:x,onLiftImpact:h,dimensions:s,afterCritical:p,forceShouldAnimate:!1};return e.phase==="COLLECTING"?v:{...v,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}};const $R=e=>e.movementMode==="SNAP",Rj=(e,t,n)=>{const r=qPe(e.dimensions,t);return!$R(e)||n?xb({state:e,dimensions:r}):kQ({state:e,dimensions:r})};function Ij(e){return e.isDragging&&e.movementMode==="SNAP"?{...e,scrollJumpRequest:null}:e}const F7={phase:"IDLE",completed:null,shouldFlush:!1};var YPe=(e=F7,t)=>{if(t.type==="FLUSH")return{...F7,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&Ue();const{critical:n,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=t.payload,a=o.draggables[n.draggable.id],c=o.droppables[n.droppable.id],u={selection:r,borderBoxCenter:a.client.borderBox.center,offset:Wr},f={client:u,page:{selection:ei(u.selection,i.scroll.initial),borderBoxCenter:ei(u.selection,i.scroll.initial),offset:ei(u.selection,i.scroll.diff.value)}},h=pO(o.droppables).every(v=>!v.isFixedOnPage),{impact:p,afterCritical:y}=PQ({draggable:a,home:c,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:n,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:h,impact:p,afterCritical:y,onLiftImpact:p,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"?e:(e.phase!=="DRAGGING"&&Ue(),{...e,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||Ue(),KPe({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;Mf(e)||Ue();const{client:n}=t.payload;return fd(n,e.current.client.selection)?e:xb({state:e,clientSelection:n,impact:$R(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return Ij(e);Mf(e)||Ue();const{id:n,newScroll:r}=t.payload,i=e.dimensions.droppables[n];if(!i)return e;const o=gM(i,r);return Rj(e,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mf(e)||Ue();const{id:n,isEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Ue(),i.isEnabled===r&&Ue();const o={...i,isEnabled:r};return Rj(e,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;Mf(e)||Ue();const{id:n,isCombineEnabled:r}=t.payload,i=e.dimensions.droppables[n];i||Ue(),i.isCombineEnabled===r&&Ue();const o={...i,isCombineEnabled:r};return Rj(e,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;Mf(e)||Ue(),e.isWindowScrollAllowed||Ue();const n=t.payload.newScroll;if(fd(e.viewport.scroll.current,n))return Ij(e);const r=OQ(e.viewport,n);return $R(e)?kQ({state:e,viewport:r}):xb({state:e,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mf(e))return e;const n=t.payload.maxScroll;if(fd(n,e.viewport.scroll.max))return e;const r={...e.viewport,scroll:{...e.viewport.scroll,max:n}};return{...e,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&Ue();const n=TPe({state:e,type:t.type});return n?xb({state:e,impact:n.impact,clientSelection:n.clientSelection,scrollJumpRequest:n.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){const n=t.payload.reason;return e.phase!=="COLLECTING"&&Ue(),{...e,phase:"DROP_PENDING",isWaiting:!0,reason:n}}if(t.type==="DROP_ANIMATE"){const{completed:n,dropDuration:r,newHomeClientOffset:i}=t.payload;return e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||Ue(),{phase:"DROP_ANIMATING",completed:n,dropDuration:r,newHomeClientOffset:i,dimensions:e.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:n}=t.payload;return{phase:"IDLE",completed:n,shouldFlush:!1}}return e};function Zt(e,t){return e instanceof Object&&"type"in e&&e.type===t}const JPe=e=>({type:"BEFORE_INITIAL_CAPTURE",payload:e}),XPe=e=>({type:"LIFT",payload:e}),QPe=e=>({type:"INITIAL_PUBLISH",payload:e}),ZPe=e=>({type:"PUBLISH_WHILE_DRAGGING",payload:e}),e6e=()=>({type:"COLLECTION_STARTING",payload:null}),t6e=e=>({type:"UPDATE_DROPPABLE_SCROLL",payload:e}),n6e=e=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}),r6e=e=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}),DQ=e=>({type:"MOVE",payload:e}),i6e=e=>({type:"MOVE_BY_WINDOW_SCROLL",payload:e}),o6e=e=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}),s6e=()=>({type:"MOVE_UP",payload:null}),a6e=()=>({type:"MOVE_DOWN",payload:null}),l6e=()=>({type:"MOVE_RIGHT",payload:null}),c6e=()=>({type:"MOVE_LEFT",payload:null}),EM=()=>({type:"FLUSH",payload:null}),u6e=e=>({type:"DROP_ANIMATE",payload:e}),NM=e=>({type:"DROP_COMPLETE",payload:e}),FQ=e=>({type:"DROP",payload:e}),d6e=e=>({type:"DROP_PENDING",payload:e}),LQ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var f6e=e=>({getState:t,dispatch:n})=>r=>i=>{if(!Zt(i,"LIFT")){r(i);return}const{id:o,clientSelection:s,movementMode:a}=i.payload,c=t();c.phase==="DROP_ANIMATING"&&n(NM({completed:c.completed})),t().phase!=="IDLE"&&Ue(),n(EM()),n(JPe({draggableId:o,movementMode:a}));const f={draggableId:o,scrollOptions:{shouldPublishImmediately:a==="SNAP"}},{critical:h,dimensions:p,viewport:y}=e.startPublishing(f);n(QPe({critical:h,dimensions:p,clientSelection:s,movementMode:a,viewport:y}))},h6e=e=>()=>t=>n=>{Zt(n,"INITIAL_PUBLISH")&&e.dragging(),Zt(n,"DROP_ANIMATE")&&e.dropping(n.payload.completed.result.reason),(Zt(n,"FLUSH")||Zt(n,"DROP_COMPLETE"))&&e.resting(),t(n)};const OM={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},fx={opacity:{drop:0,combining:.7},scale:{drop:.75}},BQ={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},$f=`${BQ.outOfTheWay}s ${OM.outOfTheWay}`,vb={fluid:`opacity ${$f}`,snap:`transform ${$f}, opacity ${$f}`,drop:e=>{const t=`${e}s ${OM.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${$f}`,placeholder:`height ${$f}, width ${$f}, margin ${$f}`},L7=e=>fd(e,Wr)?void 0:`translate(${e.x}px, ${e.y}px)`,CR={moveTo:L7,drop:(e,t)=>{const n=L7(e);if(n)return t?`${n} scale(${fx.scale.drop})`:n}},{minDropTime:jR,maxDropTime:zQ}=BQ,m6e=zQ-jR,B7=1500,p6e=.6;var g6e=({current:e,destination:t,reason:n})=>{const r=cx(e,t);if(r<=0)return jR;if(r>=B7)return zQ;const i=r/B7,o=jR+m6e*i,s=n==="CANCEL"?o*p6e:o;return Number(s.toFixed(2))},y6e=({impact:e,draggable:t,dimensions:n,viewport:r,afterCritical:i})=>{const{draggables:o,droppables:s}=n,a=Co(e),c=a?s[a]:null,u=s[t.descriptor.droppableId],f=MQ({impact:e,draggable:t,draggables:o,afterCritical:i,droppable:c||u,viewport:r});return Oo(f,t.client.borderBox.center)},b6e=({draggables:e,reason:t,lastImpact:n,home:r,viewport:i,onLiftImpact:o})=>!n.at||t!=="DROP"?{impact:IQ({draggables:e,impact:o,destination:r,viewport:i,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:n.at.type==="REORDER"?{impact:n,didDropInsideDroppable:!0}:{impact:{...n,displaced:ux},didDropInsideDroppable:!0};const x6e=({getState:e,dispatch:t})=>n=>r=>{if(!Zt(r,"DROP")){n(r);return}const i=e(),o=r.payload.reason;if(i.phase==="COLLECTING"){t(d6e({reason:o}));return}if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&Ue(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||Ue();const a=i.critical,c=i.dimensions,u=c.draggables[i.critical.draggable.id],{impact:f,didDropInsideDroppable:h}=b6e({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),p=h?yM(f):null,y=h?gO(f):null,x={index:a.draggable.index,droppableId:a.droppable.id},v={draggableId:u.descriptor.id,type:u.descriptor.type,source:x,reason:o,mode:i.movementMode,destination:p,combine:y},E=y6e({impact:f,draggable:u,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),N={critical:i.critical,afterCritical:i.afterCritical,result:v,impact:f};if(!(!fd(i.current.client.offset,E)||!!v.combine)){t(NM({completed:N}));return}const _=g6e({current:i.current.client.offset,destination:E,reason:o});t(u6e({newHomeClientOffset:E,dropDuration:_,completed:N}))};var UQ=()=>({x:window.pageXOffset,y:window.pageYOffset});function v6e(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||e()}}}function w6e({onWindowScroll:e}){function t(){e(UQ())}const n=lx(t),r=v6e(n);let i=dd;function o(){return i!==dd}function s(){o()&&Ue(),i=ds(window,[r])}function a(){o()||Ue(),n.cancel(),i(),i=dd}return{start:s,stop:a,isActive:o}}const S6e=e=>Zt(e,"DROP_COMPLETE")||Zt(e,"DROP_ANIMATE")||Zt(e,"FLUSH"),E6e=e=>{const t=w6e({onWindowScroll:n=>{e.dispatch(i6e({newScroll:n}))}});return n=>r=>{!t.isActive()&&Zt(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&S6e(r)&&t.stop(),n(r)}};var N6e=e=>{let t=!1,n=!1;const r=setTimeout(()=>{n=!0}),i=o=>{t||n||(t=!0,e(o),clearTimeout(r))};return i.wasCalled=()=>t,i},O6e=()=>{const e=[],t=i=>{const o=e.findIndex(a=>a.timerId===i);o===-1&&Ue();const[s]=e.splice(o,1);s.callback()};return{add:i=>{const o=setTimeout(()=>t(o)),s={timerId:o,callback:i};e.push(s)},flush:()=>{if(!e.length)return;const i=[...e];e.length=0,i.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const _6e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.droppableId===t.droppableId&&e.index===t.index,$6e=(e,t)=>e==null&&t==null?!0:e==null||t==null?!1:e.draggableId===t.draggableId&&e.droppableId===t.droppableId,C6e=(e,t)=>{if(e===t)return!0;const n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r},L0=(e,t)=>{t()},B1=(e,t)=>({draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t});function Mj(e,t,n,r){if(!e){n(r(t));return}const i=N6e(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}var j6e=(e,t)=>{const n=O6e();let r=null;const i=(h,p)=>{r&&Ue(),L0("onBeforeCapture",()=>{const y=e().onBeforeCapture;y&&y({draggableId:h,mode:p})})},o=(h,p)=>{r&&Ue(),L0("onBeforeDragStart",()=>{const y=e().onBeforeDragStart;y&&y(B1(h,p))})},s=(h,p)=>{r&&Ue();const y=B1(h,p);r={mode:p,lastCritical:h,lastLocation:y.source,lastCombine:null},n.add(()=>{L0("onDragStart",()=>Mj(e().onDragStart,y,t,OS.onDragStart))})},a=(h,p)=>{const y=yM(p),x=gO(p);r||Ue();const v=!C6e(h,r.lastCritical);v&&(r.lastCritical=h);const E=!_6e(r.lastLocation,y);E&&(r.lastLocation=y);const N=!$6e(r.lastCombine,x);if(N&&(r.lastCombine=x),!v&&!E&&!N)return;const O={...B1(h,r.mode),combine:x,destination:y};n.add(()=>{L0("onDragUpdate",()=>Mj(e().onDragUpdate,O,t,OS.onDragUpdate))})},c=()=>{r||Ue(),n.flush()},u=h=>{r||Ue(),r=null,L0("onDragEnd",()=>Mj(e().onDragEnd,h,t,OS.onDragEnd))};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:c,drop:u,abort:()=>{if(!r)return;const h={...B1(r.lastCritical,r.mode),combine:null,destination:null,reason:"CANCEL"};u(h)}}},A6e=(e,t)=>{const n=j6e(e,t);return r=>i=>o=>{if(Zt(o,"BEFORE_INITIAL_CAPTURE")){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(Zt(o,"INITIAL_PUBLISH")){const a=o.payload.critical;n.beforeStart(a,o.payload.movementMode),i(o),n.start(a,o.payload.movementMode);return}if(Zt(o,"DROP_COMPLETE")){const a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),Zt(o,"FLUSH")){n.abort();return}const s=r.getState();s.phase==="DRAGGING"&&n.update(s.critical,s.impact)}};const T6e=e=>t=>n=>{if(!Zt(n,"DROP_ANIMATION_FINISHED")){t(n);return}const r=e.getState();r.phase!=="DROP_ANIMATING"&&Ue(),e.dispatch(NM({completed:r.completed}))},R6e=e=>{let t=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)}return i=>o=>{if((Zt(o,"FLUSH")||Zt(o,"DROP_COMPLETE")||Zt(o,"DROP_ANIMATION_FINISHED"))&&r(),i(o),!Zt(o,"DROP_ANIMATE"))return;const s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){e.getState().phase==="DROP_ANIMATING"&&e.dispatch(LQ())}};n=requestAnimationFrame(()=>{n=null,t=ds(window,[s])})}};var I6e=e=>()=>t=>n=>{(Zt(n,"DROP_COMPLETE")||Zt(n,"FLUSH")||Zt(n,"DROP_ANIMATE"))&&e.stopPublishing(),t(n)},M6e=e=>{let t=!1;return()=>n=>r=>{if(Zt(r,"INITIAL_PUBLISH")){t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),e.tryRestoreFocusRecorded();return}if(n(r),!!t){if(Zt(r,"FLUSH")){t=!1,e.tryRestoreFocusRecorded();return}if(Zt(r,"DROP_COMPLETE")){t=!1;const i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}};const k6e=e=>Zt(e,"DROP_COMPLETE")||Zt(e,"DROP_ANIMATE")||Zt(e,"FLUSH");var P6e=e=>t=>n=>r=>{if(k6e(r)){e.stop(),n(r);return}if(Zt(r,"INITIAL_PUBLISH")){n(r);const i=t.getState();i.phase!=="DRAGGING"&&Ue(),e.start(i);return}n(r),e.scroll(t.getState())};const D6e=e=>t=>n=>{if(t(n),!Zt(n,"PUBLISH_WHILE_DRAGGING"))return;const r=e.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||e.dispatch(FQ({reason:r.reason})))},F6e=iQ;var L6e=({dimensionMarshal:e,focusMarshal:t,styleMarshal:n,getResponders:r,announce:i,autoScroller:o})=>rQ(YPe,F6e(FMe(h6e(n),I6e(e),f6e(e),x6e,T6e,R6e,D6e,P6e(o),E6e,M6e(t),A6e(r,i))));const kj=()=>({additions:{},removals:{},modified:{}});function B6e({registry:e,callbacks:t}){let n=kj(),r=null;const i=()=>{r||(t.collectionStarting(),r=requestAnimationFrame(()=>{r=null;const{additions:c,removals:u,modified:f}=n,h=Object.keys(c).map(x=>e.draggable.getById(x).getDimension(Wr)).sort((x,v)=>x.descriptor.index-v.descriptor.index),p=Object.keys(f).map(x=>{const E=e.droppable.getById(x).callbacks.getScrollWhileDragging();return{droppableId:x,scroll:E}}),y={additions:h,removals:Object.keys(u),modified:p};n=kj(),t.publish(y)}))};return{add:c=>{const u=c.descriptor.id;n.additions[u]=c,n.modified[c.descriptor.droppableId]=!0,n.removals[u]&&delete n.removals[u],i()},remove:c=>{const u=c.descriptor;n.removals[u.id]=!0,n.modified[u.droppableId]=!0,n.additions[u.id]&&delete n.additions[u.id],i()},stop:()=>{r&&(cancelAnimationFrame(r),r=null,n=kj())}}}var VQ=({scrollHeight:e,scrollWidth:t,height:n,width:r})=>{const i=Oo({x:t,y:e},{x:r,y:n});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},qQ=()=>{const e=document.documentElement;return e||Ue(),e},HQ=()=>{const e=qQ();return VQ({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},z6e=()=>{const e=UQ(),t=HQ(),n=e.y,r=e.x,i=qQ(),o=i.clientWidth,s=i.clientHeight,a=r+o,c=n+s;return{frame:ra({top:n,left:r,right:a,bottom:c}),scroll:{initial:e,current:e,max:t,diff:{value:Wr,displacement:Wr}}}},U6e=({critical:e,scrollOptions:t,registry:n})=>{const r=z6e(),i=r.scroll.current,o=e.droppable,s=n.droppable.getAllByType(o.type).map(f=>f.callbacks.getDimensionAndWatchScroll(i,t)),a=n.draggable.getAllByType(e.draggable.type).map(f=>f.getDimension(i));return{dimensions:{draggables:xQ(a),droppables:bQ(s)},critical:e,viewport:r}};function z7(e,t,n){return!(n.descriptor.id===t.id||n.descriptor.type!==t.type||e.droppable.getById(n.descriptor.droppableId).descriptor.mode!=="virtual")}var V6e=(e,t)=>{let n=null;const r=B6e({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=(p,y)=>{e.droppable.exists(p)||Ue(),n&&t.updateDroppableIsEnabled({id:p,isEnabled:y})},o=(p,y)=>{n&&(e.droppable.exists(p)||Ue(),t.updateDroppableIsCombineEnabled({id:p,isCombineEnabled:y}))},s=(p,y)=>{n&&(e.droppable.exists(p)||Ue(),t.updateDroppableScroll({id:p,newScroll:y}))},a=(p,y)=>{n&&e.droppable.getById(p).callbacks.scroll(y)},c=()=>{if(!n)return;r.stop();const p=n.critical.droppable;e.droppable.getAllByType(p.type).forEach(y=>y.callbacks.dragStopped()),n.unsubscribe(),n=null},u=p=>{n||Ue();const y=n.critical.draggable;p.type==="ADDITION"&&z7(e,y,p.value)&&r.add(p.value),p.type==="REMOVAL"&&z7(e,y,p.value)&&r.remove(p.value)};return{updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:p=>{n&&Ue();const y=e.draggable.getById(p.draggableId),x=e.droppable.getById(y.descriptor.droppableId),v={draggable:y.descriptor,droppable:x.descriptor},E=e.subscribe(u);return n={critical:v,unsubscribe:E},U6e({critical:v,registry:e,scrollOptions:p.scrollOptions})},stopPublishing:c}},WQ=(e,t)=>e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP",q6e=e=>{window.scrollBy(e.x,e.y)};const H6e=Vr(e=>pO(e).filter(t=>!(!t.isEnabled||!t.frame))),W6e=(e,t)=>H6e(t).find(r=>(r.frame||Ue(),jQ(r.frame.pageMarginBox)(e)))||null;var G6e=({center:e,destination:t,droppables:n})=>{if(t){const i=n[t];return i.frame?i:null}return W6e(e,n)};const hx={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:e=>e**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var K6e=(e,t,n=()=>hx)=>{const r=n(),i=e[t.size]*r.startFromPercentage,o=e[t.size]*r.maxScrollAtPercentage;return{startScrollingFrom:i,maxScrollValueAt:o}},GQ=({startOfRange:e,endOfRange:t,current:n})=>{const r=t-e;return r===0?0:(n-e)/r},_M=1,Y6e=(e,t,n=()=>hx)=>{const r=n();if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return r.maxPixelScroll;if(e===t.startScrollingFrom)return _M;const o=1-GQ({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),s=r.maxPixelScroll*r.ease(o);return Math.ceil(s)},J6e=(e,t,n)=>{const r=n(),i=r.durationDampening.accelerateAt,o=r.durationDampening.stopDampeningAt,s=t,a=o,u=Date.now()-s;if(u>=o)return e;if(u<i)return _M;const f=GQ({startOfRange:i,endOfRange:a,current:u}),h=e*r.ease(f);return Math.ceil(h)},U7=({distanceToEdge:e,thresholds:t,dragStartTime:n,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=Y6e(e,t,i);return o===0?0:r?Math.max(J6e(o,n,i),_M):o},V7=({container:e,distanceToEdges:t,dragStartTime:n,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=K6e(e,r,o);return t[r.end]<t[r.start]?U7({distanceToEdge:t[r.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*U7({distanceToEdge:t[r.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o})},X6e=({container:e,subject:t,proposedScroll:n})=>{const r=t.height>e.height,i=t.width>e.width;return!i&&!r?n:i&&r?null:{x:i?0:n.x,y:r?0:n.y}};const Q6e=yQ(e=>e===0?0:e);var KQ=({dragStartTime:e,container:t,subject:n,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},a=V7({container:t,distanceToEdges:s,dragStartTime:e,axis:bM,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=V7({container:t,distanceToEdges:s,dragStartTime:e,axis:SQ,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),u=Q6e({x:c,y:a});if(fd(u,Wr))return null;const f=X6e({container:t,subject:n,proposedScroll:u});return f?fd(f,Wr)?null:f:null};const Z6e=yQ(e=>e===0?0:e>0?1:-1),$M=(()=>{const e=(t,n)=>t<0?t:t>n?t-n:0;return({current:t,max:n,change:r})=>{const i=ei(t,r),o={x:e(i.x,n.x),y:e(i.y,n.y)};return fd(o,Wr)?null:o}})(),YQ=({max:e,current:t,change:n})=>{const r={x:Math.max(t.x,e.x),y:Math.max(t.y,e.y)},i=Z6e(n),o=$M({max:r,current:t,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},CM=(e,t)=>YQ({current:e.scroll.current,max:e.scroll.max,change:t}),eDe=(e,t)=>{if(!CM(e,t))return null;const n=e.scroll.max,r=e.scroll.current;return $M({current:r,max:n,change:t})},jM=(e,t)=>{const n=e.frame;return n?YQ({current:n.scroll.current,max:n.scroll.max,change:t}):!1},tDe=(e,t)=>{const n=e.frame;return!n||!jM(e,t)?null:$M({current:n.scroll.current,max:n.scroll.max,change:t})};var nDe=({viewport:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=KQ({dragStartTime:r,container:e.frame,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return s&&CM(e,s)?s:null},rDe=({droppable:e,subject:t,center:n,dragStartTime:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=e.frame;if(!s)return null;const a=KQ({dragStartTime:r,container:s.pageMarginBox,subject:t,center:n,shouldUseTimeDampening:i,getAutoScrollerOptions:o});return a&&jM(e,a)?a:null},q7=({state:e,dragStartTime:t,shouldUseTimeDampening:n,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=e.current.page.borderBoxCenter,c=e.dimensions.draggables[e.critical.draggable.id].page.marginBox;if(e.isWindowScrollAllowed){const h=e.viewport,p=nDe({dragStartTime:t,viewport:h,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});if(p){r(p);return}}const u=G6e({center:s,destination:Co(e.impact),droppables:e.dimensions.droppables});if(!u)return;const f=rDe({dragStartTime:t,droppable:u,subject:c,center:s,shouldUseTimeDampening:n,getAutoScrollerOptions:o});f&&i(u.descriptor.id,f)},iDe=({scrollWindow:e,scrollDroppable:t,getAutoScrollerOptions:n=()=>hx})=>{const r=lx(e),i=lx(t);let o=null;const s=u=>{o||Ue();const{shouldUseTimeDampening:f,dragStartTime:h}=o;q7({state:u,scrollWindow:r,scrollDroppable:i,dragStartTime:h,shouldUseTimeDampening:f,getAutoScrollerOptions:n})};return{start:u=>{o&&Ue();const f=Date.now();let h=!1;const p=()=>{h=!0};q7({state:u,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:p,scrollDroppable:p,getAutoScrollerOptions:n}),o={dragStartTime:f,shouldUseTimeDampening:h},h&&s(u)},stop:()=>{o&&(r.cancel(),i.cancel(),o=null)},scroll:s}},oDe=({move:e,scrollDroppable:t,scrollWindow:n})=>{const r=(a,c)=>{const u=ei(a.current.client.selection,c);e({client:u})},i=(a,c)=>{if(!jM(a,c))return c;const u=tDe(a,c);if(!u)return t(a.descriptor.id,c),null;const f=Oo(c,u);return t(a.descriptor.id,f),Oo(c,f)},o=(a,c,u)=>{if(!a||!CM(c,u))return u;const f=eDe(c,u);if(!f)return n(u),null;const h=Oo(u,f);return n(h),Oo(u,h)};return a=>{const c=a.scrollJumpRequest;if(!c)return;const u=Co(a.impact);u||Ue();const f=i(a.dimensions.droppables[u],c);if(!f)return;const h=a.viewport,p=o(a.isWindowScrollAllowed,h,f);p&&r(a,p)}},sDe=({scrollDroppable:e,scrollWindow:t,move:n,getAutoScrollerOptions:r})=>{const i=iDe({scrollWindow:t,scrollDroppable:e,getAutoScrollerOptions:r}),o=oDe({move:n,scrollWindow:t,scrollDroppable:e});return{scroll:c=>{if(!(r().disabled||c.phase!=="DRAGGING")){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},start:i.start,stop:i.stop}};const _g="data-rfd",$g=(()=>{const e=`${_g}-drag-handle`;return{base:e,draggableId:`${e}-draggable-id`,contextId:`${e}-context-id`}})(),AR=(()=>{const e=`${_g}-draggable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),aDe=(()=>{const e=`${_g}-droppable`;return{base:e,contextId:`${e}-context-id`,id:`${e}-id`}})(),H7={contextId:`${_g}-scroll-container-context-id`},lDe=e=>t=>`[${t}="${e}"]`,B0=(e,t)=>e.map(n=>{const r=n.styles[t];return r?`${n.selector} { ${r} }`:""}).join(" "),cDe="pointer-events: none;";var uDe=e=>{const t=lDe(e),n=(()=>{const a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t($g.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:cDe,dropAnimating:a}}})(),r=(()=>{const a=`
      transition: ${vb.outOfTheWay};
    `;return{selector:t(AR.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}})(),i={selector:t(aDe.contextId),styles:{always:"overflow-anchor: none;"}},s=[r,n,i,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:B0(s,"always"),resting:B0(s,"resting"),dragging:B0(s,"dragging"),dropAnimating:B0(s,"dropAnimating"),userCancel:B0(s,"userCancel")}};const jo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?w.useLayoutEffect:w.useEffect,Pj=()=>{const e=document.querySelector("head");return e||Ue(),e},W7=e=>{const t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};function dDe(e,t){const n=Pt(()=>uDe(e),[e]),r=w.useRef(null),i=w.useRef(null),o=it(Vr(h=>{const p=i.current;p||Ue(),p.textContent=h}),[]),s=it(h=>{const p=r.current;p||Ue(),p.textContent=h},[]);jo(()=>{!r.current&&!i.current||Ue();const h=W7(t),p=W7(t);return r.current=h,i.current=p,h.setAttribute(`${_g}-always`,e),p.setAttribute(`${_g}-dynamic`,e),Pj().appendChild(h),Pj().appendChild(p),s(n.always),o(n.resting),()=>{const y=x=>{const v=x.current;v||Ue(),Pj().removeChild(v),x.current=null};y(r),y(i)}},[t,s,o,n.always,n.resting,e]);const a=it(()=>o(n.dragging),[o,n.dragging]),c=it(h=>{if(h==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),u=it(()=>{i.current&&o(n.resting)},[o,n.resting]);return Pt(()=>({dragging:a,dropping:c,resting:u}),[a,c,u])}function JQ(e,t){return Array.from(e.querySelectorAll(t))}var XQ=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window;function xO(e){return e instanceof XQ(e).HTMLElement}function fDe(e,t){const n=`[${$g.contextId}="${e}"]`,r=JQ(document,n);if(!r.length)return null;const i=r.find(o=>o.getAttribute($g.draggableId)===t);return!i||!xO(i)?null:i}function hDe(e){const t=w.useRef({}),n=w.useRef(null),r=w.useRef(null),i=w.useRef(!1),o=it(function(p,y){const x={id:p,focus:y};return t.current[p]=x,function(){const E=t.current;E[p]!==x&&delete E[p]}},[]),s=it(function(p){const y=fDe(e,p);y&&y!==document.activeElement&&y.focus()},[e]),a=it(function(p,y){n.current===p&&(n.current=y)},[]),c=it(function(){r.current||i.current&&(r.current=requestAnimationFrame(()=>{r.current=null;const p=n.current;p&&s(p)}))},[s]),u=it(function(p){n.current=null;const y=document.activeElement;y&&y.getAttribute($g.draggableId)===p&&(n.current=p)},[]);return jo(()=>(i.current=!0,function(){i.current=!1;const p=r.current;p&&cancelAnimationFrame(p)}),[]),Pt(()=>({register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:a}),[o,u,c,a])}function mDe(){const e={draggables:{},droppables:{}},t=[];function n(h){return t.push(h),function(){const y=t.indexOf(h);y!==-1&&t.splice(y,1)}}function r(h){t.length&&t.forEach(p=>p(h))}function i(h){return e.draggables[h]||null}function o(h){const p=i(h);return p||Ue(),p}const s={register:h=>{e.draggables[h.descriptor.id]=h,r({type:"ADDITION",value:h})},update:(h,p)=>{const y=e.draggables[p.descriptor.id];y&&y.uniqueId===h.uniqueId&&(delete e.draggables[p.descriptor.id],e.draggables[h.descriptor.id]=h)},unregister:h=>{const p=h.descriptor.id,y=i(p);y&&h.uniqueId===y.uniqueId&&(delete e.draggables[p],e.droppables[h.descriptor.droppableId]&&r({type:"REMOVAL",value:h}))},getById:o,findById:i,exists:h=>!!i(h),getAllByType:h=>Object.values(e.draggables).filter(p=>p.descriptor.type===h)};function a(h){return e.droppables[h]||null}function c(h){const p=a(h);return p||Ue(),p}const u={register:h=>{e.droppables[h.descriptor.id]=h},unregister:h=>{const p=a(h.descriptor.id);p&&h.uniqueId===p.uniqueId&&delete e.droppables[h.descriptor.id]},getById:c,findById:a,exists:h=>!!a(h),getAllByType:h=>Object.values(e.droppables).filter(p=>p.descriptor.type===h)};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:n,clean:f}}function pDe(){const e=Pt(mDe,[]);return w.useEffect(()=>function(){e.clean()},[e]),e}var AM=De.createContext(null),FE=()=>{const e=document.body;return e||Ue(),e};const gDe={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},yDe=e=>`rfd-announcement-${e}`;function bDe(e){const t=Pt(()=>yDe(e),[e]),n=w.useRef(null);return w.useEffect(function(){const o=document.createElement("div");return n.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),ag(o.style,gDe),FE().appendChild(o),function(){setTimeout(function(){const c=FE();c.contains(o)&&c.removeChild(o),o===n.current&&(n.current=null)})}},[t]),it(i=>{const o=n.current;if(o){o.textContent=i;return}},[])}const xDe={separator:"::"};function TM(e,t=xDe){const n=De.useId();return Pt(()=>`${e}${t.separator}${n}`,[t.separator,e,n])}function vDe({contextId:e,uniqueId:t}){return`rfd-hidden-text-${e}-${t}`}function wDe({contextId:e,text:t}){const n=TM("hidden-text",{separator:"-"}),r=Pt(()=>vDe({contextId:e,uniqueId:n}),[n,e]);return w.useEffect(function(){const o=document.createElement("div");return o.id=r,o.textContent=t,o.style.display="none",FE().appendChild(o),function(){const a=FE();a.contains(o)&&a.removeChild(o)}},[r,t]),r}var vO=De.createContext(null);function QQ(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),t}function SDe(){let e=null;function t(){return!!e}function n(s){return s===e}function r(s){e&&Ue();const a={abandon:s};return e=a,a}function i(){e||Ue(),e=null}function o(){e&&(e.abandon(),i())}return{isClaimed:t,isActive:n,claim:r,release:i,tryAbandon:o}}function mx(e){return e.phase==="IDLE"||e.phase==="DROP_ANIMATING"?!1:e.isDragging}const EDe=9,NDe=13,RM=27,ZQ=32,ODe=33,_De=34,$De=35,CDe=36,jDe=37,ADe=38,TDe=39,RDe=40,IDe={[NDe]:!0,[EDe]:!0};var eZ=e=>{IDe[e.keyCode]&&e.preventDefault()};const wO=(()=>{const e="visibilitychange";return typeof document>"u"?e:[e,`ms${e}`,`webkit${e}`,`moz${e}`,`o${e}`].find(r=>`on${r}`in document)||e})(),tZ=0,G7=5;function MDe(e,t){return Math.abs(t.x-e.x)>=G7||Math.abs(t.y-e.y)>=G7}const K7={type:"IDLE"};function kDe({cancel:e,completed:t,getPhase:n,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:a}=i;if(o!==tZ)return;const c={x:s,y:a},u=n();if(u.type==="DRAGGING"){i.preventDefault(),u.actions.move(c);return}u.type!=="PENDING"&&Ue();const f=u.point;if(!MDe(f,c))return;i.preventDefault();const h=u.actions.fluidLift(c);r({type:"DRAGGING",actions:h})}},{eventName:"mouseup",fn:i=>{const o=n();if(o.type!=="DRAGGING"){e();return}i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:i=>{n().type==="DRAGGING"&&i.preventDefault(),e()}},{eventName:"keydown",fn:i=>{if(n().type==="PENDING"){e();return}if(i.keyCode===RM){i.preventDefault(),e();return}eZ(i)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{n().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=n();if(o.type==="IDLE"&&Ue(),o.actions.shouldRespectForcePress()){e();return}i.preventDefault()}},{eventName:wO,fn:e}]}function PDe(e){const t=w.useRef(K7),n=w.useRef(dd),r=Pt(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==tZ||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const p=e.findClosestDraggableId(h);if(!p)return;const y=e.tryGetLock(p,s,{sourceEvent:h});if(!y)return;h.preventDefault();const x={x:h.clientX,y:h.clientY};n.current(),u(y,x)}}),[e]),i=Pt(()=>({eventName:"webkitmouseforcewillbegin",fn:f=>{if(f.defaultPrevented)return;const h=e.findClosestDraggableId(f);if(!h)return;const p=e.findOptionsForDraggable(h);p&&(p.shouldRespectForcePress||e.canGetLock(h)&&f.preventDefault())}}),[e]),o=it(function(){const h={passive:!1,capture:!0};n.current=ds(window,[i,r],h)},[i,r]),s=it(()=>{t.current.type!=="IDLE"&&(t.current=K7,n.current(),o())},[o]),a=it(()=>{const f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=it(function(){const h={capture:!0,passive:!1},p=kDe({cancel:a,completed:s,getPhase:()=>t.current,setPhase:y=>{t.current=y}});n.current=ds(window,p,h)},[a,s]),u=it(function(h,p){t.current.type!=="IDLE"&&Ue(),t.current={type:"PENDING",point:p,actions:h},c()},[c]);jo(function(){return o(),function(){n.current()}},[o])}function DDe(){}const FDe={[_De]:!0,[ODe]:!0,[CDe]:!0,[$De]:!0};function LDe(e,t){function n(){t(),e.cancel()}function r(){t(),e.drop()}return[{eventName:"keydown",fn:i=>{if(i.keyCode===RM){i.preventDefault(),n();return}if(i.keyCode===ZQ){i.preventDefault(),r();return}if(i.keyCode===RDe){i.preventDefault(),e.moveDown();return}if(i.keyCode===ADe){i.preventDefault(),e.moveUp();return}if(i.keyCode===TDe){i.preventDefault(),e.moveRight();return}if(i.keyCode===jDe){i.preventDefault(),e.moveLeft();return}if(FDe[i.keyCode]){i.preventDefault();return}eZ(i)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:wO,fn:n}]}function BDe(e){const t=w.useRef(DDe),n=Pt(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==ZQ)return;const s=e.findClosestDraggableId(o);if(!s)return;const a=e.tryGetLock(s,f,{sourceEvent:o});if(!a)return;o.preventDefault();let c=!0;const u=a.snapLift();t.current();function f(){c||Ue(),c=!1,t.current(),r()}t.current=ds(window,LDe(u,f),{capture:!0,passive:!1})}}),[e]),r=it(function(){const o={passive:!1,capture:!0};t.current=ds(window,[n],o)},[n]);jo(function(){return r(),function(){t.current()}},[r])}const Dj={type:"IDLE"},zDe=120,UDe=.15;function VDe({cancel:e,getPhase:t}){return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:n=>{n.preventDefault()}},{eventName:"keydown",fn:n=>{if(t().type!=="DRAGGING"){e();return}n.keyCode===RM&&n.preventDefault(),e()}},{eventName:wO,fn:e}]}function qDe({cancel:e,completed:t,getPhase:n}){return[{eventName:"touchmove",options:{capture:!1},fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}i.hasMoved=!0;const{clientX:o,clientY:s}=r.touches[0],a={x:o,y:s};r.preventDefault(),i.actions.move(a)}},{eventName:"touchend",fn:r=>{const i=n();if(i.type!=="DRAGGING"){e();return}r.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:r=>{if(n().type!=="DRAGGING"){e();return}r.preventDefault(),e()}},{eventName:"touchforcechange",fn:r=>{const i=n();i.type==="IDLE"&&Ue();const o=r.touches[0];if(!o||!(o.force>=UDe))return;const a=i.actions.shouldRespectForcePress();if(i.type==="PENDING"){a&&e();return}if(a){if(i.hasMoved){r.preventDefault();return}e();return}r.preventDefault()}},{eventName:wO,fn:e}]}function HDe(e){const t=w.useRef(Dj),n=w.useRef(dd),r=it(function(){return t.current},[]),i=it(function(y){t.current=y},[]),o=Pt(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const x=e.findClosestDraggableId(y);if(!x)return;const v=e.tryGetLock(x,a,{sourceEvent:y});if(!v)return;const E=y.touches[0],{clientX:N,clientY:O}=E,_={x:N,y:O};n.current(),h(v,_)}}),[e]),s=it(function(){const y={capture:!0,passive:!1};n.current=ds(window,[o],y)},[o]),a=it(()=>{const p=t.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(Dj),n.current(),s())},[s,i]),c=it(()=>{const p=t.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),u=it(function(){const y={capture:!0,passive:!1},x={cancel:c,completed:a,getPhase:r},v=ds(window,qDe(x),y),E=ds(window,VDe(x),y);n.current=function(){v(),E()}},[c,r,a]),f=it(function(){const y=r();y.type!=="PENDING"&&Ue();const x=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:x,hasMoved:!1})},[r,i]),h=it(function(y,x){r().type!=="IDLE"&&Ue();const v=setTimeout(f,zDe);i({type:"PENDING",point:x,actions:y,longPressTimerId:v}),u()},[u,r,i,f]);jo(function(){return s(),function(){n.current();const x=r();x.type==="PENDING"&&(clearTimeout(x.longPressTimerId),i(Dj))}},[r,s,i]),jo(function(){return ds(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const WDe=["input","button","textarea","select","option","optgroup","video","audio"];function nZ(e,t){if(t==null)return!1;if(WDe.includes(t.tagName.toLowerCase()))return!0;const r=t.getAttribute("contenteditable");return r==="true"||r===""?!0:t===e?!1:nZ(e,t.parentElement)}function GDe(e,t){const n=t.target;return xO(n)?nZ(e,n):!1}var KDe=e=>ra(e.getBoundingClientRect()).center;function YDe(e){return e instanceof XQ(e).Element}const JDe=(()=>{const e="matches";return typeof document>"u"?e:[e,"msMatchesSelector","webkitMatchesSelector"].find(r=>r in Element.prototype)||e})();function rZ(e,t){return e==null?null:e[JDe](t)?e:rZ(e.parentElement,t)}function XDe(e,t){return e.closest?e.closest(t):rZ(e,t)}function QDe(e){return`[${$g.contextId}="${e}"]`}function ZDe(e,t){const n=t.target;if(!YDe(n))return null;const r=QDe(e),i=XDe(n,r);return!i||!xO(i)?null:i}function e9e(e,t){const n=ZDe(e,t);return n?n.getAttribute($g.draggableId):null}function t9e(e,t){const n=`[${AR.contextId}="${e}"]`,i=JQ(document,n).find(o=>o.getAttribute(AR.id)===t);return!i||!xO(i)?null:i}function n9e(e){e.preventDefault()}function z1({expected:e,phase:t,isLockActive:n,shouldWarn:r}){return!(!n()||e!==t)}function iZ({lockAPI:e,store:t,registry:n,draggableId:r}){if(e.isClaimed())return!1;const i=n.draggable.findById(r);return!(!i||!i.options.isEnabled||!WQ(t.getState(),r))}function r9e({lockAPI:e,contextId:t,store:n,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!iZ({lockAPI:e,store:n,registry:r,draggableId:i}))return null;const c=r.draggable.getById(i),u=t9e(t,c.descriptor.id);if(!u||s&&!c.options.canDragInteractiveElements&&GDe(u,s))return null;const f=e.claim(o||dd);let h="PRE_DRAG";function p(){return c.options.shouldRespectForcePress}function y(){return e.isActive(f)}function x(j,A){z1({expected:j,phase:h,isLockActive:y,shouldWarn:!0})&&n.dispatch(A())}const v=x.bind(null,"DRAGGING");function E(j){function A(){e.release(),h="COMPLETED"}h!=="PRE_DRAG"&&(A(),Ue()),n.dispatch(XPe(j.liftActionArgs)),h="DRAGGING";function R(I,P={shouldBlockNextClick:!1}){if(j.cleanup(),P.shouldBlockNextClick){const z=ds(window,[{eventName:"click",fn:n9e,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}A(),n.dispatch(FQ({reason:I}))}return{isActive:()=>z1({expected:"DRAGGING",phase:h,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,drop:I=>R("DROP",I),cancel:I=>R("CANCEL",I),...j.actions}}function N(j){const A=lx(I=>{v(()=>DQ({client:I}))});return{...E({liftActionArgs:{id:i,clientSelection:j,movementMode:"FLUID"},cleanup:()=>A.cancel(),actions:{move:A}}),move:A}}function O(){const j={moveUp:()=>v(s6e),moveRight:()=>v(l6e),moveDown:()=>v(a6e),moveLeft:()=>v(c6e)};return E({liftActionArgs:{id:i,clientSelection:KDe(u),movementMode:"SNAP"},cleanup:dd,actions:j})}function _(){z1({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!0})&&e.release()}return{isActive:()=>z1({expected:"PRE_DRAG",phase:h,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:p,fluidLift:N,snapLift:O,abort:_}}const i9e=[PDe,BDe,HDe];function o9e({contextId:e,store:t,registry:n,customSensors:r,enableDefaultSensors:i}){const o=[...i?i9e:[],...r||[]],s=w.useState(()=>SDe())[0],a=it(function(E,N){mx(E)&&!mx(N)&&s.tryAbandon()},[s]);jo(function(){let E=t.getState();return t.subscribe(()=>{const O=t.getState();a(E,O),E=O})},[s,t,a]),jo(()=>s.tryAbandon,[s.tryAbandon]);const c=it(v=>iZ({lockAPI:s,registry:n,store:t,draggableId:v}),[s,n,t]),u=it((v,E,N)=>r9e({lockAPI:s,registry:n,contextId:e,store:t,draggableId:v,forceSensorStop:E||null,sourceEvent:N&&N.sourceEvent?N.sourceEvent:null}),[e,s,n,t]),f=it(v=>e9e(e,v),[e]),h=it(v=>{const E=n.draggable.findById(v);return E?E.options:null},[n.draggable]),p=it(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(EM()))},[s,t]),y=it(()=>s.isClaimed(),[s]),x=Pt(()=>({canGetLock:c,tryGetLock:u,findClosestDraggableId:f,findOptionsForDraggable:h,tryReleaseLock:p,isLockClaimed:y}),[c,u,f,h,p,y]);for(let v=0;v<o.length;v++)o[v](x)}const s9e=e=>({onBeforeCapture:t=>{const n=()=>{e.onBeforeCapture&&e.onBeforeCapture(t)};Bx.flushSync(n)},onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}),a9e=e=>({...hx,...e.autoScrollerOptions,durationDampening:{...hx.durationDampening,...e.autoScrollerOptions}});function z0(e){return e.current||Ue(),e.current}function l9e(e){const{contextId:t,setCallbacks:n,sensors:r,nonce:i,dragHandleUsageInstructions:o}=e,s=w.useRef(null),a=QQ(e),c=it(()=>s9e(a.current),[a]),u=it(()=>a9e(a.current),[a]),f=bDe(t),h=wDe({contextId:t,text:o}),p=dDe(t,i),y=it(z=>{z0(s).dispatch(z)},[]),x=Pt(()=>v7({publishWhileDragging:ZPe,updateDroppableScroll:t6e,updateDroppableIsEnabled:n6e,updateDroppableIsCombineEnabled:r6e,collectionStarting:e6e},y),[y]),v=pDe(),E=Pt(()=>V6e(v,x),[v,x]),N=Pt(()=>sDe({scrollWindow:q6e,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:u,...v7({move:DQ},y)}),[E.scrollDroppable,y,u]),O=hDe(t),_=Pt(()=>L6e({announce:f,autoScroller:N,dimensionMarshal:E,focusMarshal:O,getResponders:c,styleMarshal:p}),[f,N,E,O,c,p]);s.current=_;const C=it(()=>{const z=z0(s);z.getState().phase!=="IDLE"&&z.dispatch(EM())},[]),j=it(()=>{const z=z0(s).getState();return z.phase==="DROP_ANIMATING"?!0:z.phase==="IDLE"?!1:z.isDragging},[]),A=Pt(()=>({isDragging:j,tryAbort:C}),[j,C]);n(A);const R=it(z=>WQ(z0(s).getState(),z),[]),I=it(()=>Mf(z0(s).getState()),[]),P=Pt(()=>({marshal:E,focus:O,contextId:t,canLift:R,isMovementAllowed:I,dragHandleUsageInstructionsId:h,registry:v}),[t,E,h,O,R,I,v]);return o9e({contextId:t,store:_,registry:v,customSensors:r||null,enableDefaultSensors:e.enableDefaultSensors!==!1}),w.useEffect(()=>C,[C]),De.createElement(vO.Provider,{value:P},De.createElement(Ike,{context:AM,store:_},e.children))}function c9e(){return De.useId()}function u9e(e){const t=c9e(),n=e.dragHandleUsageInstructions||OS.dragHandleUsageInstructions;return De.createElement(Bke,null,r=>De.createElement(l9e,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd,autoScrollerOptions:e.autoScrollerOptions},e.children))}const Y7={dragging:5e3,dropAnimating:4500},d9e=(e,t)=>t?vb.drop(t.duration):e?vb.snap:vb.fluid,f9e=(e,t)=>{if(e)return t?fx.opacity.drop:fx.opacity.combining},h9e=e=>e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP";function m9e(e){const n=e.dimension.client,{offset:r,combineWith:i,dropping:o}=e,s=!!i,a=h9e(e),c=!!o,u=c?CR.drop(r,s):CR.moveTo(r);return{position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:d9e(a,o),transform:u,opacity:f9e(s,c),zIndex:c?Y7.dropAnimating:Y7.dragging,pointerEvents:"none"}}function p9e(e){return{transform:CR.moveTo(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}function g9e(e){return e.type==="DRAGGING"?m9e(e):p9e(e)}function y9e(e,t,n=Wr){const r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=dQ(i,r),s=ME(o,n),a={client:o,tagName:t.tagName.toLowerCase(),display:r.display},c={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:e,placeholder:a,displaceBy:c,client:o,page:s}}function b9e(e){const t=TM("draggable"),{descriptor:n,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}=e,c=Pt(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}),[o,a,s]),u=it(y=>{const x=i();return x||Ue(),y9e(n,x,y)},[n,i]),f=Pt(()=>({uniqueId:t,descriptor:n,options:c,getDimension:u}),[n,u,c,t]),h=w.useRef(f),p=w.useRef(!0);jo(()=>(r.draggable.register(h.current),()=>r.draggable.unregister(h.current)),[r.draggable]),jo(()=>{if(p.current){p.current=!1;return}const y=h.current;h.current=f,r.draggable.update(f,y)},[f,r.draggable])}var IM=De.createContext(null);function LE(e){const t=w.useContext(e);return t||Ue(),t}function x9e(e){e.preventDefault()}const v9e=e=>{const t=w.useRef(null),n=it((A=null)=>{t.current=A},[]),r=it(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=LE(vO),{type:a,droppableId:c}=LE(IM),u=Pt(()=>({id:e.draggableId,index:e.index,type:a,droppableId:c}),[e.draggableId,e.index,a,c]),{children:f,draggableId:h,isEnabled:p,shouldRespectForcePress:y,canDragInteractiveElements:x,isClone:v,mapped:E,dropAnimationFinished:N}=e;if(!v){const A=Pt(()=>({descriptor:u,registry:s,getDraggableRef:r,canDragInteractiveElements:x,shouldRespectForcePress:y,isEnabled:p}),[u,s,r,x,y,p]);b9e(A)}const O=Pt(()=>p?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":h,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:x9e}:null,[i,o,h,p]),_=it(A=>{E.type==="DRAGGING"&&E.dropping&&A.propertyName==="transform"&&Bx.flushSync(N)},[N,E]),C=Pt(()=>{const A=g9e(E),R=E.type==="DRAGGING"&&E.dropping?_:void 0;return{innerRef:n,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":h,style:A,onTransitionEnd:R},dragHandleProps:O}},[i,O,h,E,_,n]),j=Pt(()=>({draggableId:u.id,type:u.type,source:{index:u.index,droppableId:u.droppableId}}),[u.droppableId,u.id,u.index,u.type]);return De.createElement(De.Fragment,null,f(C,E.snapshot,j))};var oZ=(e,t)=>e===t,sZ=e=>{const{combine:t,destination:n}=e;return n?n.droppableId:t?t.droppableId:null};const w9e=e=>e.combine?e.combine.draggableId:null,S9e=e=>e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null;function E9e(){const e=Vr((i,o)=>({x:i,y:o})),t=Vr((i,o,s=null,a=null,c=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!c,dropAnimation:c,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null})),n=Vr((i,o,s,a,c=null,u=null,f=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:o,offset:i,dimension:s,forceShouldAnimate:f,snapshot:t(o,a,c,u,null)}}));return(i,o)=>{if(mx(i)){if(i.critical.draggable.id!==o.draggableId)return null;const s=i.current.client.offset,a=i.dimensions.draggables[o.draggableId],c=Co(i.impact),u=S9e(i.impact),f=i.forceShouldAnimate;return n(e(s.x,s.y),i.movementMode,a,o.isClone,c,u,f)}if(i.phase==="DROP_ANIMATING"){const s=i.completed;if(s.result.draggableId!==o.draggableId)return null;const a=o.isClone,c=i.dimensions.draggables[o.draggableId],u=s.result,f=u.mode,h=sZ(u),p=w9e(u),x={duration:i.dropDuration,curve:OM.drop,moveTo:i.newHomeClientOffset,opacity:p?fx.opacity.drop:null,scale:p?fx.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:c,dropping:x,draggingOver:h,combineWith:p,mode:f,forceShouldAnimate:null,snapshot:t(f,a,h,p,x)}}}return null}}function aZ(e=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}const N9e={mapped:{type:"SECONDARY",offset:Wr,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:aZ(null)}};function O9e(){const e=Vr((s,a)=>({x:s,y:a})),t=Vr(aZ),n=Vr((s,a=null,c)=>({mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:c,snapshot:t(a)}})),r=s=>s?n(Wr,s,!0):null,i=(s,a,c,u)=>{const f=c.displaced.visible[s],h=!!(u.inVirtualList&&u.effected[s]),p=gO(c),y=p&&p.draggableId===s?a:null;if(!f){if(!h)return r(y);if(c.displaced.invisible[s])return null;const E=Ey(u.displacedBy.point),N=e(E.x,E.y);return n(N,y,!0)}if(h)return r(y);const x=c.displacedBy.point,v=e(x.x,x.y);return n(v,y,f.shouldAnimate)};return(s,a)=>{if(mx(s))return s.critical.draggable.id===a.draggableId?null:i(a.draggableId,s.critical.draggable.id,s.impact,s.afterCritical);if(s.phase==="DROP_ANIMATING"){const c=s.completed;return c.result.draggableId===a.draggableId?null:i(a.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null}}const _9e=()=>{const e=E9e(),t=O9e();return(r,i)=>e(r,i)||t(r,i)||N9e},$9e={dropAnimationFinished:LQ},C9e=uQ(_9e,$9e,null,{context:AM,areStatePropsEqual:oZ})(v9e);function lZ(e){return LE(IM).isUsingCloneFor===e.draggableId&&!e.isClone?null:De.createElement(C9e,e)}function j9e(e){const t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,n=!!e.disableInteractiveElementBlocking,r=!!e.shouldRespectForcePress;return De.createElement(lZ,ag({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}const cZ=e=>t=>e===t,A9e=cZ("scroll"),T9e=cZ("auto"),J7=(e,t)=>t(e.overflowX)||t(e.overflowY),R9e=e=>{const t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return J7(n,A9e)||J7(n,T9e)},I9e=()=>!1,uZ=e=>e==null?null:e===document.body?I9e()?e:null:e===document.documentElement?null:R9e(e)?e:uZ(e.parentElement);var TR=e=>({x:e.scrollLeft,y:e.scrollTop});const dZ=e=>e?window.getComputedStyle(e).position==="fixed"?!0:dZ(e.parentElement):!1;var M9e=e=>{const t=uZ(e),n=dZ(e);return{closestScrollable:t,isFixedOnPage:n}},k9e=({descriptor:e,isEnabled:t,isCombineEnabled:n,isFixedOnPage:r,direction:i,client:o,page:s,closest:a})=>{const c=(()=>{if(!a)return null;const{scrollSize:p,client:y}=a,x=VQ({scrollHeight:p.scrollHeight,scrollWidth:p.scrollWidth,height:y.paddingBox.height,width:y.paddingBox.width});return{pageMarginBox:a.page.marginBox,frameClient:y,scrollSize:p,shouldClipSubject:a.shouldClipSubject,scroll:{initial:a.scroll,current:a.scroll,max:x,diff:{value:Wr,displacement:Wr}}}})(),u=i==="vertical"?bM:SQ,f=Og({page:s,withPlaceholder:null,axis:u,frame:c});return{descriptor:e,isCombineEnabled:n,isFixedOnPage:r,axis:u,isEnabled:t,client:o,page:s,frame:c,subject:f}};const P9e=(e,t)=>{const n=fQ(e);if(!t||e!==t)return n;const r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,s=i+t.scrollWidth,c=mM({top:r,right:s,bottom:o,left:i},n.border);return pM({borderBox:c,margin:n.margin,border:n.border,padding:n.padding})};var D9e=({ref:e,descriptor:t,env:n,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:a})=>{const c=n.closestScrollable,u=P9e(e,c),f=ME(u,r),h=(()=>{if(!c)return null;const y=fQ(c),x={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:y,page:ME(y,r),scroll:TR(c),scrollSize:x,shouldClipSubject:a}})();return k9e({descriptor:t,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:n.isFixedOnPage,direction:i,client:u,page:f,closest:h})};const F9e={passive:!1},L9e={passive:!0};var X7=e=>e.shouldPublishImmediately?F9e:L9e;const U1=e=>e&&e.env.closestScrollable||null;function B9e(e){const t=w.useRef(null),n=LE(vO),r=TM("droppable"),{registry:i,marshal:o}=n,s=QQ(e),a=Pt(()=>({id:e.droppableId,type:e.type,mode:e.mode}),[e.droppableId,e.mode,e.type]),c=w.useRef(a),u=Pt(()=>Vr((C,j)=>{t.current||Ue();const A={x:C,y:j};o.updateDroppableScroll(a.id,A)}),[a.id,o]),f=it(()=>{const C=t.current;return!C||!C.env.closestScrollable?Wr:TR(C.env.closestScrollable)},[]),h=it(()=>{const C=f();u(C.x,C.y)},[f,u]),p=Pt(()=>lx(h),[h]),y=it(()=>{const C=t.current,j=U1(C);if(C&&j||Ue(),C.scrollOptions.shouldPublishImmediately){h();return}p()},[p,h]),x=it((C,j)=>{t.current&&Ue();const A=s.current,R=A.getDroppableRef();R||Ue();const I=M9e(R),P={ref:R,descriptor:a,env:I,scrollOptions:j};t.current=P;const z=D9e({ref:R,descriptor:a,env:I,windowScroll:C,direction:A.direction,isDropDisabled:A.isDropDisabled,isCombineEnabled:A.isCombineEnabled,shouldClipSubject:!A.ignoreContainerClipping}),B=I.closestScrollable;return B&&(B.setAttribute(H7.contextId,n.contextId),B.addEventListener("scroll",y,X7(P.scrollOptions))),z},[n.contextId,a,y,s]),v=it(()=>{const C=t.current,j=U1(C);return C&&j||Ue(),TR(j)},[]),E=it(()=>{const C=t.current;C||Ue();const j=U1(C);t.current=null,j&&(p.cancel(),j.removeAttribute(H7.contextId),j.removeEventListener("scroll",y,X7(C.scrollOptions)))},[y,p]),N=it(C=>{const j=t.current;j||Ue();const A=U1(j);A||Ue(),A.scrollTop+=C.y,A.scrollLeft+=C.x},[]),O=Pt(()=>({getDimensionAndWatchScroll:x,getScrollWhileDragging:v,dragStopped:E,scroll:N}),[E,x,v,N]),_=Pt(()=>({uniqueId:r,descriptor:a,callbacks:O}),[O,a,r]);jo(()=>(c.current=_.descriptor,i.droppable.register(_),()=>{t.current&&E(),i.droppable.unregister(_)}),[O,a,E,_,o,i.droppable]),jo(()=>{t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,o]),jo(()=>{t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,o])}function Fj(){}const Q7={width:0,height:0,margin:Gke},z9e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>e||n==="close"?Q7:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},U9e=({isAnimatingOpenOnMount:e,placeholder:t,animate:n})=>{const r=z9e({isAnimatingOpenOnMount:e,placeholder:t,animate:n});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:n!=="none"?vb.placeholder:null}},V9e=e=>{const t=w.useRef(null),n=it(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=e,[a,c]=w.useState(e.animate==="open");w.useEffect(()=>a?r!=="open"?(n(),c(!1),Fj):t.current?Fj:(t.current=setTimeout(()=>{t.current=null,c(!1)}),n):Fj,[r,a,n]);const u=it(h=>{h.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=U9e({isAnimatingOpenOnMount:a,animate:e.animate,placeholder:e.placeholder});return De.createElement(e.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:u,ref:e.innerRef})};var q9e=De.memo(V9e);class H9e extends De.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,n){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:n.isVisible?{isVisible:!0,data:n.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const W9e=e=>{const t=w.useContext(vO);t||Ue();const{contextId:n,isMovementAllowed:r}=t,i=w.useRef(null),o=w.useRef(null),{children:s,droppableId:a,type:c,mode:u,direction:f,ignoreContainerClipping:h,isDropDisabled:p,isCombineEnabled:y,snapshot:x,useClone:v,updateViewportMaxScroll:E,getContainerForClone:N}=e,O=it(()=>i.current,[]),_=it((B=null)=>{i.current=B},[]);it(()=>o.current,[]);const C=it((B=null)=>{o.current=B},[]),j=it(()=>{r()&&E({maxScroll:HQ()})},[r,E]);B9e({droppableId:a,type:c,mode:u,direction:f,isDropDisabled:p,isCombineEnabled:y,ignoreContainerClipping:h,getDroppableRef:O});const A=Pt(()=>De.createElement(H9e,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},({onClose:B,data:U,animate:H})=>De.createElement(q9e,{placeholder:U,onClose:B,innerRef:C,animate:H,contextId:n,onTransitionEnd:j})),[n,j,e.placeholder,e.shouldAnimatePlaceholder,C]),R=Pt(()=>({innerRef:_,placeholder:A,droppableProps:{"data-rfd-droppable-id":a,"data-rfd-droppable-context-id":n}}),[n,a,A,_]),I=v?v.dragging.draggableId:null,P=Pt(()=>({droppableId:a,type:c,isUsingCloneFor:I}),[a,I,c]);function z(){if(!v)return null;const{dragging:B,render:U}=v,H=De.createElement(lZ,{draggableId:B.draggableId,index:B.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(M,L)=>U(M,L,B));return bp.createPortal(H,N())}return De.createElement(IM.Provider,{value:P},s(R,x),z())};function G9e(){return document.body||Ue(),document.body}const Z7={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:G9e},fZ=e=>{let t={...e},n;for(n in Z7)e[n]===void 0&&(t={...t,[n]:Z7[n]});return t},Lj=(e,t)=>e===t.droppable.type,eB=(e,t)=>t.draggables[e.draggable.id],K9e=()=>{const e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...e,shouldAnimatePlaceholder:!1},n=Vr(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),r=Vr((o,s,a,c,u,f)=>{const h=u.descriptor.id;if(u.descriptor.droppableId===o){const x=f?{render:f,dragging:n(u.descriptor)}:null,v={isDraggingOver:a,draggingOverWith:a?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!1,snapshot:v,useClone:x}}if(!s)return t;if(!c)return e;const y={isDraggingOver:a,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:u.placeholder,shouldAnimatePlaceholder:!0,snapshot:y,useClone:null}});return(o,s)=>{const a=fZ(s),c=a.droppableId,u=a.type,f=!a.isDropDisabled,h=a.renderClone;if(mx(o)){const p=o.critical;if(!Lj(u,p))return t;const y=eB(p,o.dimensions),x=Co(o.impact)===c;return r(c,f,x,x,y,h)}if(o.phase==="DROP_ANIMATING"){const p=o.completed;if(!Lj(u,p.critical))return t;const y=eB(p.critical,o.dimensions);return r(c,f,sZ(p.result)===c,Co(p.impact)===c,y,h)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const p=o.completed;if(!Lj(u,p.critical))return t;const y=Co(p.impact)===c,x=!!(p.impact.at&&p.impact.at.type==="COMBINE"),v=p.critical.droppable.id===c;return y?x?e:t:v?e:t}return t}},Y9e={updateViewportMaxScroll:o6e},J9e=uQ(K9e,Y9e,(e,t,n)=>({...fZ(n),...e,...t}),{context:AM,areStatePropsEqual:oZ})(W9e);function X9e({data:e=[],extractId:t,renderItem:n,dndProps:r={droppableId:"sortable-list",direction:"vertical"},onReordered:i,onChange:o,disableIndices:s=[],...a}){function c({destination:f,source:h}){if(s.includes(h.index)||s.includes(f.index))return;const p={from:h.index,to:(f==null?void 0:f.index)||0};i==null||i(p.from,p.to)}const u=e.map((f,h)=>{const p=t?t(f):w.useId();return m.jsx(j9e,{index:h,draggableId:p,isDragDisabled:s.includes(h),children:(y,x,v)=>n?n({...f,dnd:{provided:y,snapshot:x,rubic:v}},h):m.jsxs("div",{className:"flex flex-row gap-2 p-2 border border-gray-200 rounded-md mb-3 bg-white items-center",ref:y.innerRef,...y.draggableProps,children:[m.jsx("div",{...y.dragHandleProps,children:m.jsx(GRe,{className:"size-5",stroke:1.5})}),m.jsx("p",{children:JSON.stringify(f)})]})},p)});return m.jsx(u9e,{onDragEnd:c,children:m.jsx(J9e,{...r,children:f=>m.jsxs("div",{...a,...f.droppableProps,ref:f.innerRef,children:[u,f.placeholder]})})})}function MM({children:e,target:t,defaultOpen:n=!1,backdrop:r=!1,position:i="bottom-start",overlayProps:o,className:s}){const[a,c]=w.useState(n),u=Fx(()=>c(!1)),f=Vt((p=50)=>setTimeout(()=>c(y=>!y),typeof p=="number"?p:0)),h={"bottom-start":"mt-1 top-[100%]","bottom-end":"right-0 top-[100%] mt-1","top-start":"bottom-[100%] mb-1","top-end":"bottom-[100%] right-0 mb-1"}[i];return m.jsxs(m.Fragment,{children:[a&&r&&m.jsx("div",{className:"animate-fade-in w-full h-full absolute top-0 bottom-0 right-0 left-0 bg-background/60"}),m.jsxs("div",{role:"dropdown",className:Ke("relative flex",s),ref:u,children:[w.cloneElement(e,{onClick:f}),a&&m.jsx("div",{...o,className:Ke("animate-fade-in absolute z-20 flex flex-col bg-background border border-muted px-1 py-1 rounded-lg shadow-lg backdrop-blur-sm min-w-full max-w-20",h,o==null?void 0:o.className),children:t({toggle:f})})]})]})}const SO=[{type:"primary",label:"Primary",icon:e7,addable:!1,disabled:["name"],hidden:["virtual"]},{type:"text",label:"Text",icon:e7},{type:"number",label:"Number",icon:h3e},{type:"boolean",label:"Boolean",icon:g3e},{type:"date",label:"Date",icon:vX},{type:"enum",label:"Enum",icon:nM},{type:"json",label:"JSON",icon:H4e},{type:"jsonschema",label:"JSON Schema",icon:n3e},{type:"relation",label:"Relation",icon:tM,addable:!1,hidden:["virtual"]},{type:"media",label:"Media",icon:zv,addable:!1,hidden:["virtual"]}],tB=()=>{const[e,t]=_U([!1,!0]),n=e?F4e:p3e;return m.jsx("button",{role:"checkbox",type:"button",className:"flex px-3 py-3",onClick:()=>t(),children:m.jsx(n,{size:18})})};function EO({data:e=[],columns:t,checkable:n,onClickRow:r,onClickPage:i,onClickSort:o,total:s,sort:a,page:c=1,perPage:u=10,perPageOptions:f,onClickPerPage:h,classNames:p,renderHeader:y,rowActions:x,renderValue:v,onClickNew:E}){s=s||(e==null?void 0:e.length)||0,c=c||1;const N=t&&t.length>0?t:Object.keys((e==null?void 0:e[0])||{}),O=Math.max(Math.ceil(s/u),1),_=v||NO;return m.jsxs("div",{className:"flex flex-col gap-3",children:[E&&m.jsx("div",{className:"flex flex-row space-between",children:E&&m.jsx(lt,{onClick:E,children:"Create new"})}),m.jsx("div",{className:"border-muted border rounded-md shadow-sm w-full max-w-full overflow-x-scroll overflow-y-hidden",children:m.jsxs("table",{className:"w-full text-md",children:[N.length>0?m.jsx("thead",{className:"sticky top-0 bg-muted/10",children:m.jsxs("tr",{children:[n&&m.jsx("th",{align:"center",className:"w-[40px]",children:m.jsx(tB,{})}),N.map((C,j)=>{const A=(y==null?void 0:y(C))??Mo(C);return m.jsx("th",{children:m.jsx("div",{className:"flex flex-row py-1 px-1 font-normal text-primary/55",children:m.jsxs("button",{type:"button",className:Ke("link hover:bg-primary/5 py-1.5 rounded-md inline-flex flex-row justify-start items-center gap-1",o?"pl-2.5 pr-1":"px-2.5"),onClick:()=>o==null?void 0:o(C),children:[m.jsx("span",{className:"text-left text-nowrap whitespace-nowrap",children:A}),o&&m.jsx(Q9e,{sort:a,field:C})]})})},j)}),x&&x.length>0&&m.jsx("th",{className:"w-10"})]})}):null,m.jsx("tbody",{children:!e||!Array.isArray(e)||e.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:N.length+(n?1:0),children:m.jsx("div",{className:"flex flex-col gap-2 p-8 justify-center items-center border-t border-muted",children:m.jsx("i",{className:"opacity-50",children:Array.isArray(e)?"No data to show":e?m.jsx("pre",{children:JSON.stringify(e,null,2)}):"Loading..."})})})}):e.map((C,j)=>{const A=()=>r==null?void 0:r(C);return m.jsxs("tr",{"data-border":j>0,className:"hover:bg-primary/5 active:bg-muted border-muted data-[border]:border-t cursor-pointer transition-colors",children:[n&&m.jsx("td",{align:"center",children:m.jsx(tB,{})}),Object.entries(C).map(([R,I],P)=>m.jsx("td",{onClick:A,children:m.jsx("div",{className:"flex flex-row items-start py-3 px-3.5 font-normal ",children:m.jsx(_,{property:R,value:I})})},P)),x&&x.length>0&&m.jsx("td",{children:m.jsx("div",{className:"flex flex-row justify-end pr-2",children:m.jsxs(No,{position:"bottom-end",children:[m.jsx(No.Target,{children:m.jsx(Tt,{Icon:i3e})}),m.jsx(No.Dropdown,{children:x.map(R=>m.jsx(No.Item,{onClick:()=>R.onClick(C,j),leftSection:R.icon&&m.jsx(R.icon,{}),children:R.label},R.label))})]})})})]},j)})})]})}),m.jsxs("div",{className:"flex flex-row items-center justify-between",children:[m.jsx("div",{className:"hidden md:flex text-primary/40",children:m.jsx(Z9e,{perPage:u,page:c,items:(e==null?void 0:e.length)||0,total:s})}),m.jsxs("div",{className:"flex flex-row gap-2 md:gap-10 items-center",children:[f&&m.jsxs("div",{className:"hidden md:flex flex-row items-center gap-2 text-primary/40",children:["Per Page"," ",m.jsx(Li,{items:f.map(C=>({label:String(C),perPage:C})),position:"top-end",onClickItem:C=>h==null?void 0:h(C.perPage),children:m.jsx(lt,{children:u})})]}),m.jsxs("div",{className:"text-primary/40",children:["Page ",c," of ",O]}),i&&m.jsx("div",{className:"flex flex-row gap-1.5",children:m.jsx(e8e,{current:c,total:O,onClick:i})})]})]})]})}const NO=({value:e,property:t})=>{let n=!1;return e!==null&&typeof e=="object"&&(e=JSON.stringify(e),n=!0),e!==null&&typeof e<"u"?m.jsx("span",{className:Ke("line-clamp-2",n&&"font-mono break-all"),children:e}):m.jsx("span",{className:"opacity-10 font-mono",children:"null"})},Q9e=({sort:e,field:t})=>!e||e.by!==t?m.jsx(nM,{size:18,className:"mt-[1px]"}):e.dir==="asc"?m.jsx(U4e,{size:18,className:"mt-[1px]"}):m.jsx(B4e,{size:18,className:"mt-[1px]"}),Z9e=({perPage:e,page:t,items:n,total:r})=>r===0?m.jsx(m.Fragment,{children:"No rows to show"}):r===1?m.jsx(m.Fragment,{children:"Showing 1 row"}):m.jsxs(m.Fragment,{children:["Showing ",e*(t-1)+1,"-",e*(t-1)+n," of ",r," rows"]}),e8e=({current:e,total:t,onClick:n})=>[{value:1,Icon:Z4e,disabled:e===1},{value:e-1,Icon:J4e,disabled:e===1},{value:e+1,Icon:X4e,disabled:e===t},{value:t,Icon:e3e,disabled:e===t}].map((i,o)=>m.jsx("button",{role:"button",type:"button",disabled:i.disabled,className:"px-2 py-2 border-muted border rounded-md enabled:link text-lg enabled:hover:bg-primary/5 text-primary/90 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{const s=i.value,a=s<1?1:s>t?t:s;n==null||n(a)},children:m.jsx(i.Icon,{})},o)),t8e=({path:e,backTo:t,onBack:n})=>{const[r,i]=zo(),o=window.location.pathname,s=Array.isArray(e)?e:[e],a=o.split("/").filter(h=>h!==""),c=s.length>1,u=n||Vt(()=>{if(t){i(t,{replace:!0});return}const h=a.slice(0,s.length+1).join("/");i(`~/${h}`,{replace:!0})}),f=w.useMemo(()=>s.map((h,p)=>{const y=p===s.length-1,x=a.indexOf(h),v=a.slice(0,x+1).join("/"),E=pv(h);return{last:y,href:v,string:E}}),[s,a]);return m.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[c&&m.jsx(Tt,{onClick:u,Icon:eM,variant:"default",size:"lg",className:"mr-1"}),m.jsx("div",{className:"hidden md:flex gap-2",children:m.jsx(hZ,{crumbs:f})}),m.jsx("div",{className:"flex md:hidden gap-2",children:m.jsx(n8e,{crumbs:f})})]})},hZ=({crumbs:e})=>e.map((t,n)=>t.last?m.jsx(mZ,{...t},n):m.jsx(pZ,{...t},n)),n8e=({crumbs:e})=>{const[,t]=zo();if(e.length<=2)return m.jsx(hZ,{crumbs:e});const n=e[0],r=e[e.length-1],i=w.useMemo(()=>e.slice(1,-1).map(s=>({label:s.string,href:s.href})),[e]),o=Vt(s=>t(`~/${s.href}`));return m.jsxs(m.Fragment,{children:[m.jsx(pZ,{...n}),m.jsx(Li,{onClickItem:o,items:i,children:m.jsx(Tt,{Icon:Kd,variant:"ghost"})}),m.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),m.jsx(mZ,{...r})]})},mZ=({string:e})=>m.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:e}),pZ=({href:e,string:t})=>m.jsxs("div",{className:"opacity-50 flex flex-row gap-2 dark:font-bold font-semibold",children:[m.jsx(aO,{to:`~/${e}`,className:"text-nowrap",children:t}),m.jsx("span",{className:"opacity-50",children:"/"})]});function gZ(e,t,n){if(!e.properties)return[{...e},t,{}];const r=xv(e),i={...r,properties:Sh(r.properties,n)};i.required&&(i.required=i.required.filter(a=>!n.includes(a)));const o={};for(const a of n)o[a]={config:t[a],schema:r.properties[a]};const s=Sh(t,n);return[i,s,o]}const r8e=w.forwardRef((e,t)=>{const[n,r]=w.useState(!!(e.value??e.defaultValue));w.useEffect(()=>{console.log("value change",e.value),r(!!e.value)},[e.value]);function i(o){var s;r(o.target.checked),(s=e.onChange)==null||s.call(e,o.target.checked)}return m.jsx("div",{className:"flex flex-row",children:m.jsx(ll,{ref:t,checked:n,onChange:i,disabled:e.disabled,id:e.id})})}),ma=({error:e,as:t,...n})=>{const r=t||"div";return m.jsx(r,{...n,className:Ke("flex flex-col gap-1.5",t==="fieldset"&&"border border-primary/10 p-3 rounded-md",t==="fieldset"&&e&&"border-red-500",e&&"text-red-500",n.className)})},il=({as:e,...t})=>{const n=e||"label";return m.jsx(n,{...t})},i8e=({className:e,...t})=>m.jsx("div",{...t,className:Ke("text-sm text-primary/50",e)}),o8e=({className:e,...t})=>m.jsx("div",{...t,className:Ke("text-sm text-red-500",e)}),kM=({field:e,...t})=>{const n=e.getDescription();return m.jsxs(il,{...t,title:n,className:"flex flex-row gap-1 items-center",children:[e.getLabel(),e.isRequired()&&m.jsx("span",{className:"font-medium opacity-30",children:"*"}),n&&m.jsx(c3e,{className:"opacity-50"})]})},Jd=w.forwardRef((e,t)=>{const n=e.disabled||e.readOnly;return m.jsx("input",{type:"text",...e,ref:t,className:Ke("bg-muted/40 h-11 rounded-md py-2.5 px-4 outline-none w-full",n&&"bg-muted/50 text-primary/50",!n&&"focus:bg-muted focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all",e.className)})}),s8e=w.forwardRef((e,t)=>e.type==="password"?m.jsx(yZ,{...e,ref:t}):m.jsx(Jd,{...e,ref:t})),yZ=w.forwardRef((e,t)=>{const[n,r]=w.useState(!1);function i(){r(o=>!o)}return m.jsxs("div",{className:"relative w-full",children:[m.jsx(Jd,{...e,type:n?"text":"password",className:"w-full",ref:t}),m.jsx("div",{className:"absolute right-3 top-0 bottom-0 flex items-center",children:m.jsx(Tt,{Icon:n?s3e:NX,onClick:i,variant:"ghost",className:"opacity-70"})})]})}),a8e=w.forwardRef((e,t)=>m.jsx("textarea",{rows:3,...e,ref:t,className:Ke("bg-muted/40 min-h-11 rounded-md py-2.5 px-4 focus:bg-muted outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50",e.className)})),RR=w.forwardRef((e,t)=>{const n=w.useRef(null),r=jEe();w.useImperativeHandle(t,()=>n.current);const i=Vt(()=>{n!=null&&n.current&&(n.current.focus(),["Safari"].includes(r)?n.current.click():n.current.showPicker())});return m.jsxs("div",{className:"relative w-full",children:[m.jsx("div",{className:"absolute h-full right-3 top-0 bottom-0 flex items-center",children:m.jsx(Tt,{Icon:vX,onClick:i})}),m.jsx(Jd,{...e,type:e.type??"date",ref:n,className:"w-full appearance-none"})]})}),bJe=w.forwardRef((e,t)=>{const[n,r]=w.useState(!!e.value);w.useEffect(()=>{r(!!e.value)},[e.value]);function i(o){var s;r(o.target.checked),(s=e.onChange)==null||s.call(e,o.target.checked)}return m.jsx("div",{className:"h-11 flex items-center",children:m.jsx("input",{...e,type:"checkbox",ref:t,className:"outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500  transition-all disabled:opacity-70 scale-150 ml-1",checked:n,onChange:i,disabled:e.disabled})})}),nB={xs:{root:"h-5 w-8",thumb:"data-[state=checked]:left-[calc(100%-1rem)]"},sm:{root:"h-6 w-10",thumb:"data-[state=checked]:left-[calc(100%-1.25rem)]"},md:{root:"h-7 w-12",thumb:"data-[state=checked]:left-[calc(100%-1.5rem)]"}},l8e=w.forwardRef(({type:e,required:t,...n},r)=>m.jsx(y4e,{className:Rn("relative cursor-pointer rounded-full bg-muted border-2 border-transparent outline-none ring-1 dark:ring-primary/10 ring-primary/20 data-[state=checked]:ring-primary/60 data-[state=checked]:bg-primary/60 appearance-none transition-colors hover:bg-muted/80",nB[n.size??"md"].root,n.disabled&&"opacity-50 !cursor-not-allowed"),onCheckedChange:i=>{var o;console.log("setting",i),(o=n.onChange)==null||o.call(n,{target:{value:i}})},...n,checked:typeof n.checked<"u"?n.checked:typeof n.value<"u"?!!n.value:void 0,ref:r,children:m.jsx(b4e,{className:Rn("absolute top-0 left-0 h-full aspect-square rounded-full bg-primary/30 data-[state=checked]:bg-background transition-[left,right] duration-100 border border-muted",nB[n.size??"md"].thumb)})})),bZ=w.forwardRef(({children:e,options:t,...n},r)=>m.jsxs("div",{className:"flex w-full relative",children:[m.jsx("select",{...n,ref:r,className:Ke("bg-muted/40 focus:bg-muted rounded-md py-2.5 px-4 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50","appearance-none h-11 w-full",!n.multiple&&"border-r-8 border-r-transparent",n.className),children:t?m.jsxs(m.Fragment,{children:[!n.required&&m.jsx("option",{value:""}),t.map(i=>typeof i!="object"?{value:i,label:String(i)}:i).map(i=>m.jsx("option",{value:i.value,children:i.label},i.value))]}):e}),!n.multiple&&m.jsx(wX,{className:"absolute right-3 top-0 bottom-0 h-full opacity-70 pointer-events-none",size:18})]})),c8e=(e,t)=>{switch(e){case"date":return RR;case"boolean":return r8e;case"textarea":return a8e;default:return Jd}};function xZ({open:e=!1,children:t,onClose:n=()=>null,allowBackdropClose:r=!0,className:i,stickToTop:o}){const s=Fx(()=>{r&&n()});return m.jsx(m.Fragment,{children:e&&m.jsx("div",{className:Ke("w-full h-full fixed bottom-0 top-0 right-0 left-0 bg-background/60 flex justify-center backdrop-blur-sm z-10",o?"items-start":"items-center"),children:m.jsx("div",{className:Ke("z-20 flex flex-col bg-background rounded-lg shadow-lg",i),ref:s,children:t})})})}const u8e=({schema:e,uiSchema:t={},anyOfValues:n,path:r,prefixPath:i,generateKey:o})=>{const[s,a]=zo(),[c,u]=w.useState(e),[f,h]=w.useState(!1),{actions:p}=Bt(),[y,{open:x,close:v}]=Bg(!1),E=o!==void 0,N=typeof o=="string",[O,_]=w.useState(N?o:""),C=N2(!E),j=w.useRef(null),A="anyOf"in e;function R(B){o&&typeof o=="function"&&I({target:{value:o(B)}}),console.log("form change",B)}function I(B){const U=String(B.target.value);if(U.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(U)){console.log("no match",U);return}_(U.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_"))}async function P(){var B,U,H,M;if((B=j.current)!=null&&B.validateForm()){h(!0);const L=(U=j.current)==null?void 0:U.formData(),[T,...F]=r,k=[...F,O].join(".");await p.add(T,k,L)?setTimeout(()=>{a(i+O,{replace:!0})},500):h(!1)}console.log("valid?",(H=j.current)==null?void 0:H.validateForm()),console.log("data",O,(M=j.current)==null?void 0:M.formData())}const z=A?e.anyOf.map(B=>{var L,T;const U=B.title,H=((L=n==null?void 0:n[U])==null?void 0:L.label)||U,M=(T=n==null?void 0:n[U])==null?void 0:T.icon;return{label:H,icon:M,onClick:()=>{u(B),x()}}}):[];return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex flex-row",children:A?m.jsx(Li,{position:"top-start",items:z,itemsClassName:"gap-3",children:m.jsx(lt,{children:"Add new"})}):m.jsx(lt,{onClick:x,children:"Add new"})}),m.jsx(xZ,{open:y,allowBackdropClose:!1,onClose:v,className:"min-w-96 w-6/12 mt-[30px] mb-[20px]",stickToTop:!0,children:m.jsxs("div",{className:"border border-muted rounded-lg flex flex-col overflow-y-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[m.jsx("div",{className:"bg-muted py-2 px-4 text-primary/70 font-mono flex flex-row gap-2 items-center",children:[...r,O].join(".")}),m.jsxs("div",{className:"flex flex-row gap-10 sticky top-0 bg-background z-10 p-4 border-b border-muted",children:[m.jsxs("div",{className:"flex flex-row flex-grow items-center relative",children:[m.jsx(Jd,{ref:C,className:"w-full",placeholder:"New unique key...",onChange:I,value:O,disabled:E}),E&&m.jsx("div",{className:"absolute h-full flex items-center z-10 right-3.5 top-0 bottom-0 font-mono font-sm opacity-50",children:"generated"})]}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(lt,{onClick:v,disabled:f,children:"Cancel"}),m.jsx(lt,{variant:"primary",onClick:P,disabled:f||O.length===0,children:"Create"})]})]}),m.jsx("div",{className:"flex flex-col p-4",children:m.jsx(Sy,{ref:j,schema:Sh(c,["title"]),uiSchema:t,onChange:R,className:"legacy hide-required-mark fieldset-alternative mute-root"})})]})})]})},rB=w.forwardRef(({tabs:e,title:t},n)=>{const[r,{open:i,close:o}]=Bg(!1),[s,a]=w.useState(0),c=e[s];return w.useImperativeHandle(n,()=>({open:i,close:o,isOpen:r})),c?m.jsx(xZ,{open:r,onClose:o,className:"min-w-96 w-9/12 mt-[80px] mb-[20px]",stickToTop:!0,children:m.jsxs("div",{className:"border border-primary rounded-lg flex flex-col overflow-scroll font-normal",style:{maxHeight:"calc(100dvh - 100px)"},children:[t&&m.jsxs("div",{className:"bg-primary py-2 px-4 text-background font-mono flex flex-row gap-2 items-center",children:[m.jsx(x3e,{size:20,className:"opacity-50"}),t]}),m.jsxs("div",{className:"flex flex-row justify-between sticky top-0 bg-background z-10 py-4 px-5",children:[m.jsx("div",{className:"flex flex-row gap-3",children:e.map((u,f)=>m.jsx("button",{onClick:()=>a(f),"data-active":f===s?1:void 0,className:"font-mono data-[active]:font-bold",children:u.title},f))}),m.jsx(Tt,{Icon:rM,onClick:o})]}),m.jsx("div",{className:"",children:m.jsx(Es,{json:c.json,expand:6,showSize:!0,showCopy:!0})})]})}):null});function Ji({schema:e,uiSchema:t,config:n,prefix:r="/",options:i,path:o=[],properties:s}){var U,H,M;const[a,c]=w.useState(!1),{actions:u}=Bt(),f=w.useRef(null),h=w.useRef(null),p=w.useRef(null),[y,x]=w.useState(!1);v5([["mod+s",L=>(L.preventDefault(),z(),!1)],["e",()=>{y||P()}],["Escape",()=>{y&&P()}]]);const v=w.useMemo(()=>s?Object.entries(s).filter(([,L])=>L.hide||L.extract).map(([L])=>L):[],[s]),E=Vt(L=>{const T=window.location.href.split("/").slice(0,-1).join("/");L?window.location.replace(T):window.history.back()}),N=((U=i==null?void 0:i.allowDelete)==null?void 0:U.call(i,n))??!0,O=((H=i==null?void 0:i.allowEdit)==null?void 0:H.call(i,n))??!0,_=((M=i==null?void 0:i.showAlert)==null?void 0:M.call(i,n))??void 0;console.log("--setting",{schema:e,config:n,prefix:r,path:o,exclude:v});const[C,j,A]=gZ(e,n,v);console.log({reducedSchema:C,reducedConfig:j,extracted:A});const R=Object.keys(A),I=R.find(L=>window.location.pathname.endsWith(L))??R[0],P=Vt(()=>{O&&x(L=>!L)}),z=Vt(async()=>{var L,T;if(!(!O||!y)&&(L=f.current)!=null&&L.validateForm()){c(!0);const F=(T=f.current)==null?void 0:T.formData(),[k,...q]=o;let D;console.log("save:data",{module:k,restOfPath:q},F),q.length>0?(console.log("-> patch",{module:k,path:q.join(".")},F),D=await u.patch(k,q.join("."),F)):(console.log("-> set",{module:k},F),D=await u.set(k,F,!0)),console.log("save:success",D),D?i!=null&&i.reloadOnSave&&(await u.reload(),c(!1)):c(!1)}}),B=Vt(async()=>{if(!N)return;const[L,...T]=o;window.confirm(`Are you sure you want to delete ${o.join(".")}`)&&await u.remove(L,T.join("."))&&E(!0)});return n?m.jsxs(m.Fragment,{children:[m.jsx(jr,{className:o.length>1?"pl-3":"",scrollable:!0,right:m.jsxs(m.Fragment,{children:[m.jsx(Li,{items:[{label:"Inspect local schema",onClick:()=>{var L;(L=h.current)==null||L.open()}},{label:"Inspect schema",onClick:()=>{var L;(L=p.current)==null||L.open()}},N&&{label:"Delete",destructive:!0,onClick:B}],position:"bottom-end",children:m.jsx(Tt,{Icon:wy})}),m.jsx(lt,{onClick:P,disabled:!O,children:y?"Cancel":"Edit"}),y&&m.jsx(lt,{variant:"primary",onClick:z,disabled:a||!O,children:a?"Save...":"Save"})]}),children:m.jsx(t8e,{path:o})}),m.jsxs(ri,{children:[typeof _<"u"&&m.jsx(Ga.Warning,{message:_}),m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsx(Sy,{ref:f,readonly:!y,schema:Sh(C,["title"]),formData:j,uiSchema:t,onChange:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})}),R.length>0&&m.jsxs("div",{className:"flex flex-col max-w-full",children:[m.jsx(TX,{items:R.map(L=>{var T;return{as:aO,label:Mo(L),href:`${r}/${L}`.replace(/\/+/g,"/"),active:I===L,badge:Object.keys(((T=A[L])==null?void 0:T.config)??{}).length}})}),m.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:m.jsx(ut,{path:"/:prop?",component:({params:L})=>{var W,X,oe,se;const[,T]=zo(),F=L.prop??I,k=((W=A[F])==null?void 0:W.config)??{},q=(X=s==null?void 0:s[F])!=null&&X.tableValues?(oe=s==null?void 0:s[F])==null?void 0:oe.tableValues(k):Object.entries(k).map(([ie,le])=>{if(!le||typeof le!="object")return{key:ie,value:le};const pe=Object.keys(le)[0],ye=le[pe],je=Sh(le,[pe]);return{key:ie,[pe]:ye,value:je}}),D=(se=s==null?void 0:s[F])==null?void 0:se.new;return F?m.jsxs(m.Fragment,{children:[D&&m.jsx(u8e,{schema:D.schema,uiSchema:D.uiSchema,anyOfValues:D.anyOfValues,prefixPath:`/${F}/`,path:[...o,F],generateKey:D.generateKey}),m.jsx(EO,{data:q,onClickRow:ie=>{const le=Object.values(ie)[0];T(`/${F}/${le}`)}})]}):m.jsx("div",{className:"h-80 flex justify-center align-center",children:m.jsx(Fi,{title:"No sub-setting selected",description:"Select one from the tab bar"})})}})})]})]},o.join("-")),m.jsx(rB,{ref:h,title:o.join("."),tabs:[{title:"Schema",json:C},{title:"Config",json:j}]}),m.jsx(rB,{ref:p,title:o.join("."),tabs:[{title:"Schema",json:e},{title:"Config",json:n}]})]}):m.jsx(Fi,{title:"Not found",description:`Configuration at path ${o.join(".")} doesn't exist.`,primary:{children:"Go back",onClick:()=>E()}})}const IR={config:{fillable:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},hidden:{"ui:options":{wrap:!0},anyOf:[{},{"ui:widget":"checkboxes"}]},schema:{"ui:field":"JsonField"},ui_schema:{"ui:field":"JsonField"}}},d8e=SO.filter(e=>e.type!=="primary").reduce((e,t)=>(e[t.type]={label:t.label,icon:t.icon},e),{}),f8e={"1:1":{label:"One-to-One"},"n:1":{label:"Many-to-One"},"m:n":{label:"Many-to-Many"},poly:{label:"Polymorphic"}},h8e=({schema:e,config:t})=>{const{app:n}=Bt(),r=n.getAbsolutePath("settings"),i=Object.keys(t.entities??{});function o(s,a="entity"){i.length!==0&&(s.properties&&a in s.properties&&(s.properties[a].enum=i),"anyOf"in s&&s.anyOf.forEach(c=>o(c,a)))}return m.jsx(ut,{path:"/data",nest:!0,children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/entities/:entity/fields/:field",component:({params:{entity:s,field:a}})=>{var h,p,y,x,v;const c=(y=(p=(h=t.entities)==null?void 0:h[s])==null?void 0:p.fields)==null?void 0:y[a],u=(v=(x=e.properties.entities.additionalProperties)==null?void 0:x.properties)==null?void 0:v.fields.additionalProperties,f=u.anyOf.find(E=>E.properties.type.const===(c==null?void 0:c.type));return m.jsx(Ji,{schema:f??u,config:c,prefix:`${r}/data/entities/${s}/fields/${a}`,path:["data","entities",s,"fields",a],options:{showAlert:E=>{if((E==null?void 0:E.type)==="primary")return"Modifying the primary field may result in strange behaviors."}},uiSchema:IR})},nest:!0}),m.jsx(ut,{path:"/entities/:entity",component:({params:{entity:s}})=>{var f;const a=e.properties.entities.additionalProperties,c=xv(a);c.properties.type.readOnly=!0;const u={anyOf:c.properties.fields.additionalProperties.anyOf.filter(h=>h.properties.type.const!=="primary")};return m.jsx(Ji,{schema:c,config:(f=t.entities)==null?void 0:f[s],options:{showAlert:h=>{if(h.type==="system")return"Modifying the system entities may result in strange behaviors."}},properties:{fields:{extract:!0,tableValues:h=>us(h,(p,y,x)=>{var v;p.push({property:x,type:y.type,required:(v=y.config)!=null&&v.required?"Yes":"No"})},[]),new:{schema:u,uiSchema:IR,anyOfValues:d8e}}},path:["data","entities",s],prefix:`${r}/data/entities/${s}`})},nest:!0}),m.jsx(ut,{path:"/indices/:index",component:({params:{index:s}})=>{var c;const a=e.properties.indices.additionalProperties;return i.length>0&&o(a,"entity"),m.jsx(Ji,{schema:e.properties.indices.additionalProperties,config:(c=t.indices)==null?void 0:c[s],path:["data","indices",s],prefix:`${r}/data/indices/${s}`})},nest:!0}),m.jsx(ut,{path:"/relations/:relation",component:({params:{relation:s}})=>{var f;const a=(f=t.relations)==null?void 0:f[s],u=e.properties.relations.additionalProperties.anyOf.find(h=>h.properties.type.const===(a==null?void 0:a.type));return i.length>0&&(o(u,"source"),o(u,"target")),m.jsx(Ji,{schema:u,config:a,path:["data","relations",s],prefix:`${r}/data/relations/${s}`})},nest:!0}),m.jsx(ut,{path:"/",component:()=>{const s=e.properties.indices.additionalProperties,a=e.properties.relations.additionalProperties;return o(s,"entity"),o(a,"source"),o(a,"target"),m.jsx(Ji,{schema:e,config:t,properties:{entities:{extract:!0,tableValues:c=>us(c,(u,f,h)=>{u.push({name:h,type:f.type,fields:Object.keys(f.fields??{}).length})},[]),new:{schema:e.properties.entities.additionalProperties,uiSchema:{fields:{"ui:widget":"hidden"},type:{"ui:widget":"hidden"}}}},relations:{extract:!0,new:{schema:e.properties.relations.additionalProperties,generateKey:c=>{var f,h,p,y;const u=[c.type.replace(":",""),c.source,c.target,(f=c.config)==null?void 0:f.mappedBy,(h=c.config)==null?void 0:h.inversedBy,(p=c.config)==null?void 0:p.connectionTable,(y=c.config)==null?void 0:y.connectionTableMappedName].filter(Boolean);return[...new Set(u)].join("_")},anyOfValues:f8e},tableValues:c=>us(c,(u,f,h)=>{u.push({name:h,type:f.type,source:f.source,target:f.target})},[])},indices:{extract:!0,tableValues:c=>us(c,(u,f,h)=>{u.push({name:h,entity:f.entity,fields:f.fields.join(", "),unique:f.unique?"Yes":"No"})},[]),new:{schema:s,uiSchema:{fields:{"ui:options":{orderable:!1}}},generateKey:c=>["idx",c.entity,c.unique&&"unique",...c.fields.filter(Boolean)].filter(Boolean).join("_")}}},prefix:`${r}/data`,path:["data"]})},nest:!0})]})})},{Type:lh}=pt,OO=eY,m8e=lh.Union(Object.values(OO)),p8e=lh.Object({name:nl,new:lh.Optional(lh.Boolean({const:!0})),field:m8e},{additionalProperties:!1}),g8e=lh.Object({fields:lh.Array(p8e)}),y8e=Object.keys(OO);y8e[0];const vZ=["label","description","required","fillable","hidden","virtual"];function b8e(e){var t;return lh.Omit((t=OO[e])==null?void 0:t.properties.config,vZ)}const wZ=w.forwardRef(function({fields:t,sortable:n,additionalFieldTypes:r,routePattern:i,...o},s){const a=Object.entries(t).map(([I,P])=>({name:I,field:P})),{control:c,formState:{isValid:u,errors:f},getValues:h,watch:p,register:y,setValue:x,setError:v,reset:E}=Jc({mode:"all",resolver:Xc(g8e),defaultValues:{fields:a}}),{fields:N,append:O,remove:_,move:C}=vMe({control:c,name:"fields"});function j(I){return Object.fromEntries(I.fields.map(P=>[P.name,Lb(P.field)]))}w.useEffect(()=>{o!=null&&o.onChange&&p(I=>{var P;(P=o==null?void 0:o.onChange)==null||P.call(o,j(I))})},[]),w.useImperativeHandle(s,()=>({reset:E,getValues:()=>h(),getData:()=>j(h()),isValid:()=>u,getErrors:()=>f}));function A(I){var z;const P={name:"",new:!0,field:{type:I,config:vh((z=OO[I])==null?void 0:z.properties.config,{})}};O(P)}const R={watch:p,register:y,setValue:x,getValues:h,control:c,setError:v};return m.jsx(m.Fragment,{children:m.jsx("div",{className:"flex flex-col gap-6",children:m.jsx("div",{className:"flex flex-col gap-3",children:m.jsxs("div",{className:"flex flex-col gap-4",children:[n?m.jsx(X9e,{data:N,onReordered:C,extractId:I=>I.id,disableIndices:[0],renderItem:({dnd:I,...P},z)=>m.jsx(v8e,{field:P,index:z,form:R,errors:f,remove:_,dnd:I,routePattern:i},P.id)},N.length):m.jsx("div",{children:N.map((I,P)=>m.jsx(SZ,{field:I,index:P,form:R,errors:f,remove:_,routePattern:i},I.id))}),m.jsx(MM,{className:"flex flex-col w-full",target:({toggle:I})=>m.jsx(x8e,{additionalFieldTypes:r,onSelected:I,onSelect:P=>{A(P)}}),children:m.jsx(lt,{className:"justify-center",children:"Add Field"})})]})})})})}),x8e=({onSelect:e,additionalFieldTypes:t=[],onSelected:n})=>{const r=SO.filter(i=>i.addable!==!1);return t&&r.push(...t),m.jsx("div",{className:"flex flex-row gap-2 justify-center flex-wrap",children:r.map(i=>m.jsx(lt,{IconLeft:i.icon,variant:"ghost",onClick:()=>{var o;i.addable!==!1?e(i.type):(o=i.onClick)==null||o.call(i),n==null||n()},children:i.label},i.type))})},v8e=w.memo(SZ,(e,t)=>e.field.id!==t.field.id);function SZ({field:e,index:t,form:{watch:n,register:r,setValue:i,getValues:o,control:s,setError:a},remove:c,errors:u,dnd:f,routePattern:h}){var z,B,U,H,M;const p=`fields.${t}.field`,y=e.field.type,x=n(`fields.${t}.name`),{active:v,toggle:E}=Z3(h??"",x),N=SO.find(L=>L.type===y),O=Sh(e.field.config,vZ),_=N.disabled||[],C=N.hidden||[],j=t===0,A=!!((z=u==null?void 0:u.fields)!=null&&z[t]),R=y==="primary";function I(L){return()=>{(x.length===0||window.confirm(`Sure to delete "${x}"?`))&&(c(L),E())}}const P=f?{...f.provided.draggableProps,ref:f.provided.innerRef}:{};return m.jsxs("div",{className:Ke("flex flex-col border border-muted rounded bg-background mb-2",v&&"mb-6",A&&"border-red-500 "),...P,children:[m.jsxs("div",{className:"flex flex-row gap-2 px-2 py-2",children:[f?m.jsx("div",{className:"flex items-center",...f.provided.dragHandleProps,children:m.jsx(Tt,{Icon:a3e,className:"mt-1",disabled:j})}):null,m.jsxs("div",{className:"flex flex-row flex-grow gap-4 items-center md:mr-6",children:[m.jsx(Ih,{label:N.label,children:m.jsx("div",{className:"flex flex-row items-center p-2 bg-primary/5 rounded",children:m.jsx(N.icon,{className:"size-5"})})}),e.new?m.jsx(Wn,{error:!!((U=(B=u==null?void 0:u.fields)==null?void 0:B[t])!=null&&U.name.message),placeholder:"Enter a property name...",classNames:{root:"w-full h-full",wrapper:"font-mono h-full",input:"pt-px !h-full"},...r(`fields.${t}.name`),disabled:!e.new}):m.jsxs("div",{className:"font-mono flex-grow flex flex-row gap-3",children:[m.jsx("span",{children:x}),((H=e.field.config)==null?void 0:H.label)&&m.jsx("span",{className:"opacity-50",children:(M=e.field.config)==null?void 0:M.label})]}),m.jsxs("div",{className:"flex-col gap-1 hidden md:flex",children:[m.jsx("span",{className:"text-xs text-primary/50 leading-none",children:"Required"}),R?m.jsx(ll,{size:"sm",defaultChecked:!0,disabled:!0}):m.jsx(bb,{size:"sm",name:`${p}.config.required`,control:s})]})]}),m.jsx("div",{className:"flex items-end",children:m.jsx("div",{className:"flex flex-row gap-4",children:m.jsx(Tt,{size:"lg",Icon:wy,disabled:R,iconProps:{strokeWidth:1.5},onClick:()=>E(),variant:v?"primary":"ghost"})})})]}),v&&m.jsx("div",{className:"flex flex-col border-t border-t-muted px-3 py-2 bg-lightest/50",children:m.jsxs(Ln,{defaultValue:"general",children:[m.jsxs(Ln.List,{className:"flex flex-row",children:[m.jsx(Ln.Tab,{value:"general",children:"General"}),m.jsx(Ln.Tab,{value:"specific",children:pv(y)}),m.jsx(Ln.Tab,{value:"visibility",disabled:!0,children:"Visiblity"}),m.jsx("div",{className:"flex flex-grow"}),m.jsx(Ln.Tab,{value:"code",className:"!self-end",children:"Code"})]}),m.jsx(Ln.Panel,{value:"general",children:m.jsxs("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:[m.jsx("div",{className:"flex flex-row",children:m.jsx(bb,{label:"Required",name:`${p}.config.required`,control:s})}),m.jsx(Wn,{label:"Label",placeholder:"Label",...r(`${p}.config.label`)}),m.jsx(qx,{label:"Description",placeholder:"Description",...r(`${p}.config.description`)}),!C.includes("virtual")&&m.jsx(bb,{label:"Virtual",name:`${p}.config.virtual`,control:s,disabled:_.includes("virtual")})]},`${p}_${y}`)}),m.jsx(Ln.Panel,{value:"specific",children:m.jsx("div",{className:"flex flex-col gap-2 pt-3 pb-1",children:m.jsx(Sy,{schema:b8e(y),formData:O,uiSchema:IR.config,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:L=>{i(`${p}.config`,{...o([`fields.${t}.config`])[0],...L})}},y)})}),m.jsx(Ln.Panel,{value:"code",children:(()=>{const{id:L,...T}=e;return m.jsx(Es,{json:T,expand:4})})()}),m.jsx("div",{className:"flex flex-row justify-end",children:m.jsx(lt,{IconLeft:$X,onClick:I(t),size:"small",variant:"subtlered",children:"Delete"})})]})})]},e.id)}const w8e=ZN;function S8e(){var O,_;const{nextStep:e,stepBack:t,state:n,setState:r}=im(),i=(_=(O=n.entities)==null?void 0:O.create)==null?void 0:_[0],o={id:{type:"primary",name:"id"}},s=w.useRef(null),a=Lb(pEe(i,{fields:o,config:{sort_field:"id",sort_dir:"asc"}})),{control:c,formState:{isValid:u,errors:f},getValues:h,handleSubmit:p,watch:y,setValue:x}=Jc({mode:"onTouched",resolver:Xc(w8e),defaultValues:a}),v=y(),E=Vt(C=>{x("fields",C)});function N(){var C,j;u&&((C=s.current)!=null&&C.isValid())?(r(A=>{var I,P;return((P=(I=A.entities)==null?void 0:I.create)==null?void 0:P[0])?{...A,entities:{create:[h()]}}:A}),console.log("valid"),e("create")()):console.warn("not valid",(j=s.current)==null?void 0:j.getErrors())}return m.jsxs("form",{onSubmit:p(N),children:[m.jsx(nm,{children:m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("p",{children:["Add fields to ",m.jsx("strong",{children:i.name}),":"]}),m.jsx("div",{className:"flex flex-col gap-1",children:m.jsx(wZ,{ref:s,fields:a.fields,onChange:E})})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("p",{children:"How should it be sorted by default?"}),m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(ud,{label:"Field",data:Object.keys(v.fields??{}).filter(C=>C.length>0),placeholder:"Select field",name:"config.sort_field",allowDeselect:!1,control:c}),m.jsx(ud,{label:"Direction",data:["asc","desc"],defaultValue:"asc",placeholder:"Select direction",name:"config.sort_dir",allowDeselect:!1,control:c})]})]}),m.jsx("div",{children:Object.entries(f).map(([C,j])=>m.jsxs("p",{children:[C,": ",j.message]},C))})]})}),m.jsx(rm,{next:{disabled:!u,type:"submit"},prev:{onClick:t},debug:{state:n,values:v}})]})}function BE({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:o,...s}){var h;const{field:{value:a,onChange:c,...u},fieldState:f}=om({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return m.jsx(G2,{value:a,onChange:p=>{c(p),o==null||o(p)},error:(h=f.error)==null?void 0:h.message,...u,...s})}const{Type:iB}=pt;$v(Kx);const MR=[{type:Ii.ManyToOne,label:"Many to One",component:O8e},{type:Ii.OneToOne,label:"One to One",component:_8e},{type:Ii.ManyToMany,label:"Many to Many",component:$8e},{type:Ii.Polymorphic,label:"Polymorphic",component:C8e}],E8e=iB.Object({type:On(MR.map(e=>e.type)),source:nl,target:nl,config:iB.Object({})});function N8e(){var N,O,_;const{config:e}=Bt(),t=e.data.entities,n=Object.keys(t??{}).length,{nextStep:r,stepBack:i,state:o,path:s,setState:a}=im(),{register:c,handleSubmit:u,formState:{isValid:f},setValue:h,watch:p,control:y}=Jc({resolver:Xc(E8e),defaultValues:((O=(N=o.relations)==null?void 0:N.create)==null?void 0:O[0])??{}}),x=p();function v(){f&&(a(C=>({...C,relations:{create:[x]}})),console.log("data",x),r("create")())}const E=Vt(()=>{const{source:C,target:j}=x;C&&j?(h("source",j),h("target",C)):C?(h("target",C),h("source",null)):(h("source",j),h("target",null))});return m.jsxs(m.Fragment,{children:[n<2&&m.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Not enough entities to create a relation."}),m.jsxs("form",{onSubmit:u(v),children:[m.jsxs(nm,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsx(ud,{control:y,name:"source",label:"Source",allowDeselect:!1,data:Object.entries(t??{}).map(([C,j])=>{var A;return{value:C,label:((A=j.config)==null?void 0:A.name)??C,disabled:x.target===C}})}),m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx(ud,{control:y,name:"type",onChange:()=>h("config",{}),label:"Relation Type",data:MR.map(C=>({value:C.type,label:C.label})),allowDeselect:!1}),x.type&&m.jsx("div",{className:"flex justify-center mt-1",children:m.jsx(lt,{size:"small",IconLeft:m3e,onClick:E,children:"Flip entities"})})]}),m.jsx(ud,{control:y,allowDeselect:!1,name:"target",label:"Target",data:Object.entries(t??{}).map(([C,j])=>{var A;return{value:C,label:((A=j.config)==null?void 0:A.name)??C,disabled:x.source===C}})})]}),m.jsx("div",{children:x.type&&((_=MR.find(C=>C.type===x.type))==null?void 0:_.component({register:c,control:y,data:x}))})]}),m.jsx(rm,{next:{type:"submit",disabled:!f,onClick:v},prev:{onClick:i},debug:{state:o,path:s,data:x}})]})]})}const an=({children:e})=>m.jsx("b",{className:"font-mono select-text",children:e}),_O=({children:e})=>m.jsx("div",{className:"bg-primary/5 py-4 px-5 rounded-lg mt-10",children:e});function O8e({register:e,control:t,data:{source:n,target:r,config:i}}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(Wn,{label:"Target mapping",...e("config.mappedBy"),placeholder:r}),m.jsx(BE,{label:"Cardinality",name:"config.sourceCardinality",control:t,placeholder:"n"}),m.jsx(BE,{label:"WITH limit",name:"config.with_limit",control:t,placeholder:String(Nd.DEFAULTS.with_limit)})]}),m.jsx("div",{}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(Wn,{label:"Source mapping",...e("config.inversedBy"),placeholder:n}),m.jsx(ll,{label:"Required",...e("config.required")})]})]}),n&&r&&i&&m.jsx(_O,{children:m.jsxs(m.Fragment,{children:[m.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[m.jsx(by,{className:"size-4"}),n,".",i.mappedBy||r,"_id ",""," ",r]}),m.jsxs("p",{children:["Many ",m.jsx(an,{children:n})," will each have one reference to ",m.jsx(an,{children:r}),"."]}),m.jsxs("p",{children:["A property ",m.jsxs(an,{children:[i.mappedBy||r,"_id"]})," will be added to"," ",m.jsx(an,{children:n})," (which references ",m.jsx(an,{children:r}),")."]}),m.jsxs("p",{children:["When creating ",m.jsx(an,{children:n}),", a reference to ",m.jsx(an,{children:r})," is"," ",m.jsx("i",{children:i.required?"required":"optional"}),"."]}),i.sourceCardinality?m.jsxs("p",{children:[m.jsx(an,{children:r})," should not have more than"," ",m.jsx(an,{children:i.sourceCardinality})," referencing entr",i.sourceCardinality===1?"y":"ies"," to ",m.jsx(an,{children:n}),"."]}):null]})})]})}function _8e({register:e,control:t,data:{source:n,target:r,config:{mappedBy:i,required:o}}}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(Wn,{label:"Target mapping",...e("config.mappedBy"),placeholder:r}),m.jsx(ll,{label:"Required",...e("config.required")})]}),m.jsx("div",{}),m.jsx("div",{className:"flex flex-col gap-4",children:m.jsx(Wn,{label:"Source mapping",...e("config.inversedBy"),placeholder:n})})]}),n&&r&&m.jsx(_O,{children:m.jsxs(m.Fragment,{children:[m.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[m.jsx(by,{className:"size-4"}),n,".",i||r,"_id ",""," ",r]}),m.jsxs("p",{children:["A single entry of ",m.jsx(an,{children:n})," will have a reference to"," ",m.jsx(an,{children:r}),"."]}),m.jsxs("p",{children:["A property ",m.jsxs(an,{children:[i||r,"_id"]})," will be added to"," ",m.jsx(an,{children:n})," (which references ",m.jsx(an,{children:r}),")."]}),m.jsxs("p",{children:["When creating ",m.jsx(an,{children:n}),", a reference to ",m.jsx(an,{children:r})," is"," ",m.jsx("i",{children:o?"required":"optional"}),"."]})]})})]})}function $8e({register:e,control:t,data:{source:n,target:r,config:i}}){const o=i.connectionTable?i.connectionTable:n&&r?`${n}_${r}`:"";return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsx("div",{className:"flex flex-col gap-4"}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(Wn,{label:"Connection Table",...e("config.connectionTable"),placeholder:o}),m.jsx(Wn,{label:"Connection Mapping",...e("config.connectionTableMappedName"),placeholder:o})]}),m.jsx("div",{className:"flex flex-col gap-4"})]}),n&&r&&m.jsx(_O,{children:m.jsxs(m.Fragment,{children:[m.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[m.jsx(by,{className:"size-4"}),n," ",""," ",o," ",""," ",r]}),m.jsxs("p",{children:["Many ",m.jsx(an,{children:n})," will have many ",m.jsx(an,{children:r}),"."]}),m.jsxs("p",{children:["A connection table ",m.jsx(an,{children:o})," will be created to store the relations."]})]})})]})}function C8e({register:e,control:t,data:{type:n,source:r,target:i,config:o}}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-3 gap-8",children:[m.jsx("div",{className:"flex flex-col gap-4",children:m.jsx(Wn,{label:"Target mapping",...e("config.mappedBy"),placeholder:i})}),m.jsx("div",{}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(Wn,{label:"Source mapping",...e("config.inversedBy"),placeholder:r}),m.jsx(BE,{label:"Cardinality",name:"config.targetCardinality",control:t,placeholder:"n"})]})]},n),r&&i&&m.jsx(_O,{children:m.jsxs(m.Fragment,{children:[m.jsxs("pre",{className:"mb-2 opacity-70 flex flex-row items-center gap-2",children:[m.jsx(by,{className:"size-4"}),r," ",""," ",i]}),m.jsxs("p",{children:[m.jsx(an,{children:r})," will have many ",m.jsx(an,{children:i}),"."]}),m.jsxs("p",{children:[m.jsx(an,{children:i})," will get additional properties ",m.jsx(an,{children:"reference"})," and"," ",m.jsx(an,{children:"entity_id"})," to make the (polymorphic) reference."]}),o.targetCardinality?m.jsxs("p",{children:[m.jsx(an,{children:r})," should not have more than"," ",m.jsx(an,{children:o.targetCardinality})," reference",o.targetCardinality===1?"":"s"," to ",m.jsx(an,{children:i}),"."]}):null]})})]})}function PM({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:o,...s}){const{field:{value:a,onChange:c,...u}}=om({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return m.jsx(Za,{value:a,onChange:f=>{c(f),o==null||o(f)},...u,...s})}function j8e({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:o,...s}){var h;const{field:{value:a,onChange:c,...u},fieldState:f}=om({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return m.jsx(K2,{value:a,onChange:p=>{c(p),o==null||o(p)},error:(h=f.error)==null?void 0:h.message,...u,...s})}PM.Group=j8e;PM.Item=Za;const{Type:Bj}=pt,oB=Bj.Object({entity:nl,cardinality_type:On(["single","multiple"],{default:"multiple"}),cardinality:Bj.Optional(Bj.Number({minimum:1})),name:nl});function A8e(){var C,j,A,R;const{stepBack:e,setState:t,state:n,path:r,nextStep:i}=im(),{register:o,handleSubmit:s,formState:{isValid:a,errors:c},watch:u,control:f}=Jc({mode:"onChange",resolver:Xc(oB),defaultValues:vh(oB,n.initial??{})}),[h,p]=w.useState(!1),{config:y}=Bt(),x=y.media.enabled??!1,v=y.media.entity_name??"media",E=yn(y.data.entities??{},(I,P)=>P!==v?I:void 0),N=u(),O=Object.keys(((j=(C=y.data.entities)==null?void 0:C[N.entity])==null?void 0:j.fields)??{});w.useEffect(()=>{p(O.includes(N.name))},[O,N.name]);async function _(){if(a&&!h){const{field:I,relation:P}=T8e(v,N);t(z=>({...z,fields:{create:[I]},relations:{create:[P]}})),i("create")()}}return m.jsxs(m.Fragment,{children:[!x&&m.jsx("div",{className:"px-5 py-4 bg-red-100 text-red-900",children:"Media is not enabled in the configuration. Please enable it to use this template."}),m.jsxs("form",{onSubmit:s(_),children:[m.jsx(nm,{children:m.jsxs("div",{className:"flex flex-col gap-6",children:[m.jsx(ud,{name:"entity",allowDeselect:!1,control:f,size:"md",label:"Choose which entity to add media to",required:!0,data:Object.entries(E).map(([I,P])=>{var z;return{value:I,label:((z=P.config)==null?void 0:z.name)??I}})}),m.jsx(PM.Group,{name:"cardinality_type",control:f,label:"How many items can be attached?",size:"md",children:m.jsxs("div",{className:"flex flex-col gap-1",children:[m.jsx(Za,{label:"Multiple items",value:"multiple"}),m.jsx(Za,{label:"Single item",value:"single"})]})}),N.cardinality_type==="multiple"&&m.jsx(BE,{name:"cardinality",control:f,size:"md",label:"How many exactly?",placeholder:"n",description:"Leave empty for unlimited",inputWrapperOrder:["label","input","description","error"]}),m.jsx(Wn,{size:"md",label:"Set a name for the property",required:!0,description:`A virtual property will be added to ${N.entity?N.entity:"the entity"}.`,...o("name"),error:(A=c.name)!=null&&A.message?(R=c.name)==null?void 0:R.message:h?`Property "${N.name}" already exists on entity ${N.entity}`:void 0})]})}),m.jsx(rm,{next:{type:"submit",disabled:!a||!x||h},prev:{onClick:e},debug:{state:n,path:r,data:N}})]})]})}function T8e(e,t){const n={name:t.name,entity:t.entity,field:{type:"media",config:{required:!1,fillable:["update"],hidden:!1,mime_types:[],virtual:!0,entity:t.entity}}},r={type:"poly",source:t.entity,target:e,config:{mappedBy:t.name,targetCardinality:t.cardinality_type==="single"?1:void 0}};return t.cardinality_type==="multiple"?t.cardinality&&t.cardinality>1&&(n.field.config.max_items=t.cardinality,r.config.targetCardinality=t.cardinality):(n.field.config.max_items=1,r.config.targetCardinality=1),{field:n,relation:r}}const R8e={id:"template-media",title:"Attach Media",description:"Attach media to an entity",Icon:zv},EZ=[[A8e,R8e]];function I8e(){const{nextStep:e,stepBack:t,state:n,path:r,setState:i}=im(),o=n.action??null;function s(a){if(o===a){e(a)();return}i({action:a})}return m.jsxs(m.Fragment,{children:[m.jsxs(nm,{children:[m.jsx("p",{children:"Choose what type to add."}),m.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[m.jsx(zj,{Icon:q4e,title:"Entity",description:"Create a new entity with fields",onClick:()=>s("entity"),selected:o==="entity"}),m.jsx(zj,{Icon:tM,title:"Relation",description:"Create a new relation between entities",onClick:()=>s("relation"),selected:o==="relation"})]}),m.jsxs("div",{className:"flex flex-col gap-2 mt-3",children:[m.jsx("h3",{className:"font-bold",children:"Quick templates"}),m.jsx("div",{className:"grid grid-cols-2 gap-3",children:EZ.map(([,a])=>m.jsx(zj,{compact:!0,Icon:zv,title:a.title,description:a.description,onClick:()=>s(a.id),selected:o===a.id},a.id))})]})]}),m.jsx(rm,{next:{onClick:o&&e(o),disabled:!o},prev:{onClick:t},prevLabel:"Cancel",debug:{state:n,path:r}})]})}const zj=({Icon:e,title:t,description:n,onClick:r,selected:i,compact:o=!1,disabled:s=!1})=>m.jsxs("div",{onClick:s!==!0?r:void 0,className:Ke("flex gap-3 border border-primary/10 rounded cursor-pointer",o?"flex-row p-4 items-center":"flex-col p-5",i?"bg-primary/10 border-primary/50":"hover:bg-primary/5",s&&"opacity-50"),children:[m.jsx(e,{className:"size-10"}),m.jsxs("div",{className:"flex flex-col leading-tight",children:[m.jsx("p",{className:"text-lg font-bold",children:t}),m.jsx("p",{children:n})]})]}),{Type:qn}=pt,NZ=qn.Composite([qn.Object({name:nl}),ZN]),M8e=qn.Union([On(["entity","relation","media"]),qn.String({pattern:"^template-"})]),k8e=qn.Object({entity:nl,name:nl,field:qn.Array(m3)});qn.Object({action:M8e,initial:qn.Optional(qn.Any()),entities:qn.Optional(qn.Object({create:qn.Optional(qn.Array(NZ))})),relations:qn.Optional(qn.Object({create:qn.Optional(qn.Array(qn.Union(p3)))})),fields:qn.Optional(qn.Object({create:qn.Optional(qn.Array(k8e))}))},{additionalProperties:!1});function DM({context:e,id:t,innerProps:{initialPath:n=[],initialState:r}}){const[i,o]=w.useState(n);console.log("...",n,r);function s(){e.closeModal(t)}return m.jsxs(FX,{path:i,lastBack:s,initialPath:n,initialState:r,children:[m.jsxs(If,{id:"select",children:[m.jsx(Rf,{path:["Create New"],onClose:s}),m.jsx(I8e,{})]}),m.jsxs(If,{id:"entity",path:["action"],children:[m.jsx(Rf,{path:["Create New","Entity"],onClose:s}),m.jsx(IMe,{})]}),m.jsxs(If,{id:"entity-fields",path:["action","entity"],children:[m.jsx(Rf,{path:["Create New","Entity","Fields"],onClose:s}),m.jsx(S8e,{})]}),m.jsxs(If,{id:"relation",path:["action"],children:[m.jsx(Rf,{path:["Create New","Relation"],onClose:s}),m.jsx(N8e,{})]}),m.jsxs(If,{id:"create",path:["action"],children:[m.jsx(Rf,{path:["Create New","Creation"],onClose:s}),m.jsx(uMe,{})]}),EZ.map(([a,c])=>m.jsxs(If,{id:c.id,path:["action"],children:[m.jsx(Rf,{path:["Create New","Template",c.title],onClose:s}),m.jsx(a,{})]},c.id))]})}DM.defaultTitle=void 0;DM.modalProps={withCloseButton:!1,size:"xl",padding:0};function FM({innerProps:e}){const{data:t,...n}=e,r=yn(t,(s,a)=>typeof s=="object"&&"label"in s?s:{label:m.jsx("span",{className:"font-mono",children:a}),value:s,expand:10,showCopy:!0,...n}),i=Object.keys(r).length;function o({value:s,label:a,className:c,...u}){return m.jsx(Es,{json:s,className:Rn("text-sm",c),...u})}return m.jsx("div",{className:"bg-background",children:i>1?m.jsxs(Ln,{defaultValue:Object.keys(r)[0],children:[m.jsx("div",{className:"sticky top-0 bg-background z-10",children:m.jsx(Ln.List,{children:Object.entries(r).map(([s,a])=>m.jsx(Ln.Tab,{value:s,children:a.label},s))})}),Object.entries(r).map(([s,a])=>m.jsx(Ln.Panel,{value:s,children:o(a)},s))]}):o({...r[Object.keys(r)[0]],title:r[Object.keys(r)[0]].label})})}FM.defaultTitle=!1;FM.modalProps={withCloseButton:!1,size:"lg",classNames:{body:"!p-0"}};function LM({context:e,id:t,innerProps:{schema:n,uiSchema:r,onSubmit:i,autoCloseAfterSubmit:o}}){const[s,a]=w.useState(!1),c=w.useRef(null),[u,f]=w.useState(!1),h=w.useRef(!1),[p,y]=w.useState();function x(N,O){const _=O();console.log("Data changed",N,_),a(_)}function v(){e.closeModal(t)}async function E(){var N,O;h.current=!0,(N=c.current)!=null&&N.validateForm()&&(f(!0),await(i==null?void 0:i((O=c.current)==null?void 0:O.formData(),{close:v,setError:y})),f(!1),o!==!1&&v())}return m.jsxs(m.Fragment,{children:[p&&m.jsx(Ga.Exception,{message:p}),m.jsxs("div",{className:"pt-3 pb-3 px-4 gap-4 flex flex-col",children:[m.jsx(Sy,{tagName:"form",ref:c,schema:n,uiSchema:r,className:"legacy hide-required-mark fieldset-alternative mute-root",onChange:x,onSubmit:E}),m.jsxs("div",{className:"flex flex-row justify-end gap-2",children:[m.jsx(lt,{onClick:v,children:"Cancel"}),m.jsx(lt,{variant:"primary",onClick:E,disabled:!s||u,children:"Create"})]})]})]})}LM.defaultTitle="JSON Schema Form Modal";LM.modalProps={size:"md",classNames:{root:"bknd-admin",header:"!bg-lightest !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"!font-bold !text-md",body:"!p-0"}};function BM({context:e,id:t,innerProps:n}){return m.jsxs(m.Fragment,{children:[m.jsx("span",{children:n.modalBody}),m.jsx("button",{onClick:()=>e.closeModal(t),children:"Close modal"})]})}BM.defaultTitle="Test Modal";BM.modalProps={classNames:{size:"md",root:"bknd-admin",header:"!bg-primary/5 border-b border-b-muted !py-3 px-5 !h-auto !min-h-px",content:"rounded-lg select-none",title:"font-bold !text-md",body:"py-3 px-5 gap-4 flex flex-col"}};const P8e={in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0.9)"},transitionProperty:"transform, opacity"},D8e=e=>{const[t,n]=w.useState(),r=yl(e==null?void 0:e.baseUrl);return w.useEffect(()=>{(async()=>{const i=await r.auth.strategies();i.res.ok&&n(i.body)})()},[e==null?void 0:e.baseUrl]),{strategies:t==null?void 0:t.strategies,basepath:t==null?void 0:t.basepath,loading:!t}};function sB(e,t){const n={};return e.forEach((r,i)=>{const o=t.querySelector(`[name="${i}"]`);if(!o||r==="")return;const s=i.replace(/\[([^\]]*)\]/g,".$1").split(".").filter(Boolean);let a=n;s.forEach((c,u)=>{if(u===s.length-1){let f=r;o.type==="number"?f=isNaN(Number(r))?r:Number(r):o.type==="checkbox"&&(f="checked"in o&&o.checked),a[c]!==void 0?(Array.isArray(a[c])||(a[c]=[a[c]]),a[c].push(f)):a[c]=f}else(a[c]===void 0||typeof a[c]!="object")&&(a[c]={}),a=a[c]})}),n}var Uj=new Map,F8e=({schema:e,validator:t,validationMode:n="submit",children:r,onChange:i,onSubmit:o,onSubmitInvalid:s,resetOnSubmit:a,revalidateOnError:c=!0,hiddenSubmit:u,...f},h)=>{const p=typeof e!="string",[y,x]=w.useState(p?e:void 0),[v,E]=w.useState(!1),[N,O]=w.useState([]),[_,C]=w.useState(!1),j=w.useRef(null);function A(){C(!1)}w.useImperativeHandle(h,()=>({submit:z,validate:I,reset:B,resetDirty:A,formRef:j})),w.useEffect(()=>{(async()=>{if(!p){if(Uj.has(e)){x(Uj.get(e));return}const U=await fetch(e);if(U.ok){const H=await U.json();x(H),Uj.set(e,H)}}})()},[e]);async function R(U){const H=j.current;if(!H)return;C(!0);const M=U.target;if(!M||!H.contains(M))return;const L=M.name,T=new FormData(H),F=sB(T,H),k=T.get(L);await(i==null?void 0:i(F,{name:L,value:k})),(c&&N.length>0||n==="change")&&await I()}async function I(){const U=j.current;if(!U||!y)return{data:{},errors:[]};const H=new FormData(U),M=sB(H,U),L=await t.validate(y,M);return O(L),{data:M,errors:L}}async function P(U){return U.preventDefault(),await z(),!1}async function z(){const U=j.current;if(!U||!y){console.log("invalid",{form:U,schema:y});return}const{data:H,errors:M}=await I();if(M.length>0)await(s==null?void 0:s(M,H));else{E(!0);try{o?(await(o==null?void 0:o(H)),a&&B()):U.submit()}catch(L){console.error(L),console.warn("You should wrap your submit handler in a try/catch block")}finally{E(!1),C(!1)}}}function B(){var U;(U=j.current)==null||U.reset(),O([])}return m.jsxs("form",{...f,onSubmit:P,ref:j,onChange:R,children:[r({schema:y,submit:z,dirty:_,reset:B,resetDirty:A,submitting:v,errors:N}),u&&m.jsx("input",{type:"submit",style:{visibility:"hidden"},disabled:N.length>0})]})},L8e=w.forwardRef(F8e);function B8e({label:e,provider:t,icon:n,action:r,method:i="POST",basepath:o="/api/auth",children:s}){const a=[o,t,r].join("/");return m.jsxs("form",{method:i,action:a,className:"w-full",children:[m.jsxs(lt,{type:"submit",size:"large",variant:"outline",className:"justify-center w-full",IconLeft:n,children:["Continue with ",e??pv(t)]}),s]})}const{Type:Vj}=pt;class z8e{async validate(t,n){return jc(t,n)?[]:[...Wh(t,n)]}}const U8e=new z8e,V8e=Vj.Object({email:Vj.String({pattern:"^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"}),password:Vj.String({minLength:8})});function q8e({formData:e,className:t,method:n="POST",action:r,auth:i,buttonLabel:o=r==="login"?"Sign in":"Sign up",...s}){var h,p;const a=(i==null?void 0:i.basepath)??"/api/auth",c={action:`${a}/password/${r}`,strategy:((h=i==null?void 0:i.strategies)==null?void 0:h.password)??{}},u=us((i==null?void 0:i.strategies)??{},(y,x,v)=>{x.type!=="password"&&(y[v]=x.config)},{}),f=Object.keys(u).length>0;return m.jsxs("div",{className:"flex flex-col gap-4 w-full",children:[f&&m.jsxs(m.Fragment,{children:[m.jsx("div",{children:(p=Object.entries(u))==null?void 0:p.map(([y,x],v)=>m.jsx(B8e,{provider:y,method:n,basepath:a,action:r},v))}),m.jsx(H8e,{})]}),m.jsx(L8e,{method:n,action:c.action,...s,schema:V8e,validator:U8e,validationMode:"change",className:Rn("flex flex-col gap-3 w-full",t),children:({errors:y,submitting:x})=>m.jsxs(m.Fragment,{children:[m.jsxs(ma,{children:[m.jsx(il,{htmlFor:"email",children:"Email address"}),m.jsx(Jd,{type:"email",name:"email"})]}),m.jsxs(ma,{children:[m.jsx(il,{htmlFor:"password",children:"Password"}),m.jsx(yZ,{name:"password"})]}),m.jsx(lt,{type:"submit",variant:"primary",size:"large",className:"w-full mt-2 justify-center",disabled:y.length>0||x,children:o})]})})]})}const H8e=()=>m.jsxs("div",{className:"w-full flex flex-row items-center",children:[m.jsx("div",{className:"relative flex grow",children:m.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})}),m.jsx("div",{className:"mx-5",children:"or"}),m.jsx("div",{className:"relative flex grow",children:m.jsx("div",{className:"h-px bg-primary/10 w-full absolute top-[50%] z-0"})})]});function W8e({method:e="POST",action:t="login",logo:n,intro:r,formOnly:i}){const{strategies:o,basepath:s,loading:a}=D8e(),c=m.jsx(q8e,{auth:{basepath:s,strategies:o},method:e,action:t});return i?a?null:c:m.jsx("div",{className:"flex flex-1 flex-col select-none h-dvh w-dvw justify-center items-center bknd-admin",children:!a&&m.jsxs("div",{className:"flex flex-col gap-4 items-center w-96 px-6 py-7",children:[n||null,w.isValidElement(r)?r:m.jsxs("div",{className:"flex flex-col items-center",children:[m.jsxs("h1",{className:"text-xl font-bold",children:["Sign ",t==="login"?"in":"up"," to your admin panel"]}),m.jsx("p",{className:"text-primary/50",children:"Enter your credentials below to get access."})]}),c]})})}const OZ={Screen:W8e};function G8e(){const e=w.useRef(0);return e.current++,e.current}const K8e=[".DS_Store","Thumbs.db"];function Yv(e,t){const n=Y8e(e);if(typeof n.path!="string"){const{webkitRelativePath:r}=e;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Y8e(e){const{name:t}=e,n=t&&t.lastIndexOf(".")!==-1;if(console.log("withMimeType",t,n),n&&!e.type){const r=aG(t);console.log("guessed",r),r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}async function V1(e){return zE(e)&&J8e(e.dataTransfer)?eFe(e.dataTransfer,e.type):X8e(e)?Q8e(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?Z8e(e):[]}function J8e(e){return zE(e)}function X8e(e){return zE(e)&&zE(e.target)}function zE(e){return typeof e=="object"&&e!==null}function Q8e(e){return kR(e.target.files).map(t=>Yv(t))}async function Z8e(e){return(await Promise.all(e.map(n=>n.getFile()))).map(n=>Yv(n))}async function eFe(e,t){if(e.items){const n=kR(e.items).filter(i=>i.kind==="file");if(t!=="drop")return n;const r=await Promise.all(n.map(tFe));return aB(_Z(r))}return aB(kR(e.files).map(n=>Yv(n)))}function aB(e){return e.filter(t=>K8e.indexOf(t.name)===-1)}function kR(e){if(e===null)return[];const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(r)}return t}function tFe(e){if(typeof e.webkitGetAsEntry!="function")return lB(e);const t=e.webkitGetAsEntry();return t!=null&&t.isDirectory?$Z(t):lB(e)}function _Z(e){return e.reduce((t,n)=>[...t,...Array.isArray(n)?_Z(n):[n]],[])}function lB(e){const t=e.getAsFile();if(!t)return Promise.reject(`${e} is not a File`);const n=Yv(t);return Promise.resolve(n)}async function nFe(e){return e.isDirectory?$Z(e):rFe(e)}function $Z(e){const t=e.createReader();return new Promise((n,r)=>{const i=[];function o(){t.readEntries(async s=>{if(s.length){const a=Promise.all(s.map(nFe));i.push(a),o()}else try{const a=await Promise.all(i);n(a)}catch(a){r(a)}},s=>{r(s)})}o()})}async function rFe(e){return new Promise((t,n)=>{e.file(r=>{const i=Yv(r,e.fullPath);t(i)},r=>{n(r)})})}const PR={enter:["dragenter","dragover","dragstart"],leave:["dragleave","drop"]},cB=[...PR.enter,...PR.leave];function iFe({onDropped:e,onOver:t,onLeave:n}){const[r,i]=w.useState(!1),o=w.useRef(null),s=w.useRef(!1),a=w.useCallback(h=>{h.preventDefault(),h.stopPropagation()},[]),c=w.useCallback(async h=>{const p=PR.enter.includes(h.type);t&&p!==r&&!s.current&&(t(await V1(h),h),s.current=!0),i(p),p===!1&&s.current&&(s.current=!1,n==null||n())},[]),u=w.useCallback(async h=>{const p=await V1(h);e==null||e(p),s.current=!1},[e]),f=w.useCallback(async h=>{const p=await V1(h);e==null||e(p)},[e]);return w.useEffect(()=>{const h=o.current;return cB.forEach(p=>{h.addEventListener(p,a),h.addEventListener(p,c)}),h.addEventListener("drop",u),()=>{cB.forEach(p=>{h.removeEventListener(p,a),h.removeEventListener(p,c)}),h.removeEventListener("drop",u)}},[]),{ref:o,isOver:r,fromEvent:V1,onDropped:e,handleFileInputChange:f}}function oFe(e,t={overrides:{},baseUrl:""}){return{body:`${t.baseUrl}/api/media/file/${e.path}`,path:e.path,name:e.path,size:e.size??0,type:e.mime_type??"",state:"uploaded",progress:0,...t.overrides}}function sFe(e,t={overrides:{},baseUrl:""}){return e.map(n=>oFe(n,t))}function uB({maxItems:e,current:t=0,overwrite:n,added:r}){if(!e)return{reject:!1,to_drop:0};const i=e-t,o=r>i?r:r-i>0?r-i:0;return{reject:n?r>e:i-r<0,to_drop:o}}const aFe=()=>G3(lO({files:[],isOver:!1,isOverAccepted:!1,uploading:!1},(e,t)=>({setFiles:n=>e(({files:r})=>({files:n(r)})),getFilesLength:()=>t().files.length,setIsOver:(n,r)=>e({isOver:n,isOverAccepted:r}),setUploading:n=>e({uploading:n}),setIsOverAccepted:n=>e({isOverAccepted:n}),reset:()=>e({files:[],isOver:!1,isOverAccepted:!1}),addFile:n=>e(r=>({files:[...r.files,n]})),removeFile:n=>e(r=>({files:r.files.filter(i=>i.path!==n)})),removeAllFiles:()=>e({files:[]}),setFileProgress:(n,r)=>e(i=>({files:i.files.map(o=>o.path===n?{...o,progress:r}:o)})),setFileState:(n,r,i)=>e(o=>({files:o.files.map(s=>s.path===n?{...s,state:r,progress:i??s.progress}:s)}))})));function lFe(e){if(e&&e instanceof XMLHttpRequest){const t=JSON.parse(e.responseText);alert(`Upload failed with code ${e.status}: ${t.error}`)}else alert("Upload failed")}function cFe({getUploadInfo:e,handleDelete:t,initialItems:n=[],flow:r="start",allowedMimeTypes:i,maxItems:o,overwrite:s,autoUpload:a,placeholder:c,onRejected:u,onDeleted:f,onUploaded:h,children:p,onClick:y,footer:x}){const v=w.useRef(aFe()).current,E=wo(v,k=>k.files),N=wo(v,k=>k.setFiles),O=wo(v,k=>k.getFilesLength),_=wo(v,k=>k.setUploading),C=wo(v,k=>k.setIsOver),j=wo(v,k=>k.uploading),A=wo(v,k=>k.setFileState),R=wo(v,k=>k.removeFile),I=w.useRef(null);w.useEffect(()=>{N(()=>n)},[n.length]);function P(k){return(Array.isArray(k)?k:[k]).map(W=>({kind:"kind"in W?W.kind:"file",type:W.type,size:"size"in W?W.size:0})).every(W=>W.kind!=="file"?!1:!(i&&!i.includes(W.type)))}const{handleFileInputChange:z,ref:B}=iFe({onDropped:k=>{if(console.log("onDropped",k),!P(k))return;const q=k.length;N(D=>{let W=0;if(o){const le=uB({maxItems:o,overwrite:s,added:q,current:D.length});if(le.reject)return u?u(k):console.warn("maxItems reached"),D;W=le.to_drop}const X=D.slice(W),oe=X.map(le=>le.path),se=k.filter(le=>le.path&&!oe.includes(le.path)).map(le=>({body:le,path:le.path,name:le.name,size:le.size,type:le.type,state:"pending",progress:0})),ie=r==="start"?[...se,...X]:[...X,...se];return a&&se.length>0&&setTimeout(()=>_(!0),0),ie})},onOver:k=>{if(!P(k)){C(!0,!1);return}const q=O(),D=uB({maxItems:o,overwrite:s,added:k.length,current:q});console.log("--files in onOver",q,D),C(!0,!D.reject)},onLeave:()=>{C(!1,!1)}});w.useEffect(()=>{console.log("files updated")},[E]),w.useEffect(()=>{j&&(async()=>{const k=E.filter(q=>q.state==="pending");if(k.length===0){_(!1);return}else{const q=[];for(const D of k)try{q.push(await U(D))}catch(W){lFe(W)}_(!1),h==null||h(q)}})()},[j]);function U(k){return new Promise((q,D)=>{if(k.body){if(k.state!=="pending"){console.error("File is not pending"),D();return}else if(!(k.body instanceof File)){console.error("File body is not a File instance"),D();return}}else{console.error("File has no body"),D();return}const W=e({path:k.body.path});console.log("dropzone:uploadInfo",W);const{url:X,headers:oe,method:se="POST"}=W,ie=new XMLHttpRequest;console.log("xhr:url",X);const le=new URLSearchParams;s&&le.append("overwrite","1"),ie.open(se,String(X)+"?"+String(le),!0),oe&&oe.forEach((pe,ye)=>{ie.setRequestHeader(ye,pe)}),ie.upload.addEventListener("progress",pe=>{if(console.log("progress",pe.loaded,pe.total),pe.lengthComputable){A(k.path,"uploading",pe.loaded/pe.total);const ye=pe.loaded/pe.total*100;console.log(`Progress: ${ye.toFixed(2)}%`)}else console.log("Unable to compute progress information since the total size is unknown")}),ie.onload=()=>{if(console.log("onload",k.path,ie.status),ie.status>=200&&ie.status<300){console.log("Upload complete");try{const pe=JSON.parse(ie.responseText);console.log("Response:",k,pe);const ye={...pe.state,progress:1,state:"uploaded"};A(k.path,ye.state),q({...pe,...k,...ye})}catch(pe){A(k.path,"uploaded",1),console.error("Error parsing response",pe),D(pe)}}else A(k.path,"failed",1),console.error("Upload failed with status: ",ie.status,ie.statusText),D(ie)},ie.onerror=()=>{console.error("Error during the upload process.")},ie.onloadstart=()=>{A(k.path,"uploading",0),console.log("loadstart")},ie.setRequestHeader("Accept","application/json"),ie.send(k.body)})}const H=w.useCallback(async k=>{switch(console.log("deleteFile",k),k.state){case"uploaded":case"initial":window.confirm("Are you sure you want to delete this file?")&&(console.log('setting state to "deleting"',k),A(k.path,"deleting"),await t(k),R(k.path),f==null||f(k));break}},[]),M=w.useCallback(async k=>{const q=await U(k);h==null||h([q])},[]),L=w.useCallback(()=>{var k;return(k=I.current)==null?void 0:k.click()},[I]),T=w.useMemo(()=>!!((c==null?void 0:c.show)===!0||!o||o&&E.length<o),[c,o,E.length]),F=w.useMemo(()=>({store:v,wrapperRef:B,inputProps:{ref:I,type:"file",multiple:!o||o>1,onChange:z},showPlaceholder:T,actions:{uploadFile:M,deleteFile:H,openFileInput:L},dropzoneProps:{maxItems:o,placeholder:c,autoUpload:a,flow:r},onClick:y,footer:x}),[o,r,c,a,x]);return m.jsx(CZ.Provider,{value:F,children:p?typeof p=="function"?p(F):p:m.jsx(dFe,{...F})})}const CZ=w.createContext(void 0);function zM(){return w.useContext(CZ)}const jZ=()=>{const{store:e}=zM(),t=wo(e,i=>i.files),n=wo(e,i=>i.isOver),r=wo(e,i=>i.isOverAccepted);return{files:t,isOver:n,isOverAccepted:r}},Jv=(e,t)=>{const{store:n}=zM();return wo(n,r=>{const i=typeof e=="string"?r.files.find(o=>o.path===e):r.files.find(o=>o.path===e.path);return i?t(i):void 0})};function uFe(e){if(e&&e instanceof XMLHttpRequest){const t=JSON.parse(e.responseText);alert(`Upload failed with code ${e.status}: ${t.error}`)}else alert("Upload failed")}const dFe=({wrapperRef:e,inputProps:t,showPlaceholder:n,actions:{uploadFile:r,deleteFile:i,openFileInput:o},dropzoneProps:{placeholder:s,flow:a},onClick:c,footer:u})=>{const{files:f,isOver:h,isOverAccepted:p}=jZ(),y=n&&m.jsx(fFe,{onClick:o,text:s==null?void 0:s.text}),x=w.useCallback(async v=>{try{return await r(v)}catch(E){uFe(E)}},[r]);return m.jsxs("div",{ref:e,className:Ke("dropzone w-full h-full align-start flex flex-col select-none",h&&p&&"bg-green-200/10",h&&!p&&"bg-red-200/40 cursor-not-allowed"),children:[m.jsx("div",{className:"hidden",children:m.jsx("input",{...t})}),m.jsx("div",{className:"flex flex-1 flex-col",children:m.jsxs("div",{className:"flex flex-row flex-wrap gap-2 md:gap-3",children:[a==="start"&&y,f.map(v=>m.jsx(mFe,{file:v,handleUpload:x,handleDelete:i,onClick:c},v.path)),a==="end"&&y,u]})})]})},fFe=({onClick:e,text:t="Upload files"})=>m.jsx("div",{className:"w-[49%] aspect-square md:w-60 flex flex-col border-2 border-dashed border-muted relative justify-center items-center text-primary/30 hover:border-primary/30 hover:text-primary/50 hover:cursor-pointer hover:bg-muted/20 transition-colors duration-200",onClick:e,children:m.jsx("span",{className:"",children:t})}),hFe=({file:e,fallback:t,...n})=>e.type.startsWith("image/")?m.jsx(bFe,{...n,file:e}):e.type.startsWith("video/")?m.jsx(xFe,{...n,file:e}):t?t({file:e}):null,AZ=w.memo(hFe,(e,t)=>e.file.path===t.file.path),mFe=w.memo(({file:e,handleUpload:t,handleDelete:n,onClick:r})=>{G8e();const i=Jv(e,s=>{const{progress:a,...c}=s;return c});if(!i)return null;const o=w.useCallback(()=>{r&&r(i)},[r,i.path]);return m.jsxs("div",{className:Ke("w-[49%] md:w-60 aspect-square flex flex-col border border-muted relative hover:bg-primary/5 cursor-pointer transition-colors",i.state==="failed"&&"border-red-500 bg-red-200/20",i.state==="deleting"&&"opacity-70"),onClick:o,children:[m.jsx("div",{className:"absolute top-2 right-2",children:m.jsx(gFe,{file:i,handleDelete:n,handleUpload:t})}),m.jsx(pFe,{file:i}),m.jsx("div",{className:"flex bg-primary/5 aspect-[1/0.78] overflow-hidden items-center justify-center",children:m.jsx(AZ,{file:i,fallback:vFe,className:"max-w-full max-h-full"})}),m.jsxs("div",{className:"flex flex-col px-1.5 py-1",children:[m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx("p",{className:"truncate select-text w-[calc(100%-10px)]",children:i.name}),m.jsx(yFe,{file:i})]}),m.jsxs("div",{className:"flex flex-row justify-between text-sm font-mono opacity-50 text-nowrap gap-2",children:[m.jsx("span",{className:"truncate select-text",children:i.type}),m.jsx("span",{children:PG.fileSize(i.size)})]})]})]})},(e,t)=>e.file.path===t.file.path&&e.file.state===t.file.state),pFe=({file:e})=>{const t=Jv(e.path,n=>({state:n.state,progress:n.progress}));return!t||t.state!=="uploading"?null:m.jsx("div",{className:"absolute w-full top-0 left-0 right-0 h-1",children:m.jsx("div",{className:"bg-blue-600 h-1 transition-all duration-75",style:{width:(t.progress*100).toFixed(0)+"%"}})})},gFe=w.memo(({file:e,handleDelete:t,handleUpload:n})=>{const r=Jv(e.path,o=>{const{progress:s,...a}=o;return a});if(!r)return null;const i=w.useMemo(()=>[r.state==="uploaded"&&typeof r.body=="string"&&{label:"Open",icon:o3e,onClick:()=>{window.open(r.body,"_blank")}},["initial","uploaded"].includes(r.state)&&{label:"Delete",destructive:!0,icon:$X,onClick:()=>t(r)},["initial","pending"].includes(r.state)&&{label:"Upload",icon:y3e,onClick:()=>n(r)}],[r,t,n]);return m.jsx(Li,{items:i,position:"bottom-end",children:m.jsx(Tt,{Icon:Kd})})},(e,t)=>e.file.path===t.file.path),yFe=({file:e})=>{const t=Jv(e.path,r=>r.state);if(!t||t==="uploaded")return null;const n={failed:"bg-red-500",deleting:"bg-orange-500 animate-pulse",uploading:"bg-blue-500 animate-pulse"}[t]??"bg-primary/50";return m.jsx("div",{className:"w-2 h-2 rounded-full mt-px "+n,title:t})},bFe=({file:e,...t})=>{const n=typeof e.body=="string"?e.body:URL.createObjectURL(e.body);return m.jsx("img",{...t,src:n})},xFe=({file:e,...t})=>{const n=typeof e.body=="string"?e.body:URL.createObjectURL(e.body);return m.jsx("video",{...t,src:n})},vFe=({file:e})=>m.jsx("div",{className:"text-xs text-primary/50 text-center",children:e.type});function wFe({initialItems:e,media:t,entity:n,query:r,randomFilename:i,infinite:o=!1,...s}){var j,A;const a=w.useId(),c=yl(),u=F3(),f=c.baseUrl,h=(r==null?void 0:r.limit)??s.maxItems??50,p=R=>({limit:h,offset:R*h}),y=(t==null?void 0:t.entity_name)??"media",x=(R,I=0)=>n?R.data.readManyByReference(n.name,n.id,n.field,{...p(I),...r}):R.data.readMany(y,{...p(I),...r}),v=o?TRe(x,{}):iO(x,{enabled:e!==!1&&!e,revalidateOnFocus:!1}),E=Vt(R=>({url:n?c.media.getEntityUploadUrl(n.name,n.id,n.field):c.media.getFileUploadUrl(i?void 0:R),headers:c.media.getUploadHeaders(),method:"POST"}));Vt(async()=>{await u(v.promise.key({search:!1}))});const N=Vt(async R=>c.media.deleteFile(R.path)),O=e??(Array.isArray(v.data)?v.data:[])??[],_=sFe(O,{baseUrl:f}),C=a+JSON.stringify(_);return m.jsx(cFe,{getUploadInfo:E,handleDelete:N,autoUpload:!0,initialItems:_,footer:o&&"setSize"in v&&m.jsx(SFe,{items:_.length,length:Math.min(((A=(j=v._data)==null?void 0:j[0])==null?void 0:A.body.meta.count)??0,_.length+h),onFirstVisible:()=>v.setSize(v.size+1)}),...s},a+C)}const SFe=({items:e=0,length:t=0,onFirstVisible:n})=>{const{ref:r,inViewport:i}=nse(),[o,s]=w.useState(0),a=w.useRef(-1);return w.useEffect(()=>{i&&e>a.current&&(a.current=e,s(u=>u+1),n())},[i]),t-e<=0?null:new Array(Math.max(t-e,0)).fill(0).map((u,f)=>m.jsx("div",{ref:f===0?r:void 0,className:"w-[49%] md:w-60 bg-muted aspect-square"},f))},UM={Dropzone:wFe,Preview:AZ,useDropzone:zM,useDropzoneState:jZ,useDropzoneFileState:Jv};function TZ(){const{config:e,schema:t,actions:n}=Bt(),r={config:{patch:async o=>await n.set("media",o,!0)?(await n.reload(),!0):!1}};return{$media:{},config:e.media,schema:t.media,actions:r}}class $O extends w.Component{constructor(n){super(n);ee(this,"resetError",()=>{this.setState({hasError:!1,error:void 0})});this.state={hasError:!1,error:void 0}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){const i=this.props.suppressError?"warn":"error";console[i]("ErrorBoundary caught an error:",n,r)}renderFallback(){return this.props.fallback?typeof this.props.fallback=="function"?this.props.fallback({error:this.state.error,resetError:this.resetError}):this.props.fallback:m.jsx(EFe,{children:"Error"})}render(){if(this.state.hasError)return this.renderFallback();if(this.props.suppressError)try{return this.props.children}catch{return this.renderFallback()}return this.props.children}}const EFe=({children:e})=>m.jsx("div",{className:"bg-red-700 text-white py-1 px-2 rounded-md leading-none font-mono",children:e}),Z0={},dB=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,fB=e=>"init"in e,qj=e=>!!e.write,hB=e=>"v"in e||"e"in e,q1=e=>{if("e"in e)throw e.e;if((Z0?"production":void 0)!=="production"&&!("v"in e))throw new Error("[Bug] atom state is not initialized");return e.v},UE=new WeakMap,mB=e=>{var t;return VE(e)&&!!((t=UE.get(e))!=null&&t[0])},NFe=e=>{const t=UE.get(e);t!=null&&t[0]&&(t[0]=!1,t[1].forEach(n=>n()))},RZ=(e,t)=>{let n=UE.get(e);if(!n){n=[!0,new Set],UE.set(e,n);const r=()=>{n[0]=!1};e.then(r,r)}n[1].add(t)},VE=e=>typeof(e==null?void 0:e.then)=="function",IZ=(e,t,n)=>{n.p.has(e)||(n.p.add(e),t.then(()=>{n.p.delete(e)},()=>{n.p.delete(e)}))},Hj=(e,t,n)=>{const r=n(e),i="v"in r,o=r.v;if(VE(t))for(const s of r.d.keys())IZ(e,t,n(s));r.v=t,delete r.e,(!i||!Object.is(o,r.v))&&(++r.n,VE(o)&&NFe(o))},pB=(e,t,n)=>{var r;const i=new Set;for(const o of((r=n.get(e))==null?void 0:r.t)||[])n.has(o)&&i.add(o);for(const o of t.p)i.add(o);return i},OFe=()=>{const e=new Set,t=()=>{e.forEach(n=>n())};return t.add=n=>(e.add(n),()=>{e.delete(n)}),t},Wj=()=>{const e={},t=new WeakMap,n=r=>{var i,o;(i=t.get(e))==null||i.forEach(s=>s(r)),(o=t.get(r))==null||o.forEach(s=>s())};return n.add=(r,i)=>{const o=r||e,s=(t.has(o)?t:t.set(o,new Set)).get(o);return s.add(i),()=>{s==null||s.delete(i),s.size||t.delete(o)}},n},_Fe=e=>(e.c||(e.c=Wj()),e.m||(e.m=Wj()),e.u||(e.u=Wj()),e.f||(e.f=OFe()),e),$Fe=Symbol(),CFe=(e=new WeakMap,t=new WeakMap,n=new WeakMap,r=new Set,i=new Set,o=new Set,s={},a=(p,...y)=>p.read(...y),c=(p,...y)=>p.write(...y),u=(p,y)=>{var x;return(x=p.unstable_onInit)==null?void 0:x.call(p,y)},f=(p,y)=>{var x;return(x=p.onMount)==null?void 0:x.call(p,y)},...h)=>{const p=h[0]||(R=>{if((Z0?"production":void 0)!=="production"&&!R)throw new Error("Atom is undefined or null");let I=e.get(R);return I||(I={d:new Map,p:new Set,n:0},e.set(R,I),u==null||u(R,A)),I}),y=h[1]||(()=>{const R=[],I=P=>{try{P()}catch(z){R.push(z)}};do{s.f&&I(s.f);const P=new Set,z=P.add.bind(P);r.forEach(B=>{var U;return(U=t.get(B))==null?void 0:U.l.forEach(z)}),r.clear(),o.forEach(z),o.clear(),i.forEach(z),i.clear(),P.forEach(I),r.size&&x()}while(r.size||o.size||i.size);if(R.length)throw new AggregateError(R)}),x=h[2]||(()=>{const R=[],I=new WeakSet,P=new WeakSet,z=Array.from(r);for(;z.length;){const B=z[z.length-1],U=p(B);if(P.has(B)){z.pop();continue}if(I.has(B)){if(n.get(B)===U.n)R.push([B,U]);else if((Z0?"production":void 0)!=="production"&&n.has(B))throw new Error("[Bug] invalidated atom exists");P.add(B),z.pop();continue}I.add(B);for(const H of pB(B,U,t))I.has(H)||z.push(H)}for(let B=R.length-1;B>=0;--B){const[U,H]=R[B];let M=!1;for(const L of H.d.keys())if(L!==U&&r.has(L)){M=!0;break}M&&(v(U),O(U)),n.delete(U)}}),v=h[3]||(R=>{var I;const P=p(R);if(hB(P)&&(t.has(R)&&n.get(R)!==P.n||Array.from(P.d).every(([F,k])=>v(F).n===k)))return P;P.d.clear();let z=!0;const B=()=>{t.has(R)&&(O(R),x(),y())},U=F=>{var k;if(dB(R,F)){const D=p(F);if(!hB(D))if(fB(F))Hj(F,F.init,p);else throw new Error("no atom init");return q1(D)}const q=v(F);try{return q1(q)}finally{P.d.set(F,q.n),mB(P.v)&&IZ(R,P.v,q),(k=t.get(F))==null||k.t.add(R),z||B()}};let H,M;const L={get signal(){return H||(H=new AbortController),H.signal},get setSelf(){return(Z0?"production":void 0)!=="production"&&!qj(R)&&console.warn("setSelf function cannot be used with read-only atom"),!M&&qj(R)&&(M=(...F)=>{if((Z0?"production":void 0)!=="production"&&z&&console.warn("setSelf function cannot be called in sync"),!z)try{return N(R,...F)}finally{x(),y()}}),M}},T=P.n;try{const F=a(R,U,L);return Hj(R,F,p),VE(F)&&(RZ(F,()=>H==null?void 0:H.abort()),F.then(B,B)),P}catch(F){return delete P.v,P.e=F,++P.n,P}finally{z=!1,T!==P.n&&n.get(R)===T&&(n.set(R,P.n),r.add(R),(I=s.c)==null||I.call(s,R))}}),E=h[4]||(R=>{const I=[R];for(;I.length;){const P=I.pop(),z=p(P);for(const B of pB(P,z,t)){const U=p(B);n.set(B,U.n),I.push(B)}}}),N=h[5]||((R,...I)=>{let P=!0;const z=U=>q1(v(U)),B=(U,...H)=>{var M;const L=p(U);try{if(dB(R,U)){if(!fB(U))throw new Error("atom not writable");const T=L.n,F=H[0];Hj(U,F,p),O(U),T!==L.n&&(r.add(U),(M=s.c)==null||M.call(s,U),E(U));return}else return N(U,...H)}finally{P||(x(),y())}};try{return c(R,z,B,...I)}finally{P=!1}}),O=h[6]||(R=>{var I;const P=p(R),z=t.get(R);if(z&&!mB(P.v)){for(const[B,U]of P.d)if(!z.d.has(B)){const H=p(B);_(B).t.add(R),z.d.add(B),U!==H.n&&(r.add(B),(I=s.c)==null||I.call(s,B),E(B))}for(const B of z.d||[])if(!P.d.has(B)){z.d.delete(B);const U=C(B);U==null||U.t.delete(R)}}}),_=h[7]||(R=>{var I;const P=p(R);let z=t.get(R);if(!z){v(R);for(const B of P.d.keys())_(B).t.add(R);if(z={l:new Set,d:new Set(P.d.keys()),t:new Set},t.set(R,z),(I=s.m)==null||I.call(s,R),qj(R)){const B=()=>{let U=!0;const H=(...M)=>{try{return N(R,...M)}finally{U||(x(),y())}};try{const M=f(R,H);M&&(z.u=()=>{U=!0;try{M()}finally{U=!1}})}finally{U=!1}};i.add(B)}}return z}),C=h[8]||(R=>{var I;const P=p(R);let z=t.get(R);if(z&&!z.l.size&&!Array.from(z.t).some(B=>{var U;return(U=t.get(B))==null?void 0:U.d.has(R)})){z.u&&o.add(z.u),z=void 0,t.delete(R),(I=s.u)==null||I.call(s,R);for(const B of P.d.keys()){const U=C(B);U==null||U.t.delete(R)}return}return z}),j=[e,t,n,r,i,o,s,a,c,u,f,p,y,x,v,E,N,O,_,C],A={get:R=>q1(v(R)),set:(R,...I)=>{try{return N(R,...I)}finally{x(),y()}},sub:(R,I)=>{const z=_(R).l;return z.add(I),y(),()=>{z.delete(I),C(R),y()}}};return Object.defineProperty(A,$Fe,{value:j}),A},MZ=CFe,jFe=_Fe,gB=RZ,VM={};let AFe=0;function Cg(e,t){const n=`atom${++AFe}`,r={toString(){return(VM?"production":void 0)!=="production"&&this.debugLabel?n+":"+this.debugLabel:n}};return typeof e=="function"?r.read=e:(r.init=e,r.read=TFe,r.write=RFe),t&&(r.write=t),r}function TFe(e){return e(this)}function RFe(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const IFe=()=>{let e=0;const t=jFe({}),n=new WeakMap,r=new WeakMap,i=MZ(n,r,void 0,void 0,void 0,void 0,t,void 0,(a,c,u,...f)=>e?u(a,...f):a.write(c,u,...f)),o=new Set;return t.m.add(void 0,a=>{o.add(a);const c=n.get(a);c.m=r.get(a)}),t.u.add(void 0,a=>{o.delete(a);const c=n.get(a);delete c.m}),Object.assign(i,{dev4_get_internal_weak_map:()=>n,dev4_get_mounted_atoms:()=>o,dev4_restore_atoms:a=>{const c={read:()=>null,write:(u,f)=>{++e;try{for(const[h,p]of a)"init"in h&&f(h,p)}finally{--e}}};i.set(c)}})};function MFe(){return(VM?"production":void 0)!=="production"?IFe():MZ()}let U0;function kZ(){return U0||(U0=MFe(),(VM?"production":void 0)!=="production"&&(globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=U0),globalThis.__JOTAI_DEFAULT_STORE__!==U0&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"))),U0}const kFe={},PFe=w.createContext(void 0);function PZ(e){return w.useContext(PFe)||kZ()}const DZ=e=>typeof(e==null?void 0:e.then)=="function",DFe=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},FFe=De.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(DFe(e),e)}),Gj=new WeakMap,LFe=(e,t)=>{let n=Gj.get(e);return n||(n=new Promise((r,i)=>{let o=e;const s=u=>f=>{o===u&&r(f)},a=u=>f=>{o===u&&i(f)},c=()=>{try{const u=t();DZ(u)?(Gj.set(u,n),o=u,u.then(s(u),a(u)),gB(u,c)):r(u)}catch(u){i(u)}};e.then(s(e),a(e)),gB(e,c)}),Gj.set(e,n)),n};function qM(e,t){const n=PZ(),[[r,i,o],s]=w.useReducer(u=>{const f=n.get(e);return Object.is(u[0],f)&&u[1]===n&&u[2]===e?u:[f,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;if((i!==n||o!==e)&&(s(),a=n.get(e)),w.useEffect(()=>{const u=n.sub(e,()=>{s()});return s(),u},[n,e,void 0]),w.useDebugValue(a),DZ(a)){const u=LFe(a,()=>n.get(e));return FFe(u)}return a}function HM(e,t){const n=PZ();return w.useCallback((...i)=>{if((kFe?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function _y(e,t){return[qM(e),HM(e)]}const WM={},BFe=Symbol((WM?"production":void 0)!=="production"?"RESET":""),Kj=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),zFe=new WeakMap,UFe=(e,t,n,r)=>{const i=Kj(()=>new WeakMap,zFe,t),o=Kj(()=>new WeakMap,i,n);return Kj(e,o,r)};function Xv(e,t,n=Object.is){return UFe(()=>{const r=Symbol(),i=([s,a])=>{if(a===r)return t(s);const c=t(s,a);return n(a,c)?a:c},o=Cg(s=>{const a=s(o),c=s(e);return i([c,a])});return o.init=r,o},e,t,n)}const VFe=e=>typeof(e==null?void 0:e.then)=="function";function qFe(e=()=>{try{return window.localStorage}catch(n){(WM?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){var n;let r,i;const o={getItem:(c,u)=>{var f,h;const p=x=>{if(x=x||"",r!==x){try{i=JSON.parse(x,t==null?void 0:t.reviver)}catch{return u}r=x}return i},y=(h=(f=e())==null?void 0:f.getItem(c))!=null?h:null;return VFe(y)?y.then(p):p(y)},setItem:(c,u)=>{var f;return(f=e())==null?void 0:f.setItem(c,JSON.stringify(u,void 0))},removeItem:c=>{var u;return(u=e())==null?void 0:u.removeItem(c)}},s=c=>(u,f,h)=>c(u,p=>{let y;try{y=JSON.parse(p||"")}catch{y=h}f(y)});let a;try{a=(n=e())==null?void 0:n.subscribe}catch{}return!a&&typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a=(c,u)=>{if(!(e()instanceof window.Storage))return()=>{};const f=h=>{h.storageArea===e()&&h.key===c&&u(h.newValue)};return window.addEventListener("storage",f),()=>{window.removeEventListener("storage",f)}}),a&&(o.subscribe=s(a)),o}const HFe=qFe();function WFe(e,t,n=HFe,r){const i=Cg(t);return(WM?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.onMount=s=>{s(n.getItem(e,t));let a;return n.subscribe&&(a=n.subscribe(e,s,t)),a},Cg(s=>s(i),(s,a,c)=>{const u=typeof c=="function"?c(s(i)):c;return u===BFe?(a(i,t),n.removeItem(e)):u instanceof Promise?u.then(f=>(a(i,f),n.setItem(e,f))):(a(i,u),n.setItem(e,u))})}const GFe={AdditionalItemsError:"Array at `{{pointer}}` may not have an additional item `{{key}}`",AdditionalPropertiesError:"Additional property `{{property}}` on `{{pointer}}` does not match schema `{{schema}}`",AllOfError:"Value `{{value}}` at `{{pointer}}` does not match schema of `{{allOf}}`",AnyOfError:"Value `{{value}}` at `{{pointer}}` does not match any schema of `{{anyOf}}`",ConstError:"Expected value at `{{pointer}}` to be `{{expected}}`, but value given is `{{value}}`",containsAnyError:"The array at `{{pointer}}` must contain at least one item",ContainsArrayError:"The property at `{{pointer}}` must not be an array",ContainsError:"The array at `{{pointer}}` must contain an element that matches `{{schema}}`",ContainsMinError:"The array at `{{pointer}}` contains {{delta}} too few items matching `{{schema}}`",ContainsMaxError:"The array at `{{pointer}}` contains {{delta}} too many items matching `{{schema}}`",EnumError:"Expected given value `{{value}}` in `{{pointer}}` to be one of `{{values}}`",ForbiddenPropertyError:"Property name `{{property}}` at `{{pointer}}` is not allowed",FormatDateError:"Value `{{value}}` at `{{pointer}}` is not a valid date",FormatDateTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid date-time",FormatDurationError:"Value `{{value}}` at `{{pointer}}` is not a valid duration",FormatEmailError:"Value `{{value}}` at `{{pointer}}` is not a valid email",FormatHostnameError:"Value `{{value}}` at `{{pointer}}` is not a valid hostname",FormatIPV4Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv4 address",FormatIPV4LeadingZeroError:"IPv4 addresses starting with zero are invalid, since they are interpreted as octals",FormatIPV6Error:"Value `{{value}}` at `{{pointer}}` is not a valid IPv6 address",FormatIPV6LeadingZeroError:"IPv6 addresses starting with zero are invalid, since they are interpreted as octals",FormatJsonPointerError:"Value `{{value}}` at `{{pointer}}` is not a valid json-pointer",FormatRegExError:"Value `{{value}}` at `{{pointer}}` is not a valid regular expression",FormatTimeError:"Value `{{value}}` at `{{pointer}}` is not a valid time",FormatURIError:"Value `{{value}}` at `{{pointer}}` is not a valid uri",FormatURIReferenceError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-reference",FormatURITemplateError:"Value `{{value}}` at `{{pointer}}` is not a valid uri-template",FormatURLError:"Value `{{value}}` at `{{pointer}}` is not a valid url",FormatUUIDError:"Value `{{value}}` at `{{pointer}}` is not a valid uuid",InvalidDataError:"No value may be specified in `{{pointer}}`",InvalidPropertyNameError:"Invalid property name `{{property}}` at `{{pointer}}`",MaximumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{maximum}}` at maximum",MaxItemsError:"Too many items in `{{pointer}}`, should be `{{maximum}}` at most, but got `{{length}}`",MaxLengthError:"Value `{{pointer}}` should have a maximum length of `{{maxLength}}`, but got `{{length}}`.",MaxPropertiesError:"Too many properties in `{{pointer}}`, should be `{{maxProperties}}` at most, but got `{{length}}`",MinimumError:"Value in `{{pointer}}` is `{{length}}`, but should be `{{minimum}}` at minimum",MinItemsError:"Too few items in `{{pointer}}`, should be at least `{{minItems}}`, but got `{{length}}`",MinItemsOneError:"At least one item is required in `{{pointer}}`",MinLengthError:"Value `{{pointer}}` should have a minimum length of `{{minLength}}`, but got `{{length}}`.",MinLengthOneError:"A value is required in `{{pointer}}`",MinPropertiesError:"Too few properties in `{{pointer}}`, should be at least `{{minProperties}}`, but got `{{length}}`",MissingDependencyError:"The required propery '{{missingProperty}}' in `{{pointer}}` is missing",MissingOneOfPropertyError:"Value at `{{pointer}}` property: `{{property}}`",MultipleOfError:"Expected `{{value}}` in `{{pointer}}` to be multiple of `{{multipleOf}}`",MultipleOneOfError:"Value `{{value}}` should not match multiple schemas in oneOf `{{matches}}`",NoAdditionalPropertiesError:"Additional property `{{property}}` in `{{pointer}}` is not allowed",NotError:"Value `{{value}}` at pointer should not match schema `{{not}}`",OneOfError:"Value `{{value}}` in `{{pointer}}` does not match any given oneof schema",OneOfPropertyError:"Failed finding a matching oneOfProperty schema in `{{pointer}}` where `{{property}}` matches `{{value}}`",PatternError:"Value in `{{pointer}}` should match `{{description}}`, but received `{{received}}`",PatternPropertiesError:"Property `{{key}}` does not match any patterns in `{{pointer}}`. Valid patterns are: {{patterns}}",RequiredPropertyError:"The required property `{{key}}` is missing at `{{pointer}}`",SchemaWarning:"Failed retrieving a schema from '{{pointer}}' to key '{{key}}'",TypeError:"Expected `{{value}}` ({{received}}) in `{{pointer}}` to be of type `{{expected}}`",UndefinedValueError:"Value must not be undefined in `{{pointer}}`",UnevaluatedPropertyError:"Invalid unevaluated property `{{pointer}}`",UnevaluatedItemsError:"Invalid unevaluated item `{{pointer}}`",UniqueItemsError:"Items in array must be unique. Value `{{value}}` in `{{pointer}}` is a duplicate of {{duplicatePointer}}.",UnknownPropertyError:"Could not find a valid schema for property `{{pointer}}` within object",ValueNotEmptyError:"A value for `{{property}}` is required at `{{pointer}}`"},KFe=Object.prototype.toString;function Ft(e){const t=KFe.call(e).match(/\s([^\]]+)\]/).pop().toLowerCase();return t==="file"?"object":t}const YFe="object",JFe="array";function XFe(e,t={}){return e.replace(/\{\{\w+\}\}/g,n=>{const r=n.replace(/[{}]/g,""),i=t[r],o=Ft(i);return o===YFe||o===JFe?JSON.stringify(i):i})}function QFe(e,t,n=e){var r;const i=(r=GFe[e])!==null&&r!==void 0?r:n;return XFe(i,t)}function ZFe(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function eLe(e,t){return{type:"error",name:e,code:ZFe(e),message:QFe(e,t),data:t}}function et(e){return eLe.bind(null,e)}function px(e,t=[]){for(let n=0;n<e.length;n+=1){const r=e[n];Array.isArray(r)?px(r,t):t.push(r)}return t}const Qv={DECLARATOR_ONEOF:"oneOfProperty",GET_TEMPLATE_RECURSION_LIMIT:1,propertyBlacklist:["_id"],templateDefaultOptions:{addOptionalProps:!1,removeInvalidData:!1,extendDefaults:!0}};function fr(e){return(e==null?void 0:e.type)==="error"}function tLe(e){return e instanceof Promise}function qE(e){return fr(e)||tLe(e)}function Yt(e){return Ft(e)==="object"}const{DECLARATOR_ONEOF:Mp}=Qv;function wb(e,t){Yt(e)&&(e.__oneOfIndex=t)}function nLe(e,t){const{schema:n,draft:r,pointer:i}=e;if(t!=null&&n[Mp]){const a=[],c=n[Mp],u=t[n[Mp]];if(u===void 0)return r.errors.missingOneOfPropertyError({property:c,pointer:i,schema:n,value:t});for(let f=0;f<n.oneOf.length;f+=1){const h=e.next(n.oneOf[f]).resolveRef(),p=r.step(h,c,t);if(fr(p))return p;let y=px(r.validate(p,u));if(y=y.filter(qE),y.length>0)a.push(...y);else return wb(h.schema,f),p.next(h.schema)}return r.errors.oneOfPropertyError({property:c,value:u,pointer:i,schema:n,errors:a})}const o=[],s=[];for(let a=0;a<n.oneOf.length;a+=1){const c=r.resolveRef(e.next(n.oneOf[a]));let u=px(r.validate(c,t));u=u.filter(qE),u.length>0?s.push(...u):o.push({index:a,schema:c.schema})}return o.length===1?(wb(o[0].schema,o[0].index),e.next(o[0].schema)):o.length>1?r.errors.multipleOneOfError({value:t,pointer:i,schema:n,matches:o}):r.errors.oneOfError({value:JSON.stringify(t),pointer:i,schema:n,oneOf:n.oneOf,errors:s})}function rLe(e,t){const{draft:n,schema:r,pointer:i}=e;if(t==null||r.properties==null)return-1;let o=0;const s=Object.keys(r.properties);for(let a=0;a<s.length;a+=1){const c=s[a];t[c]&&n.isValid(t[c],r.properties[c],i)&&(o+=1)}return o}function GM(e,t){const{schema:n,pointer:r,draft:i}=e;if(!Array.isArray(n.oneOf))throw new Error("not a oneof schema");if(t!=null&&n[Mp]){const s=[],a=n[Mp],c=t[n[Mp]];if(c===void 0)return i.errors.missingOneOfPropertyError({property:a,pointer:r,schema:n,value:t});for(let u=0;u<n.oneOf.length;u+=1){const f=i.resolveRef(e.next(n.oneOf[u])),h=i.step(f,a,t);if(fr(h))return h;let p=px(i.validate(h,c));if(p=p.filter(qE),p.length>0)s.push(...p);else return wb(f.schema,u),h.next(f.schema)}return i.errors.oneOfPropertyError({property:a,value:c,pointer:r,schema:n,errors:s})}const o=[];for(let s=0;s<n.oneOf.length;s+=1){const c=i.resolveRef(e.next(n.oneOf[s])).schema;i.isValid(t,c,r)&&o.push({schema:c,index:s})}if(o.length===1)return wb(o[0].schema,o[0].index),e.next(o[0].schema);if(Yt(t)){let s,a=-1,c=0;for(let u=0;u<n.oneOf.length;u+=1){const f=i.resolveRef(e.next(n.oneOf[u])),h=rLe(f,t);c<h&&(c=h,s=f.schema,a=u)}return s===void 0?i.errors.oneOfError({value:JSON.stringify(t),pointer:r,schema:n,oneOf:n.oneOf}):(wb(s,a),e.next(s))}return o.length>1?i.errors.multipleOneOfError({matches:o,pointer:r,schema:n,value:t}):i.errors.oneOfError({value:JSON.stringify(t),pointer:r,schema:n,oneOf:n.oneOf})}const iLe=(e,t)=>{if(Array.isArray(e.schema.oneOf)){const n=e.draft.resolveOneOf(e,t);if(fr(n))return n}};function Ki(e,t,...n){if((t==null?void 0:t.type)==="error")return t;if((e==null?void 0:e.type)==="error")return e;const r=Ft(e),i=Ft(t);if(r!==i)return e;const o=_S(e,t);for(let s=0;s<n.length;s+=1)delete o[n[s]];return o}function _S(e,t,n){var r;if(Yt(e)&&Yt(t)){const i={};return[...Object.keys(e),...Object.keys(t)].filter((o,s,a)=>a.indexOf(o)===s).forEach(o=>i[o]=_S(e[o],t[o],o)),i}if(Array.isArray(e)&&Array.isArray(t)){if(n==="required")return e.concat(t).filter((s,a,c)=>c.indexOf(s)===a);if(n==="items"){const s=[];for(let a=0;a<t.length;a+=1)Yt(e[a])&&Yt(t[a])&&e[a].type===t[a].type?s[a]=_S(e[a],t[a]):s.push((r=t[a])!==null&&r!==void 0?r:e[a]);return s}const i=[],o=[];for(let s=0;s<Math.max(e.length,t.length);s+=1)Yt(e[s])&&Yt(t[s])?i[s]=_S(e[s],t[s]):e[s]!==void 0&&t[s]!==void 0?(i[s]=e[s],o.push(t[s])):e[s]!==void 0?i[s]=e[s]:t[s]!==void 0&&o.push(t[s]);return[...i,...o].filter((s,a,c)=>c.indexOf(s)===a)}return Array.isArray(t)?t:Array.isArray(e)?e:t!==void 0?t:e}function DR(e,...t){const n={};return Object.keys(e).forEach(r=>{t.includes(r)||(n[r]=e[r])}),n}function CO(e,t){if(e.schema.if!=null){if(e.schema.if===!1)return e.next(e.schema.else);if(e.schema.if&&(e.schema.then||e.schema.else)){const n=e.draft.resolveRef(e.next(e.schema.if)),r=e.draft.validate(n,t);if(r.length===0&&e.schema.then){const i=e.next(e.schema.then);return e.draft.resolveRef(i)}if(r.length!==0&&e.schema.else){const i=e.next(e.schema.else);return e.draft.resolveRef(i)}}}}const oLe=(e,t)=>{const n=CO(e,t);if(n)return e.draft.validate(n,t)};function FZ(e){return{...e}}function LZ(e,t){const n=CO(e,t);if(n)return n;const r=FZ(e.schema);return e.next(DR(r,"if","then","else"))}function sLe(e,t){const{schema:n}=e;let r=FZ(n);for(let i=0;i<n.allOf.length;i+=1){const o=e.next(n.allOf[i]).resolveRef(),s=LZ(o,t).schema;r=Ki(r,s)}return delete r.allOf,e.next(r)}function BZ(e,t){const{allOf:n}=t;if(!Array.isArray(n)||n.length===0)return;let r={};return n.forEach(i=>{if(i==null)return;const o=e.createNode(i).resolveRef();r=Ki(r,o.schema)}),r}const aLe=(e,t)=>{const{draft:n,schema:r}=e,{allOf:i}=r;if(!Array.isArray(i)||i.length===0)return;const o=[];return r.allOf.forEach(s=>{o.push(...n.validate(e.next(s),t))}),o};function lLe(e,...t){if(e==null)throw new Error("undefined schema");const n=this,r=Ki(n.schema,e,...t);return{...n,schema:r,path:[...n.path,[n.pointer,n.schema]]}}function cLe(){const e=this;return e.draft.resolveRef(e)}function uLe(e,t){if(fr(e))return e;if(e==null)throw new Error("undefined schema");if(!Yt(e)&&Ft(e)!=="boolean")throw new Error(`bad schema type ${Ft(e)}`);const n=this;return{...n,pointer:t?`${n.pointer}/${t}`:n.pointer,schema:e,path:[...n.path,[n.pointer,n.schema]]}}function sa(e){return Yt(e)&&e.next&&e.path&&e.draft}function dLe(e,t,n="#"){return{draft:e,pointer:n,schema:t,path:[],next:uLe,merge:lLe,resolveRef:cLe}}function fLe(e){const t=e.path;let n=0;for(let i=t.length-1;i>=0;i--){const o=t[i][1];if(o.$id&&/^https?:\/\//.test(o.$id)&&o.$recursiveAnchor!==!0){n=i;break}}const r=t.find((i,o)=>o>=n&&i[1].$recursiveAnchor===!0);if(r)return e.next(r[1]);for(let i=t.length-1;i>=0;i--){const o=t[i][1];if(o.$id)return e.next(o)}return e.next(e.draft.rootSchema)}function zZ(e){if(!sa(e))throw new Error("expected node");if(e.schema==null)return e;if(e.schema.$recursiveRef)return zZ(fLe(e));if(e.schema.$ref==null)return e;const t=e.draft.rootSchema.getRef(e.schema);return t===!1?e.next(t):e.merge(t,"$ref")}function hLe(e){return e.filter((t,n)=>e.indexOf(t)===n)}function UZ(e,t){var n;const{schema:r}=e,i=(n=r.dependencies)!==null&&n!==void 0?n:r.dependentSchemas;if(!Yt(i)||!Yt(t))return;let o=!1,s={required:[]};if(Object.keys(i).forEach(a=>{var c,u;if(t[a]==null&&!(!((c=r.required)===null||c===void 0)&&c.includes(a)||!((u=s.required)===null||u===void 0)&&u.includes(a)))return;const f=i[a];if(Array.isArray(f)){o=!0,s.required.push(...f);return}if(Yt(f)){o=!0;const h=e.next(f).resolveRef();s=Ki(s,h.schema);return}}),o)return s.required=hLe(s.required),s}const mLe=(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=r.dependentRequired;if(!Yt(o))return;const s=[];return Object.keys(t).forEach(a=>{const c=o[a];if(c!==!0){if(c===!1){s.push(n.errors.missingDependencyError({pointer:i,schema:r,value:t}));return}if(Array.isArray(c))for(let u=0,f=c.length;u<f;u+=1)t[c[u]]===void 0&&s.push(n.errors.missingDependencyError({missingProperty:c[u],pointer:i,schema:r,value:t}))}}),s},pLe=(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=r.dependentSchemas;if(!Yt(o))return;const s=[];return Object.keys(t).forEach(a=>{const c=o[a];if(c!==!0){if(c===!1){s.push(n.errors.missingDependencyError({pointer:i,schema:r,value:t}));return}Yt(c)&&n.validate(e.next(c),t).map(u=>s.push(u))}}),s},gLe=(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=r.dependencies;if(!Yt(o))return;const s=[];return Object.keys(t).forEach(a=>{if(o[a]===void 0||o[a]===!0)return;if(o[a]===!1){s.push(n.errors.missingDependencyError({pointer:i,schema:r,value:t}));return}let c;const u=Ft(o[a]),f=o[a];if(Array.isArray(f))c=f.filter(h=>t[h]===void 0).map(h=>n.errors.missingDependencyError({missingProperty:h,pointer:i,schema:r,value:t}));else if(u==="object")c=n.validate(e.next(o[a]),t);else throw new Error(`Invalid dependency definition for ${i}/${a}. Must be string[] or schema`);s.push(...c)}),s.length>0?s:void 0};function VZ(e,t){const{draft:n,schema:r}=e;if(!Array.isArray(r.anyOf)||r.anyOf.length===0)return;let i;if(r.anyOf.forEach(o=>{const s=n.resolveRef(e.next(o));n.validate(s,t).length===0&&(i=i?Ki(i,s.schema):s.schema)}),i)return e.next(i)}function yLe(e,t){const{anyOf:n}=e.schema;if(!Array.isArray(n)||n.length===0)return e;const r=VZ(e,t);if(r){const{pointer:i,schema:o}=e;return e.draft.errors.anyOfError({pointer:i,schema:o,value:t,anyOf:JSON.stringify(n)})}return e.merge(r.schema,"anyOf")}const bLe=(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(!Array.isArray(r.anyOf)||r.anyOf.length===0)){for(let o=0;o<r.anyOf.length;o+=1){const s=n.resolveRef(e.next(r.anyOf[o]));if(n.validate(s,t).length===0)return}return n.errors.anyOfError({pointer:i,schema:r,value:t,anyOf:r.anyOf})}},yB=["allOf","anyOf","oneOf","dependencies","if","then","else"],xLe=["allOf","anyOf","oneOf","dependencies","if"];function vLe(e){const t=Object.keys(e);return xLe.findIndex(n=>t.includes(n))!==-1}function FR(e,t){let n,r;const i=e.draft.resolveRef(e),{draft:o}=i,s=sa(i)?i.schema:i;if(s.oneOf){const p=GM(i,t);fr(p)?r=p:p&&(n=Ki(n??{},p.schema))}if(Array.isArray(s.allOf)){const p=s.allOf.map(y=>{if(vLe(y)){const x=FR(i.next(y),t);if(x==null||fr(x))return x;const v=Ki(y,x.schema);return DR(v,...yB)}return y});if(p.length>0){const y=BZ(o,{allOf:p});n=Ki(n??{},y)}}const a=VZ(i,t);a&&a.schema&&(n=Ki(n??{},a.schema));const c=UZ(i,t);c&&(n=Ki(n??{},c));const u=CO(i,t);if(sa(u)&&(n=Ki(n??{},u.schema)),n==null)return r;if(fr(n))return n;const f=FR(i.next(n),t);sa(f)&&(n=Ki(n,f.schema));const h=DR(n,...yB);return i.next(h)}const wLe=["allOf","anyOf","oneOf","dependencies","if","then","else"];function HE(e,t){const n=FR(e,t);return sa(n)?e.merge(n.schema,...wLe):n||e}var SLe=Function.prototype.toString,Yj=Object.create,ELe=Object.prototype.toString,NLe=function(){function e(){this._keys=[],this._values=[]}return e.prototype.has=function(t){return!!~this._keys.indexOf(t)},e.prototype.get=function(t){return this._values[this._keys.indexOf(t)]},e.prototype.set=function(t,n){this._keys.push(t),this._values.push(n)},e}();function OLe(){return new NLe}function _Le(){return new WeakMap}var $Le=typeof WeakMap<"u"?_Le:OLe;function KM(e){if(!e)return Yj(null);var t=e.constructor;if(t===Object)return e===Object.prototype?{}:Yj(e);if(t&&~SLe.call(t).indexOf("[native code]"))try{return new t}catch{}return Yj(e)}function CLe(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}function jLe(e){return e.flags}var ALe=/test/g.flags==="g"?jLe:CLe;function qZ(e){var t=ELe.call(e);return t.substring(8,t.length-1)}function TLe(e){return e[Symbol.toStringTag]||qZ(e)}var RLe=typeof Symbol<"u"?TLe:qZ,ILe=Object.defineProperty,MLe=Object.getOwnPropertyDescriptor,HZ=Object.getOwnPropertyNames,YM=Object.getOwnPropertySymbols,WZ=Object.prototype,GZ=WZ.hasOwnProperty,kLe=WZ.propertyIsEnumerable,KZ=typeof YM=="function";function PLe(e){return HZ(e).concat(YM(e))}var DLe=KZ?PLe:HZ;function jO(e,t,n){for(var r=DLe(e),i=0,o=r.length,s=void 0,a=void 0;i<o;++i)if(s=r[i],!(s==="callee"||s==="caller")){if(a=MLe(e,s),!a){t[s]=n.copier(e[s],n);continue}!a.get&&!a.set&&(a.value=n.copier(a.value,n));try{ILe(t,s,a)}catch{t[s]=a.value}}return t}function FLe(e,t){var n=new t.Constructor;t.cache.set(e,n);for(var r=0,i=e.length;r<i;++r)n[r]=t.copier(e[r],t);return n}function LLe(e,t){var n=new t.Constructor;return t.cache.set(e,n),jO(e,n,t)}function YZ(e,t){return e.slice(0)}function BLe(e,t){return e.slice(0,e.size,e.type)}function zLe(e,t){return new t.Constructor(YZ(e.buffer))}function ULe(e,t){return new t.Constructor(e.getTime())}function JZ(e,t){var n=new t.Constructor;return t.cache.set(e,n),e.forEach(function(r,i){n.set(i,t.copier(r,t))}),n}function VLe(e,t){return jO(e,JZ(e,t),t)}function qLe(e,t){var n=KM(t.prototype);t.cache.set(e,n);for(var r in e)GZ.call(e,r)&&(n[r]=t.copier(e[r],t));return n}function HLe(e,t){var n=KM(t.prototype);t.cache.set(e,n);for(var r in e)GZ.call(e,r)&&(n[r]=t.copier(e[r],t));for(var i=YM(e),o=0,s=i.length,a=void 0;o<s;++o)a=i[o],kLe.call(e,a)&&(n[a]=t.copier(e[a],t));return n}var WLe=KZ?HLe:qLe;function GLe(e,t){var n=KM(t.prototype);return t.cache.set(e,n),jO(e,n,t)}function Jj(e,t){return new t.Constructor(e.valueOf())}function KLe(e,t){var n=new t.Constructor(e.source,ALe(e));return n.lastIndex=e.lastIndex,n}function $S(e,t){return e}function XZ(e,t){var n=new t.Constructor;return t.cache.set(e,n),e.forEach(function(r){n.add(t.copier(r,t))}),n}function YLe(e,t){return jO(e,XZ(e,t),t)}var JLe=Array.isArray,JM=Object.assign,XLe=Object.getPrototypeOf||function(e){return e.__proto__},QZ={array:FLe,arrayBuffer:YZ,blob:BLe,dataView:zLe,date:ULe,error:$S,map:JZ,object:WLe,regExp:KLe,set:XZ},QLe=JM({},QZ,{array:LLe,map:VLe,object:GLe,set:YLe});function ZLe(e){return{Arguments:e.object,Array:e.array,ArrayBuffer:e.arrayBuffer,Blob:e.blob,Boolean:Jj,DataView:e.dataView,Date:e.date,Error:e.error,Float32Array:e.arrayBuffer,Float64Array:e.arrayBuffer,Int8Array:e.arrayBuffer,Int16Array:e.arrayBuffer,Int32Array:e.arrayBuffer,Map:e.map,Number:Jj,Object:e.object,Promise:$S,RegExp:e.regExp,Set:e.set,String:Jj,WeakMap:$S,WeakSet:$S,Uint8Array:e.arrayBuffer,Uint8ClampedArray:e.arrayBuffer,Uint16Array:e.arrayBuffer,Uint32Array:e.arrayBuffer,Uint64Array:e.arrayBuffer}}function ZZ(e){var t=JM({},QZ,e),n=ZLe(t),r=n.Array,i=n.Object;function o(s,a){if(a.prototype=a.Constructor=void 0,!s||typeof s!="object")return s;if(a.cache.has(s))return a.cache.get(s);if(a.prototype=XLe(s),a.Constructor=a.prototype&&a.prototype.constructor,!a.Constructor||a.Constructor===Object)return i(s,a);if(JLe(s))return r(s,a);var c=n[RLe(s)];return c?c(s,a):typeof s.then=="function"?s:i(s,a)}return function(a){return o(a,{Constructor:void 0,cache:$Le(),copier:o,prototype:void 0})}}function e7e(e){return ZZ(JM({},QLe,e))}e7e({});var LR=ZZ({});class t7e{constructor(t,n){this.remotes={},this.errors={},this.typeKeywords={},this.validateKeyword={},this.validateType={},this.validateFormat={},this.config=t,this.typeKeywords=LR(t.typeKeywords),this.validateKeyword=Object.assign({},t.validateKeyword),this.validateType=Object.assign({},t.validateType),this.validateFormat=Object.assign({},t.validateFormat),this.errors=Object.assign({},t.errors),this.setSchema(n)}get rootSchema(){return this.__rootSchema}set rootSchema(t){t!=null&&(this.__rootSchema=this.config.compileSchema(this,t))}addRemoteSchema(t,n){this.config.addRemoteSchema(this,t,n)}compileSchema(t){var n;return this.config.compileSchema(this,t,(n=this.rootSchema)!==null&&n!==void 0?n:t)}createSchemaOf(t){return this.config.createSchemaOf(t)}each(t,n,r,i){const o=this.createNode(r??this.rootSchema,i);return this.config.each(o,t,n)}eachSchema(t,n=this.rootSchema){return this.config.eachSchema(n,t)}getChildSchemaSelection(t,n){return this.config.getChildSchemaSelection(this,t,n)}getSchema(t){const n=this.getSchemaNode(t);return sa(n)?n.schema:n}getSchemaNode(t){return this.config.getSchema(this,t)}getTemplate(t,n,r=this.config.templateDefaultOptions){return this.config.getTemplate(this,t,n,r)}isValid(t,n,r){return this.config.isValid(this,t,n,r)}createNode(t,n="#"){return this.config.createNode(this,t,n)}resolveAnyOf(t,n){return this.config.resolveAnyOf(t,n)}resolveAllOf(t,n){return this.config.resolveAllOf(t,n)}resolveRef(t){return this.config.resolveRef(t)}resolveOneOf(t,n){return this.config.resolveOneOf(t,n)}setSchema(t){this.rootSchema=t}step(t,n,r){return this.config.step(t,n,r)}validate(t,n=this.rootSchema,r){if(sa(t)){const o=n,s=t;return this.config.validate(s,o)}if(fr(t))return[t];const i=this.createNode(n,r);return this.config.validate(i,t)}}function yp(e,t,n,r){const i=t[e];Yt(i)&&Object.keys(i).forEach(o=>{Array.isArray(i[o])||(o==="$defs"?yp("$defs",i[o],n,`${r}/${e}/$defs`):Ys(i[o],n,`${r}/${e}/${o}`))})}function H1(e,t,n,r){const i=t[e];Array.isArray(i)&&i.forEach((o,s)=>Ys(o,n,`${r}/${e}/${s}`))}function Ys(e,t,n=""){e!==void 0&&t(e,n)!==!0&&Yt(e)&&(yp("properties",e,t,n),yp("patternProperties",e,t,n),Ys(e.not,t,`${n}/not`),Ys(e.additionalProperties,t,`${n}/additionalProperties`),yp("dependencies",e,t,n),Yt(e.items)&&Ys(e.items,t,`${n}/items`),H1("items",e,t,n),Ys(e.additionalItems,t,`${n}/additionalItems`),H1("allOf",e,t,n),H1("anyOf",e,t,n),H1("oneOf",e,t,n),Ys(e.if,t,`${n}/if`),Ys(e.then,t,`${n}/then`),Ys(e.else,t,`${n}/else`),yp("definitions",e,t,n),yp("$defs",e,t,n))}const n7e=/(#)+$/,Xj=/#$/,bB=/^[#/]+/,xB=/^[^:]+:\/\/[^/]+\//,r7e=/\/[^/]*$/,i7e=/#.*$/,o7e=/^urn:uuid:[0-9A-Fa-f]/;function vB(e,t){return e==null&&t==null?"#":t==null?e.replace(Xj,""):o7e.test(t)?t:e==null||e===""||e==="#"?t.replace(Xj,""):t[0]==="#"?`${e.replace(i7e,"")}${t.replace(n7e,"")}`:xB.test(t)?t.replace(Xj,""):xB.test(e)&&t.startsWith("/")?`${e.replace(/(^[^:]+:\/\/[^/]+)(.*)/,"$1")}/${t.replace(bB,"")}`:`${e.replace(r7e,"")}/${t.replace(bB,"")}`}var CS={exports:{}},s7e=CS.exports,wB;function a7e(){return wB||(wB=1,function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:s7e,()=>(()=>{var n={d:(B,U)=>{for(var H in U)n.o(U,H)&&!n.o(B,H)&&Object.defineProperty(B,H,{enumerable:!0,get:U[H]})},o:(B,U)=>Object.prototype.hasOwnProperty.call(B,U),r:B=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(B,"__esModule",{value:!0})}},r={};function i(B){return B==="#"||B===""||Array.isArray(B)&&B.length===0||!1}n.r(r),n.d(r,{default:()=>z,get:()=>h,isRoot:()=>i,join:()=>I,remove:()=>C,removeUndefinedItems:()=>_,set:()=>E,split:()=>f,splitLast:()=>P});const o=/~1/g,s=/~0/g,a=/(^#?\/?)/g;function c(B){return B.replace(o,"/").replace(s,"~")}function u(B){return c(decodeURIComponent(B))}function f(B){if(B==null||typeof B!="string"||i(B))return Array.isArray(B)?B:[];const U=B.indexOf("#")>=0?u:c,H=(B=B.replace(a,"")).split("/");for(let M=0,L=H.length;M<L;M+=1)H[M]=U(H[M]);return H}function h(B,U,H=void 0){if(U==null||B==null)return H;if(i(U))return B;const M=p(B,f(U));return M===void 0?H:M}function p(B,U){const H=U.shift();if(B!==void 0)return H!==void 0?p(B[H],U):B}const y=/^\[.*\]$/,x=/^\[(.+)\]$/;function v(B,U){return B==="__proto__"||B=="constructor"&&U.length>0&&U[0]=="prototype"}function E(B,U,H){if(U==null)return B;const M=f(U);if(M.length===0)return B;B==null&&(B=y.test(M[0])?[]:{});let L,T,F=B;for(;M.length>1;)L=M.shift(),T=y.test(M[0]),v(L,M)||(F=O(F,L,T));return L=M.pop(),N(F,L,H),B}function N(B,U,H){let M;const L=U.match(x);U==="[]"&&Array.isArray(B)?B.push(H):L?(M=L.pop(),B[M]=H):B[U]=H}function O(B,U,H){var M,L;const T=(L=(M=U.match(x))===null||M===void 0?void 0:M.pop())!==null&&L!==void 0?L:U;if(B[T]!=null)return B[T];const F=H?[]:{};return N(B,U,F),F}function _(B){let U=0,H=0;for(;U+H<B.length;)B[U+H]===void 0&&(H+=1),B[U]=B[U+H],U+=1;return B.length=B.length-H,B}function C(B,U,H){const M=f(U),L=M.pop(),T=h(B,M);return T&&delete T[L],Array.isArray(T)&&H!==!0&&_(T),B}const j=/~/g,A=/\//g;function R(B,U){if(B.length===0)return U?"#":"";for(let H=0,M=B.length;H<M;H+=1)B[H]=B[H].replace(j,"~0").replace(A,"~1"),U&&(B[H]=encodeURIComponent(B[H]));return(U?"#/":"/")+B.join("/")}function I(B,...U){const H=[];if(Array.isArray(B))return R(B,arguments[1]===!0);const M=arguments[arguments.length-1],L=typeof M=="boolean"?M:B&&B[0]==="#";for(let F=0,k=arguments.length;F<k;F+=1)H.push.apply(H,f(arguments[F]));const T=[];for(let F=0,k=H.length;F<k;F+=1)if(H[F]===".."){if(T.length===0)return L?"#":"";T.pop()}else T.push(H[F]);return R(T,L)}function P(B){const U=f(B);if(U.length===0)return typeof B=="string"&&B[0]==="#"?["#",U[0]]:["",void 0];if(U.length===1)return B[0]==="#"?["#",U[0]]:["",U[0]];const H=U.pop();return[I(U,B[0]==="#"),H]}const z={get:h,set:E,remove:C,join:I,split:f,splitLast:P,isRoot:i,removeUndefinedItems:_};return r})())}(CS)),CS.exports}var Lf=a7e();const l7e=ga(Lf),Qj=/(#)+$/g,c7e=["",null,"#"];function u7e(e){if(c7e.includes(e))return[];if(e=e.replace(Qj,""),e.indexOf("#")===-1)return[e.replace(/(#|\/)+$/g,"")];if(e.indexOf("#")===0)return[e.replace(Qj,"")];const t=e.split("#");return t[0]=t[0].replace(/(#|\/)+$/g,""),t[1]=`#${t[1].replace(Qj,"")}`,t}const d7e=/(#)+$/g,f7e=e=>Ft(e)==="object";function Wl(e,t,n){var r,i,o,s,a;let c;if(f7e(n)?c=n.__ref||n.$ref:c=n,c==null)return t;let u;const f=c.replace(d7e,"");if(e.remotes[f]!=null)return u=e.remotes[f],u&&u.$ref?Wl(e,u,u):u;const h=(r=e.anchors)===null||r===void 0?void 0:r[c];if(h)return Lf.get(t,h);if(e.ids[c]!=null)return u=Lf.get(t,e.ids[c]),u&&u.$ref?Wl(e,t,u):u;const p=c,y=u7e(c);if(y.length===0)return t;if(y.length===1){if(c=y[0],e.remotes[c]&&(u=e.remotes[c],u&&u.$ref))return Wl(e,t,u);if(e.ids[c])return u=Lf.get(t,e.ids[c]),u&&u.$ref?Wl(e,t,u):u;const x=(i=t.getContext)===null||i===void 0?void 0:i.call(t).ids[c];if(x)return Wl(e,t,x)}if(y.length===2){const x=y[0];c=y[1];const v=(o=e.remotes[x])!==null&&o!==void 0?o:e.remotes[`${x}/`];if(v)return v.getContext&&v.getContext().anchors[p]!=null?v.getRef(p):v.getRef?v.getRef(c):Wl(e,v,c);const E=(s=e.ids[x])!==null&&s!==void 0?s:e.ids[`${x}/`];if(E)return Wl(e,Lf.get(t,E),c)}return u=Lf.get(t,(a=e.ids[c])!==null&&a!==void 0?a:c),u&&u.$ref?Wl(e,t,u):u}function lc(e){if(e===void 0)return;const t={type:Ft(e)};return t.type==="object"&&Yt(e)&&(t.properties={},Object.keys(e).forEach(n=>t.properties[n]=lc(e[n]))),t.type==="array"&&Array.isArray(e)&&(e.length===1?t.items=lc(e[0]):t.items=e.map(lc)),t}const h7e={additionalItemsError:et("AdditionalItemsError"),additionalPropertiesError:et("AdditionalPropertiesError"),allOfError:et("AllOfError"),anyOfError:et("AnyOfError"),constError:et("ConstError"),containsAnyError:et("ContainsAnyError"),containsArrayError:et("ContainsArrayError"),containsError:et("ContainsError"),containsMaxError:et("ContainsMaxError"),containsMinError:et("ContainsMinError"),enumError:et("EnumError"),forbiddenPropertyError:et("ForbiddenPropertyError"),formatDateError:et("FormatDateError"),formatDateTimeError:et("FormatDateTimeError"),formatDurationError:et("FormatDurationError"),formatEmailError:et("FormatEmailError"),formatHostnameError:et("FormatHostnameError"),formatIPV4Error:et("FormatIPV4Error"),formatIPV4LeadingZeroError:et("FormatIPV4LeadingZeroError"),formatIPV6Error:et("FormatIPV6Error"),formatIPV6LeadingZeroError:et("FormatIPV6LeadingZeroError"),formatJsonPointerError:et("FormatJsonPointerError"),formatRegExError:et("FormatRegExError"),formatTimeError:et("FormatTimeError"),formatURIError:et("FormatURIError"),formatURIReferenceError:et("FormatURIReferenceError"),formatURITemplateError:et("FormatURITemplateError"),formatURLError:et("FormatURLError"),formatUUIDError:et("FormatUUIDError"),invalidDataError:et("InvalidDataError"),invalidPropertyNameError:et("InvalidPropertyNameError"),invalidSchemaError:et("InvalidSchemaError"),invalidTypeError:et("InvalidTypeError"),maximumError:et("MaximumError"),maxItemsError:et("MaxItemsError"),maxLengthError:et("MaxLengthError"),maxPropertiesError:et("MaxPropertiesError"),minimumError:et("MinimumError"),minItemsError:et("MinItemsError"),minItemsOneError:et("MinItemsOneError"),minLengthError:et("MinLengthError"),minLengthOneError:et("MinLengthOneError"),minPropertiesError:et("MinPropertiesError"),missingDependencyError:et("MissingDependencyError"),missingOneOfPropertyError:et("MissingOneOfPropertyError"),multipleOfError:et("MultipleOfError"),multipleOneOfError:et("MultipleOneOfError"),noAdditionalPropertiesError:et("NoAdditionalPropertiesError"),notError:et("NotError"),oneOfError:et("OneOfError"),oneOfPropertyError:et("OneOfPropertyError"),patternError:et("PatternError"),patternPropertiesError:et("PatternPropertiesError"),requiredPropertyError:et("RequiredPropertyError"),schemaWarning:et("SchemaWarning"),typeError:et("TypeError"),undefinedValueError:et("UndefinedValueError"),unevaluatedItemsError:et("UnevaluatedItemsError"),unevaluatedPropertyError:et("UnevaluatedPropertyError"),uniqueItemsError:et("UniqueItemsError"),unknownPropertyError:et("UnknownPropertyError"),valueNotEmptyError:et("ValueNotEmptyError")};var Zj={exports:{}},SB;function m7e(){return SB||(SB=1,function(e){(function(t){t.exports.is_uri=r,t.exports.is_http_uri=i,t.exports.is_https_uri=o,t.exports.is_web_uri=s,t.exports.isUri=r,t.exports.isHttpUri=i,t.exports.isHttpsUri=o,t.exports.isWebUri=s;var n=function(a){var c=a.match(/(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return c};function r(a){if(a&&!/[^a-z0-9\:\/\?\#\[\]\@\!\$\&\'\(\)\*\+\,\;\=\.\-\_\~\%]/i.test(a)&&!/%[^0-9a-f]/i.test(a)&&!/%[0-9a-f](:?[^0-9a-f]|$)/i.test(a)){var c=[],u="",f="",h="",p="",y="",x="";if(c=n(a),u=c[1],f=c[2],h=c[3],p=c[4],y=c[5],!!(u&&u.length&&h.length>=0)){if(f&&f.length){if(!(h.length===0||/^\//.test(h)))return}else if(/^\/\//.test(h))return;if(/^[a-z][a-z0-9\+\-\.]*$/.test(u.toLowerCase()))return x+=u+":",f&&f.length&&(x+="//"+f),x+=h,p&&p.length&&(x+="?"+p),y&&y.length&&(x+="#"+y),x}}}function i(a,c){if(r(a)){var u=[],f="",h="",p="",y="",x="",v="",E="";if(u=n(a),f=u[1],h=u[2],p=u[3],x=u[4],v=u[5],!!f){if(c){if(f.toLowerCase()!="https")return}else if(f.toLowerCase()!="http")return;if(h)return/:(\d+)$/.test(h)&&(y=h.match(/:(\d+)$/)[0],h=h.replace(/:\d+$/,"")),E+=f+":",E+="//"+h,y&&(E+=y),E+=p,x&&x.length&&(E+="?"+x),v&&v.length&&(E+="#"+v),E}}}function o(a){return i(a,!0)}function s(a){return i(a)||o(a)}})(e)}(Zj)),Zj.exports}var p7e=m7e();const EB=ga(p7e);var Ei={},jS={exports:{}},g7e=jS.exports,NB;function y7e(){return NB||(NB=1,function(e){(function(t,n){e.exports?e.exports=n():t.nearley=n()})(g7e,function(){function t(u,f,h){return this.id=++t.highestId,this.name=u,this.symbols=f,this.postprocess=h,this}t.highestId=0,t.prototype.toString=function(u){var f=typeof u>"u"?this.symbols.map(c).join(" "):this.symbols.slice(0,u).map(c).join(" ")+"  "+this.symbols.slice(u).map(c).join(" ");return this.name+"  "+f};function n(u,f,h,p){this.rule=u,this.dot=f,this.reference=h,this.data=[],this.wantedBy=p,this.isComplete=this.dot===u.symbols.length}n.prototype.toString=function(){return"{"+this.rule.toString(this.dot)+"}, from: "+(this.reference||0)},n.prototype.nextState=function(u){var f=new n(this.rule,this.dot+1,this.reference,this.wantedBy);return f.left=this,f.right=u,f.isComplete&&(f.data=f.build(),f.right=void 0),f},n.prototype.build=function(){var u=[],f=this;do u.push(f.right.data),f=f.left;while(f.left);return u.reverse(),u},n.prototype.finish=function(){this.rule.postprocess&&(this.data=this.rule.postprocess(this.data,this.reference,s.fail))};function r(u,f){this.grammar=u,this.index=f,this.states=[],this.wants={},this.scannable=[],this.completed={}}r.prototype.process=function(u){for(var f=this.states,h=this.wants,p=this.completed,y=0;y<f.length;y++){var x=f[y];if(x.isComplete){if(x.finish(),x.data!==s.fail){for(var v=x.wantedBy,E=v.length;E--;){var N=v[E];this.complete(N,x)}if(x.reference===this.index){var O=x.rule.name;(this.completed[O]=this.completed[O]||[]).push(x)}}}else{var O=x.rule.symbols[x.dot];if(typeof O!="string"){this.scannable.push(x);continue}if(h[O]){if(h[O].push(x),p.hasOwnProperty(O))for(var _=p[O],E=0;E<_.length;E++){var C=_[E];this.complete(x,C)}}else h[O]=[x],this.predict(O)}}},r.prototype.predict=function(u){for(var f=this.grammar.byName[u]||[],h=0;h<f.length;h++){var p=f[h],y=this.wants[u],x=new n(p,0,this.index,y);this.states.push(x)}},r.prototype.complete=function(u,f){var h=u.nextState(f);this.states.push(h)};function i(u,f){this.rules=u,this.start=f||this.rules[0].name;var h=this.byName={};this.rules.forEach(function(p){h.hasOwnProperty(p.name)||(h[p.name]=[]),h[p.name].push(p)})}i.fromCompiled=function(p,f){var h=p.Lexer;p.ParserStart&&(f=p.ParserStart,p=p.ParserRules);var p=p.map(function(x){return new t(x.name,x.symbols,x.postprocess)}),y=new i(p,f);return y.lexer=h,y};function o(){this.reset("")}o.prototype.reset=function(u,f){this.buffer=u,this.index=0,this.line=f?f.line:1,this.lastLineBreak=f?-f.col:0},o.prototype.next=function(){if(this.index<this.buffer.length){var u=this.buffer[this.index++];return u===`
`&&(this.line+=1,this.lastLineBreak=this.index),{value:u}}},o.prototype.save=function(){return{line:this.line,col:this.index-this.lastLineBreak}},o.prototype.formatError=function(u,f){var h=this.buffer;if(typeof h=="string"){var p=h.split(`
`).slice(Math.max(0,this.line-5),this.line),y=h.indexOf(`
`,this.index);y===-1&&(y=h.length);var x=this.index-this.lastLineBreak,v=String(this.line).length;return f+=" at line "+this.line+" col "+x+`:

`,f+=p.map(function(N,O){return E(this.line-p.length+O+1,v)+" "+N},this).join(`
`),f+=`
`+E("",v+x)+`^
`,f}else return f+" at index "+(this.index-1);function E(N,O){var _=String(N);return Array(O-_.length+1).join(" ")+_}};function s(u,f,h){if(u instanceof i)var p=u,h=f;else var p=i.fromCompiled(u,f);this.grammar=p,this.options={keepHistory:!1,lexer:p.lexer||new o};for(var y in h||{})this.options[y]=h[y];this.lexer=this.options.lexer,this.lexerState=void 0;var x=new r(p,0);this.table=[x],x.wants[p.start]=[],x.predict(p.start),x.process(),this.current=0}s.fail={},s.prototype.feed=function(u){var f=this.lexer;f.reset(u,this.lexerState);for(var h;;){try{if(h=f.next(),!h)break}catch(R){var v=new r(this.grammar,this.current+1);this.table.push(v);var p=new Error(this.reportLexerError(R));throw p.offset=this.current,p.token=R.token,p}var y=this.table[this.current];this.options.keepHistory||delete this.table[this.current-1];var x=this.current+1,v=new r(this.grammar,x);this.table.push(v);for(var E=h.text!==void 0?h.text:h.value,N=f.constructor===o?h.value:h,O=y.scannable,_=O.length;_--;){var C=O[_],j=C.rule.symbols[C.dot];if(j.test?j.test(N):j.type?j.type===h.type:j.literal===E){var A=C.nextState({data:N,token:h,isToken:!0,reference:x-1});v.states.push(A)}}if(v.process(),v.states.length===0){var p=new Error(this.reportError(h));throw p.offset=this.current,p.token=h,p}this.options.keepHistory&&(y.lexerState=f.save()),this.current++}return y&&(this.lexerState=f.save()),this.results=this.finish(),this},s.prototype.reportLexerError=function(u){var f,h,p=u.token;return p?(f="input "+JSON.stringify(p.text[0])+" (lexer error)",h=this.lexer.formatError(p,"Syntax error")):(f="input (lexer error)",h=u.message),this.reportErrorCommon(h,f)},s.prototype.reportError=function(u){var f=(u.type?u.type+" token: ":"")+JSON.stringify(u.value!==void 0?u.value:u),h=this.lexer.formatError(u,"Syntax error");return this.reportErrorCommon(h,f)},s.prototype.reportErrorCommon=function(u,f){var h=[];h.push(u);var p=this.table.length-2,y=this.table[p],x=y.states.filter(function(E){var N=E.rule.symbols[E.dot];return N&&typeof N!="string"});if(x.length===0)h.push("Unexpected "+f+`. I did not expect any more input. Here is the state of my parse table:
`),this.displayStateStack(y.states,h);else{h.push("Unexpected "+f+`. Instead, I was expecting to see one of the following:
`);var v=x.map(function(E){return this.buildFirstStateStack(E,[])||[E]},this);v.forEach(function(E){var N=E[0],O=N.rule.symbols[N.dot],_=this.getSymbolDisplay(O);h.push("A "+_+" based on:"),this.displayStateStack(E,h)},this)}return h.push(""),h.join(`
`)},s.prototype.displayStateStack=function(u,f){for(var h,p=0,y=0;y<u.length;y++){var x=u[y],v=x.rule.toString(x.dot);v===h?p++:(p>0&&f.push("    ^ "+p+" more lines identical to this"),p=0,f.push("    "+v)),h=v}},s.prototype.getSymbolDisplay=function(u){return a(u)},s.prototype.buildFirstStateStack=function(u,f){if(f.indexOf(u)!==-1)return null;if(u.wantedBy.length===0)return[u];var h=u.wantedBy[0],p=[u].concat(f),y=this.buildFirstStateStack(h,p);return y===null?null:[u].concat(y)},s.prototype.save=function(){var u=this.table[this.current];return u.lexerState=this.lexerState,u},s.prototype.restore=function(u){var f=u.index;this.current=f,this.table[f]=u,this.table.splice(f+1),this.lexerState=u.lexerState,this.results=this.finish()},s.prototype.rewind=function(u){if(!this.options.keepHistory)throw new Error("set option `keepHistory` to enable rewinding");this.restore(this.table[u])},s.prototype.finish=function(){var u=[],f=this.grammar.start,h=this.table[this.table.length-1];return h.states.forEach(function(p){p.rule.name===f&&p.dot===p.rule.symbols.length&&p.reference===0&&p.data!==s.fail&&u.push(p)}),u.map(function(p){return p.data})};function a(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return"character matching "+u;if(u.type)return u.type+" token";if(u.test)return"token matching "+String(u.test);throw new Error("Unknown symbol type: "+u)}}function c(u){var f=typeof u;if(f==="string")return u;if(f==="object"){if(u.literal)return JSON.stringify(u.literal);if(u instanceof RegExp)return u.toString();if(u.type)return"%"+u.type;if(u.test)return"<"+String(u.test)+">";throw new Error("Unknown symbol type: "+u)}}return{Parser:s,Grammar:i,Rule:t}})}(jS)),jS.exports}var W1={},OB;function b7e(){if(OB)return W1;OB=1,Object.defineProperty(W1,"__esModule",{value:!0});function e(i){return i[0]}const t=i=>[].concat(...i.map(o=>Array.isArray(o)?t(o):o));function n(i){return i?Array.isArray(i)?t(i).join(""):i:""}const r={Lexer:void 0,ParserRules:[{name:"Reverse_path",symbols:["Path"]},{name:"Reverse_path$string$1",symbols:[{literal:"<"},{literal:">"}],postprocess:i=>i.join("")},{name:"Reverse_path",symbols:["Reverse_path$string$1"]},{name:"Forward_path$subexpression$1$subexpression$1",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:"@"}],postprocess:function(i){return i.join("")}},{name:"Forward_path$subexpression$1",symbols:["Forward_path$subexpression$1$subexpression$1","Domain",{literal:">"}]},{name:"Forward_path",symbols:["Forward_path$subexpression$1"]},{name:"Forward_path$subexpression$2",symbols:[{literal:"<"},/[pP]/,/[oO]/,/[sS]/,/[tT]/,/[mM]/,/[aA]/,/[sS]/,/[tT]/,/[eE]/,/[rR]/,{literal:">"}],postprocess:function(i){return i.join("")}},{name:"Forward_path",symbols:["Forward_path$subexpression$2"]},{name:"Forward_path",symbols:["Path"]},{name:"Path$ebnf$1$subexpression$1",symbols:["A_d_l",{literal:":"}]},{name:"Path$ebnf$1",symbols:["Path$ebnf$1$subexpression$1"],postprocess:e},{name:"Path$ebnf$1",symbols:[],postprocess:()=>null},{name:"Path",symbols:[{literal:"<"},"Path$ebnf$1","Mailbox",{literal:">"}]},{name:"A_d_l$ebnf$1",symbols:[]},{name:"A_d_l$ebnf$1$subexpression$1",symbols:[{literal:","},"At_domain"]},{name:"A_d_l$ebnf$1",symbols:["A_d_l$ebnf$1","A_d_l$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"A_d_l",symbols:["At_domain","A_d_l$ebnf$1"]},{name:"At_domain",symbols:[{literal:"@"},"Domain"]},{name:"Domain$ebnf$1",symbols:[]},{name:"Domain$ebnf$1$subexpression$1",symbols:[{literal:"."},"sub_domain"]},{name:"Domain$ebnf$1",symbols:["Domain$ebnf$1","Domain$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Domain",symbols:["sub_domain","Domain$ebnf$1"]},{name:"sub_domain",symbols:["U_label"]},{name:"Let_dig",symbols:["ALPHA_DIGIT"],postprocess:e},{name:"Ldh_str$ebnf$1",symbols:[]},{name:"Ldh_str$ebnf$1",symbols:["Ldh_str$ebnf$1","ALPHA_DIG_DASH"],postprocess:i=>i[0].concat([i[1]])},{name:"Ldh_str",symbols:["Ldh_str$ebnf$1","Let_dig"]},{name:"U_Let_dig",symbols:["ALPHA_DIGIT_U"],postprocess:e},{name:"U_Ldh_str$ebnf$1",symbols:[]},{name:"U_Ldh_str$ebnf$1",symbols:["U_Ldh_str$ebnf$1","ALPHA_DIG_DASH_U"],postprocess:i=>i[0].concat([i[1]])},{name:"U_Ldh_str",symbols:["U_Ldh_str$ebnf$1","U_Let_dig"]},{name:"U_label$ebnf$1$subexpression$1",symbols:["U_Ldh_str"]},{name:"U_label$ebnf$1",symbols:["U_label$ebnf$1$subexpression$1"],postprocess:e},{name:"U_label$ebnf$1",symbols:[],postprocess:()=>null},{name:"U_label",symbols:["U_Let_dig","U_label$ebnf$1"]},{name:"address_literal$subexpression$1",symbols:["IPv4_address_literal"]},{name:"address_literal$subexpression$1",symbols:["IPv6_address_literal"]},{name:"address_literal$subexpression$1",symbols:["General_address_literal"]},{name:"address_literal",symbols:[{literal:"["},"address_literal$subexpression$1",{literal:"]"}]},{name:"non_local_part",symbols:["Domain"],postprocess:function(i){return{DomainName:n(i[0])}}},{name:"non_local_part",symbols:["address_literal"],postprocess:function(i){return{AddressLiteral:n(i[0])}}},{name:"Mailbox",symbols:["Local_part",{literal:"@"},"non_local_part"],postprocess:function(i){return{localPart:n(i[0]),domainPart:n(i[2])}}},{name:"Local_part",symbols:["Dot_string"],postprocess:function(i){return{DotString:n(i[0])}}},{name:"Local_part",symbols:["Quoted_string"],postprocess:function(i){return{QuotedString:n(i[0])}}},{name:"Dot_string$ebnf$1",symbols:[]},{name:"Dot_string$ebnf$1$subexpression$1",symbols:[{literal:"."},"Atom"]},{name:"Dot_string$ebnf$1",symbols:["Dot_string$ebnf$1","Dot_string$ebnf$1$subexpression$1"],postprocess:i=>i[0].concat([i[1]])},{name:"Dot_string",symbols:["Atom","Dot_string$ebnf$1"]},{name:"Atom$ebnf$1",symbols:[/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/]},{name:"Atom$ebnf$1",symbols:["Atom$ebnf$1",/[0-9A-Za-z!#$%&'*+\-/=?^_`{|}~\u0080-\uFFFF/]/],postprocess:i=>i[0].concat([i[1]])},{name:"Atom",symbols:["Atom$ebnf$1"]},{name:"Quoted_string$ebnf$1",symbols:[]},{name:"Quoted_string$ebnf$1",symbols:["Quoted_string$ebnf$1","QcontentSMTP"],postprocess:i=>i[0].concat([i[1]])},{name:"Quoted_string",symbols:["DQUOTE","Quoted_string$ebnf$1","DQUOTE"]},{name:"QcontentSMTP",symbols:["qtextSMTP"]},{name:"QcontentSMTP",symbols:["quoted_pairSMTP"]},{name:"quoted_pairSMTP",symbols:[{literal:"\\"},/[\x20-\x7e]/]},{name:"qtextSMTP",symbols:[/[\x20-\x21\x23-\x5b\x5d-\x7e\u0080-\uFFFF]/],postprocess:e},{name:"IPv4_address_literal$macrocall$2",symbols:[{literal:"."},"Snum"]},{name:"IPv4_address_literal$macrocall$1",symbols:["IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2","IPv4_address_literal$macrocall$2"]},{name:"IPv4_address_literal",symbols:["Snum","IPv4_address_literal$macrocall$1"]},{name:"IPv6_address_literal$subexpression$1",symbols:[/[iI]/,/[pP]/,/[vV]/,{literal:"6"},{literal:":"}],postprocess:function(i){return i.join("")}},{name:"IPv6_address_literal",symbols:["IPv6_address_literal$subexpression$1","IPv6_addr"]},{name:"General_address_literal$ebnf$1",symbols:["dcontent"]},{name:"General_address_literal$ebnf$1",symbols:["General_address_literal$ebnf$1","dcontent"],postprocess:i=>i[0].concat([i[1]])},{name:"General_address_literal",symbols:["Standardized_tag",{literal:":"},"General_address_literal$ebnf$1"]},{name:"Standardized_tag",symbols:["Ldh_str"]},{name:"dcontent",symbols:[/[\x21-\x5a\x5e-\x7e]/],postprocess:e},{name:"Snum",symbols:["DIGIT"]},{name:"Snum$subexpression$1",symbols:[/[1-9]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$1"]},{name:"Snum$subexpression$2",symbols:[{literal:"1"},"DIGIT","DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$2"]},{name:"Snum$subexpression$3",symbols:[{literal:"2"},/[0-4]/,"DIGIT"]},{name:"Snum",symbols:["Snum$subexpression$3"]},{name:"Snum$subexpression$4",symbols:[{literal:"2"},{literal:"5"},/[0-5]/]},{name:"Snum",symbols:["Snum$subexpression$4"]},{name:"IPv6_addr",symbols:["IPv6_full"]},{name:"IPv6_addr",symbols:["IPv6_comp"]},{name:"IPv6_addr",symbols:["IPv6v4_full"]},{name:"IPv6_addr",symbols:["IPv6v4_comp"]},{name:"IPv6_hex",symbols:["HEXDIG"]},{name:"IPv6_hex$subexpression$1",symbols:["HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$1"]},{name:"IPv6_hex$subexpression$2",symbols:["HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$2"]},{name:"IPv6_hex$subexpression$3",symbols:["HEXDIG","HEXDIG","HEXDIG","HEXDIG"]},{name:"IPv6_hex",symbols:["IPv6_hex$subexpression$3"]},{name:"IPv6_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_full$macrocall$1",symbols:["IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2","IPv6_full$macrocall$2"]},{name:"IPv6_full",symbols:["IPv6_hex","IPv6_full$macrocall$1"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2","IPv6_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$1",symbols:["IPv6_comp$ebnf$1$subexpression$1"],postprocess:e},{name:"IPv6_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2","IPv6_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6_comp$ebnf$2$subexpression$1$macrocall$1"]},{name:"IPv6_comp$ebnf$2",symbols:["IPv6_comp$ebnf$2$subexpression$1"],postprocess:e},{name:"IPv6_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6_comp",symbols:["IPv6_comp$ebnf$1","IPv6_comp$string$1","IPv6_comp$ebnf$2"]},{name:"IPv6v4_full$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_full$macrocall$1",symbols:["IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2","IPv6v4_full$macrocall$2"]},{name:"IPv6v4_full",symbols:["IPv6_hex","IPv6v4_full$macrocall$1",{literal:":"},"IPv4_address_literal"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$1$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$1$subexpression$1$macrocall$1"]},{name:"IPv6v4_comp$ebnf$1",symbols:["IPv6v4_comp$ebnf$1$subexpression$1"],postprocess:e},{name:"IPv6v4_comp$ebnf$1",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp$string$1",symbols:[{literal:":"},{literal:":"}],postprocess:i=>i.join("")},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2",symbols:[{literal:":"},"IPv6_hex"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",symbols:["IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$2"]},{name:"IPv6v4_comp$ebnf$2$subexpression$1",symbols:["IPv6_hex","IPv6v4_comp$ebnf$2$subexpression$1$macrocall$1",{literal:":"}]},{name:"IPv6v4_comp$ebnf$2",symbols:["IPv6v4_comp$ebnf$2$subexpression$1"],postprocess:e},{name:"IPv6v4_comp$ebnf$2",symbols:[],postprocess:()=>null},{name:"IPv6v4_comp",symbols:["IPv6v4_comp$ebnf$1","IPv6v4_comp$string$1","IPv6v4_comp$ebnf$2","IPv4_address_literal"]},{name:"DIGIT",symbols:[/[0-9]/],postprocess:e},{name:"ALPHA_DIGIT_U",symbols:[/[0-9A-Za-z\u0080-\uFFFF]/],postprocess:e},{name:"ALPHA_DIGIT",symbols:[/[0-9A-Za-z]/],postprocess:e},{name:"ALPHA_DIG_DASH",symbols:[/[-0-9A-Za-z]/],postprocess:e},{name:"ALPHA_DIG_DASH_U",symbols:[/[-0-9A-Za-z\u0080-\uFFFF]/],postprocess:e},{name:"HEXDIG",symbols:[/[0-9A-Fa-f]/],postprocess:e},{name:"DQUOTE",symbols:[{literal:'"'}],postprocess:e}],ParserStart:"Reverse_path"};return W1.default=r,W1}var _B;function x7e(){if(_B)return Ei;_B=1;var e=Ei&&Ei.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.canonicalize=Ei.canonicalize_quoted_string=Ei.normalize=Ei.normalize_dot_string=Ei.parse=void 0;const t=y7e(),n=e(b7e());n.default.ParserStart="Mailbox";const r=t.Grammar.fromCompiled(n.default);function i(u){const f=new t.Parser(r);if(f.feed(u),f.results.length!==1)throw new Error("address parsing failed: ambiguous grammar");return f.results[0]}Ei.parse=i;function o(u){return function(){const p=u.indexOf("+");return p===-1?u:u.substr(0,p)}().replace(/\./g,"").toLowerCase()}Ei.normalize_dot_string=o;function s(u){var f,h;const p=i(u),y=(f=p.domainPart.AddressLiteral)!==null&&f!==void 0?f:p.domainPart.DomainName.toLowerCase();return`${(h=p.localPart.QuotedString)!==null&&h!==void 0?h:o(p.localPart.DotString)}@${y}`}Ei.normalize=s;function a(u){return`"${u.substr(1).substr(0,u.length-2).replace(/(?:\\(.))/g,"$1").replace(/(?:(["\\]))/g,"\\$1")}"`}Ei.canonicalize_quoted_string=a;function c(u){var f;const h=i(u),p=(f=h.domainPart.AddressLiteral)!==null&&f!==void 0?f:h.domainPart.DomainName.toLowerCase();return`${h.localPart.QuotedString?a(h.localPart.QuotedString):h.localPart.DotString}@${p}`}return Ei.canonicalize=c,Ei}var v7e=x7e();const w7e=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,S7e=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,E7e=/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,N7e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,O7e=/^(?<time>(?:([0-1]\d|2[0-3]):[0-5]\d:(?<second>[0-5]\d|60)))(?:\.\d+)?(?<offset>(?:z|[+-]([0-1]\d|2[0-3])(?::?[0-5]\d)?))$/i,_7e=[0,31,28,31,30,31,30,31,31,30,31,30,31],$7e=/^(?:\/(?:[^~/]|~0|~1)*)*$/,C7e=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,j7e=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,A7e=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,T7e=/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,BR={date:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;const o=t.match(N7e);if(!o)return n.errors.formatDateTimeError({value:t,pointer:i,schema:r});const s=+o[1],a=+o[2],c=+o[3],u=s%4===0&&(s%100!==0||s%400===0);if(!(a>=1&&a<=12&&c>=1&&c<=(a==2&&u?29:_7e[a])))return n.errors.formatDateError({value:t,pointer:i,schema:r})},"date-time":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;const o=t.split(/t/i);if(o.length===2){const s=BR.date(e,o[0])===void 0,a=BR.time(e,o[1])===void 0;if(s&&a)return}return n.errors.formatDateTimeError({value:t,pointer:i,schema:r})},duration:(e,t)=>{if(Ft(t)!=="string")return;const r=/(\d+M)(\d+W)|(\d+Y)(\d+W)/;if(!T7e.test(t)||r.test(t))return e.draft.errors.formatDurationError({value:t,pointer:e.pointer,schema:e.schema})},email:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;if(t[0]==='"')return n.errors.formatEmailError({value:t,pointer:i,schema:r});const[o,s,...a]=t.split("@");if(!o||!s||a.length!==0||o.length>64||s.length>253)return n.errors.formatEmailError({value:t,pointer:i,schema:r});if(o[0]==="."||o.endsWith(".")||o.includes(".."))return n.errors.formatEmailError({value:t,pointer:i,schema:r});if(!/^[a-z0-9.-]+$/i.test(s)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(o))return n.errors.formatEmailError({value:t,pointer:i,schema:r});if(!s.split(".").every(c=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(c)))return n.errors.formatEmailError({value:t,pointer:i,schema:r})},"idn-email":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t===""))try{v7e.parse(t);return}catch{return n.errors.formatEmailError({value:t,pointer:i,schema:r})}},hostname:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t=="string"&&!(t===""||E7e.test(t)))return n.errors.formatHostnameError({value:t,pointer:i,schema:r})},ipv4:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")){if(t&&t[0]==="0")return n.errors.formatIPV4LeadingZeroError({value:t,pointer:i,schema:r});if(!(t.length<=15&&w7e.test(t)))return n.errors.formatIPV4Error({value:t,pointer:i,schema:r})}},ipv6:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")){if(t&&t[0]==="0")return n.errors.formatIPV6LeadingZeroError({value:t,pointer:i,schema:r});if(!(t.length<=45&&S7e.test(t)))return n.errors.formatIPV6Error({value:t,pointer:i,schema:r})}},"json-pointer":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!$7e.test(t))return n.errors.formatJsonPointerError({value:t,pointer:i,schema:r})},"relative-json-pointer":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t=="string"&&!C7e.test(t))return n.errors.formatJsonPointerError({value:t,pointer:i,schema:r})},regex:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t=="string"&&/\\Z$/.test(t)===!1){try{new RegExp(t);return}catch{}return n.errors.formatRegExError({value:t,pointer:i,schema:r})}if(!(typeof t=="object"||typeof t=="number"||Array.isArray(t)))return n.errors.formatRegExError({value:t,pointer:i,schema:r})},time:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(typeof t!="string"||t==="")return;const o=t.match(O7e);if(!o)return n.errors.formatDateTimeError({value:t,pointer:i,schema:r});if(o.groups.second==="60"){if(/23:59:60(z|\+00:00)/i.test(t))return;const s=o.groups.time.match(/(\d+):(\d+):/),a=o.groups.offset.match(/(\d+):(\d+)/);if(a){const c=parseInt(s[1]),u=parseInt(a[1]),f=parseInt(s[2]),h=parseInt(a[2]);let p;/^-/.test(o.groups.offset)?p=(c+u)*60+(f+h):p=(24+c-u)*60+(f-h);const y=Math.floor(p/60),x=y%24,v=p-y*60;if(x===23&&v===59)return}return n.errors.formatDateTimeError({value:t,pointer:i,schema:r})}},uri:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!EB.isUri(t))return n.errors.formatURIError({value:t,pointer:i,schema:r})},"uri-reference":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!j7e.test(t))return n.errors.formatURIReferenceError({value:t,pointer:i,schema:r})},"uri-template":(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!A7e.test(t))return n.errors.formatURITemplateError({value:t,pointer:i,schema:r})},url:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(t===""||EB.isWebUri(t)))return n.errors.formatURLError({value:t,pointer:i,schema:r})},uuid:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!(typeof t!="string"||t==="")&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))return n.errors.formatUUIDError({value:t,pointer:i,schema:r})}};function R7e(e,t,n=e.rootSchema){var r;if(n.oneOf)return n.oneOf.map(o=>e.createNode(o).resolveRef().schema);if(!((r=n.items)===null||r===void 0)&&r.oneOf)return n.items.oneOf.map(o=>e.createNode(o).resolveRef().schema);if(Array.isArray(n.items)&&n.items.length>+t)return[e.step(e.createNode(n),t,{}).schema];if(n.additionalItems&&!Yt(n.items)){const o=n.additionalItems===!0?{type:"string"}:n.additionalItems;return[e.createNode(o).resolveRef().schema]}if(Array.isArray(n.items)&&n.items.length<=+t)return[];const i=e.step(e.createNode(n),t,{});return fr(i)?i:[i.schema]}const eee={};function I7e(e,t=eee){const{pointer:n="#",data:r,schema:i=e.rootSchema,withSchemaWarning:o=!1}=t,s=l7e.split(n),a=e.createNode(i).resolveRef(),c=tee(a,s,r);return!o&&fr(c)&&c.code==="schema-warning"?e.createNode(void 0):c}function tee(e,t,n=eee){if(t.length===0)return e.resolveRef();const r=t.shift(),i=e.draft.step(e,r,n);return fr(i)?i:(n=n[r],tee(i,t,n))}var eA,$B;function M7e(){if($B)return eA;$B=1;var e=function(O){return t(O)&&!n(O)};function t(N){return!!N&&typeof N=="object"}function n(N){var O=Object.prototype.toString.call(N);return O==="[object RegExp]"||O==="[object Date]"||o(N)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function o(N){return N.$$typeof===i}function s(N){return Array.isArray(N)?[]:{}}function a(N,O){return O.clone!==!1&&O.isMergeableObject(N)?v(s(N),N,O):N}function c(N,O,_){return N.concat(O).map(function(C){return a(C,_)})}function u(N,O){if(!O.customMerge)return v;var _=O.customMerge(N);return typeof _=="function"?_:v}function f(N){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(N).filter(function(O){return Object.propertyIsEnumerable.call(N,O)}):[]}function h(N){return Object.keys(N).concat(f(N))}function p(N,O){try{return O in N}catch{return!1}}function y(N,O){return p(N,O)&&!(Object.hasOwnProperty.call(N,O)&&Object.propertyIsEnumerable.call(N,O))}function x(N,O,_){var C={};return _.isMergeableObject(N)&&h(N).forEach(function(j){C[j]=a(N[j],_)}),h(O).forEach(function(j){y(N,j)||(p(N,j)&&_.isMergeableObject(O[j])?C[j]=u(j,_)(N[j],O[j],_):C[j]=a(O[j],_))}),C}function v(N,O,_){_=_||{},_.arrayMerge=_.arrayMerge||c,_.isMergeableObject=_.isMergeableObject||e,_.cloneUnlessOtherwiseSpecified=a;var C=Array.isArray(O),j=Array.isArray(N),A=C===j;return A?C?_.arrayMerge(N,O,_):x(N,O,_):a(O,_)}v.all=function(O,_){if(!Array.isArray(O))throw new Error("first argument should be an array");return O.reduce(function(C,j){return v(C,j,_)},{})};var E=v;return eA=E,eA}var k7e=M7e();const P7e=ga(k7e),D7e=(e,t)=>t,nee=(e,t)=>P7e(e,t,{arrayMerge:D7e});function F7e(e){switch(Ft(e)){case"string":case"array":return(e==null?void 0:e.length)===0;case"null":case"undefined":return!0;case"object":return Object.keys(e).length===0;default:return!1}}const CB=Qv.templateDefaultOptions;let cc;function tA(e,t){const{$ref:n}=e;return n==null?!0:(cc[t]==null||cc[t][n]==null?0:cc[t][n])<Qv.GET_TEMPLATE_RECURSION_LIMIT}function jB(e,t,n){const{$ref:r}=t;return r==null?t:(cc[n]=cc[n]||{},cc[n][r]=cc[n][r]||0,cc[n][r]+=1,e.createNode(t,n).resolveRef().schema)}function L7e(e,t){if(e==="string")return JSON.stringify(t);if(typeof t!="string")return null;try{if(t=JSON.parse(t),typeof t===e)return t}catch{}return null}function ree(e,t,n,r,i){if(Ft(t)!=="object")return Object.assign({pointer:r},t);if(tA(t,r)===!1&&n==null)return!1;let o=LR(jB(e,t,r));if(Array.isArray(t.anyOf)&&t.anyOf.length>0){if(tA(t.anyOf[0],`${r}/anyOf/0`)){const s=jB(e,t.anyOf[0],`${r}/anyOf/0`);o=nee(o,s),o.pointer=t.anyOf[0].$ref||o.pointer}delete o.anyOf}if(Array.isArray(t.allOf)&&t.allOf.map((a,c)=>tA(a,`${r}/allOf/${c}`)).reduceRight((a,c)=>a&&c,!0)){const a=[];let c=LR(n);for(let f=0;f<t.allOf.length;f+=1){const h=e.createNode(t.allOf[f],r);a.push(LZ(h,c).schema),c=xo(e,c,{type:t.type,...a[f]},`${r}/allOf/${f}`,i)}const u=BZ(e,{allOf:a});u&&(o=Ki(o,u))}return o.pointer=o.pointer||t.$ref||r,o}const AB=e=>e&&typeof e=="object";function xo(e,t,n,r,i){var o;if(n==null)throw new Error(`getTemplate: missing schema for data: ${JSON.stringify(t)}`);if(r==null)throw new Error("Missing pointer");let s=ree(e,n,t,r,i);if(!AB(s))return;if(r=s.pointer,s!=null&&s.const)return s.const;if(Array.isArray(s.oneOf))if(F7e(t)){const f=s.oneOf[0].type||s.type||s.const&&typeof s.const||Ft(t);s={...s.oneOf[0],type:f}}else{const f=e.createNode(s,r),h=GM(f,t);if(fr(h)){if(t!=null&&i.removeInvalidData!==!0)return t;s=s.oneOf[0],t=void 0}else{const p=h.schema;p.type=(o=p.type)!==null&&o!==void 0?o:s.type,s=p}}if(!AB(s)||s.type==null)return;if(t instanceof File)return t;const a=Array.isArray(s.type)?B7e(s.type,t,s.default):s.type,c=Ft(t);return t!=null&&c!==a&&!(c==="number"&&a==="integer")&&(t=L7e(a,t)),TB[a]==null?i.removeInvalidData?void 0:t:TB[a](e,s,t,r,i)}function B7e(e,t,n){if(t==null){if(n!=null){const i=Ft(n);if(e.includes(i))return i}return e[0]}const r=Ft(t);return e.includes(r)?r:e[0]}const TB={null:(e,t,n)=>V0(t,n,null),string:(e,t,n)=>V0(t,n,""),number:(e,t,n)=>V0(t,n,0),integer:(e,t,n)=>V0(t,n,0),boolean:(e,t,n)=>V0(t,n,!1),object:(e,t,n,r,i)=>{var o;const s=t.default===void 0?{}:t.default,a={},c=i.extendDefaults===!1&&t.default!==void 0?[]:(o=t.required)!==null&&o!==void 0?o:[];t.properties&&Object.keys(t.properties).forEach(y=>{const x=n==null||n[y]==null?s[y]:n[y],v=c.includes(y);(x!=null||v||i.addOptionalProps)&&(a[y]=xo(e,x,t.properties[y],`${r}/properties/${y}`,i))});const u=e.createNode(t,r);let f=UZ(u,a);if(f){f=Ki(t,f),delete f.dependencies;const y=xo(e,n,f,`${r}/dependencies`,i);Object.assign(a,y)}n&&(i.removeInvalidData===!0&&(t.additionalProperties===!1||Ft(t.additionalProperties)==="object")?Ft(t.additionalProperties)==="object"&&Object.keys(n).forEach(y=>{a[y]==null&&e.isValid(n[y],t.additionalProperties)&&(a[y]=n[y])}):Object.keys(n).forEach(y=>a[y]==null&&(a[y]=n[y])));const h=e.createNode(t,r),p=CO(h,a);if(sa(p)){const y=xo(e,a,{type:"object",...p.schema},r,i);Object.assign(a,y)}return a},array:(e,t,n,r,i)=>{var o,s,a;const c=t.default===void 0?[]:t.default,u=n||c,f=i.extendDefaults===!1&&t.default!==void 0?0:(o=t.minItems)!==null&&o!==void 0?o:0;if(t.items==null){if(t.additionalItems){const p=Math.max(f,u.length);for(let y=0;y<p;y+=1)u[y]=xo(e,u[y],t.additionalItems,`${r}/additionalItems`,i)}return n||[]}if(Array.isArray(t.items)){const p=Math.max(f??0,(a=(s=t.items)===null||s===void 0?void 0:s.length)!==null&&a!==void 0?a:0);for(let y=0;y<p;y+=1)t.items[y]?u[y]=xo(e,u[y]==null?c[y]:u[y],t.items[y],`${r}/items/${y}`,i):t.additionalItems&&(u[y]=xo(e,u[y]==null?c[y]:u[y],t.additionalItems,`${r}/additionalItems`,i));return u}if(Ft(t.items)!=="object")return u;const h=ree(e,t.items,n,r,i);if(h===!1)return u;if(r=h.pointer||r,h.oneOf&&u.length===0){const p=h.oneOf[0];for(let y=0;y<f;y+=1)u[y]=xo(e,u[y]==null?c[y]:u[y],p,`${r}/oneOf/0`,i);return u}if(h.oneOf&&u.length>0){const p=Math.max(f,u.length);for(let y=0;y<p;y+=1){let x=u[y]==null?c[y]:u[y];const v=e.createNode(h,r);let E=GM(v,x);E==null||fr(E)?x!=null&&i.removeInvalidData!==!0?u[y]=x:(x=void 0,E=h.oneOf[0],u[y]=xo(e,x,E,`${r}/oneOf/${y}`,i)):u[y]=xo(e,x,E.schema,`${r}/oneOf/${y}`,i)}return u}if(h.type){for(let p=0,y=Math.max(f,u.length);p<y;p+=1)u[p]=xo(e,u[p]==null?c[p]:u[p],h,`${r}/items`,i);return u}return u}};function V0(e,t,n){return t??(e.const?e.const:e.default===void 0&&Array.isArray(e.enum)?e.enum[0]:e.default===void 0?n:e.default)}const z7e=(e,t,n=e.rootSchema,r)=>(cc={},r?xo(e,t,n,"#",{...CB,...r}):xo(e,t,n,"#",CB));function U7e(e,t,n=e.rootSchema,r="#"){const i=e.createNode(n,r);return e.validate(i,t).length===0}function RB(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const o=e.charCodeAt(n++);(o&64512)==56320?t.push(((i&1023)<<10)+(o&1023)+65536):(t.push(i),n--)}else t.push(i)}return t}function IB(e){const t=`${e}`;if(t.includes("e-"))return parseInt(t.replace(/.*e-/,""));const n=t.indexOf(".");return n===-1?0:t.length-(n+1)}var nA,MB;function V7e(){return MB||(MB=1,nA=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}),nA}var q7e=V7e();const iee=ga(q7e),H7e=Object.prototype.hasOwnProperty,kB=(e,t)=>!(e[t]===void 0||!H7e.call(e,t)),W7e={additionalProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(r.additionalProperties===!0||r.additionalProperties==null||Ft(r.patternProperties)==="object"&&r.additionalProperties===!1)return;const o=[];let s=Object.keys(t).filter(c=>Qv.propertyBlacklist.includes(c)===!1);const a=Object.keys(r.properties||{});if(Ft(r.patternProperties)==="object"){const c=Object.keys(r.patternProperties).map(u=>new RegExp(u));s=s.filter(u=>{for(let f=0;f<c.length;f+=1)if(c[f].test(u))return!1;return!0})}for(let c=0,u=s.length;c<u;c+=1){const f=s[c];if(a.indexOf(f)===-1){const h=Yt(r.additionalProperties);if(h&&Array.isArray(r.additionalProperties.oneOf)){const p=n.resolveOneOf(e.next(r.additionalProperties),t[f]);fr(p)?o.push(n.errors.additionalPropertiesError({pointer:i,schema:r.additionalProperties,value:t,property:s[c],properties:a,errors:p.data.errors})):o.push(...n.validate(e.next(p,f),t[f]))}else if(h){const p=n.validate(e.next(r.additionalProperties,f),t[f]);o.push(...p)}else o.push(n.errors.noAdditionalPropertiesError({pointer:i,schema:r,value:t,property:s[c],properties:a}))}}return o},allOf:aLe,anyOf:bLe,dependencies:gLe,enum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=Ft(t);if(o==="object"||o==="array"){const s=JSON.stringify(t);for(let a=0;a<r.enum.length;a+=1)if(JSON.stringify(r.enum[a])===s)return}else if(r.enum.includes(t))return;return n.errors.enumError({pointer:i,schema:r,value:t,values:r.enum})},format:(e,t)=>{const{draft:n,schema:r}=e;if(n.validateFormat[r.format])return n.validateFormat[r.format](e,t)},items:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(r.items===!1)return Array.isArray(t)&&t.length===0?void 0:n.errors.invalidDataError({pointer:i,value:t,schema:r});const o=[];for(let s=0;s<t.length;s+=1){const a=t[s],c=n.step(e.next(r),s,t);if(fr(c))return[c];const u=n.validate(c,a);o.push(...u)}return o},maximum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.maximum)){if(r.maximum&&r.maximum<t)return n.errors.maximumError({maximum:r.maximum,length:t,value:t,pointer:i,schema:r});if(r.maximum&&r.exclusiveMaximum===!0&&r.maximum===t)return n.errors.maximumError({maximum:r.maximum,length:t,pointer:i,schema:r,value:t})}},maxItems:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.maxItems)&&r.maxItems<t.length)return n.errors.maxItemsError({maximum:r.maxItems,length:t.length,schema:r,value:t,pointer:i})},maxLength:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.maxLength))return;const o=RB(t).length;if(r.maxLength<o)return n.errors.maxLengthError({maxLength:r.maxLength,length:o,pointer:i,schema:r,value:t})},maxProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=Object.keys(t).length;if(isNaN(r.maxProperties)===!1&&r.maxProperties<o)return n.errors.maxPropertiesError({maxProperties:r.maxProperties,length:o,pointer:i,schema:r,value:t})},minLength:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.minLength))return;const o=RB(t).length;if(r.minLength>o)return r.minLength===1?n.errors.minLengthOneError({minLength:r.minLength,length:o,pointer:i,schema:r,value:t}):n.errors.minLengthError({minLength:r.minLength,length:o,pointer:i,schema:r,value:t})},minimum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.minimum)){if(r.minimum>t)return n.errors.minimumError({minimum:r.minimum,length:t,pointer:i,schema:r,value:t});if(r.exclusiveMinimum===!0&&r.minimum===t)return n.errors.minimumError({minimum:r.minimum,length:t,pointer:i,schema:r,value:t})}},minItems:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.minItems)&&r.minItems>t.length)return r.minItems===1?n.errors.minItemsOneError({minItems:r.minItems,length:t.length,pointer:i,schema:r,value:t}):n.errors.minItemsError({minItems:r.minItems,length:t.length,pointer:i,schema:r,value:t})},minProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.minProperties))return;const o=Object.keys(t).length;if(r.minProperties>o)return n.errors.minPropertiesError({minProperties:r.minProperties,length:o,pointer:i,schema:r,value:t})},multipleOf:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(isNaN(r.multipleOf)||typeof t!="number")return;const o=IB(t),s=IB(r.multipleOf);if(o>s)return n.errors.multipleOfError({multipleOf:r.multipleOf,value:t,pointer:i,schema:r});const a=Math.pow(10,s),c=Math.round(t*a),u=Math.round(r.multipleOf*a);if(c%u/a!==0)return n.errors.multipleOfError({multipleOf:r.multipleOf,value:t,pointer:i,schema:r})},not:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=[];return n.validate(e.next(r.not),t).length===0&&o.push(n.errors.notError({value:t,not:r.not,pointer:i,schema:r})),o},oneOf:iLe,pattern:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(new RegExp(r.pattern,"u").test(t)===!1)return n.errors.patternError({pattern:r.pattern,description:r.patternExample||r.pattern,received:t,schema:r,value:t,pointer:i})},patternProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=r.properties||{},s=r.patternProperties;if(Ft(s)!=="object")return;const a=[],c=Object.keys(t),u=Object.keys(s).map(f=>({regex:new RegExp(f),patternSchema:s[f]}));return c.forEach(f=>{let h=!1;for(let p=0,y=u.length;p<y;p+=1)if(u[p].regex.test(f)){h=!0;const x=n.validate(e.next(u[p].patternSchema,f),t[f]);x&&x.length>0&&a.push(...x)}o[f]||h===!1&&r.additionalProperties===!1&&a.push(n.errors.patternPropertiesError({key:f,pointer:i,schema:r,value:t,patterns:Object.keys(s).join(",")}))}),a},properties:(e,t)=>{const{draft:n,schema:r}=e,i=[],o=Object.keys(r.properties||{});for(let s=0;s<o.length;s+=1){const a=o[s];if(kB(t,a)){const c=n.step(e,a,t);if(fr(c))i.push(c);else{const u=n.validate(c,t[a]);i.push(...u)}}}return i},propertiesRequired:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=[],s=Object.keys(r.properties||{});for(let a=0;a<s.length;a+=1){const c=s[a];if(t[c]===void 0)o.push(n.errors.requiredPropertyError({key:c,pointer:i,schema:r,value:t}));else{const u=n.step(e,c,t),f=n.validate(u,t[c]);o.push(...f)}}return o},required:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(Array.isArray(r.required)!==!1)return r.required.map(o=>{if(!kB(t,o))return n.errors.requiredPropertyError({key:o,pointer:i,schema:r,value:t})})},requiredNotEmpty:(e,t)=>{const{schema:n}=e;if(Array.isArray(n.required)!==!1)return n.required.map(r=>{const{draft:i,schema:o,pointer:s}=e;if(t[r]==null||t[r]==="")return i.errors.valueNotEmptyError({property:r,pointer:`${s}/${r}`,schema:o,value:t})})},uniqueItems:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if((Array.isArray(t)&&r.uniqueItems)===!1)return;const o=[],s=[];return t.forEach((a,c)=>{for(let u=c+1;u<t.length;u+=1)iee(a,t[u])&&!o.includes(u)&&(s.push(n.errors.uniqueItemsError({pointer:`${i}/${u}`,duplicatePointer:`${i}/${c}`,arrayPointer:i,value:JSON.stringify(a),schema:r})),o.push(u))}),s}},G7e={array:(e,t,n)=>{const{draft:r,schema:i,pointer:o}=e,s=n==null?void 0:n[t],a=Ft(i.items);if(a==="object")return HE(e.next(i.items,t),s);if(a==="array"){if(i.items[t]===!0)return e.next(lc(s),t);if(i.items[t]===!1)return r.errors.invalidDataError({key:t,value:s,pointer:o,schema:i});if(i.items[t])return r.resolveRef(e.next(i.items[t],t));if(i.additionalItems===!1)return r.errors.additionalItemsError({key:t,value:s,pointer:o,schema:i});if(i.additionalItems===!0||i.additionalItems===void 0)return e.next(lc(s),t);if(Ft(i.additionalItems)==="object")return e.next(i.additionalItems,t);throw new Error(`Invalid schema ${JSON.stringify(i,null,2)} for ${JSON.stringify(n,null,2)}`)}return i.additionalItems!==!1&&s?e.next(lc(s),t):new Error(`Invalid array schema for ${t} at ${o}`)},object:(e,t,n)=>{var r,i;const{draft:o,pointer:s}=e,a=HE(e,n),c=(r=a.schema)!==null&&r!==void 0?r:a,u=(i=c==null?void 0:c.properties)===null||i===void 0?void 0:i[t];if(u!==void 0){if(u===!1)return o.errors.forbiddenPropertyError({property:t,value:n,pointer:s,schema:c});if(u===!0)return e.next(lc(n==null?void 0:n[t]),t);const p=o.resolveRef(e.next(u,t));if(fr(p))return p;if(p&&Array.isArray(p.schema.oneOf)){const y=e.next(p.schema,t),x=o.resolveOneOf(y,n[t]);return fr(x)?x:y.merge(x.schema,"oneOf")}if(p)return p}const{patternProperties:f}=c;if(Ft(f)==="object"){let p;const y=Object.keys(f);for(let x=0,v=y.length;x<v;x+=1)if(p=new RegExp(y[x]),p.test(t))return e.next(f[y[x]],t)}const{additionalProperties:h}=c;if(Ft(h)==="object")return e.next(c.additionalProperties,t);if(n&&(h===void 0||h===!0)){const p=lc(n[t]);return p?e.next(p,t):void 0}return o.errors.unknownPropertyError({property:t,value:n,pointer:`${s}`,schema:c})}};function K7e(e,t,n){var r;const{draft:i,schema:o,pointer:s}=e,a=Ft(n);let c=(r=o.type)!==null&&r!==void 0?r:a;if(Array.isArray(c)){if(!c.includes(a))return i.errors.typeError({value:n,pointer:s,expected:o.type,received:a,schema:o});c=a}const u=G7e[c];if(u){const f=u(e,`${t}`,n);return f===void 0?i.errors.schemaWarning({pointer:s,value:n,schema:o,key:t}):f}return new Error(`Unsupported schema type ${o.type} for key ${t}`)}const Y7e={array:(e,t)=>e.draft.typeKeywords.array.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),object:(e,t)=>e.draft.typeKeywords.object.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),string:(e,t)=>e.draft.typeKeywords.string.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),integer:(e,t)=>e.draft.typeKeywords.number.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),number:(e,t)=>e.draft.typeKeywords.number.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),boolean:(e,t)=>e.draft.typeKeywords.boolean.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t)),null:(e,t)=>e.draft.typeKeywords.null.filter(n=>e.schema&&e.schema[n]!=null).map(n=>e.draft.validateKeyword[n](e,t))};function J7e(e,t){const n=Ft(e);return n==="number"&&(t==="integer"||Array.isArray(t)&&t.includes("integer"))?Number.isInteger(e)||isNaN(e)?"integer":"number":n}function X7e(e,t){if(!sa(e))throw new Error("node expected");const{draft:n,pointer:r}=e;e=e.resolveRef();const i=e.schema;if(i==null)throw new Error("missing schema");if(Ft(i)==="boolean")return i?[]:[n.errors.invalidDataError({pointer:r,schema:i,value:t})];if(fr(i))return[i];if(i.const!==void 0)return iee(i.const,t)?[]:[n.errors.constError({pointer:r,schema:i,value:t,expected:i.const})];const o=J7e(t,i.type),s=i.type||o;return o!==s&&(!Array.isArray(s)||!s.includes(o))?[n.errors.typeError({pointer:r,schema:i,value:t,received:o,expected:s})]:n.validateType[o]==null?[n.errors.invalidTypeError({pointer:r,schema:i,value:t,receivedType:o})]:px(n.validateType[o](e,t)).filter(qE)}function zR(e,t,n){const r=e.resolveRef(),{draft:i,schema:o,pointer:s}=r;n(o,t,s);const a=Ft(t);a==="object"?Object.keys(t).forEach(c=>{const u=i.step(r,c,t);sa(u)&&zR(u,t[c],n)}):a==="array"&&t.forEach((c,u)=>{const f=i.step(r,u,t);sa(f)&&zR(f,t[u],n)})}function Q7e(e,t,n){n.$id=n.$id||t,e.remotes[t]=e.compileSchema(n)}const PB="__compiled",DB="__ref",Z7e="getRef",eBe="getRoot",tBe="getContext",nBe=/(#|\/)+$/g;function rBe(e,t,n=t,r=!1){if(t===!0||t===!1||t===void 0||t[PB]!==void 0)return t;const i={ids:{},anchors:{},remotes:e.remotes},o=JSON.stringify(t),s=JSON.parse(o);if(Object.defineProperties(s,{[PB]:{enumerable:!1,value:!0},[tBe]:{enumerable:!1,value:()=>i},[Z7e]:{enumerable:!1,value:Wl.bind(null,i,s)}}),r===!1&&o.includes("$ref")===!1)return s;s!==n&&Object.defineProperty(s,"$defs",{enumerable:!0,value:Object.assign({},n.definitions,n.$defs,s.definitions,s.$defs)});const a={},c=()=>s;return Ys(s,(u,f)=>{var h;if(u.$id){if(u.$id.startsWith("http")&&/(allOf|anyOf|oneOf|if)\/\d+$/.test(f)){const E=f.replace(/\/(allOf|anyOf|oneOf|if)\/\d+$/,""),N=Lf.get(s,E);u.$id=(h=N.$id)!==null&&h!==void 0?h:u.$id}i.ids[u.$id.replace(nBe,"")]=f}f=`#${f}`.replace(/##+/,"#");const p=f.replace(/\/[^/]+$/,""),y=f.replace(/\/[^/]+\/[^/]+$/,""),x=a[p]||a[y],v=vB(x,u.$id);a[f]=v,i.ids[v]==null&&(i.ids[v]=f),u.$anchor&&(i.anchors[`${v}#${u.$anchor}`]=f),u.$ref&&!u[DB]&&(Object.defineProperty(u,DB,{enumerable:!1,value:vB(v,u.$ref)}),Object.defineProperty(u,eBe,{enumerable:!1,value:c}))}),s}const iBe={...W7e,contains:(e,t)=>{var n,r;const{draft:i,schema:o,pointer:s}=e;if(o.contains===!1)return i.errors.containsArrayError({pointer:s,value:t,schema:o});if(o.contains===!0)return Array.isArray(t)&&t.length===0?i.errors.containsAnyError({pointer:s,value:t,schema:o}):void 0;if(Ft(o.contains)!=="object")return;let a=0;for(let f=0;f<t.length;f+=1)i.validate(e.next(o.contains,f),t[f]).length===0&&a++;const c=(n=o.maxContains)!==null&&n!==void 0?n:1/0,u=(r=o.minContains)!==null&&r!==void 0?r:1;if(!(c>=a&&u<=a))return c<a?i.errors.containsMaxError({pointer:s,schema:o,delta:a-c,value:t}):u>a?i.errors.containsMinError({pointer:s,schema:o,delta:u-a,value:t}):i.errors.containsError({pointer:s,schema:o,value:t})},exclusiveMaximum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.exclusiveMaximum)&&r.exclusiveMaximum<=t)return n.errors.maximumError({maximum:r.exclusiveMaximum,length:t,pointer:i,schema:r,value:t})},exclusiveMinimum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.exclusiveMinimum)&&r.exclusiveMinimum>=t)return n.errors.minimumError({minimum:r.exclusiveMinimum,length:t,pointer:i,schema:r,value:t})},if:oLe,maximum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.maximum)&&r.maximum&&r.maximum<t)return n.errors.maximumError({maximum:r.maximum,length:t,pointer:i,schema:r,value:t})},minimum:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(!isNaN(r.minimum)&&r.minimum>t)return n.errors.minimumError({minimum:r.minimum,length:t,pointer:i,schema:r,value:t})},patternProperties:(e,t)=>{const{draft:n,schema:r,pointer:i}=e,o=r.properties||{},s=r.patternProperties;if(Ft(s)!=="object")return;const a=[],c=Object.keys(t),u=Object.keys(s).map(f=>({regex:new RegExp(f),patternSchema:s[f]}));return c.forEach(f=>{let h=!1;for(let p=0,y=u.length;p<y;p+=1)if(u[p].regex.test(f)){if(h=!0,u[p].patternSchema===!1){a.push(n.errors.patternPropertiesError({key:f,pointer:i,patterns:Object.keys(s).join(","),schema:r,value:t}));return}const x=n.validate(e.next(u[p].patternSchema,f),t[f]);x&&x.length>0&&a.push(...x)}o[f]||h===!1&&r.additionalProperties===!1&&a.push(n.errors.patternPropertiesError({key:f,pointer:i,patterns:Object.keys(s).join(","),schema:r,value:t}))}),a},propertyNames:(e,t)=>{const{draft:n,schema:r,pointer:i}=e;if(r.propertyNames===!1)return Object.keys(t).length===0?void 0:n.errors.invalidPropertyNameError({property:Object.keys(t),pointer:i,value:t,schema:r});if(r.propertyNames===!0||Ft(r.propertyNames)!=="object")return;const o=[],s=Object.keys(t),a={...r.propertyNames,type:"string"};return s.forEach(c=>{const u=e.next(a,c),f=n.validate(u,c);f.length>0&&o.push(n.errors.invalidPropertyNameError({property:c,pointer:i,validationError:f[0],value:t[c],schema:r}))}),o}},oee=e=>Yt(e)?Object.keys(e).map(t=>new RegExp(t)):[];function oBe(e,t,n){var r,i;const o=e.draft.resolveRef(e),{schema:s}=o;if(s.additionalProperties===!0)return!0;if(!((r=s.properties)===null||r===void 0)&&r[t]){const c=(i=s.properties)===null||i===void 0?void 0:i[t];if(o.draft.isValid(n,c))return!0}if(oee(s.patternProperties).find(c=>c.test(t)))return!0;if(Yt(s.additionalProperties)){const c=s.additionalProperties;return o.draft.validate(o.next(c),n)}return!1}const sBe={...iBe,dependencies:void 0,dependentSchemas:pLe,dependentRequired:mLe,unevaluatedProperties:(e,t)=>{var n;const{draft:r,schema:i,pointer:o}=e;if(!Yt(t)||i.unevaluatedProperties==null)return;let s=Object.keys(t);if(s.length===0)return;const a=HE(e,t),c=(n=a.schema)!==null&&n!==void 0?n:a;if(c.unevaluatedProperties===!0)return;const u=oee(c.patternProperties);if(s=s.filter(h=>{var p;return!(!((p=c.properties)===null||p===void 0)&&p[h]||Yt(i.if)&&oBe(e.next({type:"object",...i.if}),h,t[h])||u.find(y=>y.test(h))||c.additionalProperties)}),s.length===0)return;const f=[];return c.unevaluatedProperties===!1?(s.forEach(h=>{f.push(r.errors.unevaluatedPropertyError({pointer:`${o}/${h}`,value:JSON.stringify(t[h]),schema:i}))}),f):(s.forEach(h=>{if(Yt(c.unevaluatedProperties)){const p=r.validate(e.next(c.unevaluatedProperties,h),t[h]);f.push(...p)}}),f)},unevaluatedItems:(e,t)=>{var n;const{draft:r,schema:i,pointer:o}=e;if(!Array.isArray(t)||t.length===0||i.unevaluatedItems==null||i.unevaluatedItems===!0)return;const s=HE(r.resolveRef(e),t),a=(n=s.schema)!==null&&n!==void 0?n:s;if(a.unevaluatedItems===!0||a.additionalItems===!0)return;if(Yt(i.if)){const u={type:"array",...i.if};if(r.isValid(t,u)&&Array.isArray(u.items)&&u.items.length===t.length)return}if(Yt(a.items)){const u={...a,unevaluatedItems:void 0};return r.validate(e.next(u),t).map(h=>r.errors.unevaluatedItemsError({...h.data}))}if(Array.isArray(a.items)){const u=[];for(let f=a.items.length;f<t.length;f+=1)f<a.items.length?r.validate(e.next(a.items[f],f),t[f]).length>0&&u.push({index:f,value:t[f]}):u.push({index:f,value:t[f]});return u.map(f=>r.errors.unevaluatedItemsError({pointer:`${o}/${f.index}`,value:JSON.stringify(f.value),schema:a.unevaluatedItems}))}if(Yt(a.unevaluatedItems))return t.map((u,f)=>{if(!r.isValid(u,a.unevaluatedItems))return r.errors.unevaluatedItemsError({pointer:`${o}/${f}`,value:JSON.stringify(u),schema:a.unevaluatedItems})});const c=[];return t.forEach((u,f)=>{c.push(r.errors.unevaluatedItemsError({pointer:`${o}/${f}`,value:JSON.stringify(u),schema:i}))}),c}},aBe={typeKeywords:{array:["allOf","anyOf","contains","enum","if","items","maxItems","minItems","not","oneOf","unevaluatedItems","uniqueItems"],boolean:["allOf","anyOf","enum","not","oneOf"],object:["additionalProperties","allOf","anyOf","dependentSchemas","dependentRequired","enum","format","if","maxProperties","minProperties","not","oneOf","patternProperties","properties","propertyNames","required","unevaluatedProperties"],string:["allOf","anyOf","enum","format","if","maxLength","minLength","not","oneOf","pattern"],number:["allOf","anyOf","enum","exclusiveMaximum","exclusiveMinimum","format","if","maximum","minimum","multipleOf","not","oneOf"],null:["allOf","anyOf","enum","format","not","oneOf"]},validateKeyword:sBe,validateType:Y7e,validateFormat:BR,errors:h7e,createNode:dLe,addRemoteSchema:Q7e,compileSchema:rBe,createSchemaOf:lc,each:zR,eachSchema:Ys,getChildSchemaSelection:R7e,getSchema:I7e,getTemplate:z7e,isValid:U7e,resolveAllOf:sLe,resolveAnyOf:yLe,resolveOneOf:nLe,resolveRef:zZ,step:K7e,validate:X7e,templateDefaultOptions:Qv.templateDefaultOptions};class see extends t7e{constructor(t,n={}){super(nee(aBe,n),t)}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function FB(e){return Object.prototype.toString.call(e)==="[object Object]"}function LB(e){var t,n;return FB(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(FB(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var AS={exports:{}},lBe=AS.exports,BB;function cBe(){return BB||(BB=1,function(e){(function(t,n){e.exports=n()})(lBe,function(){var t=Object.prototype.toString;function n(h,p){return h==null?!1:Object.prototype.hasOwnProperty.call(h,p)}function r(h){if(!h||s(h)&&h.length===0)return!0;if(typeof h!="string"){for(var p in h)if(n(h,p))return!1;return!0}return!1}function i(h){return t.call(h)}function o(h){return typeof h=="object"&&i(h)==="[object Object]"}var s=Array.isArray||function(h){return t.call(h)==="[object Array]"};function a(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function c(h){var p=parseInt(h);return p.toString()===h?p:h}function u(h){h=h||{};var p=function(N){return Object.keys(p).reduce(function(O,_){return _==="create"||typeof p[_]=="function"&&(O[_]=p[_].bind(p,N)),O},{})},y;h.includeInheritedProps?y=function(){return!0}:y=function(N,O){return typeof O=="number"&&Array.isArray(N)||n(N,O)};function x(N,O){if(y(N,O))return N[O]}var v;h.includeInheritedProps?v=function(N,O){typeof O!="string"&&typeof O!="number"&&(O=String(O));var _=x(N,O);if(O==="__proto__"||O==="prototype"||O==="constructor"&&typeof _=="function")throw new Error("For security reasons, object's magic properties cannot be set");return _}:v=function(N,O){return x(N,O)};function E(N,O,_,C){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return N;if(typeof O=="string")return E(N,O.split(".").map(c),_,C);var j=O[0],A=v(N,j);return O.length===1?((A===void 0||!C)&&(N[j]=_),A):(A===void 0&&(typeof O[1]=="number"?N[j]=[]:N[j]={}),E(N[j],O.slice(1),_,C))}return p.has=function(N,O){if(typeof O=="number"?O=[O]:typeof O=="string"&&(O=O.split(".")),!O||O.length===0)return!!N;for(var _=0;_<O.length;_++){var C=c(O[_]);if(typeof C=="number"&&s(N)&&C<N.length||(h.includeInheritedProps?C in Object(N):n(N,C)))N=N[C];else return!1}return!0},p.ensureExists=function(N,O,_){return E(N,O,_,!0)},p.set=function(N,O,_,C){return E(N,O,_,C)},p.insert=function(N,O,_,C){var j=p.get(N,O);C=~~C,s(j)||(j=[],p.set(N,O,j)),j.splice(C,0,_)},p.empty=function(N,O){if(!r(O)&&N!=null){var _,C;if(_=p.get(N,O)){if(typeof _=="string")return p.set(N,O,"");if(a(_))return p.set(N,O,!1);if(typeof _=="number")return p.set(N,O,0);if(s(_))_.length=0;else if(o(_))for(C in _)y(_,C)&&delete _[C];else return p.set(N,O,null)}}},p.push=function(N,O){var _=p.get(N,O);s(_)||(_=[],p.set(N,O,_)),_.push.apply(_,Array.prototype.slice.call(arguments,2))},p.coalesce=function(N,O,_){for(var C,j=0,A=O.length;j<A;j++)if((C=p.get(N,O[j]))!==void 0)return C;return _},p.get=function(N,O,_){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return N;if(N==null)return _;if(typeof O=="string")return p.get(N,O.split("."),_);var C=c(O[0]),j=v(N,C);return j===void 0?_:O.length===1?j:p.get(N[C],O.slice(1),_)},p.del=function(O,_){if(typeof _=="number"&&(_=[_]),O==null||r(_))return O;if(typeof _=="string")return p.del(O,_.split("."));var C=c(_[0]);if(v(O,C),!y(O,C))return O;if(_.length===1)s(O)?O.splice(C,1):delete O[C];else return p.del(O[C],_.slice(1));return O},p}var f=u();return f.create=u,f.withInheritedProps=u({includeInheritedProps:!0}),f})}(AS)),AS.exports}var uBe=cBe();const dBe=ga(uBe);var kp=Object.prototype.hasOwnProperty;function ol(e){if(UR(e))return!1;if(!e||jg(e)&&e.length===0)return!0;if(!aee(e)){for(var t in e)if(kp.call(e,t))return!1;return!0}return!1}function UR(e){return typeof e=="number"}function aee(e){return typeof e=="string"}function jg(e){return Array.isArray(e)}function VR(e,t){for(var n in t)kp.call(t,n)&&(e[n]=t[n]);return e}function fBe(e){var t=parseInt(e);return t.toString()===e?t:e}function WE(e,t,n){return e==null?t?n?[]:{}:e:jg(e)?e.slice():VR({},e)}function GE(e,t){if(e!==t&&LB(e)&&LB(t)){var n={};for(var r in e)kp.call(e,r)&&(kp.call(t,r)?n[r]=GE(e[r],t[r]):n[r]=e[r]);for(r in t)kp.call(t,r)&&(n[r]=GE(e[r],t[r]));return n}return t}function Ic(e,t,n,r){if(UR(n)&&(n=[n]),ol(n))return t;if(aee(n))return Ic(e,t,n.split(".").map(fBe),r);var i=n[0];return(!e||e===t)&&(e=WE(t,!0,UR(i))),n.length===1?r(e,i):(t!=null&&(t=t[i]),e[i]=Ic(e[i],t,n.slice(1),r),e)}var fo={};fo.set=function(t,n,r,i){return ol(r)?i:Ic(t,n,r,function(o,s){return o[s]=i,o})};fo.update=function(t,n,r,i){return ol(r)?i(WE(n)):Ic(t,n,r,function(o,s){return o[s]=i(o[s]),o})};fo.push=function(t,n,r){var i=Array.prototype.slice.call(arguments,3);return ol(r)?jg(n)?n.concat(i):i:Ic(t,n,r,function(o,s){return jg(o[s])?o[s]=o[s].concat(i):o[s]=i,o})};fo.insert=function(t,n,r,i,o){if(o=~~o,ol(r)){if(!jg(n))return[i];var s=n.slice(0,o);return s.push(i),s.concat(n.slice(o))}return Ic(t,n,r,function(a,c){var u=a[c];if(!jg(u)){if(u!=null&&typeof u<"u")throw new Error("Expected "+r+"to be an array. Instead got "+typeof r);u=[]}var f=u.slice(0,o);return f.push(i),a[c]=f.concat(u.slice(o)),a})};fo.del=function(t,n,r){if(!ol(r))return Ic(t,n,r,function(i,o){return Array.isArray(i)?i[o]!==void 0&&i.splice(o,1):kp.call(i,o)&&delete i[o],i})};fo.assign=function(t,n,r,i){return ol(r)?ol(i)?n:VR(WE(n),i):Ic(t,n,r,function(o,s){i=Object(i);var a=WE(o[s],!0);return VR(a,i),o[s]=a,o})};fo.merge=function(t,n,r,i){return ol(r)?ol(i)?n:GE(n,i):Ic(t,n,r,function(o,s){return i=Object(i),o[s]=GE(o[s],i),o})};var hBe=fo.set.bind(null,null);fo.update.bind(null,null);fo.push.bind(null,null);fo.insert.bind(null,null);var mBe=fo.del.bind(null,null);fo.assign.bind(null,null);fo.merge.bind(null,null);dBe.get;function lee(e,t,n){if(!(!e&&typeof(n==null?void 0:n.required)=="boolean"&&!n.required)){switch(t.type){case"string":return String(e);case"integer":case"number":return Number(e);case"boolean":return["true","1",1,"on",!0].includes(e);case"null":return null}return e}}const XM=e=>typeof e<"u"&&e!==null&&e!=="";function KE(e){return"#"+(e.includes(".")?e.split("."):[e]).filter(XM).map(n=>"/"+n).join("")}function QM(e="",t=""){const n=e.includes(".")?e.split("."):[e];return[t,...n].filter(XM).join(".")}function cee(e="",t=""){return[...e.includes(".")?e.split("."):[e],t].filter(XM).join(".")}function pBe(e){return e.substring(0,e.lastIndexOf("/"))}function gBe(e,t,n,r){var c;if(t==="#/"||!n)return!1;const i=e.getSchema({pointer:t,data:r,schema:n});if(typeof i=="object"&&"const"in i)return!0;const o=pBe(t),s=e.getSchema({pointer:o,data:r});return!!((c=s==null?void 0:s.required)==null?void 0:c.includes(t.split("/").pop()))}function Hf(e,t){if(!e||!t)return!1;const n=Array.isArray(e)?e:[e];return(Array.isArray(t)?t:[t]).some(i=>n.includes(i))}function uee(e,t){if(typeof t=="object"&&"title"in t)return t.title;if(!e)return"";const n=e.includes(".")?e.split(".").pop()??"":e;return pg(n)}function ZM(e){if(!(!e||typeof e!="object"))return e.anyOf??e.oneOf}function dee(e,t){const n=ZM(e);if(!n)return[-1,[],void 0];const r=n.findIndex(i=>new see(i).validate(t,i).length===0);return r===-1?[-1,n,void 0]:[r,n,n[r]]}function yBe(e,t,n){if(typeof e!="object"||!("properties"in e)||t.length===0)return[e,n];const r=JSON.parse(JSON.stringify(e)),i=n?JSON.parse(JSON.stringify(n)):void 0,o={...r,properties:JS(r.properties,t)};o.required&&(o.required=o.required.filter(a=>!t.includes(a)));const s=JS(i,t);return[o,s]}function ek(e){return typeof e=="object"&&"type"in e&&!Hf(e.type,"error")}function bBe(...e){for(const t of e)if(typeof t<"u")return t}const AO=w.createContext(void 0);AO.displayName="FormContext";function tk({schema:e,initialValues:t,initialOpts:n,children:r,onChange:i,onSubmit:o,onInvalidSubmit:s,validateOn:a="submit",hiddenSubmit:c=!0,ignoreKeys:u=[],options:f={},...h}){const[p,y]=yBe(e,u,t),x=w.useMemo(()=>new see(p),[JSON.stringify(p)]),v=y??x.getTemplate(void 0,p,n),E=w.useMemo(()=>Cg({dirty:!1,submitting:!1,errors:[],data:v}),[v]),N=HM(E),O=w.useRef(null);w.useEffect(()=>{v&&I()},[v]);async function _(z){const{data:B,errors:U}=I();if(o){z.preventDefault(),N(H=>({...H,submitting:!0}));try{U.length===0?await o(B):(console.log("invalid",U),s==null||s(U,B))}catch(H){console.warn(H)}return N(H=>({...H,submitting:!1})),!1}else if(U.length>0)return z.preventDefault(),s==null||s(U,B),!1}const C=Vt((z,B)=>{N(U=>{const H=U.data,M=hBe(H,z,B);return i==null||i(M,z,B),{...U,data:M}}),R()}),j=Vt(z=>{N(B=>{const U=B.data,H=mBe(U,z);return i==null||i(H,z,void 0),{...B,data:H}}),R()}),A=Vt(()=>kZ().get(E)),R=Vt(()=>{var B;const z=A();N(U=>({...U,dirty:!pc(v,z.data)})),(a==="change"||((B=z==null?void 0:z.errors)==null?void 0:B.length)>0)&&I()}),I=Vt(z=>{var H;const B=z??((H=A())==null?void 0:H.data),U=x.validate(B,p);return N(M=>({...M,errors:U})),{data:B,errors:U}}),P=w.useMemo(()=>({_formStateAtom:E,setValue:C,deleteValue:j,schema:p,lib:x,options:f,root:"",path:""}),[p,v]);return m.jsxs("form",{...h,ref:O,onSubmit:_,children:[m.jsxs(AO.Provider,{value:P,children:[r||m.jsx(pa,{name:""}),(f==null?void 0:f.debug)&&m.jsx(RO,{})]}),c&&m.jsx("button",{style:{visibility:"hidden"},type:"submit",children:"Submit"})]})}function sm(){return w.useContext(AO)}function nk({children:e,overrideData:t,prefix:n,...r}){const i=sm(),o={};n&&(o.root=n);const s={...i,...r,...o};return m.jsx(AO.Provider,{value:s,children:e})}function TO(e,t){const{_formStateAtom:n,root:r}=sm();if((typeof e!="string"||e.length===0)&&(t==null?void 0:t.strict)===!0)return{value:void 0,errors:[]};const i=Xv(n,w.useCallback(o=>{const s=QM(e,r),a=KE(s);return{value:l4(o.data,s),errors:o.errors.filter(c=>c.data.pointer.startsWith(a))}},[e]),pc);return _y(i)[0]}function Zv(e,t){const{_formStateAtom:n,root:r}=sm(),i=Xv(n,w.useCallback(o=>{const s=QM(e,r),a=KE(s);return o.errors.filter(c=>t!=null&&t.strict?c.data.pointer===a:c.data.pointer.startsWith(a))},[e]),pc);return _y(i)[0]}function fee(e,t=[]){const{_formStateAtom:n}=sm(),r=Xv(n,w.useCallback(e,t),pc);return _y(r)[0]}function am(e,t,n){const{_formStateAtom:r,root:i,lib:o,...s}=sm(),a=s.schema,c=Xv(r,w.useCallback(u=>{const f=KE(e),h=QM(e,i),p=KE(h),y=l4(u.data,h),x=f==="#/"?a:o.getSchema({pointer:f,data:y,schema:a}),v=gBe(o,p,a,u.data),E={...s,path:h,root:i,schema:x,pointer:f,required:v},N=t==null?void 0:t({...E,_formStateAtom:r,lib:o,value:y});return{...E,value:N}},[e,a??{},i]),pc);return{...qM(c),_formStateAtom:r,lib:o}}function ew({children:e,selector:t}){return e(fee(t??(n=>n)))}function RO({force:e=!1}){const{options:t}=sm();if((t==null?void 0:t.debug)!==!0&&e!==!0)return null;const n=fee(r=>r);return m.jsx(Es,{json:n,expand:99})}function YE({name:e,label:t,required:n,schema:r,wrapper:i,hidden:o,errorPlacement:s="bottom",descriptionPlacement:a="bottom",children:c,fieldId:u,...f}){const h=Zv(e,{strict:!0}),p=(r==null?void 0:r.examples)||[],y=`${e}-examples`,x=(f==null?void 0:f.description)??(r==null?void 0:r.description),v=typeof t<"u"?t:r?uee(e,r):e,E=h.length>0&&m.jsx(o8e,{children:h.map(O=>O.message).join(", ")}),N=x&&m.jsx(i8e,{className:a==="top"?"-mt-1 mb-1":"mb-2",children:x});return m.jsxs(ma,{error:h.length>0,as:i==="fieldset"?"fieldset":"div",className:o?"hidden":"relative",children:[s==="top"&&E,m.jsx(xBe,{name:e,schema:r,required:n}),v&&m.jsxs(il,{as:i==="fieldset"?"legend":"label",htmlFor:u,className:"self-start",children:[v," ",n&&m.jsx("span",{className:"font-medium opacity-30",children:"*"})]}),a==="top"&&N,m.jsx("div",{className:"flex flex-row gap-2",children:m.jsxs("div",{className:"flex flex-1 flex-col gap-3",children:[w.Children.count(c)===1&&w.isValidElement(c)?w.cloneElement(c,{list:p.length>0?y:void 0}):c,p.length>0&&m.jsx("datalist",{id:y,children:p.map((O,_)=>m.jsx("option",{value:O},_))})]})}),a==="bottom"&&N,s==="bottom"&&E]})}const xBe=({name:e,schema:t,required:n})=>{const{options:r}=sm();if(!(r!=null&&r.debug))return null;const{value:i}=TO(e),o=Zv(e,{strict:!0});return m.jsx("div",{className:"absolute top-0 right-0",children:m.jsx(MM,{overlayProps:{className:"max-w-none"},position:"bottom-end",target:({toggle:s})=>m.jsx(Es,{className:"bg-background pr-3 text-sm",json:{name:e,value:i,required:n,schema:t,errors:o},expand:6}),children:m.jsx(Tt,{Icon:bJ,size:"xs",className:"opacity-30"})})})},vBe=({path:e=""})=>{const{setValue:t,pointer:n,required:r,schema:i,...o}=am(e);return!i||typeof i>"u"?`ArrayField(${e}): no schema ${n}`:i.uniqueItems&&typeof i.items=="object"&&"enum"in i.items?m.jsx(YE,{name:e,schema:i,wrapper:"fieldset",children:m.jsx(MO,{required:!0,name:e,schema:i.items,multiple:!0,className:"h-auto",onChange:s=>{const a=Array.from(s.target.selectedOptions).map(c=>c.value);t(o.path,a)}})}):m.jsxs(YE,{name:e,schema:i,wrapper:"fieldset",children:[m.jsx(SBe,{name:e,children:({value:s})=>s==null?void 0:s.map((a,c)=>m.jsx(wBe,{path:e,index:c,schema:i},c))}),m.jsx("div",{className:"flex flex-row",children:m.jsx(EBe,{path:e,schema:i})})]})},wBe=w.memo(({path:e,index:t,schema:n})=>{const{value:r,...i}=am(e,h=>{var p;return(p=h.value)==null?void 0:p[t]}),o=cee(e,t);let s=n.items;if(ZM(n.items)){const[,,h]=dee(n.items,r);s=h}const c=Vt((h,p)=>{i.setValue(h,p)}),u=Vt(h=>{i.deleteValue(h)}),f=w.useMemo(()=>m.jsx(Tt,{Icon:vJ,onClick:()=>u(o),size:"sm"}),[o]);return m.jsxs("div",{className:"flex flex-row gap-2",children:[m.jsx(MO,{name:o,schema:s,value:r,onChange:h=>{c(o,lee(h.target.value,s))},className:"w-full"}),f]},o)},pc),SBe=w.memo(({name:e,children:t})=>t(TO(e)),(e,t)=>{var n,r;return((n=e.value)==null?void 0:n.length)===((r=t.value)==null?void 0:r.length)}),EBe=({schema:e,path:t})=>{const{setValue:n,value:{currentIndex:r},...i}=am(t,a=>{var c;return{currentIndex:((c=a.value)==null?void 0:c.length)??0}}),o=ZM(e.items);function s(a){const c=cee(t,r);n(c,a??i.lib.getTemplate(void 0,e.items))}return o?m.jsx(Li,{dropdownWrapperProps:{className:"min-w-0"},items:o.map((a,c)=>({label:a.title??`Option ${c+1}`,onClick:()=>s(i.lib.getTemplate(void 0,a))})),onClickItem:console.log,children:m.jsx(lt,{IconLeft:QRe,children:"Add"})}):m.jsx(lt,{onClick:()=>s(),children:"Add"})},hee=w.createContext(void 0),rk=()=>w.useContext(hee),NBe=Cg(null),OBe=({path:e="",children:t})=>{const{setValue:n,lib:r,pointer:i,value:{matchedIndex:o,schemas:s},schema:a}=am(e,x=>{const[v,E=[]]=dee(x.schema,x.value);return{matchedIndex:v,schemas:E}}),c=Zv(e,{strict:!0});if(!a)return`AnyOfField(${e}): no schema ${i}`;const[u,f]=_y(NBe),h=u!==null?u:o>-1?o:null,p=Vt(x=>{n(e,x!==null?r.getTemplate(void 0,s[x]):void 0),f(x)}),y=w.useMemo(()=>{const x=s.map((N,O)=>N.title??`Option ${O+1}`),v={type:"string",enum:x},E=h!==null?s[h]:void 0;return{options:x,selectSchema:v,selectedSchema:E,schema:a,schemas:s,selected:h}},[h]);return m.jsx(hee.Provider,{value:{...y,select:p,path:e,errors:c},children:t},h)},_Be=()=>{const{selected:e,select:t,path:n,schema:r,options:i,selectSchema:o}=rk(),s=Vt(c=>{const u=c.target.value?Number(c.target.value):null;t(u)}),a=w.useMemo(()=>i.map((c,u)=>({label:c,value:u})),[]);return m.jsxs(m.Fragment,{children:[m.jsx(il,{children:uee(n,r)}),m.jsx(MO,{schema:o,options:a,onChange:s,value:e??void 0,className:"h-8 py-1"})]})},$Be=({name:e,label:t,...n})=>{const{selected:r,selectedSchema:i,path:o,errors:s}=rk();return r===null?null:m.jsx(nk,{prefix:o,schema:i,children:m.jsx("div",{className:Ke(s.length>0&&"bg-red-500/10"),children:m.jsx(pa,{name:"",label:!1,...n},`${o}_${r}`)})})},Sb={Root:OBe,Select:_Be,Field:$Be,useContext:rk},CBe=e=>m.jsx("fieldset",{children:m.jsxs(Sb.Root,{...e,children:[m.jsx("legend",{className:"flex flex-row gap-2 items-center py-2",children:m.jsx(Sb.Select,{})}),m.jsx(Sb.Field,{})]})}),IO=({path:e="",label:t,wrapperProps:n={}})=>{const{schema:r,...i}=am(e);if(!ek(r))return`ObjectField "${e}": no schema`;const o=Object.entries(r.properties??{});return m.jsx(YE,{name:e,schema:{...r,description:void 0},wrapper:"fieldset",errorPlacement:"top",...n,children:o.length===0?m.jsx("i",{className:"opacity-50",children:"No properties"}):o.map(([s,a])=>{const c=[e,s].filter(Boolean).join(".");if(!(typeof a>"u"||typeof a=="boolean"))return a.anyOf||a.oneOf?m.jsx(CBe,{path:c},c):m.jsx(pa,{name:c},c)})})},pa=e=>m.jsx($O,{fallback:jBe(e),children:m.jsx(ABe,{...e})}),mee=({as:e="div",className:t,...n})=>{const r=e;return m.jsx(r,{className:[t,"hidden"].filter(Boolean).join(" "),children:m.jsx(pa,{...n})})},jBe=({name:e})=>({error:t})=>m.jsxs(pee,{children:['Field "',e,'" error: ',t.message]}),ABe=({name:e,onChange:t,placeholder:n,required:r,inputProps:i,...o})=>{const{path:s,setValue:a,schema:c,...u}=am(e),f=`${e}-${w.useId()}`,h=typeof r=="boolean"?r:u.required;if(!ek(c))return m.jsxs(pee,{children:["[Field] ",s," has no schema (",JSON.stringify(c),")"]});if(Hf(c.type,"object"))return m.jsx(IO,{path:e});if(Hf(c.type,"array"))return m.jsx(vBe,{path:e});w.useEffect(()=>{i!=null&&i.defaultValue&&a(s,i.defaultValue)},[i==null?void 0:i.defaultValue]);const p=bBe(i==null?void 0:i.disabled,o.disabled,c.readOnly,"const"in c,!1),y=Vt(x=>{var E;const v=lee(x.target.value,c,{required:h});typeof v>"u"&&!h&&((E=u.options)==null?void 0:E.keepEmpty)!==!0?u.deleteValue(s):a(s,v)});return m.jsx(YE,{name:e,required:h,schema:c,fieldId:f,...o,children:m.jsx(MO,{...i,id:f,schema:c,name:e,required:h,disabled:p,placeholder:n,onChange:t??y})})},pee=({children:e})=>m.jsx("pre",{className:"dark:bg-red-950 bg-red-100 rounded-md px-3 py-1.5 text-wrap whitespace-break-spaces  break-all",children:e}),MO=({schema:e,render:t,...n})=>{const{value:r}=TO(n.name,{strict:!0});if(!ek(e))return null;const i={...n,value:typeof n.value<"u"?n.value:r,placeholder:n.placeholder??typeof e.default<"u"?String(e.default):""};if(t)return t({schema:e,...i});if(e.enum)return m.jsx(bZ,{options:e.enum,...i});if(Hf(e.type,["number","integer"])){const s={min:e.minimum,max:e.maximum,step:e.multipleOf};return m.jsx(Jd,{type:"number",...i,value:i.value??"",...s})}if(Hf(e.type,"boolean"))return m.jsx(l8e,{...i,checked:r===!0});if(Hf(e.type,"string")&&e.format==="date-time"){const s=i.value?new Date(i.value).toISOString().slice(0,16):"";return m.jsx(RR,{...i,value:s,type:"datetime-local",onChange:a=>{var u;const c=new Date(a.target.value);(u=i.onChange)==null||u.call(i,{target:{value:c.toISOString()}})}})}if(Hf(e.type,"string")&&e.format==="date")return m.jsx(RR,{...i,value:i.value??""});const o={maxLength:e.maxLength,minLength:e.minLength,pattern:e.pattern};return e.format&&["password","hidden","url","email","tel"].includes(e.format)&&(o.type=e.format),m.jsx(s8e,{...i,value:i.value??"",...o})};function ik({context:e,id:t,innerProps:{file:n}}){var p;const{config:{entity_name:r,basepath:i}}=TZ(),o=oO(r,void 0,{where:{path:n.path}}),s=()=>e.closeModal(t),a=(p=o.data)==null?void 0:p[0],c=window.location.origin,u=a!=null&&a.reference?a==null?void 0:a.reference.split(".")[0]:void 0,f=u?"/data"+ft.data.entity.edit(u,a==null?void 0:a.entity_id):void 0,h=a!=null&&a.path?"/data"+ft.data.entity.edit(r,a==null?void 0:a.id):void 0;return m.jsxs("div",{className:"flex flex-col md:flex-row",children:[m.jsx("div",{className:"flex w-full md:w-[calc(100%-300px)] justify-center items-center bg-lightest min-w-0",children:m.jsx(TBe,{file:n})}),m.jsxs("div",{className:"w-full md:!w-[300px] flex flex-col",children:[m.jsx(Tu,{title:"ID",value:a==null?void 0:a.id,copyValue:c+h,first:!0,children:h&&m.jsxs(pR,{href:h,size:"small",className:"py-1.5 px-2 !leading-none font-mono",onClick:s,children:["#",String(a==null?void 0:a.id)]})}),m.jsx(Tu,{title:"Path",value:a==null?void 0:a.path}),m.jsx(Tu,{title:"Mime Type",value:a==null?void 0:a.mime_type}),m.jsx(Tu,{title:"Size",value:(a==null?void 0:a.size)&&PG.fileSize(a.size,1),copyValue:a==null?void 0:a.size}),m.jsx(Tu,{title:"Etag",value:a==null?void 0:a.etag}),m.jsx(Tu,{title:"Entity",copyValue:c+f,children:f&&m.jsxs(pR,{href:f,size:"small",className:"py-1.5 px-2 !leading-none font-mono",onClick:s,children:[a==null?void 0:a.reference," #",a==null?void 0:a.entity_id]})}),m.jsx(Tu,{title:"Modified At",value:(a==null?void 0:a.modified_at)&&IG(a==null?void 0:a.modified_at),copyValue:a==null?void 0:a.modified_at}),m.jsx(Tu,{title:"Metadata",value:a==null?void 0:a.metadata,copyable:!1,children:(a==null?void 0:a.metadata)&&m.jsx(Es,{json:a==null?void 0:a.metadata,expand:2,showCopy:!0,className:"w-full text-sm bg-primary/2 pt-2.5 rounded-lg",copyIconProps:{className:"size-6 opacity-20 group-hover:opacity-100 transition-all"}})})]})]})}const Tu=({title:e,children:t,value:n,first:r,copyable:i=!0,copyValue:o})=>{const s=Moe(),a=!t&&(n===null||typeof n>"u"),c=i&&!a&&s.copy!==void 0,u=n?typeof n=="object"&&!a?JSON.stringify(n):String(n):void 0;return m.jsxs("div",{className:Ke("flex flex-col gap-1 py-3 pl-5 pr-3 group",!r&&"border-t border-muted"),children:[m.jsx("div",{className:"text-sm font-bold opacity-50",children:pg(e)}),m.jsxs("div",{className:"flex flex-row gap-1 justify-between items-center",children:[t??m.jsx("div",{className:Ke("font-mono truncate",a&&"opacity-30"),children:a?"null":u}),c&&m.jsx(Tt,{Icon:s.copied?Y4e:SX,className:Ke("size-6 opacity-20 group-hover:opacity-100 transition-all",s.copied&&"text-success-foreground opacity-100"),onClick:()=>s.copy(o||n)})]})]})},TBe=({file:e})=>e.type.startsWith("image/")||e.type.startsWith("video/")?m.jsx(UM.Preview,{file:e,className:"max-h-[70dvh]",controls:!0,muted:!0}):m.jsx("div",{className:"min-w-96 min-h-48 flex justify-center items-center h-full max-h-[70dvh]",children:m.jsx("span",{className:"opacity-50 font-mono",children:"No Preview Available"})});ik.defaultTitle=void 0;ik.modalProps={withCloseButton:!1,size:"auto",centered:!0,styles:{content:{overflowY:"initial !important"}},classNames:{root:"bknd-admin w-full max-w-xl",content:"overflow-hidden",title:"font-bold !text-md",body:"max-h-inherit !p-0"}};const JE={test:BM,debug:FM,form:LM,overlay:aM,dataCreate:DM,mediaInfo:ik};function RBe({children:e}){return m.jsx(H3e,{modals:JE,children:e})}function IBe(e,t,{title:n,...r}={}){const i=n??JE[e].defaultTitle??void 0,o=JE[e].modalProps??{},s={title:i,...r,...o,modal:e,innerProps:t};return B3e({transitionProps:{transition:P8e,duration:300},...s}),{close:()=>gee(e),closeAll:RX.closeAll}}function gee(e){return z3e(e)}const li={ids:Object.fromEntries(Object.keys(JE).map(e=>[e,e])),open:IBe,close:gee,closeAll:RX.closeAll};function MBe(){const[e]=Cr(),{config:t,actions:n}=Yd(),r=Object.values(yn(t.roles??{},(s,a)=>({role:a,permissions:s.permissions,is_default:s.is_default??!1,implicit_allow:s.implicit_allow??!1})));function i(s){e(ft.auth.roles.edit(s.role))}function o(){li.open("form",{schema:{type:"object",properties:{name:nl},required:["name"]},uiSchema:{name:{"ui:title":"Role name"}},onSubmit:async s=>{s.name.length>0&&await n.roles.add(s.name)&&e(ft.auth.roles.edit(s.name))}},{title:"New Role"})}return m.jsxs(m.Fragment,{children:[m.jsx(jr,{right:m.jsx(lt,{variant:"primary",onClick:o,children:"Create new"}),children:"Roles & Permissions"}),m.jsxs(ri,{children:[m.jsx(Ga.Warning,{visible:!t.enabled,title:"Auth not enabled",message:"To use authentication features, please enable it in the settings."}),m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsx(EO,{data:r,renderValue:kBe,renderHeader:pv,onClickRow:i})})]})]})}const kBe=({value:e,property:t})=>{if(["is_default","implicit_allow"].includes(t))return e?m.jsx("span",{children:"Yes"}):m.jsx("span",{className:"opacity-50",children:"No"});if(t==="permissions"){let r=e||[];const i=r.length;return i>3&&(r=[...r.slice(0,3),`+${i-3}`]),m.jsx("div",{className:"flex flex-row gap-1",children:r.map((o,s)=>m.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:o},s))})}return m.jsx(NO,{value:e,property:t})},kO=({path:e,backTo:t,onBack:n})=>{const[r,i]=zo(),o=window.location.pathname,s=Array.isArray(e)?e:[e],a=o.split("/").filter(h=>h!==""),c=s.length>1,u=n||Vt(()=>{var p;if(t){i(t,{replace:!0});return}else if(e.length>0&&((p=e[0])!=null&&p.href)){i(e[0].href,{replace:!0});return}const h=a.slice(0,s.length+1).join("/");i(`~/${h}`,{replace:!0})}),f=w.useMemo(()=>s.map((h,p)=>({last:p===s.length-1,...h})),[s]);return m.jsxs("div",{className:"flex flex-row flex-grow items-center gap-2 text-lg",children:[c&&m.jsx(Tt,{onClick:u,Icon:eM,variant:"default",size:"lg",className:"mr-1"}),m.jsx("div",{className:"hidden md:flex gap-1.5",children:m.jsx(yee,{crumbs:f})}),m.jsx("div",{className:"flex md:hidden gap-2",children:m.jsx(PBe,{crumbs:f})})]})},yee=({crumbs:e})=>e.map((t,n)=>t.last?m.jsx(bee,{...t},n):m.jsx(xee,{...t},n)),PBe=({crumbs:e})=>{const[,t]=zo();if(e.length<=2)return m.jsx(yee,{crumbs:e});const n=e[0],r=e[e.length-1],i=w.useMemo(()=>e.slice(1,-1).map(s=>({label:s.string,href:s.href})),[e]),o=Vt(s=>t(`~/${s.href}`));return m.jsxs(m.Fragment,{children:[m.jsx(xee,{...n}),m.jsx(Li,{onClickItem:o,items:i,children:m.jsx(Tt,{Icon:Kd,variant:"ghost"})}),m.jsx("span",{className:"opacity-25 dark:font-bold font-semibold",children:"/"}),m.jsx(bee,{...r})]})},bee=({label:e})=>m.jsx("span",{className:"text-nowrap dark:font-bold font-semibold",children:e}),xee=({href:e,label:t})=>m.jsxs("div",{className:"opacity-50 flex flex-row gap-1.5 dark:font-bold font-semibold",children:[m.jsx(aO,{to:e,className:"text-nowrap",children:t}),m.jsx("span",{className:"opacity-50",children:"/"})]}),DBe=DY,FBe=w.forwardRef(({role:e,debug:t},n)=>{const{permissions:r}=Bt(),{formState:{isValid:i},watch:o,control:s,reset:a,getValues:c}=Jc({resolver:Xc(DBe),defaultValues:e});return w.useImperativeHandle(n,()=>({reset:a,getData:()=>c(),isValid:()=>i})),m.jsxs("div",{className:"flex flex-col flex-grow px-5 py-5 gap-8",children:[m.jsx("div",{className:"flex flex-col gap-2",children:m.jsx(LBe,{control:s,permissions:r})}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsx(qt.Wrapper,{label:"Should this role be the default?",size:"md",description:"In case an user is not assigned any role, this role will be assigned by default.",children:m.jsx("div",{className:"flex flex-row",children:m.jsx(bb,{name:"is_default",control:s,className:"mt-2"})})}),m.jsx(qt.Wrapper,{label:"Implicit allow missing permissions?",size:"md",description:"This should be only used for admins. If a permission is not explicitly denied, it will be allowed.",children:m.jsx("div",{className:"flex flex-row",children:m.jsx(bb,{name:"implicit_allow",control:s,className:"mt-2"})})})]}),t&&m.jsxs("div",{className:"font-mono opacity-50",children:[m.jsx("div",{children:JSON.stringify(e,null,2)}),m.jsx("div",{children:JSON.stringify(o(),null,2)})]})]})}),LBe=({control:e,permissions:t})=>{const{field:{value:n,onChange:r,...i},fieldState:o}=om({name:"permissions",control:e}),s=n??[];function a(u){return f=>{const p=f.target.checked?[...s,u]:s.filter(y=>y!==u);r(p)}}const c=t.reduce((u,f)=>{const[h,p]=f.split(".");return u[h]||(u[h]=[]),u[h].push(f),u},{});return console.log("grouped",c),m.jsx("div",{className:"flex flex-col gap-10",children:Object.entries(c).map(([u,f])=>m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("h3",{className:"font-semibold",children:[Mo(u)," Permissions"]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-3",children:f.map(h=>{const p=s.includes(h);return m.jsx("div",{className:"flex flex-col border border-muted",children:m.jsxs("div",{className:"flex flex-row gap-2 justify-between",children:[m.jsx("div",{className:"py-4 px-4 font-mono leading-none",children:h}),m.jsxs("div",{className:"flex flex-row gap-1 items-center px-2",children:[m.jsx(ll,{checked:p,onChange:a(h)}),m.jsx(Ih,{label:"Coming soon",children:m.jsx(lt,{size:"small",variant:"ghost",disabled:!0,children:m.jsx("span",{className:"font-normal italic font-mono",children:"FX"})})})]})]})},h)})})]},u))})};function BBe(e){const{hasSecrets:t}=Bt({withSecrets:!0});return t?m.jsx(zBe,{...e}):m.jsx(Po.MissingPermission,{what:"Roles & Permissions"})}function zBe({params:e}){var u;const[t]=Cr(),{config:n,actions:r}=Yd(),i=e.role,o=(u=n.roles)==null?void 0:u[i],s=w.useRef(null);async function a(){var p,y,x;if(console.log("data",(p=s.current)==null?void 0:p.isValid()),!((y=s.current)!=null&&y.isValid()))return;const f=(x=s.current)==null?void 0:x.getData();await r.roles.patch(i,f)&&t(ft.auth.roles.list())}async function c(){await r.roles.delete(i)&&t(ft.auth.roles.list())}return m.jsxs(m.Fragment,{children:[m.jsx(jr,{right:m.jsxs(m.Fragment,{children:[m.jsx(Li,{items:[{label:"Advanced Settings",onClick:()=>t(ft.settings.path(["auth","roles",i]),{absolute:!0})},{label:"Delete",onClick:c,destructive:!0}],position:"bottom-end",children:m.jsx(Tt,{Icon:Kd})}),m.jsx(lt,{variant:"primary",onClick:a,children:"Update"})]}),className:"pl-3",children:m.jsx(kO,{path:[{label:"Roles & Permissions",href:ft.auth.roles.list()},{label:i}]})}),m.jsx(ri,{children:m.jsx(FBe,{ref:s,role:o})})]})}const vee=K3(lO({advanced:[]},e=>({toggleAdvanced:t=>e(n=>({advanced:n.advanced.includes(t)?n.advanced.filter(r=>r!==t):[...n.advanced,t]}))})));function UBe(e){uo(["Auth","Settings"]);const{hasSecrets:t}=Bt({withSecrets:!0});return t?m.jsx(qBe,{...e}):m.jsx(Po.MissingPermission,{what:"Auth Settings"})}const VBe={ignoreKeys:["roles","strategies"],options:{keepEmpty:!0,debug:co()}};function qBe(){const{config:e,schema:t,actions:n,$auth:r}=Yd(),i=JSON.parse(JSON.stringify(t));i.properties.jwt.required=["alg"];async function o(s){await n.config.set(s)}return m.jsxs(tk,{schema:i,initialValues:e,onSubmit:o,...VBe,children:[m.jsx(ew,{selector:s=>({dirty:s.dirty,errors:s.errors.length>0,submitting:s.submitting}),children:({dirty:s,errors:a,submitting:c})=>m.jsx(jr,{className:"pl-4",right:m.jsx(lt,{variant:"primary",type:"submit",disabled:!s||a||c,children:"Update"}),children:"Settings"})}),m.jsxs(ri,{children:[m.jsxs(rA,{className:"pt-4 pl-0 pb-0",children:[m.jsx("div",{className:"pl-4",children:m.jsx(Hi,{name:"enabled",label:"Authentication Enabled",description:"Only after enabling authentication, all settings below will take effect.",descriptionPlacement:"top"})}),m.jsxs("div",{className:"flex flex-col gap-6 relative pl-4 pb-2",children:[m.jsx(UB,{}),m.jsx(Hi,{name:"guard.enabled",label:m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx("span",{children:"Guard Enabled"}),!r.roles.has_admin&&m.jsx(iM.Warning,{title:"No admin roles defined. Enabling the guard will likely block all requests."})]}),disabled:r.roles.none,description:"When enabled, enforces permissions on all routes. Make sure to create roles first.",descriptionPlacement:"top"}),m.jsx(Hi,{name:"allow_register",label:"Allow User Registration",description:"When enabled, allows users to register autonomously. New users use the default role.",descriptionPlacement:"top"})]})]}),m.jsxs("div",{className:"flex flex-col gap-3 relative mt-3 pb-4",children:[m.jsx(UB,{}),m.jsx(bR,{}),m.jsxs(rA,{title:"JWT",children:[m.jsx(Hi,{name:"jwt.issuer"}),m.jsx(Hi,{name:"jwt.secret",description:"The secret used to sign the JWT token. If not set, a random key will be generated after enabling authentication.",advanced:"jwt",inputProps:{type:"password"}}),m.jsx(Hi,{name:"jwt.alg",advanced:"jwt"}),m.jsx(Hi,{name:"jwt.expires",advanced:"jwt"}),m.jsx(zB,{which:"jwt"})]}),m.jsx(bR,{}),m.jsxs(rA,{title:"Cookie",children:[m.jsx(Hi,{name:"cookie.path",advanced:"cookie"}),m.jsx(Hi,{name:"cookie.sameSite",advanced:"cookie"}),m.jsx(Hi,{name:"cookie.secure",advanced:"cookie"}),m.jsx(Hi,{name:"cookie.expires",advanced:"cookie"}),m.jsx(Hi,{name:"cookie.renew",label:"Renew Cookie",description:"Automatically renew users cookie on every request.",descriptionPlacement:"top"}),m.jsx(Hi,{name:"cookie.pathSuccess",advanced:"cookie"}),m.jsx(Hi,{name:"cookie.pathLoggedOut"}),m.jsx(zB,{which:"cookie"})]})]}),m.jsx(RO,{})]})]})}const zB=({which:e})=>{const{advanced:t,toggleAdvanced:n}=vee(),r=t.includes(e);return m.jsx(lt,{IconLeft:r?Q4e:wX,onClick:()=>n(e),variant:r?"default":"ghost",className:"self-start",size:"small",children:r?"Hide advanced settings":"Show advanced settings"})},UB=()=>m.jsx(ew,{selector:e=>({enabled:e.data.enabled}),children:({enabled:e})=>!e&&m.jsx("div",{className:"absolute w-full h-full z-50 inset-0 bg-background opacity-90"})});function rA(e){const{children:t,title:n,className:r}=e;return m.jsx(m.Fragment,{children:m.jsxs("div",{className:Rn("flex flex-col gap-6 px-4",n&&"pt-0",r),children:[n&&m.jsx("h3",{className:"text-lg font-bold",children:n}),t]})})}function Hi(e){const{advanced:t,...n}=e,r=vee(i=>i.advanced);return t&&!r.includes(t)?null:m.jsx(pa,{...n})}const HBe=({className:e,...t})=>m.jsx("div",{className:Ke("flex flex-col gap-2 max-w-4xl",e),...t}),WBe=({className:e,hasError:t,disabled:n,...r})=>m.jsx("div",{className:Ke("flex flex-col border border-muted rounded bg-background",t&&"border-error",e),...r}),GBe=({className:e,left:t,right:n,children:r,...i})=>m.jsxs("div",{...i,className:Ke("flex flex-row justify-between p-3 gap-3 items-center",e),children:[t&&m.jsx("div",{className:"flex flex-row items-center p-2 bg-primary/5 rounded",children:t}),m.jsx("div",{className:"font-mono flex-grow flex flex-row gap-3",children:r}),n&&m.jsx("div",{className:"flex flex-row gap-4 items-center",children:n})]}),KBe=({className:e,open:t,...n})=>t&&m.jsx("div",{...n,className:Ke("flex flex-col border-t border-t-muted px-4 pt-3 pb-4 bg-lightest/50 gap-4",e)}),TS={Root:HBe,Item:WBe,Preview:GBe,Detail:KBe};function YBe(e){uo(["Auth","Strategies"]);const{hasSecrets:t,config:{auth:{enabled:n}}}=Bt({withSecrets:!0});if(t){if(!n)return m.jsx(Po.NotEnabled,{description:"Enable Auth first."})}else return m.jsx(Po.MissingPermission,{what:"Auth Strategies"});return m.jsx(XBe,{...e})}const JBe={keepEmpty:!0,debug:co()};function XBe(){const e=Yd(),t=e.config.strategies,n=e.schema.properties.strategies;Object.fromEntries(e.schema.properties.strategies.additionalProperties.anyOf.map(i=>[i.properties.type.const,i]));async function r(i){await e.actions.config.set({strategies:i})}return m.jsxs(tk,{schema:n,initialValues:t,onSubmit:r,options:JBe,children:[m.jsx(ew,{selector:i=>({dirty:i.dirty,errors:i.errors.length>0,submitting:i.submitting}),children:({dirty:i,errors:o,submitting:s})=>m.jsx(jr,{className:"pl-4",right:m.jsx(lt,{variant:"primary",type:"submit",disabled:!i||o||s,children:"Update"}),children:"Strategies"})}),m.jsxs(ri,{children:[m.jsxs("div",{className:"flex flex-col p-4 gap-4",children:[m.jsx("p",{className:"opacity-70",children:"Allow users to sign in or sign up using different strategies."}),m.jsxs(TS.Root,{children:[m.jsx(Ru,{type:"password",name:"password"}),m.jsx(Ru,{type:"oauth",name:"google"}),m.jsx(Ru,{type:"oauth",name:"github"}),m.jsx(Ru,{type:"oauth",name:"facebook",unavailable:!0}),m.jsx(Ru,{type:"oauth",name:"x",unavailable:!0}),m.jsx(Ru,{type:"oauth",name:"instagram",unavailable:!0}),m.jsx(Ru,{type:"oauth",name:"apple",unavailable:!0}),m.jsx(Ru,{type:"oauth",name:"discord",unavailable:!0})]})]}),m.jsx(RO,{})]})]})}const Ru=({type:e,name:t,unavailable:n})=>{const r=Zv(t,{strict:!0}),i=Yd(),s=Object.fromEntries(i.schema.properties.strategies.additionalProperties.anyOf.map(u=>[u.properties.type.const,u]))[e],{active:a,toggle:c}=Z3("/strategies/:strategy?",t);return s?m.jsx(nk,{schema:s,prefix:t,children:m.jsxs(TS.Item,{hasError:r.length>0,className:n?"opacity-20 pointer-events-none cursor-not-allowed":void 0,children:[m.jsx(TS.Preview,{left:m.jsx(ZBe,{type:e,provider:t}),right:m.jsxs(m.Fragment,{children:[m.jsx(QBe,{type:e}),m.jsx(Tt,{Icon:wy,size:"lg",iconProps:{strokeWidth:1.5},variant:a?"primary":"ghost",onClick:()=>c(!a)})]}),children:m.jsx("span",{className:"leading-none",children:pg(t)})}),m.jsx(TS.Detail,{open:a,children:m.jsx(eze,{type:e,name:t})})]})}):null},QBe=({type:e})=>{const t=am(""),{value:n}=TO("");function r(i){const o=i.target.value,s=Object.keys(n??{}),a=s.length===0||s.length===1&&s[0]==="enabled";!o&&a?t.deleteValue(t.path):t.setValue([t.path,"enabled"].join("."),o)}return m.jsx(pa,{name:"enabled",label:!1,required:!0,onChange:r})},ZBe=({type:e,provider:t})=>{if(e==="password")return m.jsx(V4e,{className:"size-5"});if(t&&t in VB){const n=VB[t];return m.jsx(n,{className:"size-5"})}return m.jsx(G4e,{className:"size-5"})},VB={google:k4e,github:M4e,facebook:I4e,x:K4e,instagram:W4e,apple:T4e,discord:R4e},eze=({type:e,name:t})=>{let n=r=>m.jsx(IO,{path:"",wrapperProps:{wrapper:"group",label:!1}});switch(e){case"password":n=tze;break;case"oauth":n=nze;break}return m.jsxs(m.Fragment,{children:[m.jsx(mee,{name:"type",inputProps:{disabled:!0,defaultValue:e}}),m.jsx(n,{type:e,name:t})]})},tze=()=>m.jsx(IO,{path:"config",wrapperProps:{wrapper:"group",label:!1}}),nze=({type:e,name:t})=>m.jsxs(m.Fragment,{children:[m.jsx(mee,{name:"config.name",inputProps:{disabled:!0,defaultValue:t}}),m.jsx(pa,{name:"config.client.client_id",required:!0,inputProps:{type:"password"}}),m.jsx(pa,{name:"config.client.client_secret",required:!0,inputProps:{type:"password"}})]});function rze(){return null}function ize(){return m.jsxs(T3e,{children:[m.jsx(ut,{path:"/",component:P3e}),m.jsx(ut,{path:"/users",component:rze}),m.jsx(ut,{path:"/roles",component:MBe}),m.jsx(ut,{path:"/roles/edit/:role",component:BBe}),m.jsx(ut,{path:"/strategies/:strategy?",component:YBe}),m.jsx(ut,{path:"/settings",component:UBe})]})}function oze(){return uo(["Login"]),m.jsx(OZ.Screen,{action:"login",logo:m.jsx(er,{href:"/",className:"link",children:m.jsx(cO,{scale:.25})})})}const wee={data:{btnCreateEntity:"data-btns-create-entity"},media:{switchEnabled:"media-switch-enabled"}};function sze({children:e}){const{entities:t,$data:n}=Is(),r={regular:[],generated:[],system:[]},[i]=Cr(),o=window.location.href.match(/\/schema/)?"schema":"data";for(const a of Object.values(t))r[a.getType()].push(a);function s(a){var u;if(!a)return;const c=((u=window.location.href.match(/\/entity\/([^/]+)/))==null?void 0:u[1])||null;switch(a){case"data":c?i(ft.data.entity.list(c)):i(ft.data.root(),{absolute:!0});break;case"schema":i(c?ft.data.schema.entity(c):ft.data.schema.root());break}}return m.jsxs(m.Fragment,{children:[m.jsxs(Vv,{children:[m.jsx(jr,{right:m.jsxs(m.Fragment,{children:[m.jsx(Mh,{data:[{value:"data",label:"Data"},{value:"schema",label:"Schema"}],value:o,onChange:s}),m.jsx(Ih,{label:"New Entity",children:m.jsx(Tt,{Icon:EX,onClick:n.modals.createEntity})})]}),children:"Entities"}),m.jsx(ri,{initialOffset:96,children:m.jsxs("div",{className:"flex flex-col flex-grow py-3 gap-3",children:[m.jsx(iA,{entities:r.regular,context:o,suggestCreate:!0}),m.jsx(iA,{entities:r.system,context:o,title:"System"}),m.jsx(iA,{entities:r.generated,context:o,title:"Generated"})]})})]}),m.jsx(Uv,{children:e})]})}const iA=({entities:e,title:t,context:n,suggestCreate:r=!1})=>{const{$data:i}=Is(),o=NIe();if(e.length===0)return r?m.jsx(Fi,{className:"py-10",description:"Create your first entity to get started.",secondary:{children:"Create entity",onClick:()=>i.modals.createEntity()}}):null;function s(a){return c=>{switch(c.stopPropagation(),c.preventDefault(),n){case"schema":o(u=>u.data.entity.list(a.name));break;case"data":o(u=>u.data.schema.entity(a.name));break}}}return m.jsxs("nav",{className:Ke("flex flex-col flex-1 gap-1 px-3",t&&"border-t border-primary/10 pt-2"),children:[t&&m.jsx("div",{className:"text-sm text-primary/50 ml-3.5 mb-1",children:t}),e.map(a=>{const c=n==="data"?ft.data.entity.list(a.name):ft.data.schema.entity(a.name);return m.jsx(aze,{entity:a,children:m.jsxs(So,{as:er,href:c,className:"justify-between items-center",children:[a.label,pIe(c)&&m.jsx(lt,{IconLeft:r5e,size:"small",onClick:s(a),children:n==="schema"?"Data":"Fields"})]})},a.name)})]})},aze=({entity:e,children:t,enabled:n=!0})=>{if(!n)return t;const[r]=Cr(),{$data:i}=Is(),o=t.props.href,s=()=>m.jsx("div",{className:"h-px my-1 w-full bg-primary/5"});return m.jsx(Li,{className:"flex flex-col w-full",dropdownWrapperProps:{className:"min-w-fit"},title:e.label+" Actions",items:[o&&{icon:WRe,label:"Open in tab",onClick:()=>r(o,{target:"_blank"})},s,!i.system(e.name).any&&{icon:z3,label:"Create new",onClick:()=>r(ft.data.entity.create(e.name))},{icon:by,label:"List entries",onClick:()=>r(ft.data.entity.list(e.name))},s,{icon:L3,label:"Manage fields",onClick:()=>r(ft.data.schema.entity(e.name))},{icon:B3,label:"Add relation",onClick:()=>i.modals.createRelation(e.name)},!i.system(e.name).media&&{icon:xJ,label:"Add media",onClick:()=>i.modals.createMedia(e.name)},s,{icon:sx,label:"Advanced",onClick:()=>r(ft.settings.path(["data","entities",e.name]),{absolute:!0})}],openEvent:"onContextMenu",position:"bottom-start",children:t})};function lze(){uo(["Data"]);const[e]=Cr(),{$data:t}=Is();function n(){e(ft.data.schema.root())}return m.jsx(Fi,{Icon:by,title:"No entity selected",description:"Please select an entity from the left sidebar or create a new one to continue.",secondary:{children:"Go to schema",onClick:n},primary:{children:"Create entity","data-testid":wee.data.btnCreateEntity,onClick:t.modals.createEntity}})}const Pp=new WeakMap,RS=new WeakMap,XE={current:[]};let oA=!1,Eb=0;const eb=new Set,G1=new Map;function See(e){const t=Array.from(e).sort((n,r)=>n instanceof vc&&n.options.deps.includes(r)?1:r instanceof vc&&r.options.deps.includes(n)?-1:0);for(const n of t){if(XE.current.includes(n))continue;XE.current.push(n),n.recompute();const r=RS.get(n);if(r)for(const i of r){const o=Pp.get(i);o&&See(o)}}}function cze(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function uze(e){e.listeners.forEach(t=>t({prevVal:e.prevState,currentVal:e.state}))}function Eee(e){if(Eb>0&&!G1.has(e)&&G1.set(e,e.prevState),eb.add(e),!(Eb>0)&&!oA)try{for(oA=!0;eb.size>0;){const t=Array.from(eb);eb.clear();for(const n of t){const r=G1.get(n)??n.prevState;n.prevState=r,cze(n)}for(const n of t){const r=Pp.get(n);r&&(XE.current.push(n),See(r))}for(const n of t){const r=Pp.get(n);if(r)for(const i of r)uze(i)}}}finally{oA=!1,XE.current=[],G1.clear()}}function Fu(e){Eb++;try{e()}finally{if(Eb--,Eb===0){const t=Array.from(eb)[0];t&&Eee(t)}}}class qR{constructor(t,n){this.listeners=new Set,this.subscribe=r=>{var i,o;this.listeners.add(r);const s=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),s==null||s()}},this.setState=r=>{var i,o,s;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(s=(o=this.options)==null?void 0:o.onUpdate)==null||s.call(o),Eee(this)},this.prevState=t,this.state=t,this.options=n}}class vc{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:o,prevVal:s}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:o,prevVal:s}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof vc&&o.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let o=0;o<i.length;o++)if(i[o]!==r[o]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const o=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),o==null||o()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const n of t)if(n instanceof vc)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof qR){let r=Pp.get(n);r||(r=new Set,Pp.set(n,r)),r.add(this);let i=RS.get(this);i||(i=new Set,RS.set(this,i)),i.add(n)}}unregisterFromGraph(t=this.options.deps){for(const n of t)if(n instanceof vc)this.unregisterFromGraph(n.options.deps);else if(n instanceof qR){const r=Pp.get(n);r&&r.delete(this);const i=RS.get(this);i&&i.delete(n)}}}function PO(e,t=n=>n){return VJ.useSyncExternalStoreWithSelector(e.subscribe,()=>e.state,()=>e.state,t,dze)}function dze(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}const fze=w.lazy(()=>qv(()=>import("./CodeEditor-0av4r9gh.js"),[]));function hze({editable:e,className:t,...n}){return m.jsx(w.Suspense,{fallback:null,children:m.jsx(fze,{className:Ke("flex w-full border border-muted",!e&&"opacity-70",t),editable:e,_extensions:{json:!0},...n})})}function mze({fieldApi:e,field:t,data:n,disabled:r,...i}){function o(a){r||e.setValue(a)}const s=n==null?void 0:n[t.name];return m.jsxs(ma,{children:[m.jsx(kM,{htmlFor:e.name,field:t}),m.jsx("div",{"data-disabled":r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:m.jsx(Sy,{schema:t.getJsonSchema(),onChange:o,direction:"horizontal",formData:s,uiSchema:{"ui:globalOptions":{flexDirection:"row"},...t.getJsonUiSchema()}})})]})}function ok({entity:e,select:t,...n}){const r=t??e.getSelect(),i=e.getFields();function o(c){return i.find(u=>u.name===c)}function s(c){try{return o(c).getLabel()}catch(u){return console.warn("Couldn't render header",{entity:e,select:t,...n},u),c}}function a({value:c,property:u}){let f=c;try{f=o(u).getValue(c,"table")}catch(h){console.warn("Couldn't render value",{value:c,property:u,entity:e,select:t,columns:r,...n},h)}return m.jsx($O,{fallback:String(f),children:m.jsx(NO,{value:f,property:u})})}return m.jsx(EO,{...n,columns:r,renderHeader:s,renderValue:a})}function pze({fieldApi:e,field:t,data:n,disabled:r,tabIndex:i}){const{app:o}=Bt(),s=o.entity(t.target()),[a,c]=w.useState({limit:10,page:1,perPage:10,select:s.getSelect(void 0,"table")});zo();const u=w.useRef(null),f=oO(t.target(),void 0,{select:a.select,limit:a.limit,offset:(a.page-1)*a.limit}),[h,p]=w.useState(),y=n==null?void 0:n[t.reference()],x=n==null?void 0:n[t.name];w.useEffect(()=>{const E=n==null?void 0:n[t.reference()];p(E)},[y]),w.useEffect(()=>{(async()=>{if(!t.target()||!x)return;const N=await f.api.readOne(t.target(),x);N.ok&&N.data&&p(N.data)})()},[x]),w.useEffect(()=>{var E;if(t.isRequired()&&!e.state.value){const N=(E=f.data)==null?void 0:E[0];if(!N)return;console.warn("setting first value because field is required",t.name,N.id),e.setValue(N.id),p(N)}},[f.data]);const v=f.isLoading||f.isValidating;return m.jsxs(ma,{children:[m.jsx(il,{htmlFor:e.name,children:t.getLabel({fallback:!1})??s.label}),m.jsx("div",{"data-disabled":v||r?1:void 0,className:"data-[disabled]:opacity-70 data-[disabled]:pointer-events-none",children:m.jsx(MM,{backdrop:!0,className:"",target:({toggle:E})=>m.jsx(gze,{container:f.data,entity:s,query:a,toggle:E,onClickRow:N=>{e.setValue(N.id),p(N),E()},onClickPage:N=>{console.log("setting page",N),c(O=>({...O,page:N}))}}),children:m.jsx("div",{ref:u,className:"bg-muted/40 w-full h-11 focus:bg-muted rounded-md items-center px-2.5 outline-none focus:outline-none focus:ring-2 focus:ring-zinc-500 focus:border-transparent transition-all disabled:bg-muted/50 disabled:text-primary/50 cursor-pointer active:bg-muted/80 hover:bg-muted/60 flex flex-row gap-2",tabIndex:i,onKeyDown:Qoe([["Enter",()=>{var E;(E=u.current)==null||E.click()}]]),children:h?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"flex bg-primary/10 px-2 leading-none py-1.5 rounded-lg font-mono text-sm",children:Mo(s.name)}),m.jsx("div",{className:"flex flex-row gap-3 overflow-clip w-1 flex-grow",children:h&&Object.entries(h).map(([E,N])=>{const O=s.getField(E);if(O.isHidden("table"))return null;const _=O.getValue(N,"table");return m.jsxs("div",{className:"flex flex-row gap-1 items-center flex-nowrap",children:[m.jsxs("span",{className:"opacity-60 text-nowrap",children:[O.getLabel(),":"]})," ",_!==null&&typeof _<"u"?m.jsx($O,{fallback:JSON.stringify(_),suppressError:!0,children:m.jsx("span",{className:"text-nowrap truncate",children:_})}):m.jsx("span",{className:"opacity-30 text-nowrap font-mono mt-0.5",children:"null"})]},E)})}),m.jsx(er,{to:ft.data.entity.edit(s.name,h.id),children:m.jsx(lt,{IconLeft:NX,size:"small",children:"View"})})]}):m.jsx("div",{className:"pl-2",children:"- Select -"})})})}),m.jsx(Jd,{type:"hidden",name:e.name,id:e.name,value:e.state.value??"",onChange:console.log,tabIndex:-1})]})}const gze=({container:e,entity:t,query:n,toggle:r,onClickRow:i,onClickPage:o})=>{var c;function s(){var u;n.limit*n.page<((u=e.meta)==null?void 0:u.count)&&(o==null||o(n.page+1))}function a(){n.page>1&&(o==null||o(n.page-1))}return v5([["ArrowRight",s],["ArrowLeft",a],["Escape",r]]),m.jsx("div",{children:m.jsx(ok,{classNames:{value:"line-clamp-1 truncate max-w-52 text-nowrap"},data:e??[],entity:t,select:n.select,total:(c=e.meta)==null?void 0:c.count,page:n.page,onClickRow:i,onClickPage:o})})};function Nee({entity:e,entityId:t,handleSubmit:n,fieldsDisabled:r,Form:i,data:o,className:s,action:a}){const c=e.getFillableFields(a,!0);return m.jsxs("form",{onSubmit:n,children:[m.jsx(i.Subscribe,{selector:u=>[u.canSubmit,u.isValid,u.errors],children:([u,f,h])=>!f&&m.jsxs("div",{className:"flex flex-col dark:bg-red-950 bg-red-100 p-4",children:[m.jsx("p",{children:"Form is invalid."}),Array.isArray(h)&&m.jsx("ul",{className:"list-disc",children:h.map((p,y)=>m.jsx("li",{className:"ml-6",children:p},y))})]})}),m.jsx("div",{className:s,children:c.map((u,f)=>{if(u instanceof Zb)return m.jsx(bze,{entity:e,entityId:t,formApi:i,field:u},u.name+f);if(!u.isFillable(a))return;const h=`${e.name}-${u.name}-${f}`;return m.jsx($O,{fallback:m.jsxs(Ga.Exception,{className:"font-mono",children:["Field error: ",u.name]}),children:m.jsx(i.Field,{name:u.name,children:p=>m.jsx(yze,{field:u,fieldApi:p,disabled:r,tabIndex:f+1,action:a,data:o})})},h)})}),m.jsx("div",{className:"hidden",children:m.jsx("button",{type:"submit"})})]})}function yze({fieldApi:e,field:t,action:n,data:r,...i}){const o=Vt(u=>{typeof u=="object"&&"target"in u?e.handleChange(u.target.value):e.handleChange(u)});if(t instanceof Yi)return m.jsx(pze,{fieldApi:e,field:t,data:r,disabled:i.disabled,tabIndex:i.tabIndex});if(t instanceof u3)return m.jsx(xze,{fieldApi:e,field:t,...i});if(t instanceof d3)return m.jsx(mze,{fieldApi:e,field:t,data:r,disabled:i.disabled,tabIndex:i.tabIndex,...i});if(t instanceof c3)return m.jsx(vze,{fieldApi:e,field:t,...i});const s=t.getHtmlConfig().element,a=t.getHtmlConfig().props,c=c8e(s??"input");return m.jsxs(ma,{children:[m.jsx(kM,{htmlFor:e.name,field:t}),m.jsx(c,{...a,name:e.name,id:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:o,required:t.isRequired(),...i})]})}function bze({formApi:e,field:t,entity:n,entityId:r,disabled:i}){if(!r)return;const o=PO(e.store,c=>{const u=c.values[t.name];return!u||typeof u>"u"?[]:Array.isArray(u)?u:[u]}),s=JSON.stringify([n,r,t.name,o.length]),a=c=>{li.open(li.ids.mediaInfo,{file:c})};return m.jsxs(ma,{children:[m.jsx(kM,{field:t}),m.jsx(UM.Dropzone,{maxItems:t.getMaxItems(),initialItems:o,onClick:a,entity:{name:n.name,id:r,field:t.name},query:{sort:"-id"}},s)]})}function xze({fieldApi:e,field:t,...n}){const r=Vt(i=>{e.handleChange(i)});return m.jsxs(ma,{children:[m.jsx(il,{htmlFor:e.name,children:t.getLabel()}),m.jsx(w.Suspense,{children:m.jsx(hze,{id:e.name,value:e.state.value,onChange:r,onBlur:e.handleBlur,minHeight:"100",...n})})]})}function vze({fieldApi:e,field:t,...n}){const r=Vt(i=>{e.handleChange(i.target.value)});return m.jsxs(ma,{children:[m.jsx(il,{htmlFor:e.name,children:t.getLabel()}),m.jsxs(bZ,{name:e.name,id:e.name,value:e.state.value,onBlur:e.handleBlur,onChange:r,required:t.isRequired(),...n,children:[!t.isRequired()&&m.jsx("option",{value:"",children:"- Select -"}),t.getOptions().map(i=>m.jsx("option",{value:i.value,children:i.label},i.value))]})]})}function DO(e,t){return typeof e=="function"?e(t):e}function Oee(e,t){return sk(t).reduce((r,i)=>{if(r===null)return null;if(typeof r<"u")return r[i]},e)}function sA(e,t,n){const r=sk(t);function i(o){if(!r.length)return DO(n,o);const s=r.shift();if(typeof s=="string"||typeof s=="number"&&!Array.isArray(o))return typeof o=="object"?(o===null&&(o={}),{...o,[s]:i(o[s])}):{[s]:i()};if(Array.isArray(o)&&typeof s=="number"){const a=o.slice(0,s);return[...a.length?a:new Array(s),i(o[s]),...o.slice(s+1)]}return[...new Array(s),i()]}return i(e)}function wze(e,t){const n=sk(t);function r(i){if(!i)return;if(n.length===1){const s=n[0];if(Array.isArray(i)&&typeof s=="number")return i.filter((u,f)=>f!==s);const{[s]:a,...c}=i;return c}const o=n.shift();if(typeof o=="string"&&typeof i=="object")return{...i,[o]:r(i[o])};if(typeof o=="number"&&Array.isArray(i)){if(o>=i.length)return i;const s=i.slice(0,o);return[...s.length?s:new Array(o),r(i[o]),...i.slice(o+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}return r(e)}const Sze=/^(\d*)$/gm,Eze=/\.(\d*)\./gm,Nze=/^(\d*)\./gm,Oze=/\.(\d*$)/gm,_ze=/\.{2,}/gm,HR="__int__",K1=`${HR}$1`;function sk(e){if(Array.isArray(e))return[...e];if(typeof e!="string")throw new Error("Path must be a string.");return e.replace(/\[/g,".").replace(/\]/g,"").replace(Sze,K1).replace(Eze,`.${K1}.`).replace(Nze,`${K1}.`).replace(Oze,`.${K1}`).replace(_ze,".").split(".").map(t=>t.indexOf(HR)===0?parseInt(t.substring(HR.length),10):t)}function $ze(e){return!(Array.isArray(e)&&e.length===0)}function WR(e,t){const{asyncDebounceMs:n}=t,{onChangeAsync:r,onBlurAsync:i,onSubmitAsync:o,onBlurAsyncDebounceMs:s,onChangeAsyncDebounceMs:a}=t.validators||{},c=n??0,u={cause:"change",validate:r,debounceMs:a??c},f={cause:"blur",validate:i,debounceMs:s??c},h={cause:"submit",validate:o,debounceMs:0},p=y=>({...y,debounceMs:0});switch(e){case"submit":return[p(u),p(f),h];case"blur":return[f];case"change":return[u];case"server":default:return[]}}function GR(e,t){const{onChange:n,onBlur:r,onSubmit:i,onMount:o}=t.validators||{},s={cause:"change",validate:n},a={cause:"blur",validate:r},c={cause:"submit",validate:i},u={cause:"mount",validate:o},f={cause:"server",validate:()=>{}};switch(e){case"mount":return[u];case"submit":return[s,a,c,f];case"server":return[f];case"blur":return[a,f];case"change":default:return[s,f]}}const _ee=e=>!!e&&typeof e=="object"&&"fields"in e;function aA(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!t.has(r)||!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function Cze(e){const t=new Map;for(const n of e){const r=[...n.path??[]].map(i=>{const o=typeof i=="object"?i.key:i;return typeof o=="number"?`[${o}]`:o}).join(".").replace(/\.\[/g,"[");t.set(r,(t.get(r)??[]).concat(n))}return Object.fromEntries(t)}const jze=e=>e,Aze=e=>{const t=Cze(e);return{form:t,fields:t}},qB=(e,t)=>e==="form"?Aze(t):jze(t),$ee={validate({value:e,validationSource:t},n){const r=n["~standard"].validate(e);if(r instanceof Promise)throw new Error("async function passed to sync validator");if(r.issues)return qB(t,r.issues)},async validateAsync({value:e,validationSource:t},n){const r=await n["~standard"].validate(e);if(r.issues)return qB(t,r.issues)}},Cee=e=>!!e&&"~standard"in e;function Y1(e){function t(h,p,y,x){const v=r(h,p,y,x);({insert:()=>a(v,h,p),remove:()=>c(v),swap:()=>x!==void 0&&f(v,h,p,x),move:()=>x!==void 0&&u(v,h,p,x)})[y]()}function n(h,p){return`${h}[${p}]`}function r(h,p,y,x){const v=[n(h,p)];if(y==="swap")v.push(n(h,x));else if(y==="move"){const[E,N]=[Math.min(p,x),Math.max(p,x)];for(let O=E;O<=N;O++)v.push(n(h,O))}else{const E=e.getFieldValue(h),N=Array.isArray(E)?E.length:0;for(let O=p+1;O<N;O++)v.push(n(h,O))}return Object.keys(e.fieldInfo).filter(E=>v.some(N=>E.startsWith(N)))}function i(h,p){return h.replace(/\[(\d+)\]/,(y,x)=>{const v=parseInt(x,10);return`[${p==="up"?v+1:Math.max(0,v-1)}]`})}function o(h,p){(p==="up"?h:[...h].reverse()).forEach(x=>{const v=i(x.toString(),p),E=e.getFieldMeta(v);E?e.setFieldMeta(x,E):e.setFieldMeta(x,s())})}const s=()=>({isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}}),a=(h,p,y)=>{o(h,"down"),h.forEach(x=>{x.toString().startsWith(n(p,y))&&e.setFieldMeta(x,s())})},c=h=>{o(h,"up")},u=(h,p,y,x)=>{const v=new Map(Object.keys(e.fieldInfo).filter(E=>E.startsWith(n(p,y))).map(E=>[E,e.getFieldMeta(E)]));o(h,y<x?"up":"down"),Object.keys(e.fieldInfo).filter(E=>E.startsWith(n(p,x))).forEach(E=>{const N=E.replace(n(p,x),n(p,y)),O=v.get(N);O&&e.setFieldMeta(E,O)})},f=(h,p,y,x)=>{h.forEach(v=>{if(!v.toString().startsWith(n(p,y)))return;const E=v.toString().replace(n(p,y),n(p,x)),[N,O]=[e.getFieldMeta(v),e.getFieldMeta(E)];N&&e.setFieldMeta(E,N),O&&e.setFieldMeta(v,O)})};return{handleArrayFieldMetaShift:t}}function lA(e){return{values:e.values??{},errorMap:e.errorMap??{},fieldMetaBase:e.fieldMetaBase??{},isSubmitted:e.isSubmitted??!1,isSubmitting:e.isSubmitting??!1,isValidating:e.isValidating??!1,submissionAttempts:e.submissionAttempts??0,isSubmitSuccessful:e.isSubmitSuccessful??!1,validationMetaMap:e.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}}}class Tze{constructor(t){var n;this.options={},this.fieldInfo={},this.prevTransformArray=[],this.cumulativeFieldsErrorMap={},this.mount=()=>{const r=this.fieldMetaDerived.mount(),i=this.store.mount(),o=()=>{r(),i()},{onMount:s}=this.options.validators||{};return s&&this.validateSync("mount"),o},this.update=r=>{var i,o;if(!r)return;const s=this.options;this.options=r;const a=!!((o=(i=r.transform)==null?void 0:i.deps)!=null&&o.some((f,h)=>f!==this.prevTransformArray[h])),c=r.defaultValues&&!aA(r.defaultValues,s.defaultValues)&&!this.state.isTouched,u=!aA(r.defaultState,s.defaultState)&&!this.state.isTouched;!c&&!u&&!a||Fu(()=>{this.baseStore.setState(()=>lA(Object.assign({},this.state,u?r.defaultState:{},c?{values:r.defaultValues}:{},a?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(r,i)=>{const{fieldMeta:o}=this.state,s=this.resetFieldMeta(o);r&&!(i!=null&&i.keepDefaultValues)&&(this.options={...this.options,defaultValues:r}),this.baseStore.setState(()=>{var a;return lA({...this.options.defaultState,values:r??this.options.defaultValues??((a=this.options.defaultState)==null?void 0:a.values),fieldMetaBase:s})})},this.validateAllFields=async r=>{const i=[];return Fu(()=>{Object.values(this.fieldInfo).forEach(s=>{if(!s.instance)return;const a=s.instance;i.push(Promise.resolve().then(()=>a.validate(r,{skipFormValidation:!0}))),s.instance.state.meta.isTouched||s.instance.setMeta(c=>({...c,isTouched:!0}))})}),(await Promise.all(i)).flat()},this.validateArrayFieldsStartingFrom=async(r,i,o)=>{const s=this.getFieldValue(r),a=Array.isArray(s)?Math.max(s.length-1,0):null,c=[`${r}[${i}]`];for(let p=i+1;p<=(a??0);p++)c.push(`${r}[${p}]`);const u=Object.keys(this.fieldInfo).filter(p=>c.some(y=>p.startsWith(y))),f=[];return Fu(()=>{u.forEach(p=>{f.push(Promise.resolve().then(()=>this.validateField(p,o)))})}),(await Promise.all(f)).flat()},this.validateField=(r,i)=>{var o;const s=(o=this.fieldInfo[r])==null?void 0:o.instance;return s?(s.state.meta.isTouched||s.setMeta(a=>({...a,isTouched:!0})),s.validate(i)):[]},this.validateSync=r=>{const i=GR(r,this.options);let o=!1;const s={};return Fu(()=>{var a;for(const u of i){if(!u.validate)continue;const f=this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:h,fieldErrors:p}=KR(f),y=J1(u.cause);if(p)for(const[x,v]of Object.entries(p)){const N={...this.cumulativeFieldsErrorMap[x]||{},[y]:v};s[x]=N,this.cumulativeFieldsErrorMap[x]=N;const O=this.getFieldMeta(x);O&&O.errorMap[y]!==v&&this.setFieldMeta(x,_=>({..._,errorMap:{..._.errorMap,[y]:v}}))}for(const x of Object.keys(this.cumulativeFieldsErrorMap)){const v=this.getFieldMeta(x);v!=null&&v.errorMap[y]&&!((a=s[x])!=null&&a[y])&&(this.cumulativeFieldsErrorMap[x]={...this.cumulativeFieldsErrorMap[x],[y]:void 0},this.setFieldMeta(x,E=>({...E,errorMap:{...E.errorMap,[y]:void 0}})))}this.state.errorMap[y]!==h&&this.baseStore.setState(x=>({...x,errorMap:{...x.errorMap,[y]:h}})),(h||p)&&(o=!0)}const c=J1("submit");this.state.errorMap[c]&&r!=="submit"&&!o&&this.baseStore.setState(u=>({...u,errorMap:{...u.errorMap,[c]:void 0}}))}),{hasErrored:o,fieldsErrorMap:s}},this.validateAsync=async r=>{const i=WR(r,this.options);this.state.isFormValidating||this.baseStore.setState(u=>({...u,isFormValidating:!0}));const o=[];let s;for(const u of i){if(!u.validate)continue;const f=J1(u.cause),h=this.state.validationMetaMap[f];h==null||h.lastAbortController.abort();const p=new AbortController;this.state.validationMetaMap[f]={lastAbortController:p},o.push(new Promise(async y=>{let x;try{x=await new Promise((O,_)=>{setTimeout(async()=>{if(p.signal.aborted)return O(void 0);try{O(await this.runValidator({validate:u.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:p.signal},type:"validateAsync"}))}catch(C){_(C)}},u.debounceMs)})}catch(O){x=O}const{formError:v,fieldErrors:E}=KR(x);E&&(s=s?{...s,...E}:E);const N=J1(u.cause);if(s)for(const[O,_]of Object.entries(s)){const C=this.getFieldMeta(O);C&&C.errorMap[N]!==_&&this.setFieldMeta(O,j=>({...j,errorMap:{...j.errorMap,[N]:_}}))}this.baseStore.setState(O=>({...O,errorMap:{...O.errorMap,[N]:v}})),y(s?{fieldErrors:s,errorMapKey:N}:void 0)}))}let a=[];const c={};if(o.length){a=await Promise.all(o);for(const u of a)if(u!=null&&u.fieldErrors){const{errorMapKey:f}=u;for(const[h,p]of Object.entries(u.fieldErrors)){const x={...c[h]||{},[f]:p};c[h]=x}}}return this.baseStore.setState(u=>({...u,isFormValidating:!1})),c},this.validate=r=>{const{hasErrored:i,fieldsErrorMap:o}=this.validateSync(r);return i&&!this.options.asyncAlways?o:this.validateAsync(r)},this.getFieldValue=r=>Oee(this.state.values,r),this.getFieldMeta=r=>this.state.fieldMeta[r],this.getFieldInfo=r=>{var i;return(i=this.fieldInfo)[r]||(i[r]={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0}})},this.setFieldMeta=(r,i)=>{this.baseStore.setState(o=>({...o,fieldMetaBase:{...o.fieldMetaBase,[r]:DO(i,o.fieldMetaBase[r])}}))},this.resetFieldMeta=r=>Object.keys(r).reduce((i,o)=>{const s=o;return i[s]={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{}},i},{}),this.setFieldValue=(r,i,o)=>{const s=(o==null?void 0:o.dontUpdateMeta)??!1;Fu(()=>{s||this.setFieldMeta(r,a=>({...a,isTouched:!0,isDirty:!0,errorMap:{...a==null?void 0:a.errorMap,onMount:void 0}})),this.baseStore.setState(a=>({...a,values:sA(a.values,r,i)}))})},this.deleteField=r=>{const o=[...Object.keys(this.fieldInfo).filter(s=>{const a=r.toString();return s!==a&&s.startsWith(a)}),r];this.baseStore.setState(s=>{const a={...s};return o.forEach(c=>{a.values=wze(a.values,c),delete this.fieldInfo[c],delete a.fieldMetaBase[c]}),a})},this.pushFieldValue=(r,i,o)=>{this.setFieldValue(r,s=>[...Array.isArray(s)?s:[],i],o),this.validateField(r,"change")},this.insertFieldValue=async(r,i,o,s)=>{this.setFieldValue(r,a=>[...a.slice(0,i),o,...a.slice(i)],s),await this.validateField(r,"change"),Y1(this).handleArrayFieldMetaShift(r,i,"insert"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.replaceFieldValue=async(r,i,o,s)=>{this.setFieldValue(r,a=>a.map((c,u)=>u===i?o:c),s),await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.removeFieldValue=async(r,i,o)=>{const s=this.getFieldValue(r),a=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(r,c=>c.filter((u,f)=>f!==i),o),Y1(this).handleArrayFieldMetaShift(r,i,"remove"),a!==null){const c=`${r}[${a}]`;this.deleteField(c)}await this.validateField(r,"change"),await this.validateArrayFieldsStartingFrom(r,i,"change")},this.swapFieldValues=(r,i,o,s)=>{this.setFieldValue(r,a=>{const c=a[i],u=a[o];return sA(sA(a,`${i}`,u),`${o}`,c)},s),Y1(this).handleArrayFieldMetaShift(r,i,"swap",o),this.validateField(r,"change"),this.validateField(`${r}[${i}]`,"change"),this.validateField(`${r}[${o}]`,"change")},this.moveFieldValues=(r,i,o,s)=>{this.setFieldValue(r,a=>(a.splice(o,0,a.splice(i,1)[0]),a),s),Y1(this).handleArrayFieldMetaShift(r,i,"move",o),this.validateField(r,"change"),this.validateField(`${r}[${i}]`,"change"),this.validateField(`${r}[${o}]`,"change")},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((r,[i,o])=>(Object.keys(o).length&&o.errors.length&&(r[i]={errors:o.errors,errorMap:o.errorMap}),r),{})}),this.baseStore=new qR(lA({...t==null?void 0:t.defaultState,values:(t==null?void 0:t.defaultValues)??((n=t==null?void 0:t.defaultState)==null?void 0:n.values)})),this.fieldMetaDerived=new vc({deps:[this.baseStore],fn:({prevDepVals:r,currDepVals:i,prevVal:o})=>{var s;const a=o,c=r==null?void 0:r[0],u=i[0];let f=0;const h={};for(const p of Object.keys(u.fieldMetaBase)){const y=u.fieldMetaBase[p],x=c==null?void 0:c.fieldMetaBase[p],v=a==null?void 0:a[p];let E=v==null?void 0:v.errors;if(!x||y.errorMap!==x.errorMap){E=Object.values(y.errorMap??{}).filter(_=>_!==void 0);const O=(s=this.getFieldInfo(p))==null?void 0:s.instance;O&&!O.options.disableErrorFlat&&(E=E==null?void 0:E.flat(1))}const N=!y.isDirty;if(v&&v.isPristine===N&&v.errors===E&&y===x){h[p]=v,f++;continue}h[p]={...y,errors:E,isPristine:N}}return Object.keys(u.fieldMetaBase).length&&a&&f===Object.keys(u.fieldMetaBase).length?a:h}}),this.store=new vc({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:r,currDepVals:i,prevVal:o})=>{var s,a,c,u;const f=o,h=r==null?void 0:r[0],p=i[0],y=Object.values(p.fieldMetaBase),x=y.some(L=>L==null?void 0:L.isValidating),v=!y.some(L=>(L==null?void 0:L.errorMap)&&$ze(Object.values(L.errorMap).filter(Boolean))),E=y.some(L=>L==null?void 0:L.isTouched),N=y.some(L=>L==null?void 0:L.isBlurred),O=E&&((s=p==null?void 0:p.errorMap)==null?void 0:s.onMount),_=y.some(L=>L==null?void 0:L.isDirty),C=!_,j=!!((a=p.errorMap)!=null&&a.onMount||y.some(L=>{var T;return(T=L==null?void 0:L.errorMap)==null?void 0:T.onMount})),A=!!x;let R=(f==null?void 0:f.errors)??[];(!h||p.errorMap!==h.errorMap)&&(R=Object.values(p.errorMap).reduce((L,T)=>T===void 0?L:T&&_ee(T)?(L.push(T.form),L):(L.push(T),L),[]));const I=R.length===0,P=v&&I,z=p.submissionAttempts===0&&!E&&!j||!A&&!p.isSubmitting&&P;let B=p.errorMap;if(O&&(R=R.filter(L=>L!==p.errorMap.onMount),B=Object.assign(B,{onMount:void 0})),f&&h&&f.errorMap===B&&f.fieldMeta===this.fieldMetaDerived.state&&f.errors===R&&f.isFieldsValidating===x&&f.isFieldsValid===v&&f.isFormValid===I&&f.isValid===P&&f.canSubmit===z&&f.isTouched===E&&f.isBlurred===N&&f.isPristine===C&&f.isDirty===_&&aA(h,p))return f;let U={...p,errorMap:B,fieldMeta:this.fieldMetaDerived.state,errors:R,isFieldsValidating:x,isFieldsValid:v,isFormValid:I,isValid:P,canSubmit:z,isTouched:E,isBlurred:N,isPristine:C,isDirty:_};const H=((c=this.options.transform)==null?void 0:c.deps)??[];if(H.length!==this.prevTransformArray.length||H.some((L,T)=>L!==this.prevTransformArray[T])){const L=Object.assign({},this,{state:U});(u=this.options.transform)==null||u.fn(L),U=L.state,this.prevTransformArray=H}return U}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{})}get state(){return this.store.state}runValidator(t){return Cee(t.validate)?$ee[t.type](t.value,t.validate):t.validate(t.value)}async handleSubmit(t){var n,r,i,o,s,a;if(this.baseStore.setState(u=>({...u,isSubmitted:!1,submissionAttempts:u.submissionAttempts+1,isSubmitSuccessful:!1})),!this.state.canSubmit)return;this.baseStore.setState(u=>({...u,isSubmitting:!0}));const c=()=>{this.baseStore.setState(u=>({...u,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid){c(),(r=(n=this.options).onSubmitInvalid)==null||r.call(n,{value:this.state.values,formApi:this});return}if(await this.validate("submit"),!this.state.isValid){c(),(o=(i=this.options).onSubmitInvalid)==null||o.call(i,{value:this.state.values,formApi:this});return}Fu(()=>{Object.values(this.fieldInfo).forEach(u=>{var f,h,p;(p=(h=(f=u.instance)==null?void 0:f.options.listeners)==null?void 0:h.onSubmit)==null||p.call(h,{value:u.instance.state.value,fieldApi:u.instance})})});try{await((a=(s=this.options).onSubmit)==null?void 0:a.call(s,{value:this.state.values,formApi:this,meta:t??this.options.onSubmitMeta})),Fu(()=>{this.baseStore.setState(u=>({...u,isSubmitted:!0,isSubmitSuccessful:!0})),c()})}catch(u){throw this.baseStore.setState(f=>({...f,isSubmitSuccessful:!1})),c(),u}}setErrorMap(t){this.baseStore.setState(n=>({...n,errorMap:{...n.errorMap,...t}}))}}function KR(e){if(e){if(_ee(e)){const t=KR(e.form).formError,n=e.fields;return{formError:t,fieldErrors:n}}return{formError:e}}return{formError:void 0}}function J1(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}class Rze{constructor(t){this.options={},this.mount=()=>{var n,r;const i=this.store.mount(),o=this.getInfo();o.instance=this,this.update(this.options);const{onMount:s}=this.options.validators||{};if(s){const a=this.runValidator({validate:s,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});a&&this.setMeta(c=>({...c,errorMap:{...c==null?void 0:c.errorMap,onMount:a}}))}return(r=(n=this.options.listeners)==null?void 0:n.onMount)==null||r.call(n,{value:this.state.value,fieldApi:this}),i},this.update=n=>{if(this.state.value===void 0){const r=Oee(n.form.options.defaultValues,n.name);n.defaultValue!==void 0?this.setValue(n.defaultValue,{dontUpdateMeta:!0}):r!==void 0&&this.setValue(r,{dontUpdateMeta:!0})}this.form.getFieldMeta(this.name)===void 0&&this.setMeta(this.state.meta),this.options=n,this.name=n.name},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(n,r)=>{var i,o;this.form.setFieldValue(this.name,n,r),(o=(i=this.options.listeners)==null?void 0:i.onChange)==null||o.call(i,{value:this.state.value,fieldApi:this}),this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=n=>this.form.setFieldMeta(this.name,n),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(n,r)=>{var i,o;this.form.pushFieldValue(this.name,n,r),(o=(i=this.options.listeners)==null?void 0:i.onChange)==null||o.call(i,{value:this.state.value,fieldApi:this})},this.insertValue=(n,r,i)=>{var o,s;this.form.insertFieldValue(this.name,n,r,i),(s=(o=this.options.listeners)==null?void 0:o.onChange)==null||s.call(o,{value:this.state.value,fieldApi:this})},this.replaceValue=(n,r,i)=>{var o,s;this.form.replaceFieldValue(this.name,n,r,i),(s=(o=this.options.listeners)==null?void 0:o.onChange)==null||s.call(o,{value:this.state.value,fieldApi:this})},this.removeValue=(n,r)=>{var i,o;this.form.removeFieldValue(this.name,n,r),(o=(i=this.options.listeners)==null?void 0:i.onChange)==null||o.call(i,{value:this.state.value,fieldApi:this})},this.swapValues=(n,r,i)=>{var o,s;this.form.swapFieldValues(this.name,n,r,i),(s=(o=this.options.listeners)==null?void 0:o.onChange)==null||s.call(o,{value:this.state.value,fieldApi:this})},this.moveValue=(n,r,i)=>{var o,s;this.form.moveFieldValues(this.name,n,r,i),(s=(o=this.options.listeners)==null?void 0:o.onChange)==null||s.call(o,{value:this.state.value,fieldApi:this})},this.getLinkedFields=n=>{const r=Object.values(this.form.fieldInfo),i=[];for(const o of r){if(!o.instance)continue;const{onChangeListenTo:s,onBlurListenTo:a}=o.instance.options.validators||{};n==="change"&&(s!=null&&s.includes(this.name))&&i.push(o.instance),n==="blur"&&(a!=null&&a.includes(this.name))&&i.push(o.instance)}return i},this.validateSync=(n,r)=>{const i=GR(n,this.options),s=this.getLinkedFields(n).reduce((u,f)=>{const h=GR(n,f.options);return h.forEach(p=>{p.field=f}),u.concat(h)},[]);let a=!1;Fu(()=>{const u=(f,h)=>{const p=q0(h.cause),y=h.validate?HB(f.runValidator({validate:h.validate,value:{value:f.store.state.value,validationSource:"field",fieldApi:f},type:"validate"})):r[p];f.state.meta.errorMap[p]!==y&&f.setMeta(x=>({...x,errorMap:{...x.errorMap,[q0(h.cause)]:y||r[p]}})),(y||r[p])&&(a=!0)};for(const f of i)u(this,f);for(const f of s)f.validate&&u(f.field,f)});const c=q0("submit");return this.state.meta.errorMap[c]&&n!=="submit"&&!a&&this.setMeta(u=>({...u,errorMap:{...u.errorMap,[c]:void 0}})),{hasErrored:a}},this.validateAsync=async(n,r)=>{const i=WR(n,this.options),o=await r,s=this.getLinkedFields(n),a=s.reduce((p,y)=>{const x=WR(n,y.options);return x.forEach(v=>{v.field=y}),p.concat(x)},[]);this.state.meta.isValidating||this.setMeta(p=>({...p,isValidating:!0}));for(const p of s)p.setMeta(y=>({...y,isValidating:!0}));const c=[],u=[],f=(p,y,x)=>{const v=q0(y.cause),E=p.getInfo().validationMetaMap[v];E==null||E.lastAbortController.abort();const N=new AbortController;this.getInfo().validationMetaMap[v]={lastAbortController:N},x.push(new Promise(async O=>{var _;let C;try{C=await new Promise((I,P)=>{this.timeoutIds[y.cause]&&clearTimeout(this.timeoutIds[y.cause]),this.timeoutIds[y.cause]=setTimeout(async()=>{if(N.signal.aborted)return I(void 0);try{I(await this.runValidator({validate:y.validate,value:{value:p.store.state.value,fieldApi:p,signal:N.signal,validationSource:"field"},type:"validateAsync"}))}catch(z){P(z)}},y.debounceMs)})}catch(I){C=I}if(N.signal.aborted)return O(void 0);const j=HB(C),A=(_=o[this.name])==null?void 0:_[v],R=j||A;p.setMeta(I=>({...I,errorMap:{...I==null?void 0:I.errorMap,[v]:R}})),O(R)}))};for(const p of i)p.validate&&f(this,p,c);for(const p of a)p.validate&&f(p.field,p,u);let h=[];(c.length||u.length)&&(h=await Promise.all(c),await Promise.all(u)),this.setMeta(p=>({...p,isValidating:!1}));for(const p of s)p.setMeta(y=>({...y,isValidating:!1}));return h.filter(Boolean)},this.validate=(n,r)=>{var i;if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:o}=r!=null&&r.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(n),{hasErrored:s}=this.validateSync(n,o[this.name]??{});if(s&&!this.options.asyncAlways)return(i=this.getInfo().validationMetaMap[q0(n)])==null||i.lastAbortController.abort(),this.state.meta.errors;const a=r!=null&&r.skipFormValidation?Promise.resolve({}):this.form.validateAsync(n);return this.validateAsync(n,a)},this.handleChange=n=>{this.setValue(n)},this.handleBlur=()=>{var n,r;this.state.meta.isTouched||(this.setMeta(o=>({...o,isTouched:!0})),this.validate("change")),this.state.meta.isBlurred||this.setMeta(o=>({...o,isBlurred:!0})),this.validate("blur"),(r=(n=this.options.listeners)==null?void 0:n.onBlur)==null||r.call(n,{value:this.state.value,fieldApi:this})},this.form=t.form,this.name=t.name,this.timeoutIds={},t.defaultValue!==void 0&&this.form.setFieldValue(this.name,t.defaultValue,{dontUpdateMeta:!0}),this.store=new vc({deps:[this.form.store],fn:()=>{const n=this.form.getFieldValue(this.name),r=this.form.getFieldMeta(this.name)??{isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,errors:[],errorMap:{},...t.defaultMeta};return{value:n,meta:r}}}),this.options=t}get state(){return this.store.state}runValidator(t){return Cee(t.validate)?$ee[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(n=>({...n,errorMap:{...n.errorMap,...t}}))}}function HB(e){if(e)return e}function q0(e){switch(e){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"change":default:return"onChange"}}const QE=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Ize(e){const[t]=w.useState(()=>{const r=new Rze({...e,form:e.form,name:e.name});return r.Field=jee,r});return QE(t.mount,[t]),QE(()=>{t.update(e)}),PO(t.store,e.mode==="array"?n=>[n.meta,Object.keys(n.value??[]).length]:void 0),t}const jee=({children:e,...t})=>{const n=Ize(t),r=w.useMemo(()=>DO(e,n),[e,n,n.state.value,n.state.meta]);return m.jsx(m.Fragment,{children:r})};function Mze({form:e,selector:t,children:n}){const r=PO(e.store,t);return DO(n,r)}function kze(e){const[t]=w.useState(()=>{const n=new Tze(e),r=n;return r.Field=function(o){return m.jsx(jee,{...o,form:n})},r.Subscribe=i=>m.jsx(Mze,{form:n,selector:i.selector,children:i.children}),r});return QE(t.mount,[]),PO(t.store,n=>n.isSubmitting),QE(()=>{t.update(e)}),t}function Pze(e,t){return us(e,(n,r)=>{n[r.name]=r.getValue(t==null?void 0:t[r.name],"form")??""},{})}function Dze(e,t,n,r){return us(t,(i,o,s)=>{const a=r.find(f=>f.name===s);if(!a||a.isVirtual())return;const c=o===""?null:o,u=a.getValue(c,"submit")||null;(e==="create"||u!==n[s])&&(i[s]=u)},{})}function Aee({action:e="update",entity:t,initialData:n,onSubmitted:r}){const i=n??{},o=t.getFillableFields(e,!0),s=Pze(o,i),a=kze({defaultValues:s,validators:{onSubmitAsync:async({value:u})=>{try{t.isValidData(u,e,{explain:!0,ignoreUnknown:!0});return}catch(f){return f.message}}},onSubmit:async({value:u,formApi:f})=>{if(!t.isValidData(u,e)){console.error("invalid data",u);return}if(!i)return;const h=Dze(e,u,i,o);await(r==null?void 0:r(Object.keys(h).length===0?void 0:h))}});async function c(u){u.preventDefault(),u.stopPropagation(),a.handleSubmit()}return{Form:a,handleSubmit:c,fields:o,action:e,values:s,initialData:n}}function Fze({params:e}){var _,C;const{$data:t,relations:n}=Is(),r=t.entity(e.entity);if(!r)return m.jsx(Po.NotFound,{description:`Entity "${e.entity}" doesn't exist.`});const i=Number.parseInt(e.id),[o,s]=w.useState(null),[a]=Cr();uo(["Data",r.label,`#${i}`]);const c=n.listableRelationsOf(r),u=(_=n.sourceRelationsOf(r))==null?void 0:_.map(j=>j.other(r).reference),f=oO(r.name,i,{with:u},{keepPreviousData:!1,revalidateOnFocus:!1,shouldRetryOnError:!1});function h(){window.history.go(-1)}async function p(j){if(!j){h();return}try{await f.update(j),o&&s(null),h()}catch(A){s(A instanceof Error?A.message:"Failed to update")}}async function y(){if(confirm("Are you sure to delete?"))try{await f._delete(),o&&s(null),h()}catch(j){s(j instanceof Error?j.message:"Failed to delete")}}const x=f.data,{Form:v,handleSubmit:E}=Aee({action:"update",entity:r,initialData:(C=f.data)==null?void 0:C.toJSON(),onSubmitted:p});if(!x&&!f.isLoading)return m.jsx(Po.NotFound,{description:`Entity "${e.entity}" with ID "${i}" doesn't exist.`});const N=(j="")=>`${r.name}_${i}_${String(j)}`,O=f.isLoading||f.isValidating||v.state.isSubmitting;return m.jsxs(w.Fragment,{children:[m.jsx(jr,{right:m.jsxs(m.Fragment,{children:[m.jsx(Li,{position:"bottom-end",items:[{label:"Inspect",onClick:()=>{li.open("debug",{data:{data:x,entity:r.toJSON(),schema:r.toSchema({clean:!0}),form:v.state.values,state:v.state}})}},{label:"Settings",onClick:()=>a(ft.settings.path(["data","entities",r.name]),{absolute:!0})},{label:"Delete",onClick:y,destructive:!0,disabled:O}],children:m.jsx(Tt,{Icon:Kd})}),m.jsx(v.Subscribe,{selector:j=>[j.canSubmit,j.isSubmitting],children:([j,A])=>m.jsx(lt,{type:"button",onClick:v.handleSubmit,variant:"primary",tabIndex:r.fields.length+1,disabled:!j||A||O,children:"Update"})})]}),className:"pl-3",children:m.jsx(kO,{path:[{label:r.label,href:ft.data.entity.list(r.name)},{label:`Edit #${i}`}]})}),f.isLoading?m.jsx("div",{className:"w-full h-full flex justify-center items-center font-mono opacity-30",children:"Loading..."}):m.jsxs(ri,{children:[o&&m.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[m.jsx("b",{className:"mr-2",children:"Update failed: "})," ",o]}),m.jsx(Nee,{entity:r,entityId:i,handleSubmit:E,fieldsDisabled:O,data:x??void 0,Form:v,action:"update",className:"flex flex-grow flex-col gap-3 p-3"}),c.length>0?m.jsx(Lze,{id:i,entity:r,relations:c}):null]})]},N())}function Lze({id:e,entity:t,relations:n}){const[r,i]=w.useState(n.length>0?n[0]:void 0);function o(s){i(s)}return n.length===0?null:m.jsxs("div",{className:"flex flex-col max-w-full",children:[m.jsx(TX,{title:"Relations",items:n.map(s=>{const a=s.other(t);return{as:"button",type:"button",label:Mo(a.reference),onClick:()=>o(s),active:(r==null?void 0:r.other(t).reference)===a.reference,badge:s.type()}})}),m.jsx("div",{className:"flex flex-grow flex-col gap-3 p-3",children:m.jsx(Bze,{id:e,entity:t,relation:r})})]})}function Bze({id:e,entity:t,relation:n}){var f,h,p;const r=n.other(t),[i]=Cr(),o={select:r.entity.getSelect(void 0,"table"),limit:10,offset:0},s=iO(y=>y.data.readManyByReference(t.name,e,r.reference,o));function a(y){i(ft.data.entity.edit(r.entity.name,y.id))}let c;try{if(r.entity.type!=="system"){const y=n.getReferenceQuery(r.entity,e,r.reference);c=()=>{i(ft.data.entity.create(r.entity.name),{query:y.where})}}}catch{}if(!s.data)return null;const u=s.isValidating||s.isLoading;return m.jsx("div",{"data-updating":u?1:void 0,className:"transition-opacity data-[updating]:opacity-50",children:m.jsx(ok,{select:o.select,data:s.data??null,entity:r.entity,onClickRow:a,onClickNew:c,page:1,total:((p=(h=(f=s.data)==null?void 0:f.body)==null?void 0:h.meta)==null?void 0:p.count)??1})})}function Tee(e,t){const n=uIe(),[r,i]=zo(),o=n.length>0?v8(n):t??{},s=EF(e,o,{withDefaults:!0,clone:!0});function a(c,u){const f=EF(e,{...v8(n),[c]:u}),h=us(f,(y,x,v)=>{t&&w4(x,t[v])||(y[v]=x)},{}),p=SN(h,{encode:!1});i(r+(p.length>0?"?"+p:""))}return{value:s,set:a}}function zze({params:e}){const{$data:t}=Is(),n=t.entity(e.entity);if(n){if(n.type==="system")return m.jsx(Po.NotAllowed,{description:`Entity "${e.entity}" cannot be created.`})}else return m.jsx(Po.NotFound,{description:`Entity "${e.entity}" doesn't exist.`});const[r,i]=w.useState(null);uo(["Data",n.label,"Create"]);const o=MRe(n.name),s=Tee(sn({}),{});function a(){window.history.go(-1)}async function c(p){if(console.log("create:changeSet",p),!!p)try{await o.create(p),r&&i(null),a()}catch(y){i(y instanceof Error?y.message:"Failed to create")}}const{Form:u,handleSubmit:f}=Aee({action:"create",entity:n,initialData:s.value,onSubmitted:c}),h=o.isLoading||o.isValidating||u.state.isSubmitting;return m.jsxs(m.Fragment,{children:[m.jsx(jr,{right:m.jsxs(m.Fragment,{children:[m.jsx(lt,{onClick:a,children:"Cancel"}),m.jsx(u.Subscribe,{selector:p=>[p.canSubmit,p.isSubmitting],children:([p,y])=>m.jsx(lt,{type:"button",onClick:u.handleSubmit,variant:"primary",tabIndex:n.fields.length,disabled:!p||y,children:"Create"})})]}),children:m.jsx(kO,{path:[{label:n.label,href:ft.data.entity.list(n.name)},{label:"Create"}]})}),m.jsxs(ri,{children:[r&&m.jsxs("div",{className:"flex flex-row dark:bg-red-950 bg-red-100 p-4",children:[m.jsx("b",{className:"mr-2",children:"Create failed: "})," ",r]}),m.jsx(Nee,{entity:n,handleSubmit:f,fieldsDisabled:h,data:s.value,Form:u,action:"create",className:"flex flex-grow flex-col gap-3 p-3"})]},n.name)]})}function Uze(){const e=yl(),{config:t}=Yd(),n=F3(),[r]=Cr();return{open:async()=>{const o=li.open("overlay",{content:"Loading..."}),s=await e.auth.actionSchema("password","create");o.closeAll(),li.open("form",{schema:s,uiSchema:{password:{"ui:widget":"password"}},autoCloseAfterSubmit:!1,onSubmit:async(a,c)=>{console.log("submitted:",a,c);const u=await e.auth.action("password","create",a);console.log(u),u.ok?(n(),r(ft.data.entity.edit(t.entity_name,u.data.id)),c.close()):"error"in u?c.setError(u.error):c.setError("Unknown error")}},{title:"Create User"})}}}const Vze=lb({...xbe(os.properties,["select","where","sort"]),page:bd({default:1}).optional(),perPage:bd({default:10}).optional()}),qze=[5,10,25];function Hze({params:e}){var y,x;const{$data:t}=Is(),n=t.entity(e.entity);if(!n)return m.jsx(Po.NotFound,{description:`Entity "${e.entity}" doesn't exist.`});uo(["Data",(n==null?void 0:n.label)??e.entity]);const[r]=Cr(),i=Tee(Vze,{select:n.getSelect(void 0,"table"),sort:n.getDefaultSort()}),o=iO(v=>v.data.readMany(n==null?void 0:n.name,{select:i.value.select,limit:i.value.perPage,offset:(i.value.page-1)*i.value.perPage,sort:`${i.value.sort.dir==="asc"?"":"-"}${i.value.sort.by}`}),{enabled:!!n,revalidateOnFocus:!0,keepPreviousData:!0}),s=(y=o.data)==null?void 0:y.data,a=(x=o.data)==null?void 0:x.body.meta;function c(v){n&&r(ft.data.entity.edit(n.name,v.id))}function u(v){i.set("page",v)}function f(v){const E=i.value.sort,N={by:v,dir:E.by===v&&E.dir==="asc"?"desc":"asc"};i.set("sort",N)}function h(v){i.set("perPage",v)}const p=o.isLoading||o.isValidating;return m.jsxs(w.Fragment,{children:[m.jsx(jr,{right:m.jsxs(m.Fragment,{children:[m.jsx(Li,{items:[{label:"Settings",onClick:()=>r(ft.data.schema.entity(n.name))},{label:"Data Schema",onClick:()=>r(ft.data.schema.root())},{label:"Advanced Settings",onClick:()=>r(ft.settings.path(["data","entities",n.name]),{absolute:!0})}],position:"bottom-end",children:m.jsx(Tt,{Icon:Kd})}),m.jsx(Wze,{entity:n})]}),children:n.label}),m.jsx(ri,{children:m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsx("div",{"data-updating":p?1:void 0,className:"data-[updating]:opacity-50 transition-opacity pb-10",children:m.jsx(ok,{data:s??null,entity:n,select:i.value.select,onClickRow:c,page:i.value.page,sort:i.value.sort,onClickSort:f,perPage:i.value.perPage,perPageOptions:qze,total:a==null?void 0:a.count,onClickPage:u,onClickPerPage:h})})})},n.name)]},n.name)}function Wze({entity:e}){const t=Bt(),n=Uze(),[r]=Cr();return e?e.type==="system"?{users:t.app.config.auth.entity_name,media:t.app.config.media.entity_name}.users===e.name?m.jsx(lt,{onClick:n.open,variant:"primary",children:"New User"}):null:m.jsx(lt,{onClick:()=>{r(ft.data.entity.create(e.name))},variant:"primary",children:"Create new"}):null}function Gze({params:e}){const{$data:t}=Is(),[n]=Cr(),r=t.entity(e.entity);return r?m.jsxs(v4e,{path:`/entity/${r.name}/:setting?`,defaultIdentifier:"fields",children:[m.jsx(jr,{right:m.jsxs(m.Fragment,{children:[m.jsx(Li,{items:[{label:"Data",onClick:()=>n(ft.data.root()+ft.data.entity.list(r.name),{absolute:!0})},{label:"Advanced Settings",onClick:()=>n(ft.settings.path(["data","entities",r.name]),{absolute:!0})}],position:"bottom-end",children:m.jsx(Tt,{Icon:Kd})}),m.jsx(Li,{items:[{icon:tM,label:"Add relation",onClick:()=>t.modals.createRelation(r.name)},{icon:zv,label:"Add media",onClick:()=>t.modals.createMedia(r.name)},()=>m.jsx("div",{className:"h-px my-1 w-full bg-primary/5"}),{icon:EX,label:"Create Entity",onClick:()=>t.modals.createEntity()}],position:"bottom-end",children:m.jsx(lt,{IconRight:_X,children:"Add"})})]}),className:"pl-3",children:m.jsxs("div",{className:"flex flex-row gap-4",children:[m.jsx(kO,{path:[{label:"Schema",href:"/"},{label:r.label}],backTo:"/"}),m.jsx(er,{to:"/",className:"hidden md:inline",children:m.jsx(lt,{IconLeft:yR,children:"Overview"})})]})}),m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx(Kze,{entity:r}),m.jsx(Yze,{entity:r}),m.jsx(OE,{identifier:"relations",title:"Relations",ActiveIcon:B3,children:m.jsx(Fi,{title:"Relations",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>n(ft.settings.path(["data","relations"]),{absolute:!0})}})}),m.jsx(OE,{identifier:"indices",title:"Indices",ActiveIcon:LRe,children:m.jsx(Fi,{title:"Indices",description:"This will soon be available here. Meanwhile, check advanced settings.",primary:{children:"Advanced Settings",onClick:()=>n(ft.settings.path(["data","indices"]),{absolute:!0})}})})]},r.name)]}):m.jsx(Po.NotFound,{description:`Entity "${e.entity}" doesn't exist.`})}const Kze=({entity:e})=>{const[t,n]=w.useState(!1),[r,i]=w.useState(0),{actions:o,$data:s}=Is(),[a,c]=w.useState(),u=w.useRef(null);async function f(){var y;if(t)return;n(!0);const p=(y=u.current)==null?void 0:y.getData();await o.entity.patch(e.name).fields.set(p),n(!1),i(x=>x+1)}const h=Object.fromEntries(e.fields.map(p=>[p.name,p.toJSON()]));return m.jsx(OE,{identifier:"fields",title:"Fields",ActiveIcon:L3,renderHeaderRight:({open:p})=>p?m.jsx(lt,{variant:"primary",disabled:!p,onClick:f,children:"Update"}):null,children:m.jsxs("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:[t&&m.jsx("div",{className:"animate-fade-in absolute w-full h-full top-0 bottom-0 left-0 right-0 bg-background/65 z-50"}),m.jsx(wZ,{routePattern:`/entity/${e.name}/fields/:sub?`,fields:h,ref:u,sortable:!0,additionalFieldTypes:SO.filter(p=>["relation","media"].includes(p.type)).map(p=>({...p,onClick:()=>{switch(p.type){case"relation":s.modals.createRelation(e.name);break;case"media":s.modals.createMedia(e.name);break}}}))},String(r)),co()&&m.jsxs("div",{children:[m.jsxs("div",{className:"flex flex-row gap-1 justify-center",children:[m.jsx(lt,{size:"small",onClick:()=>{var p;return c((p=u.current)==null?void 0:p.isValid())},children:"valid"}),m.jsx(lt,{size:"small",onClick:()=>{var p;return c((p=u.current)==null?void 0:p.getValues())},children:"values"}),m.jsx(lt,{size:"small",onClick:()=>{var p;return c((p=u.current)==null?void 0:p.getData())},children:"data"}),m.jsx(lt,{size:"small",onClick:()=>{var p;return c((p=u.current)==null?void 0:p.getErrors())},children:"errors"}),m.jsx(lt,{size:"small",onClick:f,children:"update"})]}),m.jsx("pre",{className:"select-text",children:JSON.stringify(a,null,2)})]})]})})},Yze=({entity:e})=>{var c,u,f,h;const t=Is(),n=(u=(c=t.entities)==null?void 0:c[e.name])==null?void 0:u.config,r=w.useRef(null),i=xv((h=(f=t.schema.properties.entities.additionalProperties)==null?void 0:f.properties)==null?void 0:h.config),[o,s]=gZ(i,n,["fields"]);try{o.properties.sort_field.enum=e.getFields().map(p=>p.name)}catch(p){console.error("error setting sort_field enum",p)}async function a(){var p,y;console.log("update",(p=r.current)==null?void 0:p.formData()),await t.actions.entity.patch(e.name).config((y=r.current)==null?void 0:y.formData())}return m.jsx(OE,{identifier:"settings",title:"Settings",ActiveIcon:sx,renderHeaderRight:({open:p})=>p?m.jsx(lt,{variant:"primary",disabled:!p,onClick:a,children:"Update"}):null,children:m.jsx("div",{className:"flex flex-col flex-grow py-3 px-4 max-w-4xl gap-3 relative",children:m.jsx(Sy,{ref:r,schema:o,formData:s,onSubmit:console.log,className:"legacy hide-required-mark fieldset-alternative mute-root"})})})},Jze=w.lazy(()=>qv(()=>import("./DataSchemaCanvas-BfgZbLgc.js"),[]).then(e=>({default:e.DataSchemaCanvas})));function Xze(){const{$data:e}=Is();return m.jsxs(m.Fragment,{children:[m.jsx(jr,{right:m.jsx(lt,{type:"button",variant:"primary",onClick:e.modals.createAny,children:"Create new"}),children:"Schema Overview"}),m.jsx("div",{className:"w-full h-full",children:m.jsx(w.Suspense,{children:m.jsx(Jze,{})})})]})}function Qze(){return m.jsx(sze,{children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/",component:lze}),m.jsx(ut,{path:"/entity/:entity",component:Hze}),m.jsx(ut,{path:"/entity/:entity/create",component:zze}),m.jsx(ut,{path:"/entity/:entity/edit/:id",component:Fze}),m.jsxs(ut,{path:"/schema",nest:!0,children:[m.jsx(ut,{path:"/",component:Xze}),m.jsx(ut,{path:"/entity/:entity/:setting?/:sub?",component:Gze})]})]})})}const WB=()=>m.jsx("span",{className:"text-xs bg-primary/10 flex rounded-full px-2.5 py-1 leading-none",children:"coming soon"});function Zze(e){return co()?m.jsx(eUe,{...e}):m.jsx(tUe,{})}function eUe({children:e}){const{app:t}=Bt();return m.jsxs(m.Fragment,{children:[m.jsxs(Vv,{children:[m.jsx(jr,{right:m.jsx(er,{href:t.getSettingsPath(["flows"]),children:m.jsx(Tt,{Icon:wy})}),children:"Flows"}),m.jsx(ri,{initialOffset:96,children:m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[m.jsx(So,{as:er,href:ft.flows.flows.list(),children:"All Flows"}),m.jsxs(So,{disabled:!0,className:"justify-between",children:["Endpoints",m.jsx(WB,{})]}),m.jsxs(So,{disabled:!0,className:"justify-between",children:["Executions",m.jsx(WB,{})]}),m.jsx(So,{as:er,href:t.getSettingsPath(["flows"]),children:"Settings"})]})})})]}),m.jsx(Uv,{children:e})]})}function tUe(){return uo(["Flows"]),m.jsx(Fi,{Icon:KRe,title:"Flows",description:"Flows are coming very soon!"})}function pr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=pr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var nUe={value:()=>{}};function FO(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new IS(n)}function IS(e){this._=e}function rUe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}IS.prototype=FO.prototype={constructor:IS,on:function(e,t){var n=this._,r=rUe(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=iUe(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=GB(n[i],e.name,t);else if(t==null)for(i in n)n[i]=GB(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new IS(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function iUe(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function GB(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=nUe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var YR="http://www.w3.org/1999/xhtml";const KB={svg:"http://www.w3.org/2000/svg",xhtml:YR,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function LO(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),KB.hasOwnProperty(t)?{space:KB[t],local:e}:e}function oUe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===YR&&t.documentElement.namespaceURI===YR?t.createElement(e):t.createElementNS(n,e)}}function sUe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ree(e){var t=LO(e);return(t.local?sUe:oUe)(t)}function aUe(){}function ak(e){return e==null?aUe:function(){return this.querySelector(e)}}function lUe(e){typeof e!="function"&&(e=ak(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),c,u,f=0;f<s;++f)(c=o[f])&&(u=e.call(c,c.__data__,f,o))&&("__data__"in c&&(u.__data__=c.__data__),a[f]=u);return new Do(r,this._parents)}function cUe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function uUe(){return[]}function Iee(e){return e==null?uUe:function(){return this.querySelectorAll(e)}}function dUe(e){return function(){return cUe(e.apply(this,arguments))}}function fUe(e){typeof e=="function"?e=dUe(e):e=Iee(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&(r.push(e.call(c,c.__data__,u,s)),i.push(c));return new Do(r,i)}function Mee(e){return function(){return this.matches(e)}}function kee(e){return function(t){return t.matches(e)}}var hUe=Array.prototype.find;function mUe(e){return function(){return hUe.call(this.children,e)}}function pUe(){return this.firstElementChild}function gUe(e){return this.select(e==null?pUe:mUe(typeof e=="function"?e:kee(e)))}var yUe=Array.prototype.filter;function bUe(){return Array.from(this.children)}function xUe(e){return function(){return yUe.call(this.children,e)}}function vUe(e){return this.selectAll(e==null?bUe:xUe(typeof e=="function"?e:kee(e)))}function wUe(e){typeof e!="function"&&(e=Mee(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new Do(r,this._parents)}function Pee(e){return new Array(e.length)}function SUe(){return new Do(this._enter||this._groups.map(Pee),this._parents)}function ZE(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ZE.prototype={constructor:ZE,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function EUe(e){return function(){return e}}function NUe(e,t,n,r,i,o){for(var s=0,a,c=t.length,u=o.length;s<u;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new ZE(e,o[s]);for(;s<c;++s)(a=t[s])&&(i[s]=a)}function OUe(e,t,n,r,i,o,s){var a,c,u=new Map,f=t.length,h=o.length,p=new Array(f),y;for(a=0;a<f;++a)(c=t[a])&&(p[a]=y=s.call(c,c.__data__,a,t)+"",u.has(y)?i[a]=c:u.set(y,c));for(a=0;a<h;++a)y=s.call(e,o[a],a,o)+"",(c=u.get(y))?(r[a]=c,c.__data__=o[a],u.delete(y)):n[a]=new ZE(e,o[a]);for(a=0;a<f;++a)(c=t[a])&&u.get(p[a])===c&&(i[a]=c)}function _Ue(e){return e.__data__}function $Ue(e,t){if(!arguments.length)return Array.from(this,_Ue);var n=t?OUe:NUe,r=this._parents,i=this._groups;typeof e!="function"&&(e=EUe(e));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),u=0;u<o;++u){var f=r[u],h=i[u],p=h.length,y=CUe(e.call(f,f&&f.__data__,u,r)),x=y.length,v=a[u]=new Array(x),E=s[u]=new Array(x),N=c[u]=new Array(p);n(f,h,v,E,N,y,t);for(var O=0,_=0,C,j;O<x;++O)if(C=v[O]){for(O>=_&&(_=O+1);!(j=E[_])&&++_<x;);C._next=j||null}}return s=new Do(s,r),s._enter=a,s._exit=c,s}function CUe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jUe(){return new Do(this._exit||this._groups.map(Pee),this._parents)}function AUe(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function TUe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var u=n[c],f=r[c],h=u.length,p=a[c]=new Array(h),y,x=0;x<h;++x)(y=u[x]||f[x])&&(p[x]=y);for(;c<i;++c)a[c]=n[c];return new Do(a,this._parents)}function RUe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function IUe(e){e||(e=MUe);function t(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),u,f=0;f<a;++f)(u=s[f])&&(c[f]=u);c.sort(t)}return new Do(i,this._parents).order()}function MUe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function kUe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function PUe(){return Array.from(this)}function DUe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function FUe(){let e=0;for(const t of this)++e;return e}function LUe(){return!this.node()}function BUe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function zUe(e){return function(){this.removeAttribute(e)}}function UUe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VUe(e,t){return function(){this.setAttribute(e,t)}}function qUe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function HUe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function WUe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GUe(e,t){var n=LO(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?UUe:zUe:typeof t=="function"?n.local?WUe:HUe:n.local?qUe:VUe)(n,t))}function Dee(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function KUe(e){return function(){this.style.removeProperty(e)}}function YUe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function JUe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function XUe(e,t,n){return arguments.length>1?this.each((t==null?KUe:typeof t=="function"?JUe:YUe)(e,t,n??"")):Ag(this.node(),e)}function Ag(e,t){return e.style.getPropertyValue(t)||Dee(e).getComputedStyle(e,null).getPropertyValue(t)}function QUe(e){return function(){delete this[e]}}function ZUe(e,t){return function(){this[e]=t}}function eVe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function tVe(e,t){return arguments.length>1?this.each((t==null?QUe:typeof t=="function"?eVe:ZUe)(e,t)):this.node()[e]}function Fee(e){return e.trim().split(/^|\s+/)}function lk(e){return e.classList||new Lee(e)}function Lee(e){this._node=e,this._names=Fee(e.getAttribute("class")||"")}Lee.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Bee(e,t){for(var n=lk(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function zee(e,t){for(var n=lk(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function nVe(e){return function(){Bee(this,e)}}function rVe(e){return function(){zee(this,e)}}function iVe(e,t){return function(){(t.apply(this,arguments)?Bee:zee)(this,e)}}function oVe(e,t){var n=Fee(e+"");if(arguments.length<2){for(var r=lk(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?iVe:t?nVe:rVe)(n,t))}function sVe(){this.textContent=""}function aVe(e){return function(){this.textContent=e}}function lVe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function cVe(e){return arguments.length?this.each(e==null?sVe:(typeof e=="function"?lVe:aVe)(e)):this.node().textContent}function uVe(){this.innerHTML=""}function dVe(e){return function(){this.innerHTML=e}}function fVe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function hVe(e){return arguments.length?this.each(e==null?uVe:(typeof e=="function"?fVe:dVe)(e)):this.node().innerHTML}function mVe(){this.nextSibling&&this.parentNode.appendChild(this)}function pVe(){return this.each(mVe)}function gVe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yVe(){return this.each(gVe)}function bVe(e){var t=typeof e=="function"?e:Ree(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function xVe(){return null}function vVe(e,t){var n=typeof e=="function"?e:Ree(e),r=t==null?xVe:typeof t=="function"?t:ak(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function wVe(){var e=this.parentNode;e&&e.removeChild(this)}function SVe(){return this.each(wVe)}function EVe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function NVe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function OVe(e){return this.select(e?NVe:EVe)}function _Ve(e){return arguments.length?this.property("__data__",e):this.node().__data__}function $Ve(e){return function(t){e.call(this,t,this.__data__)}}function CVe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function jVe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function AVe(e,t,n){return function(){var r=this.__on,i,o=$Ve(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function TVe(e,t,n){var r=CVe(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,u=a.length,f;c<u;++c)for(i=0,f=a[c];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?AVe:jVe,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function Uee(e,t,n){var r=Dee(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function RVe(e,t){return function(){return Uee(this,e,t)}}function IVe(e,t){return function(){return Uee(this,e,t.apply(this,arguments))}}function MVe(e,t){return this.each((typeof t=="function"?IVe:RVe)(e,t))}function*kVe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Vee=[null];function Do(e,t){this._groups=e,this._parents=t}function tw(){return new Do([[document.documentElement]],Vee)}function PVe(){return this}Do.prototype=tw.prototype={constructor:Do,select:lUe,selectAll:fUe,selectChild:gUe,selectChildren:vUe,filter:wUe,data:$Ue,enter:SUe,exit:jUe,join:AUe,merge:TUe,selection:PVe,order:RUe,sort:IUe,call:kUe,nodes:PUe,node:DUe,size:FUe,empty:LUe,each:BUe,attr:GUe,style:XUe,property:tVe,classed:oVe,text:cVe,html:hVe,raise:pVe,lower:yVe,append:bVe,insert:vVe,remove:SVe,clone:OVe,datum:_Ve,on:TVe,dispatch:MVe,[Symbol.iterator]:kVe};function Eo(e){return typeof e=="string"?new Do([[document.querySelector(e)]],[document.documentElement]):new Do([[e]],Vee)}function DVe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Js(e,t){if(e=DVe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const FVe={passive:!1},gx={capture:!0,passive:!1};function cA(e){e.stopImmediatePropagation()}function Dp(e){e.preventDefault(),e.stopImmediatePropagation()}function qee(e){var t=e.document.documentElement,n=Eo(e).on("dragstart.drag",Dp,gx);"onselectstart"in t?n.on("selectstart.drag",Dp,gx):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Hee(e,t){var n=e.document.documentElement,r=Eo(e).on("dragstart.drag",null);t&&(r.on("click.drag",Dp,gx),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const X1=e=>()=>e;function JR(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:c,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}JR.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function LVe(e){return!e.ctrlKey&&!e.button}function BVe(){return this.parentNode}function zVe(e,t){return t??{x:e.x,y:e.y}}function UVe(){return navigator.maxTouchPoints||"ontouchstart"in this}function Wee(){var e=LVe,t=BVe,n=zVe,r=UVe,i={},o=FO("start","drag","end"),s=0,a,c,u,f,h=0;function p(C){C.on("mousedown.drag",y).filter(r).on("touchstart.drag",E).on("touchmove.drag",N,FVe).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function y(C,j){if(!(f||!e.call(this,C,j))){var A=_(this,t.call(this,C,j),C,j,"mouse");A&&(Eo(C.view).on("mousemove.drag",x,gx).on("mouseup.drag",v,gx),qee(C.view),cA(C),u=!1,a=C.clientX,c=C.clientY,A("start",C))}}function x(C){if(Dp(C),!u){var j=C.clientX-a,A=C.clientY-c;u=j*j+A*A>h}i.mouse("drag",C)}function v(C){Eo(C.view).on("mousemove.drag mouseup.drag",null),Hee(C.view,u),Dp(C),i.mouse("end",C)}function E(C,j){if(e.call(this,C,j)){var A=C.changedTouches,R=t.call(this,C,j),I=A.length,P,z;for(P=0;P<I;++P)(z=_(this,R,C,j,A[P].identifier,A[P]))&&(cA(C),z("start",C,A[P]))}}function N(C){var j=C.changedTouches,A=j.length,R,I;for(R=0;R<A;++R)(I=i[j[R].identifier])&&(Dp(C),I("drag",C,j[R]))}function O(C){var j=C.changedTouches,A=j.length,R,I;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),R=0;R<A;++R)(I=i[j[R].identifier])&&(cA(C),I("end",C,j[R]))}function _(C,j,A,R,I,P){var z=o.copy(),B=Js(P||A,j),U,H,M;if((M=n.call(C,new JR("beforestart",{sourceEvent:A,target:p,identifier:I,active:s,x:B[0],y:B[1],dx:0,dy:0,dispatch:z}),R))!=null)return U=M.x-B[0]||0,H=M.y-B[1]||0,function L(T,F,k){var q=B,D;switch(T){case"start":i[I]=L,D=s++;break;case"end":delete i[I],--s;case"drag":B=Js(k||F,j),D=s;break}z.call(T,C,new JR(T,{sourceEvent:F,subject:M,target:p,identifier:I,active:D,x:B[0]+U,y:B[1]+H,dx:B[0]-q[0],dy:B[1]-q[1],dispatch:z}),R)}}return p.filter=function(C){return arguments.length?(e=typeof C=="function"?C:X1(!!C),p):e},p.container=function(C){return arguments.length?(t=typeof C=="function"?C:X1(C),p):t},p.subject=function(C){return arguments.length?(n=typeof C=="function"?C:X1(C),p):n},p.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:X1(!!C),p):r},p.on=function(){var C=o.on.apply(o,arguments);return C===o?p:C},p.clickDistance=function(C){return arguments.length?(h=(C=+C)*C,p):Math.sqrt(h)},p}function ck(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Gee(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function nw(){}var yx=.7,e2=1/yx,Fp="\\s*([+-]?\\d+)\\s*",bx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VVe=/^#([0-9a-f]{3,8})$/,qVe=new RegExp(`^rgb\\(${Fp},${Fp},${Fp}\\)$`),HVe=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),WVe=new RegExp(`^rgba\\(${Fp},${Fp},${Fp},${bx}\\)$`),GVe=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${bx}\\)$`),KVe=new RegExp(`^hsl\\(${bx},${Qa},${Qa}\\)$`),YVe=new RegExp(`^hsla\\(${bx},${Qa},${Qa},${bx}\\)$`),YB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ck(nw,xx,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:JB,formatHex:JB,formatHex8:JVe,formatHsl:XVe,formatRgb:XB,toString:XB});function JB(){return this.rgb().formatHex()}function JVe(){return this.rgb().formatHex8()}function XVe(){return Kee(this).formatHsl()}function XB(){return this.rgb().formatRgb()}function xx(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=VVe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?QB(t):n===3?new Qi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Q1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Q1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qVe.exec(e))?new Qi(t[1],t[2],t[3],1):(t=HVe.exec(e))?new Qi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WVe.exec(e))?Q1(t[1],t[2],t[3],t[4]):(t=GVe.exec(e))?Q1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=KVe.exec(e))?tz(t[1],t[2]/100,t[3]/100,1):(t=YVe.exec(e))?tz(t[1],t[2]/100,t[3]/100,t[4]):YB.hasOwnProperty(e)?QB(YB[e]):e==="transparent"?new Qi(NaN,NaN,NaN,0):null}function QB(e){return new Qi(e>>16&255,e>>8&255,e&255,1)}function Q1(e,t,n,r){return r<=0&&(e=t=n=NaN),new Qi(e,t,n,r)}function QVe(e){return e instanceof nw||(e=xx(e)),e?(e=e.rgb(),new Qi(e.r,e.g,e.b,e.opacity)):new Qi}function XR(e,t,n,r){return arguments.length===1?QVe(e):new Qi(e,t,n,r??1)}function Qi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ck(Qi,XR,Gee(nw,{brighter(e){return e=e==null?e2:Math.pow(e2,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yx:Math.pow(yx,e),new Qi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Qi(ch(this.r),ch(this.g),ch(this.b),t2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZB,formatHex:ZB,formatHex8:ZVe,formatRgb:ez,toString:ez}));function ZB(){return`#${Wf(this.r)}${Wf(this.g)}${Wf(this.b)}`}function ZVe(){return`#${Wf(this.r)}${Wf(this.g)}${Wf(this.b)}${Wf((isNaN(this.opacity)?1:this.opacity)*255)}`}function ez(){const e=t2(this.opacity);return`${e===1?"rgb(":"rgba("}${ch(this.r)}, ${ch(this.g)}, ${ch(this.b)}${e===1?")":`, ${e})`}`}function t2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ch(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wf(e){return e=ch(e),(e<16?"0":"")+e.toString(16)}function tz(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Zs(e,t,n,r)}function Kee(e){if(e instanceof Zs)return new Zs(e.h,e.s,e.l,e.opacity);if(e instanceof nw||(e=xx(e)),!e)return new Zs;if(e instanceof Zs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new Zs(s,a,c,e.opacity)}function eqe(e,t,n,r){return arguments.length===1?Kee(e):new Zs(e,t,n,r??1)}function Zs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ck(Zs,eqe,Gee(nw,{brighter(e){return e=e==null?e2:Math.pow(e2,e),new Zs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yx:Math.pow(yx,e),new Zs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Qi(uA(e>=240?e-240:e+120,i,r),uA(e,i,r),uA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Zs(nz(this.h),Z1(this.s),Z1(this.l),t2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=t2(this.opacity);return`${e===1?"hsl(":"hsla("}${nz(this.h)}, ${Z1(this.s)*100}%, ${Z1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nz(e){return e=(e||0)%360,e<0?e+360:e}function Z1(e){return Math.max(0,Math.min(1,e||0))}function uA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Yee=e=>()=>e;function tqe(e,t){return function(n){return e+n*t}}function nqe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rqe(e){return(e=+e)==1?Jee:function(t,n){return n-t?nqe(t,n,e):Yee(isNaN(t)?n:t)}}function Jee(e,t){var n=t-e;return n?tqe(e,n):Yee(isNaN(e)?t:e)}const rz=function e(t){var n=rqe(t);function r(i,o){var s=n((i=XR(i)).r,(o=XR(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),u=Jee(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function Uu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var QR=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dA=new RegExp(QR.source,"g");function iqe(e){return function(){return e}}function oqe(e){return function(t){return e(t)+""}}function sqe(e,t){var n=QR.lastIndex=dA.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(e=e+"",t=t+"";(r=QR.exec(e))&&(i=dA.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:Uu(r,i)})),n=dA.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?oqe(c[0].x):iqe(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)a[(h=c[f]).i]=h.x(u);return a.join("")})}var iz=180/Math.PI,ZR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Xee(e,t,n,r,i,o){var s,a,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),e*r<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*iz,skewX:Math.atan(c)*iz,scaleX:s,scaleY:a}}var eS;function aqe(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ZR:Xee(t.a,t.b,t.c,t.d,t.e,t.f)}function lqe(e){return e==null||(eS||(eS=document.createElementNS("http://www.w3.org/2000/svg","g")),eS.setAttribute("transform",e),!(e=eS.transform.baseVal.consolidate()))?ZR:(e=e.matrix,Xee(e.a,e.b,e.c,e.d,e.e,e.f))}function Qee(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,f,h,p,y,x){if(u!==h||f!==p){var v=y.push("translate(",null,t,null,n);x.push({i:v-4,x:Uu(u,h)},{i:v-2,x:Uu(f,p)})}else(h||p)&&y.push("translate("+h+t+p+n)}function s(u,f,h,p){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),p.push({i:h.push(i(h)+"rotate(",null,r)-2,x:Uu(u,f)})):f&&h.push(i(h)+"rotate("+f+r)}function a(u,f,h,p){u!==f?p.push({i:h.push(i(h)+"skewX(",null,r)-2,x:Uu(u,f)}):f&&h.push(i(h)+"skewX("+f+r)}function c(u,f,h,p,y,x){if(u!==h||f!==p){var v=y.push(i(y)+"scale(",null,",",null,")");x.push({i:v-4,x:Uu(u,h)},{i:v-2,x:Uu(f,p)})}else(h!==1||p!==1)&&y.push(i(y)+"scale("+h+","+p+")")}return function(u,f){var h=[],p=[];return u=e(u),f=e(f),o(u.translateX,u.translateY,f.translateX,f.translateY,h,p),s(u.rotate,f.rotate,h,p),a(u.skewX,f.skewX,h,p),c(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,p),u=f=null,function(y){for(var x=-1,v=p.length,E;++x<v;)h[(E=p[x]).i]=E.x(y);return h.join("")}}}var cqe=Qee(aqe,"px, ","px)","deg)"),uqe=Qee(lqe,", ",")",")"),dqe=1e-12;function oz(e){return((e=Math.exp(e))+1/e)/2}function fqe(e){return((e=Math.exp(e))-1/e)/2}function hqe(e){return((e=Math.exp(2*e))-1)/(e+1)}const mqe=function e(t,n,r){function i(o,s){var a=o[0],c=o[1],u=o[2],f=s[0],h=s[1],p=s[2],y=f-a,x=h-c,v=y*y+x*x,E,N;if(v<dqe)N=Math.log(p/u)/t,E=function(R){return[a+R*y,c+R*x,u*Math.exp(t*R*N)]};else{var O=Math.sqrt(v),_=(p*p-u*u+r*v)/(2*u*n*O),C=(p*p-u*u-r*v)/(2*p*n*O),j=Math.log(Math.sqrt(_*_+1)-_),A=Math.log(Math.sqrt(C*C+1)-C);N=(A-j)/t,E=function(R){var I=R*N,P=oz(j),z=u/(n*O)*(P*hqe(t*I+j)-fqe(j));return[a+z*y,c+z*x,u*P/oz(t*I+j)]}}return E.duration=N*1e3*t/Math.SQRT2,E}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,c=a*a;return e(s,a,c)},i}(Math.SQRT2,2,4);var Tg=0,tb=0,H0=0,Zee=1e3,n2,nb,r2=0,Ch=0,BO=0,vx=typeof performance=="object"&&performance.now?performance:Date,ete=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function uk(){return Ch||(ete(pqe),Ch=vx.now()+BO)}function pqe(){Ch=0}function i2(){this._call=this._time=this._next=null}i2.prototype=tte.prototype={constructor:i2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?uk():+n)+(t==null?0:+t),!this._next&&nb!==this&&(nb?nb._next=this:n2=this,nb=this),this._call=e,this._time=n,e5()},stop:function(){this._call&&(this._call=null,this._time=1/0,e5())}};function tte(e,t,n){var r=new i2;return r.restart(e,t,n),r}function gqe(){uk(),++Tg;for(var e=n2,t;e;)(t=Ch-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Tg}function sz(){Ch=(r2=vx.now())+BO,Tg=tb=0;try{gqe()}finally{Tg=0,bqe(),Ch=0}}function yqe(){var e=vx.now(),t=e-r2;t>Zee&&(BO-=t,r2=e)}function bqe(){for(var e,t=n2,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:n2=n);nb=e,e5(r)}function e5(e){if(!Tg){tb&&(tb=clearTimeout(tb));var t=e-Ch;t>24?(e<1/0&&(tb=setTimeout(sz,e-vx.now()-BO)),H0&&(H0=clearInterval(H0))):(H0||(r2=vx.now(),H0=setInterval(yqe,Zee)),Tg=1,ete(sz))}}function az(e,t,n){var r=new i2;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var xqe=FO("start","end","cancel","interrupt"),vqe=[],nte=0,lz=1,t5=2,MS=3,cz=4,n5=5,kS=6;function zO(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;wqe(e,n,{name:t,index:r,group:i,on:xqe,tween:vqe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:nte})}function dk(e,t){var n=Oa(e,t);if(n.state>nte)throw new Error("too late; already scheduled");return n}function xl(e,t){var n=Oa(e,t);if(n.state>MS)throw new Error("too late; already running");return n}function Oa(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function wqe(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=tte(o,0,n.time);function o(u){n.state=lz,n.timer.restart(s,n.delay,n.time),n.delay<=u&&s(u-n.delay)}function s(u){var f,h,p,y;if(n.state!==lz)return c();for(f in r)if(y=r[f],y.name===n.name){if(y.state===MS)return az(s);y.state===cz?(y.state=kS,y.timer.stop(),y.on.call("interrupt",e,e.__data__,y.index,y.group),delete r[f]):+f<t&&(y.state=kS,y.timer.stop(),y.on.call("cancel",e,e.__data__,y.index,y.group),delete r[f])}if(az(function(){n.state===MS&&(n.state=cz,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=t5,n.on.call("start",e,e.__data__,n.index,n.group),n.state===t5){for(n.state=MS,i=new Array(p=n.tween.length),f=0,h=-1;f<p;++f)(y=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=y);i.length=h+1}}function a(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(c),n.state=n5,1),h=-1,p=i.length;++h<p;)i[h].call(e,f);n.state===n5&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=kS,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function PS(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>t5&&r.state<n5,r.state=kS,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Sqe(e){return this.each(function(){PS(this,e)})}function Eqe(e,t){var n,r;return function(){var i=xl(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Nqe(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=xl(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},c=0,u=i.length;c<u;++c)if(i[c].name===t){i[c]=a;break}c===u&&i.push(a)}o.tween=i}}function Oqe(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Oa(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Eqe:Nqe)(n,e,t))}function fk(e,t,n){var r=e._id;return e.each(function(){var i=xl(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Oa(i,r).value[t]}}function rte(e,t){var n;return(typeof t=="number"?Uu:t instanceof xx?rz:(n=xx(t))?(t=n,rz):sqe)(e,t)}function _qe(e){return function(){this.removeAttribute(e)}}function $qe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cqe(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function jqe(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Aqe(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function Tqe(e,t,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a)))}}function Rqe(e,t){var n=LO(e),r=n==="transform"?uqe:rte;return this.attrTween(e,typeof t=="function"?(n.local?Tqe:Aqe)(n,r,fk(this,"attr."+e,t)):t==null?(n.local?$qe:_qe)(n):(n.local?jqe:Cqe)(n,r,t))}function Iqe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Mqe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function kqe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Mqe(e,o)),n}return i._value=t,i}function Pqe(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Iqe(e,o)),n}return i._value=t,i}function Dqe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=LO(e);return this.tween(n,(r.local?kqe:Pqe)(r,t))}function Fqe(e,t){return function(){dk(this,e).delay=+t.apply(this,arguments)}}function Lqe(e,t){return t=+t,function(){dk(this,e).delay=t}}function Bqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Fqe:Lqe)(t,e)):Oa(this.node(),t).delay}function zqe(e,t){return function(){xl(this,e).duration=+t.apply(this,arguments)}}function Uqe(e,t){return t=+t,function(){xl(this,e).duration=t}}function Vqe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zqe:Uqe)(t,e)):Oa(this.node(),t).duration}function qqe(e,t){if(typeof t!="function")throw new Error;return function(){xl(this,e).ease=t}}function Hqe(e){var t=this._id;return arguments.length?this.each(qqe(t,e)):Oa(this.node(),t).ease}function Wqe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;xl(this,e).ease=n}}function Gqe(e){if(typeof e!="function")throw new Error;return this.each(Wqe(this._id,e))}function Kqe(e){typeof e!="function"&&(e=Mee(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],c,u=0;u<s;++u)(c=o[u])&&e.call(c,c.__data__,u,o)&&a.push(c);return new Mc(r,this._parents,this._name,this._id)}function Yqe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=t[a],u=n[a],f=c.length,h=s[a]=new Array(f),p,y=0;y<f;++y)(p=c[y]||u[y])&&(h[y]=p);for(;a<r;++a)s[a]=t[a];return new Mc(s,this._parents,this._name,this._id)}function Jqe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Xqe(e,t,n){var r,i,o=Jqe(t)?dk:xl;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function Qqe(e,t){var n=this._id;return arguments.length<2?Oa(this.node(),n).on.on(e):this.each(Xqe(n,e,t))}function Zqe(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function eHe(){return this.on("end.remove",Zqe(this._id))}function tHe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ak(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,u=o[s]=new Array(c),f,h,p=0;p<c;++p)(f=a[p])&&(h=e.call(f,f.__data__,p,a))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,zO(u[p],t,n,p,u,Oa(f,n)));return new Mc(o,this._parents,t,n)}function nHe(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Iee(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],u=c.length,f,h=0;h<u;++h)if(f=c[h]){for(var p=e.call(f,f.__data__,h,c),y,x=Oa(f,n),v=0,E=p.length;v<E;++v)(y=p[v])&&zO(y,t,n,v,p,x);o.push(p),s.push(f)}return new Mc(o,s,t,n)}var rHe=tw.prototype.constructor;function iHe(){return new rHe(this._groups,this._parents)}function oHe(e,t){var n,r,i;return function(){var o=Ag(this,e),s=(this.style.removeProperty(e),Ag(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function ite(e){return function(){this.style.removeProperty(e)}}function sHe(e,t,n){var r,i=n+"",o;return function(){var s=Ag(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function aHe(e,t,n){var r,i,o;return function(){var s=Ag(this,e),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(e),Ag(this,e))),s===c?null:s===r&&c===i?o:(i=c,o=t(r=s,a))}}function lHe(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var c=xl(this,e),u=c.on,f=c.value[o]==null?a||(a=ite(t)):void 0;(u!==n||i!==f)&&(r=(n=u).copy()).on(s,i=f),c.on=r}}function cHe(e,t,n){var r=(e+="")=="transform"?cqe:rte;return t==null?this.styleTween(e,oHe(e,r)).on("end.style."+e,ite(e)):typeof t=="function"?this.styleTween(e,aHe(e,r,fk(this,"style."+e,t))).each(lHe(this._id,e)):this.styleTween(e,sHe(e,r,t),n).on("end.style."+e,null)}function uHe(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function dHe(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&uHe(e,s,n)),r}return o._value=t,o}function fHe(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,dHe(e,t,n??""))}function hHe(e){return function(){this.textContent=e}}function mHe(e){return function(){var t=e(this);this.textContent=t??""}}function pHe(e){return this.tween("text",typeof e=="function"?mHe(fk(this,"text",e)):hHe(e==null?"":e+""))}function gHe(e){return function(t){this.textContent=e.call(this,t)}}function yHe(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&gHe(i)),t}return r._value=e,r}function bHe(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,yHe(e))}function xHe(){for(var e=this._name,t=this._id,n=ote(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)if(c=s[u]){var f=Oa(c,t);zO(c,e,n,u,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Mc(r,this._parents,e,n)}function vHe(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var u=xl(this,r),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(c)),u.on=t}),i===0&&o()})}var wHe=0;function Mc(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ote(){return++wHe}var Ul=tw.prototype;Mc.prototype={constructor:Mc,select:tHe,selectAll:nHe,selectChild:Ul.selectChild,selectChildren:Ul.selectChildren,filter:Kqe,merge:Yqe,selection:iHe,transition:xHe,call:Ul.call,nodes:Ul.nodes,node:Ul.node,size:Ul.size,empty:Ul.empty,each:Ul.each,on:Qqe,attr:Rqe,attrTween:Dqe,style:cHe,styleTween:fHe,text:pHe,textTween:bHe,remove:eHe,tween:Oqe,delay:Bqe,duration:Vqe,ease:Hqe,easeVarying:Gqe,end:vHe,[Symbol.iterator]:Ul[Symbol.iterator]};function SHe(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var EHe={time:null,delay:0,duration:250,ease:SHe};function NHe(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function OHe(e){var t,n;e instanceof Mc?(t=e._id,e=e._name):(t=ote(),(n=EHe).time=uk(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,u=0;u<a;++u)(c=s[u])&&zO(c,e,t,u,s,n||NHe(c,t));return new Mc(r,this._parents,e,t)}tw.prototype.interrupt=Sqe;tw.prototype.transition=OHe;const tS=e=>()=>e;function _He(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function hc(e,t,n){this.k=e,this.x=t,this.y=n}hc.prototype={constructor:hc,scale:function(e){return e===1?this:new hc(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new hc(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var UO=new hc(1,0,0);ste.prototype=hc.prototype;function ste(e){for(;!e.__zoom;)if(!(e=e.parentNode))return UO;return e.__zoom}function fA(e){e.stopImmediatePropagation()}function W0(e){e.preventDefault(),e.stopImmediatePropagation()}function $He(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function CHe(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function uz(){return this.__zoom||UO}function jHe(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function AHe(){return navigator.maxTouchPoints||"ontouchstart"in this}function THe(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function ate(){var e=$He,t=CHe,n=THe,r=jHe,i=AHe,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,c=mqe,u=FO("start","zoom","end"),f,h,p,y=500,x=150,v=0,E=10;function N(M){M.property("__zoom",uz).on("wheel.zoom",I,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",z).filter(i).on("touchstart.zoom",B).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(M,L,T,F){var k=M.selection?M.selection():M;k.property("__zoom",uz),M!==k?j(M,L,T,F):k.interrupt().each(function(){A(this,arguments).event(F).start().zoom(null,typeof L=="function"?L.apply(this,arguments):L).end()})},N.scaleBy=function(M,L,T,F){N.scaleTo(M,function(){var k=this.__zoom.k,q=typeof L=="function"?L.apply(this,arguments):L;return k*q},T,F)},N.scaleTo=function(M,L,T,F){N.transform(M,function(){var k=t.apply(this,arguments),q=this.__zoom,D=T==null?C(k):typeof T=="function"?T.apply(this,arguments):T,W=q.invert(D),X=typeof L=="function"?L.apply(this,arguments):L;return n(_(O(q,X),D,W),k,s)},T,F)},N.translateBy=function(M,L,T,F){N.transform(M,function(){return n(this.__zoom.translate(typeof L=="function"?L.apply(this,arguments):L,typeof T=="function"?T.apply(this,arguments):T),t.apply(this,arguments),s)},null,F)},N.translateTo=function(M,L,T,F,k){N.transform(M,function(){var q=t.apply(this,arguments),D=this.__zoom,W=F==null?C(q):typeof F=="function"?F.apply(this,arguments):F;return n(UO.translate(W[0],W[1]).scale(D.k).translate(typeof L=="function"?-L.apply(this,arguments):-L,typeof T=="function"?-T.apply(this,arguments):-T),q,s)},F,k)};function O(M,L){return L=Math.max(o[0],Math.min(o[1],L)),L===M.k?M:new hc(L,M.x,M.y)}function _(M,L,T){var F=L[0]-T[0]*M.k,k=L[1]-T[1]*M.k;return F===M.x&&k===M.y?M:new hc(M.k,F,k)}function C(M){return[(+M[0][0]+ +M[1][0])/2,(+M[0][1]+ +M[1][1])/2]}function j(M,L,T,F){M.on("start.zoom",function(){A(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(F).end()}).tween("zoom",function(){var k=this,q=arguments,D=A(k,q).event(F),W=t.apply(k,q),X=T==null?C(W):typeof T=="function"?T.apply(k,q):T,oe=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),se=k.__zoom,ie=typeof L=="function"?L.apply(k,q):L,le=c(se.invert(X).concat(oe/se.k),ie.invert(X).concat(oe/ie.k));return function(pe){if(pe===1)pe=ie;else{var ye=le(pe),je=oe/ye[2];pe=new hc(je,X[0]-ye[0]*je,X[1]-ye[1]*je)}D.zoom(null,pe)}})}function A(M,L,T){return!T&&M.__zooming||new R(M,L)}function R(M,L){this.that=M,this.args=L,this.active=0,this.sourceEvent=null,this.extent=t.apply(M,L),this.taps=0}R.prototype={event:function(M){return M&&(this.sourceEvent=M),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(M,L){return this.mouse&&M!=="mouse"&&(this.mouse[1]=L.invert(this.mouse[0])),this.touch0&&M!=="touch"&&(this.touch0[1]=L.invert(this.touch0[0])),this.touch1&&M!=="touch"&&(this.touch1[1]=L.invert(this.touch1[0])),this.that.__zoom=L,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(M){var L=Eo(this.that).datum();u.call(M,this.that,new _He(M,{sourceEvent:this.sourceEvent,target:N,transform:this.that.__zoom,dispatch:u}),L)}};function I(M,...L){if(!e.apply(this,arguments))return;var T=A(this,L).event(M),F=this.__zoom,k=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,r.apply(this,arguments)))),q=Js(M);if(T.wheel)(T.mouse[0][0]!==q[0]||T.mouse[0][1]!==q[1])&&(T.mouse[1]=F.invert(T.mouse[0]=q)),clearTimeout(T.wheel);else{if(F.k===k)return;T.mouse=[q,F.invert(q)],PS(this),T.start()}W0(M),T.wheel=setTimeout(D,x),T.zoom("mouse",n(_(O(F,k),T.mouse[0],T.mouse[1]),T.extent,s));function D(){T.wheel=null,T.end()}}function P(M,...L){if(p||!e.apply(this,arguments))return;var T=M.currentTarget,F=A(this,L,!0).event(M),k=Eo(M.view).on("mousemove.zoom",X,!0).on("mouseup.zoom",oe,!0),q=Js(M,T),D=M.clientX,W=M.clientY;qee(M.view),fA(M),F.mouse=[q,this.__zoom.invert(q)],PS(this),F.start();function X(se){if(W0(se),!F.moved){var ie=se.clientX-D,le=se.clientY-W;F.moved=ie*ie+le*le>v}F.event(se).zoom("mouse",n(_(F.that.__zoom,F.mouse[0]=Js(se,T),F.mouse[1]),F.extent,s))}function oe(se){k.on("mousemove.zoom mouseup.zoom",null),Hee(se.view,F.moved),W0(se),F.event(se).end()}}function z(M,...L){if(e.apply(this,arguments)){var T=this.__zoom,F=Js(M.changedTouches?M.changedTouches[0]:M,this),k=T.invert(F),q=T.k*(M.shiftKey?.5:2),D=n(_(O(T,q),F,k),t.apply(this,L),s);W0(M),a>0?Eo(this).transition().duration(a).call(j,D,F,M):Eo(this).call(N.transform,D,F,M)}}function B(M,...L){if(e.apply(this,arguments)){var T=M.touches,F=T.length,k=A(this,L,M.changedTouches.length===F).event(M),q,D,W,X;for(fA(M),D=0;D<F;++D)W=T[D],X=Js(W,this),X=[X,this.__zoom.invert(X),W.identifier],k.touch0?!k.touch1&&k.touch0[2]!==X[2]&&(k.touch1=X,k.taps=0):(k.touch0=X,q=!0,k.taps=1+!!f);f&&(f=clearTimeout(f)),q&&(k.taps<2&&(h=X[0],f=setTimeout(function(){f=null},y)),PS(this),k.start())}}function U(M,...L){if(this.__zooming){var T=A(this,L).event(M),F=M.changedTouches,k=F.length,q,D,W,X;for(W0(M),q=0;q<k;++q)D=F[q],W=Js(D,this),T.touch0&&T.touch0[2]===D.identifier?T.touch0[0]=W:T.touch1&&T.touch1[2]===D.identifier&&(T.touch1[0]=W);if(D=T.that.__zoom,T.touch1){var oe=T.touch0[0],se=T.touch0[1],ie=T.touch1[0],le=T.touch1[1],pe=(pe=ie[0]-oe[0])*pe+(pe=ie[1]-oe[1])*pe,ye=(ye=le[0]-se[0])*ye+(ye=le[1]-se[1])*ye;D=O(D,Math.sqrt(pe/ye)),W=[(oe[0]+ie[0])/2,(oe[1]+ie[1])/2],X=[(se[0]+le[0])/2,(se[1]+le[1])/2]}else if(T.touch0)W=T.touch0[0],X=T.touch0[1];else return;T.zoom("touch",n(_(D,W,X),T.extent,s))}}function H(M,...L){if(this.__zooming){var T=A(this,L).event(M),F=M.changedTouches,k=F.length,q,D;for(fA(M),p&&clearTimeout(p),p=setTimeout(function(){p=null},y),q=0;q<k;++q)D=F[q],T.touch0&&T.touch0[2]===D.identifier?delete T.touch0:T.touch1&&T.touch1[2]===D.identifier&&delete T.touch1;if(T.touch1&&!T.touch0&&(T.touch0=T.touch1,delete T.touch1),T.touch0)T.touch0[1]=this.__zoom.invert(T.touch0[0]);else if(T.end(),T.taps===2&&(D=Js(D,this),Math.hypot(h[0]-D[0],h[1]-D[1])<E)){var W=Eo(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return N.wheelDelta=function(M){return arguments.length?(r=typeof M=="function"?M:tS(+M),N):r},N.filter=function(M){return arguments.length?(e=typeof M=="function"?M:tS(!!M),N):e},N.touchable=function(M){return arguments.length?(i=typeof M=="function"?M:tS(!!M),N):i},N.extent=function(M){return arguments.length?(t=typeof M=="function"?M:tS([[+M[0][0],+M[0][1]],[+M[1][0],+M[1][1]]]),N):t},N.scaleExtent=function(M){return arguments.length?(o[0]=+M[0],o[1]=+M[1],N):[o[0],o[1]]},N.translateExtent=function(M){return arguments.length?(s[0][0]=+M[0][0],s[1][0]=+M[1][0],s[0][1]=+M[0][1],s[1][1]=+M[1][1],N):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},N.constrain=function(M){return arguments.length?(n=M,N):n},N.duration=function(M){return arguments.length?(a=+M,N):a},N.interpolate=function(M){return arguments.length?(c=M,N):c},N.on=function(){var M=u.on.apply(u,arguments);return M===u?N:M},N.clickDistance=function(M){return arguments.length?(v=(M=+M)*M,N):Math.sqrt(v)},N.tapDistance=function(M){return arguments.length?(E=+M,N):E},N}const sl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},wx=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],lte=["Enter"," ","Escape"];var Rg;(function(e){e.Strict="strict",e.Loose="loose"})(Rg||(Rg={}));var uh;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(uh||(uh={}));var Sx;(function(e){e.Partial="partial",e.Full="full"})(Sx||(Sx={}));const cte={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Yu;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Yu||(Yu={}));var jh;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(jh||(jh={}));var st;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(st||(st={}));const dz={[st.Left]:st.Right,[st.Right]:st.Left,[st.Top]:st.Bottom,[st.Bottom]:st.Top};function ute(e){return e===null?null:e?"valid":"invalid"}const dte=e=>"id"in e&&"source"in e&&"target"in e,RHe=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),hk=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),rw=(e,t=[0,0])=>{const{width:n,height:r}=Qc(e),i=e.origin??t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},IHe=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):hk(i)?i:t.nodeLookup.get(i.id));const a=s?o2(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return VO(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return qO(n)},iw=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=o2(r);n=VO(n,i)}}),qO(n)},fte=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{const a={...ow(t,[n,r,i]),width:t.width/i,height:t.height/i},c=[];for(const u of e.values()){const{measured:f,selectable:h=!0,hidden:p=!1}=u;if(s&&!h||p)continue;const y=f.width??u.width??u.initialWidth??null,x=f.height??u.height??u.initialHeight??null,v=Ex(a,Mg(u)),E=(y??0)*(x??0),N=o&&v>0;(!u.internals.handleBounds||N||v>=E||u.dragging)&&c.push(u)}return c},MHe=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function r5(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function i5({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){if(e.size===0)return Promise.resolve(!1);const a=iw(e),c=mk(a,t,n,(s==null?void 0:s.minZoom)??i,(s==null?void 0:s.maxZoom)??o,(s==null?void 0:s.padding)??.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function hte({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:c,y:u}=a?a.internals.positionAbsolute:{x:0,y:0},f=s.origin??r;let h=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",sl.error005());else{const y=a.measured.width,x=a.measured.height;y&&x&&(h=[[c,u],[c+y,u+x]])}else a&&kg(s.extent)&&(h=[[s.extent[0][0]+c,s.extent[0][1]+u],[s.extent[1][0]+c,s.extent[1][1]+u]]);const p=kg(h)?Ah(t,h,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",sl.error015())),{position:{x:p.x-c+(s.measured.width??0)*f[0],y:p.y-u+(s.measured.height??0)*f[1]},positionAbsolute:p}}async function kHe({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(p=>p.id)),s=[];for(const p of n){if(p.deletable===!1)continue;const y=o.has(p.id),x=!y&&p.parentId&&s.find(v=>v.id===p.parentId);(y||x)&&s.push(p)}const a=new Set(t.map(p=>p.id)),c=r.filter(p=>p.deletable!==!1),f=MHe(s,c);for(const p of c)a.has(p.id)&&!f.find(x=>x.id===p.id)&&f.push(p);if(!i)return{edges:f,nodes:s};const h=await i({nodes:s,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:s}:{edges:[],nodes:[]}:h}const Ig=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Ah=(e={x:0,y:0},t,n)=>({x:Ig(e.x,t[0][0],t[1][0]-((n==null?void 0:n.width)??0)),y:Ig(e.y,t[0][1],t[1][1]-((n==null?void 0:n.height)??0))});function mte(e,t,n){const{width:r,height:i}=Qc(n),{x:o,y:s}=n.internals.positionAbsolute;return Ah(e,[[o,s],[o+r,s+i]],t)}const fz=(e,t,n)=>e<t?Ig(Math.abs(e-t),1,t)/t:e>n?-Ig(Math.abs(e-n),1,t)/t:0,pte=(e,t,n=15,r=40)=>{const i=fz(e.x,r,t.width-r)*n,o=fz(e.y,r,t.height-r)*n;return[i,o]},VO=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),o5=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),qO=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Mg=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=hk(e)?e.internals.positionAbsolute:rw(e,t);return{x:n,y:r,width:((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0,height:((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0}},o2=(e,t=[0,0])=>{var i,o;const{x:n,y:r}=hk(e)?e.internals.positionAbsolute:rw(e,t);return{x:n,y:r,x2:n+(((i=e.measured)==null?void 0:i.width)??e.width??e.initialWidth??0),y2:r+(((o=e.measured)==null?void 0:o.height)??e.height??e.initialHeight??0)}},gte=(e,t)=>qO(VO(o5(e),o5(t))),Ex=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},hz=e=>ia(e.width)&&ia(e.height)&&ia(e.x)&&ia(e.y),ia=e=>!isNaN(e)&&isFinite(e),PHe=(e,t)=>{},HO=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),ow=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?HO(a,s):a},yte=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),mk=(e,t,n,r,i,o)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),c=Math.min(s,a),u=Ig(c,r,i),f=e.x+e.width/2,h=e.y+e.height/2,p=t/2-f*u,y=n/2-h*u;return{x:p,y,zoom:u}},s2=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function kg(e){return e!==void 0&&e!=="parent"}function Qc(e){var t,n;return{width:((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth??0,height:((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight??0}}function bte(e){var t,n;return(((t=e.measured)==null?void 0:t.width)??e.width??e.initialWidth)!==void 0&&(((n=e.measured)==null?void 0:n.height)??e.height??e.initialHeight)!==void 0}function xte(e,t={width:0,height:0},n,r,i){const o={...e},s=r.get(n);if(s){const a=s.origin||i;o.x+=s.internals.positionAbsolute.x-(t.width??0)*a[0],o.y+=s.internals.positionAbsolute.y-(t.height??0)*a[1]}return o}function mz(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Nb(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:o,y:s}=wc(e),a=ow({x:o-((i==null?void 0:i.left)??0),y:s-((i==null?void 0:i.top)??0)},r),{x:c,y:u}=n?HO(a,t):a;return{xSnapped:c,ySnapped:u,...a}}const WO=e=>({width:e.offsetWidth,height:e.offsetHeight}),vte=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},DHe=["INPUT","SELECT","TEXTAREA"];function s5(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:DHe.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const wte=e=>"clientX"in e,wc=(e,t)=>{var o,s;const n=wte(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},pz=(e,t,n,r,i)=>{const o=t.querySelectorAll(`.${e}`);return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...WO(s)}})};function Ste({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const c=e*.125+i*.375+s*.375+n*.125,u=t*.125+o*.375+a*.375+r*.125,f=Math.abs(c-e),h=Math.abs(u-t);return[c,u,f,h]}function nS(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function gz({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case st.Left:return[t-nS(t-r,o),n];case st.Right:return[t+nS(r-t,o),n];case st.Top:return[t,n-nS(n-i,o)];case st.Bottom:return[t,n+nS(i-n,o)]}}function Ete({sourceX:e,sourceY:t,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:o=st.Top,curvature:s=.25}){const[a,c]=gz({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[u,f]=gz({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[h,p,y,x]=Ste({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:c,targetControlX:u,targetControlY:f});return[`M${e},${t} C${a},${c} ${u},${f} ${r},${i}`,h,p,y,x]}function Nte({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function FHe({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(o?s:0)}function LHe({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=VO(o2(e),o2(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Ex(s,qO(o))>0}const BHe=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,zHe=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),Ote=(e,t)=>{if(!e.source||!e.target)return t;let n;return dte(e)?n={...e}:n={...e,id:BHe(e)},zHe(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function _te({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=Nte({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const yz={[st.Left]:{x:-1,y:0},[st.Right]:{x:1,y:0},[st.Top]:{x:0,y:-1},[st.Bottom]:{x:0,y:1}},UHe=({source:e,sourcePosition:t=st.Bottom,target:n})=>t===st.Left||t===st.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},bz=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function VHe({source:e,sourcePosition:t=st.Bottom,target:n,targetPosition:r=st.Top,center:i,offset:o}){const s=yz[t],a=yz[r],c={x:e.x+s.x*o,y:e.y+s.y*o},u={x:n.x+a.x*o,y:n.y+a.y*o},f=UHe({source:c,sourcePosition:t,target:u}),h=f.x!==0?"x":"y",p=f[h];let y=[],x,v;const E={x:0,y:0},N={x:0,y:0},[O,_,C,j]=Nte({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[h]*a[h]===-1){x=i.x??O,v=i.y??_;const R=[{x,y:c.y},{x,y:u.y}],I=[{x:c.x,y:v},{x:u.x,y:v}];s[h]===p?y=h==="x"?R:I:y=h==="x"?I:R}else{const R=[{x:c.x,y:u.y}],I=[{x:u.x,y:c.y}];if(h==="x"?y=s.x===p?I:R:y=s.y===p?R:I,t===r){const H=Math.abs(e[h]-n[h]);if(H<=o){const M=Math.min(o-1,o-H);s[h]===p?E[h]=(c[h]>e[h]?-1:1)*M:N[h]=(u[h]>n[h]?-1:1)*M}}if(t!==r){const H=h==="x"?"y":"x",M=s[h]===a[H],L=c[H]>u[H],T=c[H]<u[H];(s[h]===1&&(!M&&L||M&&T)||s[h]!==1&&(!M&&T||M&&L))&&(y=h==="x"?R:I)}const P={x:c.x+E.x,y:c.y+E.y},z={x:u.x+N.x,y:u.y+N.y},B=Math.max(Math.abs(P.x-y[0].x),Math.abs(z.x-y[0].x)),U=Math.max(Math.abs(P.y-y[0].y),Math.abs(z.y-y[0].y));B>=U?(x=(P.x+z.x)/2,v=y[0].y):(x=y[0].x,v=(P.y+z.y)/2)}return[[e,{x:c.x+E.x,y:c.y+E.y},...y,{x:u.x+N.x,y:u.y+N.y},n],x,v,C,j]}function qHe(e,t,n,r){const i=Math.min(bz(e,t)/2,bz(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const u=e.x<n.x?-1:1,f=e.y<n.y?1:-1;return`L ${o+i*u},${s}Q ${o},${s} ${o},${s+i*f}`}const a=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${s+i*c}Q ${o},${s} ${o+i*a},${s}`}function a5({sourceX:e,sourceY:t,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:o=st.Top,borderRadius:s=5,centerX:a,centerY:c,offset:u=20}){const[f,h,p,y,x]=VHe({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:c},offset:u});return[f.reduce((E,N,O)=>{let _="";return O>0&&O<f.length-1?_=qHe(f[O-1],N,f[O+1],s):_=`${O===0?"M":"L"}${N.x} ${N.y}`,E+=_,E},""),h,p,y,x]}function xz(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function HHe(e){var h;const{sourceNode:t,targetNode:n}=e;if(!xz(t)||!xz(n))return null;const r=t.internals.handleBounds||vz(t.handles),i=n.internals.handleBounds||vz(n.handles),o=wz((r==null?void 0:r.source)??[],e.sourceHandle),s=wz(e.connectionMode===Rg.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),e.targetHandle);if(!o||!s)return(h=e.onError)==null||h.call(e,"008",sl.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||st.Bottom,c=(s==null?void 0:s.position)||st.Top,u=Nx(t,o,a),f=Nx(n,s,c);return{sourceX:u.x,sourceY:u.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:c}}function vz(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function Nx(e,t,n=st.Left,r=!1){const i=((t==null?void 0:t.x)??0)+e.internals.positionAbsolute.x,o=((t==null?void 0:t.y)??0)+e.internals.positionAbsolute.y,{width:s,height:a}=t??Qc(e);if(r)return{x:i+s/2,y:o+a/2};switch((t==null?void 0:t.position)??n){case st.Top:return{x:i+s/2,y:o};case st.Right:return{x:i+s,y:o+a/2};case st.Bottom:return{x:i+s/2,y:o+a};case st.Left:return{x:i,y:o+a/2}}}function wz(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function l5(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function WHe(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const u=l5(c,t);o.has(u)||(s.push({id:u,color:c.color||n,...c}),o.add(u))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const pk={nodeOrigin:[0,0],nodeExtent:wx,elevateNodesOnSelect:!0,defaults:{}},GHe={...pk,checkEquality:!0};function gk(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function KHe(e,t,n){const r=gk(pk,n);for(const i of e.values())if(i.parentId)yk(i,e,t,r);else{const o=rw(i,r.nodeOrigin),s=kg(i.extent)?i.extent:r.nodeExtent,a=Ah(o,s,Qc(i));i.internals.positionAbsolute=a}}function c5(e,t,n,r){var a,c;const i=gk(GHe,r),o=new Map(t),s=i!=null&&i.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let f=o.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))t.set(u.id,f);else{const h=rw(u,i.nodeOrigin),p=kg(u.extent)?u.extent:i.nodeExtent,y=Ah(h,p,Qc(u));f={...i.defaults,...u,measured:{width:(a=u.measured)==null?void 0:a.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:y,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:$te(u,s),userNode:u}},t.set(u.id,f)}u.parentId&&yk(f,t,n,r)}}function YHe(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function yk(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=gk(pk,r),a=e.parentId,c=t.get(a);if(!c){console.warn(`Parent node ${a} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}YHe(e,n);const u=i?1e3:0,{x:f,y:h,z:p}=JHe(e,c,o,s,u),{positionAbsolute:y}=e.internals,x=f!==y.x||h!==y.y;(x||p!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:x?{x:f,y:h}:y,z:p}})}function $te(e,t){return(ia(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function JHe(e,t,n,r,i){const{x:o,y:s}=t.internals.positionAbsolute,a=Qc(e),c=rw(e,n),u=kg(e.extent)?Ah(c,e.extent,a):c;let f=Ah({x:o+u.x,y:s+u.y},r,a);e.extent==="parent"&&(f=mte(f,a,t));const h=$te(e,i),p=t.internals.z??0;return{x:f.x,y:f.y,z:p>h?p:h}}function bk(e,t,n,r=[0,0]){var s;const i=[],o=new Map;for(const a of e){const c=t.get(a.parentId);if(!c)continue;const u=((s=o.get(a.parentId))==null?void 0:s.expandedRect)??Mg(c),f=gte(u,a.rect);o.set(a.parentId,{expandedRect:f,parent:c})}return o.size>0&&o.forEach(({expandedRect:a,parent:c},u)=>{var _;const f=c.internals.positionAbsolute,h=Qc(c),p=c.origin??r,y=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,x=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,v=Math.max(h.width,Math.round(a.width)),E=Math.max(h.height,Math.round(a.height)),N=(v-h.width)*p[0],O=(E-h.height)*p[1];(y>0||x>0||N||O)&&(i.push({id:u,type:"position",position:{x:c.position.x-y+N,y:c.position.y-x+O}}),(_=n.get(u))==null||_.forEach(C=>{e.some(j=>j.id===C.id)||i.push({id:C.id,type:"position",position:{x:C.position.x+y,y:C.position.y+x}})})),(h.width<a.width||h.height<a.height||y||x)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:v+(y?p[0]*y-N:0),height:E+(x?p[1]*x-O:0)}})}),i}function XHe(e,t,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const c=[],u=window.getComputedStyle(s),{m22:f}=new window.DOMMatrixReadOnly(u.transform),h=[];for(const p of e.values()){const y=t.get(p.id);if(!y)continue;if(y.hidden){t.set(y.id,{...y,internals:{...y.internals,handleBounds:void 0}}),a=!0;continue}const x=WO(p.nodeElement),v=y.measured.width!==x.width||y.measured.height!==x.height;if(!!(x.width&&x.height&&(v||!y.internals.handleBounds||p.force))){const N=p.nodeElement.getBoundingClientRect(),O=kg(y.extent)?y.extent:o;let{positionAbsolute:_}=y.internals;y.parentId&&y.extent==="parent"?_=mte(_,x,t.get(y.parentId)):O&&(_=Ah(_,O,x));const C={...y,measured:x,internals:{...y.internals,positionAbsolute:_,handleBounds:{source:pz("source",p.nodeElement,N,f,y.id),target:pz("target",p.nodeElement,N,f,y.id)}}};t.set(y.id,C),y.parentId&&yk(C,t,n,{nodeOrigin:i}),a=!0,v&&(c.push({id:y.id,type:"dimensions",dimensions:x}),y.expandParent&&y.parentId&&h.push({id:y.id,parentId:y.parentId,rect:Mg(C,i)}))}}if(h.length>0){const p=bk(h,t,n,i);c.push(...p)}return{changes:c,updatedInternals:a}}async function QHe({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function Sz(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s=`${i}-${e}`;const c=r.get(s)||new Map;if(r.set(s,c.set(n,t)),o){s=`${i}-${e}-${o}`;const u=r.get(s)||new Map;r.set(s,u.set(n,t))}}function Cte(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,c={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},u=`${i}-${s}--${o}-${a}`,f=`${o}-${a}--${i}-${s}`;Sz("source",c,f,e,i,s),Sz("target",c,u,e,o,a),t.set(r.id,r)}}function jte(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:jte(n,t):!1}function Ez(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function ZHe(e,t,n,r){const i=new Map;for(const[o,s]of e)if((s.selected||s.id===r)&&(!s.parentId||!jte(s,e))&&(s.draggable||t&&typeof s.draggable>"u")){const a=e.get(o);a&&i.set(o,{id:o,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function hA({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,c;const i=[];for(const[u,f]of t){const h=(s=n.get(u))==null?void 0:s.internals.userNode;h&&i.push({...h,position:f.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((c=t.get(e))==null?void 0:c.position)||o.position,dragging:r}:i[0],i]}function eWe({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,c=!1,u={x:0,y:0},f=null,h=!1,p=null,y=!1;function x({noDragClassName:E,handleSelector:N,domNode:O,isSelectable:_,nodeId:C,nodeClickDistance:j=0}){p=Eo(O);function A({x:z,y:B},U){const{nodeLookup:H,nodeExtent:M,snapGrid:L,snapToGrid:T,nodeOrigin:F,onNodeDrag:k,onSelectionDrag:q,onError:D,updateNodePositions:W}=t();o={x:z,y:B};let X=!1,oe={x:0,y:0,x2:0,y2:0};if(a.size>1&&M){const se=iw(a);oe=o5(se)}for(const[se,ie]of a){if(!H.has(se))continue;let le={x:z-ie.distance.x,y:B-ie.distance.y};T&&(le=HO(le,L));let pe=[[M[0][0],M[0][1]],[M[1][0],M[1][1]]];if(a.size>1&&M&&!ie.extent){const{positionAbsolute:Te}=ie.internals,J=Te.x-oe.x+M[0][0],me=Te.x+ie.measured.width-oe.x2+M[1][0],Z=Te.y-oe.y+M[0][1],we=Te.y+ie.measured.height-oe.y2+M[1][1];pe=[[J,Z],[me,we]]}const{position:ye,positionAbsolute:je}=hte({nodeId:se,nextPosition:le,nodeLookup:H,nodeExtent:pe,nodeOrigin:F,onError:D});X=X||ie.position.x!==ye.x||ie.position.y!==ye.y,ie.position=ye,ie.internals.positionAbsolute=je}if(X&&(W(a,!0),U&&(r||k||!C&&q))){const[se,ie]=hA({nodeId:C,dragItems:a,nodeLookup:H});r==null||r(U,a,se,ie),k==null||k(U,se,ie),C||q==null||q(U,ie)}}async function R(){if(!f)return;const{transform:z,panBy:B,autoPanSpeed:U,autoPanOnNodeDrag:H}=t();if(!H){c=!1,cancelAnimationFrame(s);return}const[M,L]=pte(u,f,U);(M!==0||L!==0)&&(o.x=(o.x??0)-M/z[2],o.y=(o.y??0)-L/z[2],await B({x:M,y:L})&&A(o,null)),s=requestAnimationFrame(R)}function I(z){var X;const{nodeLookup:B,multiSelectionActive:U,nodesDraggable:H,transform:M,snapGrid:L,snapToGrid:T,selectNodesOnDrag:F,onNodeDragStart:k,onSelectionDragStart:q,unselectNodesAndEdges:D}=t();h=!0,(!F||!_)&&!U&&C&&((X=B.get(C))!=null&&X.selected||D()),_&&F&&C&&(e==null||e(C));const W=Nb(z.sourceEvent,{transform:M,snapGrid:L,snapToGrid:T,containerBounds:f});if(o=W,a=ZHe(B,H,W,C),a.size>0&&(n||k||!C&&q)){const[oe,se]=hA({nodeId:C,dragItems:a,nodeLookup:B});n==null||n(z.sourceEvent,a,oe,se),k==null||k(z.sourceEvent,oe,se),C||q==null||q(z.sourceEvent,se)}}const P=Wee().clickDistance(j).on("start",z=>{const{domNode:B,nodeDragThreshold:U,transform:H,snapGrid:M,snapToGrid:L}=t();f=(B==null?void 0:B.getBoundingClientRect())||null,y=!1,U===0&&I(z),o=Nb(z.sourceEvent,{transform:H,snapGrid:M,snapToGrid:L,containerBounds:f}),u=wc(z.sourceEvent,f)}).on("drag",z=>{const{autoPanOnNodeDrag:B,transform:U,snapGrid:H,snapToGrid:M,nodeDragThreshold:L,nodeLookup:T}=t(),F=Nb(z.sourceEvent,{transform:U,snapGrid:H,snapToGrid:M,containerBounds:f});if((z.sourceEvent.type==="touchmove"&&z.sourceEvent.touches.length>1||C&&!T.has(C))&&(y=!0),!y){if(!c&&B&&h&&(c=!0,R()),!h){const k=F.xSnapped-(o.x??0),q=F.ySnapped-(o.y??0);Math.sqrt(k*k+q*q)>L&&I(z)}(o.x!==F.xSnapped||o.y!==F.ySnapped)&&a&&h&&(u=wc(z.sourceEvent,f),A(F,z.sourceEvent))}}).on("end",z=>{if(!(!h||y)&&(c=!1,h=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:B,updateNodePositions:U,onNodeDragStop:H,onSelectionDragStop:M}=t();if(U(a,!1),i||H||!C&&M){const[L,T]=hA({nodeId:C,dragItems:a,nodeLookup:B,dragging:!1});i==null||i(z.sourceEvent,a,L,T),H==null||H(z.sourceEvent,L,T),C||M==null||M(z.sourceEvent,T)}}}).filter(z=>{const B=z.target;return!z.button&&(!E||!Ez(B,`.${E}`,O))&&(!N||Ez(B,N,O))});p.call(P)}function v(){p==null||p.on(".drag",null)}return{update:x,destroy:v}}function tWe(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Ex(i,Mg(o))>0&&r.push(o);return r}const nWe=250;function rWe(e,t,n,r){var a,c;let i=[],o=1/0;const s=tWe(e,n,t+nWe);for(const u of s){const f=[...((a=u.internals.handleBounds)==null?void 0:a.source)??[],...((c=u.internals.handleBounds)==null?void 0:c.target)??[]];for(const h of f){if(r.nodeId===h.nodeId&&r.type===h.type&&r.id===h.id)continue;const{x:p,y}=Nx(u,h,h.position,!0),x=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(y-e.y,2));x>t||(x<o?(i=[{...h,x:p,y}],o=x):x===o&&i.push({...h,x:p,y}))}}if(!i.length)return null;if(i.length>1){const u=r.type==="source"?"target":"source";return i.find(f=>f.type===u)??i[0]}return i[0]}function Ate(e,t,n,r,i,o=!1){var u,f,h;const s=r.get(e);if(!s)return null;const a=i==="strict"?(u=s.internals.handleBounds)==null?void 0:u[t]:[...((f=s.internals.handleBounds)==null?void 0:f.source)??[],...((h=s.internals.handleBounds)==null?void 0:h.target)??[]],c=(n?a==null?void 0:a.find(p=>p.id===n):a==null?void 0:a[0])??null;return c&&o?{...c,...Nx(s,c,c.position,!0)}:c}function Tte(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function iWe(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const Rte=()=>!0;function oWe(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:c,lib:u,autoPanOnConnect:f,flowId:h,panBy:p,cancelConnection:y,onConnectStart:x,onConnect:v,onConnectEnd:E,isValidConnection:N=Rte,onReconnectEnd:O,updateConnection:_,getTransform:C,getFromHandle:j,autoPanSpeed:A}){const R=vte(e.target);let I=0,P;const{x:z,y:B}=wc(e),U=R==null?void 0:R.elementFromPoint(z,B),H=Tte(o,U),M=a==null?void 0:a.getBoundingClientRect();if(!M||!H)return;const L=Ate(i,H,r,c,t);if(!L)return;let T=wc(e,M),F=!1,k=null,q=!1,D=null;function W(){if(!f||!M)return;const[je,Te]=pte(T,M,A);p({x:je,y:Te}),I=requestAnimationFrame(W)}const X={...L,nodeId:i,type:H,position:L.position},oe=c.get(i),ie={inProgress:!0,isValid:null,from:Nx(oe,X,st.Left,!0),fromHandle:X,fromPosition:X.position,fromNode:oe,to:T,toHandle:null,toPosition:dz[X.position],toNode:null};_(ie);let le=ie;x==null||x(e,{nodeId:i,handleId:r,handleType:H});function pe(je){if(!j()||!X){ye(je);return}const Te=C();T=wc(je,M),P=rWe(ow(T,Te,!1,[1,1]),n,c,X),F||(W(),F=!0);const J=Ite(je,{handle:P,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:N,doc:R,lib:u,flowId:h,nodeLookup:c});D=J.handleDomNode,k=J.connection,q=iWe(!!P,J.isValid);const me={...le,isValid:q,to:P&&q?yte({x:P.x,y:P.y},Te):T,toHandle:J.toHandle,toPosition:q&&J.toHandle?J.toHandle.position:dz[X.position],toNode:J.toHandle?c.get(J.toHandle.nodeId):null};q&&P&&le.toHandle&&me.toHandle&&le.toHandle.type===me.toHandle.type&&le.toHandle.nodeId===me.toHandle.nodeId&&le.toHandle.id===me.toHandle.id&&le.to.x===me.to.x&&le.to.y===me.to.y||(_(me),le=me)}function ye(je){(P||D)&&k&&q&&(v==null||v(k));const{inProgress:Te,...J}=le,me={...J,toPosition:le.toHandle?le.toPosition:null};E==null||E(je,me),o&&(O==null||O(je,me)),y(),cancelAnimationFrame(I),F=!1,q=!1,k=null,D=null,R.removeEventListener("mousemove",pe),R.removeEventListener("mouseup",ye),R.removeEventListener("touchmove",pe),R.removeEventListener("touchend",ye)}R.addEventListener("mousemove",pe),R.addEventListener("mouseup",ye),R.addEventListener("touchmove",pe),R.addEventListener("touchend",ye)}function Ite(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:c,isValidConnection:u=Rte,nodeLookup:f}){const h=o==="target",p=t?s.querySelector(`.${a}-flow__handle[data-id="${c}-${t==null?void 0:t.nodeId}-${t==null?void 0:t.id}-${t==null?void 0:t.type}"]`):null,{x:y,y:x}=wc(e),v=s.elementFromPoint(y,x),E=v!=null&&v.classList.contains(`${a}-flow__handle`)?v:p,N={handleDomNode:E,isValid:!1,connection:null,toHandle:null};if(E){const O=Tte(void 0,E),_=E.getAttribute("data-nodeid"),C=E.getAttribute("data-handleid"),j=E.classList.contains("connectable"),A=E.classList.contains("connectableend");if(!_||!O)return N;const R={source:h?_:r,sourceHandle:h?C:i,target:h?r:_,targetHandle:h?i:C};N.connection=R;const P=j&&A&&(n===Rg.Strict?h&&O==="source"||!h&&O==="target":_!==r||C!==i);N.isValid=P&&u(R),N.toHandle=Ate(_,O,C,f,n,!1)}return N}const u5={onPointerDown:oWe,isValid:Ite};function sWe({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=Eo(e);function o({translateExtent:a,width:c,height:u,zoomStep:f=10,pannable:h=!0,zoomable:p=!0,inversePan:y=!1}){const x=_=>{const C=n();if(_.sourceEvent.type!=="wheel"||!t)return;const j=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*f,A=C[2]*Math.pow(2,j);t.scaleTo(A)};let v=[0,0];const E=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(v=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},N=_=>{const C=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!t)return;const j=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],A=[j[0]-v[0],j[1]-v[1]];v=j;const R=r()*Math.max(C[2],Math.log(C[2]))*(y?-1:1),I={x:C[0]-A[0]*R,y:C[1]-A[1]*R},P=[[0,0],[c,u]];t.setViewportConstrained({x:I.x,y:I.y,zoom:C[2]},P,a)},O=ate().on("start",E).on("zoom",h?N:null).on("zoom.wheel",p?x:null);i.call(O,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:Js}}const aWe=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,GO=e=>({x:e.x,y:e.y,zoom:e.k}),mA=({x:e,y:t,zoom:n})=>UO.translate(e,t).scale(n),Np=(e,t)=>e.target.closest(`.${t}`),Mte=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),pA=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},kte=e=>{const t=e.ctrlKey&&s2()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function lWe({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:c,onPanZoomEnd:u}){return f=>{if(Np(f,t))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&s){const E=Js(f),N=kte(f),O=h*Math.pow(2,N);r.scaleTo(n,O,E,f);return}const p=f.deltaMode===1?20:1;let y=i===uh.Vertical?0:f.deltaX*p,x=i===uh.Horizontal?0:f.deltaY*p;!s2()&&f.shiftKey&&i!==uh.Vertical&&(y=f.deltaY*p,x=0),r.translateBy(n,-(y/h)*o,-(x/h)*o,{internal:!0});const v=GO(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(f,v)),e.isPanScrolling&&(c==null||c(f,v),e.panScrollTimeout=setTimeout(()=>{u==null||u(f,v),e.isPanScrolling=!1},150))}}function cWe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){if(!t&&r.type==="wheel"&&!r.ctrlKey||Np(r,e))return null;r.preventDefault(),n.call(this,r,i)}}function uWe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=GO(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function dWe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a;e.usedRightMouseButton=!!(n&&Mte(t,e.mouseButton??0)),(s=o.sourceEvent)!=null&&s.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((a=o.sourceEvent)!=null&&a.internal)&&(i==null||i(o.sourceEvent,GO(o.transform)))}}function fWe({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&Mte(t,e.mouseButton??0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&aWe(e.prevViewport,s.transform))){const c=GO(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,c)},n?150:0)}}}function hWe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:c,lib:u}){return f=>{var x;const h=e||t,p=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(Np(f,`${u}-flow__node`)||Np(f,`${u}-flow__edge`)))return!0;if(!r&&!h&&!i&&!o&&!n||s||Np(f,a)&&f.type==="wheel"||Np(f,c)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!e)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&((x=f.touches)==null?void 0:x.length)>1)return f.preventDefault(),!1;if(!h&&!i&&!p&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&y}}function mWe({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:c,onDraggingChange:u}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=e.getBoundingClientRect(),p=ate().clickDistance(!ia(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),y=Eo(e).call(p);_({x:o.x,y:o.y,zoom:Ig(o.zoom,t,n)},[[0,0],[h.width,h.height]],i);const x=y.on("wheel.zoom"),v=y.on("dblclick.zoom");p.wheelDelta(kte);function E(U,H){return y?new Promise(M=>{p==null||p.transform(pA(y,H==null?void 0:H.duration,()=>M(!0)),U)}):Promise.resolve(!1)}function N({noWheelClassName:U,noPanClassName:H,onPaneContextMenu:M,userSelectionActive:L,panOnScroll:T,panOnDrag:F,panOnScrollMode:k,panOnScrollSpeed:q,preventScrolling:D,zoomOnPinch:W,zoomOnScroll:X,zoomOnDoubleClick:oe,zoomActivationKeyPressed:se,lib:ie,onTransformChange:le}){L&&!f.isZoomingOrPanning&&O();const ye=T&&!se&&!L?lWe({zoomPanValues:f,noWheelClassName:U,d3Selection:y,d3Zoom:p,panOnScrollMode:k,panOnScrollSpeed:q,zoomOnPinch:W,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:c}):cWe({noWheelClassName:U,preventScrolling:D,d3ZoomHandler:x});if(y.on("wheel.zoom",ye,{passive:!1}),!L){const Te=uWe({zoomPanValues:f,onDraggingChange:u,onPanZoomStart:a});p.on("start",Te);const J=dWe({zoomPanValues:f,panOnDrag:F,onPaneContextMenu:!!M,onPanZoom:s,onTransformChange:le});p.on("zoom",J);const me=fWe({zoomPanValues:f,panOnDrag:F,panOnScroll:T,onPaneContextMenu:M,onPanZoomEnd:c,onDraggingChange:u});p.on("end",me)}const je=hWe({zoomActivationKeyPressed:se,panOnDrag:F,zoomOnScroll:X,panOnScroll:T,zoomOnDoubleClick:oe,zoomOnPinch:W,userSelectionActive:L,noPanClassName:H,noWheelClassName:U,lib:ie});p.filter(je),oe?y.on("dblclick.zoom",v):y.on("dblclick.zoom",null)}function O(){p.on("zoom",null)}async function _(U,H,M){const L=mA(U),T=p==null?void 0:p.constrain()(L,H,M);return T&&await E(T),new Promise(F=>F(T))}async function C(U,H){const M=mA(U);return await E(M,H),new Promise(L=>L(M))}function j(U){if(y){const H=mA(U),M=y.property("__zoom");(M.k!==U.zoom||M.x!==U.x||M.y!==U.y)&&(p==null||p.transform(y,H,null,{sync:!0}))}}function A(){const U=y?ste(y.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function R(U,H){return y?new Promise(M=>{p==null||p.scaleTo(pA(y,H==null?void 0:H.duration,()=>M(!0)),U)}):Promise.resolve(!1)}function I(U,H){return y?new Promise(M=>{p==null||p.scaleBy(pA(y,H==null?void 0:H.duration,()=>M(!0)),U)}):Promise.resolve(!1)}function P(U){p==null||p.scaleExtent(U)}function z(U){p==null||p.translateExtent(U)}function B(U){const H=!ia(U)||U<0?0:U;p==null||p.clickDistance(H)}return{update:N,destroy:O,setViewport:C,setViewportConstrained:_,getViewport:A,scaleTo:R,scaleBy:I,setScaleExtent:P,setTranslateExtent:z,syncViewport:j,setClickDistance:B}}var Ob;(function(e){e.Line="line",e.Handle="handle"})(Ob||(Ob={}));function pWe({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,c=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(c[0]=c[0]*-1),a&&o&&(c[1]=c[1]*-1),c}function gWe(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function Iu(e,t){return Math.max(0,t-e)}function Mu(e,t){return Math.max(0,e-t)}function rS(e,t,n){return Math.max(0,t-e,e-n)}function Nz(e,t){return e?!t:t}function yWe(e,t,n,r,i,o,s,a){let{affectsX:c,affectsY:u}=t;const{isHorizontal:f,isVertical:h}=t,p=f&&h,{xSnapped:y,ySnapped:x}=n,{minWidth:v,maxWidth:E,minHeight:N,maxHeight:O}=r,{x:_,y:C,width:j,height:A,aspectRatio:R}=e;let I=Math.floor(f?y-e.pointerX:0),P=Math.floor(h?x-e.pointerY:0);const z=j+(c?-I:I),B=A+(u?-P:P),U=-o[0]*j,H=-o[1]*A;let M=rS(z,v,E),L=rS(B,N,O);if(s){let k=0,q=0;c&&I<0?k=Iu(_+I+U,s[0][0]):!c&&I>0&&(k=Mu(_+z+U,s[1][0])),u&&P<0?q=Iu(C+P+H,s[0][1]):!u&&P>0&&(q=Mu(C+B+H,s[1][1])),M=Math.max(M,k),L=Math.max(L,q)}if(a){let k=0,q=0;c&&I>0?k=Mu(_+I,a[0][0]):!c&&I<0&&(k=Iu(_+z,a[1][0])),u&&P>0?q=Mu(C+P,a[0][1]):!u&&P<0&&(q=Iu(C+B,a[1][1])),M=Math.max(M,k),L=Math.max(L,q)}if(i){if(f){const k=rS(z/R,N,O)*R;if(M=Math.max(M,k),s){let q=0;!c&&!u||c&&!u&&p?q=Mu(C+H+z/R,s[1][1])*R:q=Iu(C+H+(c?I:-I)/R,s[0][1])*R,M=Math.max(M,q)}if(a){let q=0;!c&&!u||c&&!u&&p?q=Iu(C+z/R,a[1][1])*R:q=Mu(C+(c?I:-I)/R,a[0][1])*R,M=Math.max(M,q)}}if(h){const k=rS(B*R,v,E)/R;if(L=Math.max(L,k),s){let q=0;!c&&!u||u&&!c&&p?q=Mu(_+B*R+U,s[1][0])/R:q=Iu(_+(u?P:-P)*R+U,s[0][0])/R,L=Math.max(L,q)}if(a){let q=0;!c&&!u||u&&!c&&p?q=Iu(_+B*R,a[1][0])/R:q=Mu(_+(u?P:-P)*R,a[0][0])/R,L=Math.max(L,q)}}}P=P+(P<0?L:-L),I=I+(I<0?M:-M),i&&(p?z>B*R?P=(Nz(c,u)?-I:I)/R:I=(Nz(c,u)?-P:P)*R:f?(P=I/R,u=c):(I=P*R,c=u));const T=c?_+I:_,F=u?C+P:C;return{width:j+(c?-I:I),height:A+(u?-P:P),x:o[0]*I*(c?-1:1)+T,y:o[1]*P*(u?-1:1)+F}}const Pte={width:0,height:0,x:0,y:0},bWe={...Pte,pointerX:0,pointerY:0,aspectRatio:1};function xWe(e){return[[0,0],[e.measured.width,e.measured.height]]}function vWe(e,t,n){const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=e.measured.width??0,s=e.measured.height??0,a=n[0]*o,c=n[1]*s;return[[r-a,i-c],[r+o-a,i+s-c]]}function wWe({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=Eo(e);function s({controlPosition:c,boundaries:u,keepAspectRatio:f,onResizeStart:h,onResize:p,onResizeEnd:y,shouldResize:x}){let v={...Pte},E={...bWe};const N=gWe(c);let O,_=null,C=[],j,A,R;const I=Wee().on("start",P=>{const{nodeLookup:z,transform:B,snapGrid:U,snapToGrid:H,nodeOrigin:M,paneDomNode:L}=n();if(O=z.get(t),!O)return;_=(L==null?void 0:L.getBoundingClientRect())??null;const{xSnapped:T,ySnapped:F}=Nb(P.sourceEvent,{transform:B,snapGrid:U,snapToGrid:H,containerBounds:_});v={width:O.measured.width??0,height:O.measured.height??0,x:O.position.x??0,y:O.position.y??0},E={...v,pointerX:T,pointerY:F,aspectRatio:v.width/v.height},j=void 0,O.parentId&&(O.extent==="parent"||O.expandParent)&&(j=z.get(O.parentId),A=j&&O.extent==="parent"?xWe(j):void 0),C=[],R=void 0;for(const[k,q]of z)if(q.parentId===t&&(C.push({id:k,position:{...q.position},extent:q.extent}),q.extent==="parent"||q.expandParent)){const D=vWe(q,O,q.origin??M);R?R=[[Math.min(D[0][0],R[0][0]),Math.min(D[0][1],R[0][1])],[Math.max(D[1][0],R[1][0]),Math.max(D[1][1],R[1][1])]]:R=D}h==null||h(P,{...v})}).on("drag",P=>{const{transform:z,snapGrid:B,snapToGrid:U,nodeOrigin:H}=n(),M=Nb(P.sourceEvent,{transform:z,snapGrid:B,snapToGrid:U,containerBounds:_}),L=[];if(!O)return;const{x:T,y:F,width:k,height:q}=v,D={},W=O.origin??H,{width:X,height:oe,x:se,y:ie}=yWe(E,N,M,u,f,W,A,R),le=X!==k,pe=oe!==q,ye=se!==T&&le,je=ie!==F&&pe;if(!ye&&!je&&!le&&!pe)return;if((ye||je||W[0]===1||W[1]===1)&&(D.x=ye?se:v.x,D.y=je?ie:v.y,v.x=D.x,v.y=D.y,C.length>0)){const Z=se-T,we=ie-F;for(const Ne of C)Ne.position={x:Ne.position.x-Z+W[0]*(X-k),y:Ne.position.y-we+W[1]*(oe-q)},L.push(Ne)}if((le||pe)&&(D.width=le?X:v.width,D.height=pe?oe:v.height,v.width=D.width,v.height=D.height),j&&O.expandParent){const Z=W[0]*(D.width??0);D.x&&D.x<Z&&(v.x=Z,E.x=E.x-(D.x-Z));const we=W[1]*(D.height??0);D.y&&D.y<we&&(v.y=we,E.y=E.y-(D.y-we))}const Te=pWe({width:v.width,prevWidth:k,height:v.height,prevHeight:q,affectsX:N.affectsX,affectsY:N.affectsY}),J={...v,direction:Te};(x==null?void 0:x(P,J))!==!1&&(p==null||p(P,J),r(D,L))}).on("end",P=>{y==null||y(P,{...v}),i==null||i()});o.call(I)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}const{useDebugValue:SWe}=De,{useSyncExternalStoreWithSelector:EWe}=qJ,NWe=e=>e;function Dte(e,t=NWe,n){const r=EWe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return SWe(r),r}const Oz=(e,t)=>{const n=G3(e),r=(i,o=t)=>Dte(n,i,o);return Object.assign(r,n),r},OWe=(e,t)=>e?Oz(e,t):Oz;function Bn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const KO=w.createContext(null),_We=KO.Provider,Fte=sl.error001();function Lt(e,t){const n=w.useContext(KO);if(n===null)throw new Error(Fte);return Dte(n,e,t)}function Mn(){const e=w.useContext(KO);if(e===null)throw new Error(Fte);return w.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const _z={display:"none"},$We={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Lte="react-flow__node-desc",Bte="react-flow__edge-desc",CWe="react-flow__aria-live",jWe=e=>e.ariaLiveMessage;function AWe({rfId:e}){const t=Lt(jWe);return m.jsx("div",{id:`${CWe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:$We,children:t})}function TWe({rfId:e,disableKeyboardA11y:t}){return m.jsxs(m.Fragment,{children:[m.jsxs("div",{id:`${Lte}-${e}`,style:_z,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),m.jsx("div",{id:`${Bte}-${e}`,style:_z,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&m.jsx(AWe,{rfId:e})]})}const RWe=e=>e.userSelectionActive?"none":"all",Pg=w.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=Lt(RWe),a=`${e}`.split("-");return m.jsx("div",{className:pr(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:t})});Pg.displayName="Panel";function IWe({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:m.jsx(Pg,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:m.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const MWe=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},iS=e=>e.id;function kWe(e,t){return Bn(e.selectedNodes.map(iS),t.selectedNodes.map(iS))&&Bn(e.selectedEdges.map(iS),t.selectedEdges.map(iS))}function PWe({onSelectionChange:e}){const t=Mn(),{selectedNodes:n,selectedEdges:r}=Lt(MWe,kWe);return w.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const DWe=e=>!!e.onSelectionChangeHandlers;function FWe({onSelectionChange:e}){const t=Lt(DWe);return e||t?m.jsx(PWe,{onSelectionChange:e}):null}const zte=[0,0],LWe={x:0,y:0,zoom:1},BWe=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],$z=[...BWe,"rfId"],zWe=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),Cz={translateExtent:wx,nodeOrigin:zte,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function UWe(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:c,setPaneClickDistance:u}=Lt(zWe,Bn),f=Mn();w.useEffect(()=>(c(e.defaultNodes,e.defaultEdges),()=>{h.current=Cz,a()}),[]);const h=w.useRef(Cz);return w.useEffect(()=>{for(const p of $z){const y=e[p],x=h.current[p];y!==x&&(typeof e[p]>"u"||(p==="nodes"?t(y):p==="edges"?n(y):p==="minZoom"?r(y):p==="maxZoom"?i(y):p==="translateExtent"?o(y):p==="nodeExtent"?s(y):p==="paneClickDistance"?u(y):p==="fitView"?f.setState({fitViewOnInit:y}):p==="fitViewOptions"?f.setState({fitViewOnInitOptions:y}):f.setState({[p]:y})))}h.current=e},$z.map(p=>e[p])),null}function jz(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function VWe(e){var r;const[t,n]=w.useState(e==="system"?null:e);return w.useEffect(()=>{if(e!=="system"){n(e);return}const i=jz(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=jz())!=null&&r.matches?"dark":"light"}const Az=typeof document<"u"?document:null;function Ox(e=null,t={target:Az,actInsideInputWithModifier:!0}){const[n,r]=w.useState(!1),i=w.useRef(!1),o=w.useRef(new Set([])),[s,a]=w.useMemo(()=>{if(e!==null){const u=(Array.isArray(e)?e:[e]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=u.reduce((h,p)=>h.concat(...p),[]);return[u,f]}return[[],[]]},[e]);return w.useEffect(()=>{const c=(t==null?void 0:t.target)||Az;if(e!==null){const u=p=>{if(i.current=p.ctrlKey||p.metaKey||p.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&s5(p))return!1;const x=Rz(p.code,a);o.current.add(p[x]),Tz(s,o.current,!1)&&(p.preventDefault(),r(!0))},f=p=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&s5(p))return!1;const x=Rz(p.code,a);Tz(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(p[x]),p.key==="Meta"&&o.current.clear(),i.current=!1},h=()=>{o.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[e,r]),n}function Tz(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function Rz(e,t){return t.includes(e)?"code":"key"}const qWe=()=>{const e=Mn();return w.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:t.x??r,y:t.y??i,zoom:t.zoom??o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:o,domNode:s}=e.getState();if(!o||!s)return Promise.resolve(!1);const a=r5(n,t),{width:c,height:u}=WO(s);return i5({nodes:a,width:c,height:u,minZoom:r,maxZoom:i,panZoom:o},t)},setCenter:async(t,n,r)=>{const{width:i,height:o,maxZoom:s,panZoom:a}=e.getState(),c=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,u=i/2-t*c,f=o/2-n*c;return a?(await a.setViewport({x:u,y:f,zoom:c},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),c=mk(t,r,i,o,s,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(c,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:c}=s.getBoundingClientRect(),u={x:t.x-a,y:t.y-c},f=n.snapGrid??i,h=n.snapToGrid??o;return ow(u,r,h,f)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=yte(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function Ute(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const c of s)HWe(c,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function HWe(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function Vte(e,t){return Ute(e,t)}function qte(e,t){return Ute(e,t)}function kf(e,t){return{id:e,type:"select",selected:t}}function Op(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(kf(o.id,s)))}return r}function Iz({items:e=[],lookup:t}){var i;const n=[],r=new Map(e.map(o=>[o.id,o]));for(const[o,s]of e.entries()){const a=t.get(s.id),c=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;c!==void 0&&c!==s&&n.push({id:s.id,item:s,type:"replace"}),c===void 0&&n.push({item:s,type:"add",index:o})}for(const[o]of t)r.get(o)===void 0&&n.push({id:o,type:"remove"});return n}function Mz(e){return{id:e.id,type:"remove"}}const kz=e=>RHe(e),WWe=e=>dte(e);function Hte(e){return w.forwardRef(e)}const GWe=typeof window<"u"?w.useLayoutEffect:w.useEffect;function Pz(e){const[t,n]=w.useState(BigInt(0)),[r]=w.useState(()=>KWe(()=>n(i=>i+BigInt(1))));return GWe(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function KWe(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const Wte=w.createContext(null);function YWe({children:e}){const t=Mn(),n=w.useCallback(a=>{const{nodes:c=[],setNodes:u,hasDefaultNodes:f,onNodesChange:h,nodeLookup:p}=t.getState();let y=c;for(const x of a)y=typeof x=="function"?x(y):x;f?u(y):h&&h(Iz({items:y,lookup:p}))},[]),r=Pz(n),i=w.useCallback(a=>{const{edges:c=[],setEdges:u,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:p}=t.getState();let y=c;for(const x of a)y=typeof x=="function"?x(y):x;f?u(y):h&&h(Iz({items:y,lookup:p}))},[]),o=Pz(i),s=w.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return m.jsx(Wte.Provider,{value:s,children:e})}function JWe(){const e=w.useContext(Wte);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const XWe=e=>!!e.panZoom;function $y(){const e=qWe(),t=Mn(),n=JWe(),r=Lt(XWe),i=w.useMemo(()=>{const o=h=>t.getState().nodeLookup.get(h),s=h=>{n.nodeQueue.push(h)},a=h=>{n.edgeQueue.push(h)},c=h=>{var N,O;const{nodeLookup:p,nodeOrigin:y}=t.getState(),x=kz(h)?h:p.get(h.id),v=x.parentId?xte(x.position,x.measured,x.parentId,p,y):x.position,E={...x,position:v,width:((N=x.measured)==null?void 0:N.width)??x.width,height:((O=x.measured)==null?void 0:O.height)??x.height};return Mg(E)},u=(h,p,y={replace:!1})=>{s(x=>x.map(v=>{if(v.id===h){const E=typeof p=="function"?p(v):p;return y.replace&&kz(E)?E:{...v,...E}}return v}))},f=(h,p,y={replace:!1})=>{a(x=>x.map(v=>{if(v.id===h){const E=typeof p=="function"?p(v):p;return y.replace&&WWe(E)?E:{...v,...E}}return v}))};return{getNodes:()=>t.getState().nodes.map(h=>({...h})),getNode:h=>{var p;return(p=o(h))==null?void 0:p.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:h=[]}=t.getState();return h.map(p=>({...p}))},getEdge:h=>t.getState().edgeLookup.get(h),setNodes:s,setEdges:a,addNodes:h=>{const p=Array.isArray(h)?h:[h];n.nodeQueue.push(y=>[...y,...p])},addEdges:h=>{const p=Array.isArray(h)?h:[h];n.edgeQueue.push(y=>[...y,...p])},toObject:()=>{const{nodes:h=[],edges:p=[],transform:y}=t.getState(),[x,v,E]=y;return{nodes:h.map(N=>({...N})),edges:p.map(N=>({...N})),viewport:{x,y:v,zoom:E}}},deleteElements:async({nodes:h=[],edges:p=[]})=>{const{nodes:y,edges:x,onNodesDelete:v,onEdgesDelete:E,triggerNodeChanges:N,triggerEdgeChanges:O,onDelete:_,onBeforeDelete:C}=t.getState(),{nodes:j,edges:A}=await kHe({nodesToRemove:h,edgesToRemove:p,nodes:y,edges:x,onBeforeDelete:C}),R=A.length>0,I=j.length>0;if(R){const P=A.map(Mz);E==null||E(A),O(P)}if(I){const P=j.map(Mz);v==null||v(j),N(P)}return(I||R)&&(_==null||_({nodes:j,edges:A})),{deletedNodes:j,deletedEdges:A}},getIntersectingNodes:(h,p=!0,y)=>{const x=hz(h),v=x?h:c(h),E=y!==void 0;return v?(y||t.getState().nodes).filter(N=>{const O=t.getState().nodeLookup.get(N.id);if(O&&!x&&(N.id===h.id||!O.internals.positionAbsolute))return!1;const _=Mg(E?N:O),C=Ex(_,v);return p&&C>0||C>=v.width*v.height}):[]},isNodeIntersecting:(h,p,y=!0)=>{const v=hz(h)?h:c(h);if(!v)return!1;const E=Ex(v,p);return y&&E>0||E>=v.width*v.height},updateNode:u,updateNodeData:(h,p,y={replace:!1})=>{u(h,x=>{const v=typeof p=="function"?p(x):p;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},updateEdge:f,updateEdgeData:(h,p,y={replace:!1})=>{f(h,x=>{const v=typeof p=="function"?p(x):p;return y.replace?{...x,data:v}:{...x,data:{...x.data,...v}}},y)},getNodesBounds:h=>{const{nodeLookup:p,nodeOrigin:y}=t.getState();return IHe(h,{nodeLookup:p,nodeOrigin:y})},getHandleConnections:({type:h,id:p,nodeId:y})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${y}-${h}${p?`-${p}`:""}`))==null?void 0:x.values())??[])},getNodeConnections:({type:h,handleId:p,nodeId:y})=>{var x;return Array.from(((x=t.getState().connectionLookup.get(`${y}${h?p?`-${h}-${p}`:`-${h}`:""}`))==null?void 0:x.values())??[])}}},[]);return w.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const Dz=e=>e.selected,QWe={actInsideInputWithModifier:!1},ZWe=typeof window<"u"?window:void 0;function eGe({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=Mn(),{deleteElements:r}=$y(),i=Ox(e,QWe),o=Ox(t,{target:ZWe});w.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(Dz),edges:s.filter(Dz)}),n.setState({nodesSelectionActive:!1})}},[i]),w.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function tGe(e){const t=Mn();w.useEffect(()=>{const n=()=>{var i,o;if(!e.current)return!1;const r=WO(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",sl.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const YO={position:"absolute",width:"100%",height:"100%",top:0,left:0},nGe=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function rGe({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=uh.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:c,translateExtent:u,minZoom:f,maxZoom:h,zoomActivationKeyCode:p,preventScrolling:y=!0,children:x,noWheelClassName:v,noPanClassName:E,onViewportChange:N,isControlledViewport:O,paneClickDistance:_}){const C=Mn(),j=w.useRef(null),{userSelectionActive:A,lib:R}=Lt(nGe,Bn),I=Ox(p),P=w.useRef();tGe(j);const z=w.useCallback(B=>{N==null||N({x:B[0],y:B[1],zoom:B[2]}),O||C.setState({transform:B})},[N,O]);return w.useEffect(()=>{if(j.current){P.current=mWe({domNode:j.current,minZoom:f,maxZoom:h,translateExtent:u,viewport:c,paneClickDistance:_,onDraggingChange:M=>C.setState({paneDragging:M}),onPanZoomStart:(M,L)=>{const{onViewportChangeStart:T,onMoveStart:F}=C.getState();F==null||F(M,L),T==null||T(L)},onPanZoom:(M,L)=>{const{onViewportChange:T,onMove:F}=C.getState();F==null||F(M,L),T==null||T(L)},onPanZoomEnd:(M,L)=>{const{onViewportChangeEnd:T,onMoveEnd:F}=C.getState();F==null||F(M,L),T==null||T(L)}});const{x:B,y:U,zoom:H}=P.current.getViewport();return C.setState({panZoom:P.current,transform:[B,U,H],domNode:j.current.closest(".react-flow")}),()=>{var M;(M=P.current)==null||M.destroy()}}},[]),w.useEffect(()=>{var B;(B=P.current)==null||B.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:I,preventScrolling:y,noPanClassName:E,userSelectionActive:A,noWheelClassName:v,lib:R,onTransformChange:z})},[e,t,n,r,i,o,s,a,I,y,E,A,v,R,z]),m.jsx("div",{className:"react-flow__renderer",ref:j,style:YO,children:x})}const iGe=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function oGe(){const{userSelectionActive:e,userSelectionRect:t}=Lt(iGe,Bn);return e&&t?m.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const gA=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},sGe=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function aGe({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Sx.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:c,onPaneScroll:u,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:p,children:y}){const x=Mn(),{userSelectionActive:v,elementsSelectable:E,dragging:N}=Lt(sGe,Bn),O=E&&(e||v),_=w.useRef(null),C=w.useRef(),j=w.useRef(new Set),A=w.useRef(new Set),R=w.useRef(!1),I=w.useRef(!1),P=T=>{if(R.current){R.current=!1;return}a==null||a(T),x.getState().resetSelectedElements(),x.setState({nodesSelectionActive:!1})},z=T=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){T.preventDefault();return}c==null||c(T)},B=u?T=>u(T):void 0,U=T=>{var W,X;const{resetSelectedElements:F,domNode:k}=x.getState();if(C.current=k==null?void 0:k.getBoundingClientRect(),!E||!e||T.button!==0||T.target!==_.current||!C.current)return;(X=(W=T.target)==null?void 0:W.setPointerCapture)==null||X.call(W,T.pointerId),I.current=!0,R.current=!1;const{x:q,y:D}=wc(T.nativeEvent,C.current);F(),x.setState({userSelectionRect:{width:0,height:0,startX:q,startY:D,x:q,y:D}}),o==null||o(T)},H=T=>{const{userSelectionRect:F,transform:k,nodeLookup:q,edgeLookup:D,connectionLookup:W,triggerNodeChanges:X,triggerEdgeChanges:oe,defaultEdgeOptions:se}=x.getState();if(!C.current||!F)return;R.current=!0;const{x:ie,y:le}=wc(T.nativeEvent,C.current),{startX:pe,startY:ye}=F,je={startX:pe,startY:ye,x:ie<pe?ie:pe,y:le<ye?le:ye,width:Math.abs(ie-pe),height:Math.abs(le-ye)},Te=j.current,J=A.current;j.current=new Set(fte(q,je,k,n===Sx.Partial,!0).map(Z=>Z.id)),A.current=new Set;const me=(se==null?void 0:se.selectable)??!0;for(const Z of j.current){const we=W.get(Z);if(we)for(const{edgeId:Ne}of we.values()){const $e=D.get(Ne);$e&&($e.selectable??me)&&A.current.add(Ne)}}if(!mz(Te,j.current)){const Z=Op(q,j.current,!0);X(Z)}if(!mz(J,A.current)){const Z=Op(D,A.current);oe(Z)}x.setState({userSelectionRect:je,userSelectionActive:!0,nodesSelectionActive:!1})},M=T=>{var k,q;if(T.button!==0||!I.current)return;(q=(k=T.target)==null?void 0:k.releasePointerCapture)==null||q.call(k,T.pointerId);const{userSelectionRect:F}=x.getState();!v&&F&&T.target===_.current&&(P==null||P(T)),x.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:j.current.size>0}),s==null||s(T),(t||i)&&(R.current=!1),I.current=!1},L=r===!0||Array.isArray(r)&&r.includes(0);return m.jsxs("div",{className:pr(["react-flow__pane",{draggable:L,dragging:N,selection:e}]),onClick:O?void 0:gA(P,_),onContextMenu:gA(z,_),onWheel:gA(B,_),onPointerEnter:O?void 0:f,onPointerDown:O?U:h,onPointerMove:O?H:h,onPointerUp:O?M:void 0,onPointerLeave:p,ref:_,style:YO,children:[y,m.jsx(oGe,{})]})}function d5({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:c}=t.getState(),u=a.get(e);if(!u){c==null||c("012",sl.error012(e));return}t.setState({nodesSelectionActive:!1}),u.selected?(n||u.selected&&s)&&(o({nodes:[u],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([e])}function Gte({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=Mn(),[c,u]=w.useState(!1),f=w.useRef();return w.useEffect(()=>{f.current=eWe({getStoreItems:()=>a.getState(),onNodeMouseDown:h=>{d5({id:h,store:a,nodeRef:e})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})},[]),w.useEffect(()=>{var h,p;if(t)(h=f.current)==null||h.destroy();else if(e.current)return(p=f.current)==null||p.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var y;(y=f.current)==null||y.destroy()}},[n,r,t,o,e,i]),c}const lGe=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function Kte(){const e=Mn();return w.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:c,nodeLookup:u,nodeOrigin:f}=e.getState(),h=new Map,p=lGe(s),y=i?o[0]:5,x=i?o[1]:5,v=n.direction.x*y*n.factor,E=n.direction.y*x*n.factor;for(const[,N]of u){if(!p(N))continue;let O={x:N.internals.positionAbsolute.x+v,y:N.internals.positionAbsolute.y+E};i&&(O=HO(O,o));const{position:_,positionAbsolute:C}=hte({nodeId:N.id,nextPosition:O,nodeLookup:u,nodeExtent:r,nodeOrigin:f,onError:a});N.position=_,N.internals.positionAbsolute=C,h.set(N.id,N)}c(h)},[])}const xk=w.createContext(null),cGe=xk.Provider;xk.Consumer;const Yte=()=>w.useContext(xk),uGe=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),dGe=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:c,isValid:u}=s,f=(c==null?void 0:c.nodeId)===e&&(c==null?void 0:c.id)===t&&(c==null?void 0:c.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Rg.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:f&&u}};function fGe({type:e="source",position:t=st.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:c,className:u,onMouseDown:f,onTouchStart:h,...p},y){var L,T;const x=s||null,v=e==="target",E=Mn(),N=Yte(),{connectOnClick:O,noPanClassName:_,rfId:C}=Lt(uGe,Bn),{connectingFrom:j,connectingTo:A,clickConnecting:R,isPossibleEndHandle:I,connectionInProcess:P,clickConnectionInProcess:z,valid:B}=Lt(dGe(N,x,e),Bn);N||(T=(L=E.getState()).onError)==null||T.call(L,"010",sl.error010());const U=F=>{const{defaultEdgeOptions:k,onConnect:q,hasDefaultEdges:D}=E.getState(),W={...k,...F};if(D){const{edges:X,setEdges:oe}=E.getState();oe(Ote(W,X))}q==null||q(W),a==null||a(W)},H=F=>{if(!N)return;const k=wte(F.nativeEvent);if(i&&(k&&F.button===0||!k)){const q=E.getState();u5.onPointerDown(F.nativeEvent,{autoPanOnConnect:q.autoPanOnConnect,connectionMode:q.connectionMode,connectionRadius:q.connectionRadius,domNode:q.domNode,nodeLookup:q.nodeLookup,lib:q.lib,isTarget:v,handleId:x,nodeId:N,flowId:q.rfId,panBy:q.panBy,cancelConnection:q.cancelConnection,onConnectStart:q.onConnectStart,onConnectEnd:q.onConnectEnd,updateConnection:q.updateConnection,onConnect:U,isValidConnection:n||q.isValidConnection,getTransform:()=>E.getState().transform,getFromHandle:()=>E.getState().connection.fromHandle,autoPanSpeed:q.autoPanSpeed})}k?f==null||f(F):h==null||h(F)},M=F=>{const{onClickConnectStart:k,onClickConnectEnd:q,connectionClickStartHandle:D,connectionMode:W,isValidConnection:X,lib:oe,rfId:se,nodeLookup:ie,connection:le}=E.getState();if(!N||!D&&!i)return;if(!D){k==null||k(F.nativeEvent,{nodeId:N,handleId:x,handleType:e}),E.setState({connectionClickStartHandle:{nodeId:N,type:e,id:x}});return}const pe=vte(F.target),ye=n||X,{connection:je,isValid:Te}=u5.isValid(F.nativeEvent,{handle:{nodeId:N,id:x,type:e},connectionMode:W,fromNodeId:D.nodeId,fromHandleId:D.id||null,fromType:D.type,isValidConnection:ye,flowId:se,doc:pe,lib:oe,nodeLookup:ie});Te&&je&&U(je);const J=structuredClone(le);delete J.inProgress,J.toPosition=J.toHandle?J.toHandle.position:null,q==null||q(F,J),E.setState({connectionClickStartHandle:null})};return m.jsx("div",{"data-handleid":x,"data-nodeid":N,"data-handlepos":t,"data-id":`${C}-${N}-${x}-${e}`,className:pr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,u,{source:!v,target:v,connectable:r,connectablestart:i,connectableend:o,clickconnecting:R,connectingfrom:j,connectingto:A,valid:B,connectionindicator:r&&(!P||I)&&(P||z?o:i)}]),onMouseDown:H,onTouchStart:H,onClick:O?M:void 0,ref:y,...p,children:c})}const _x=w.memo(Hte(fGe));function hGe({data:e,isConnectable:t,sourcePosition:n=st.Bottom}){return m.jsxs(m.Fragment,{children:[e==null?void 0:e.label,m.jsx(_x,{type:"source",position:n,isConnectable:t})]})}function mGe({data:e,isConnectable:t,targetPosition:n=st.Top,sourcePosition:r=st.Bottom}){return m.jsxs(m.Fragment,{children:[m.jsx(_x,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,m.jsx(_x,{type:"source",position:r,isConnectable:t})]})}function pGe(){return null}function gGe({data:e,isConnectable:t,targetPosition:n=st.Top}){return m.jsxs(m.Fragment,{children:[m.jsx(_x,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const a2={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Fz={input:hGe,default:mGe,output:gGe,group:pGe};function yGe(e){var t,n,r,i;return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??((t=e.style)==null?void 0:t.width),height:e.height??e.initialHeight??((n=e.style)==null?void 0:n.height)}:{width:e.width??((r=e.style)==null?void 0:r.width),height:e.height??((i=e.style)==null?void 0:i.height)}}const bGe=e=>{const{width:t,height:n,x:r,y:i}=iw(e.nodeLookup,{filter:o=>!!o.selected});return{width:ia(t)?t:null,height:ia(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${i}px)`}};function xGe({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Mn(),{width:i,height:o,transformString:s,userSelectionActive:a}=Lt(bGe,Bn),c=Kte(),u=w.useRef(null);if(w.useEffect(()=>{var p;n||(p=u.current)==null||p.focus({preventScroll:!0})},[n]),Gte({nodeRef:u}),a||!i||!o)return null;const f=e?p=>{const y=r.getState().nodes.filter(x=>x.selected);e(p,y)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(a2,p.key)&&(p.preventDefault(),c({direction:a2[p.key],factor:p.shiftKey?4:1}))};return m.jsx("div",{className:pr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:m.jsx("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o}})})}const Lz=typeof window<"u"?window:void 0,vGe=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function Jte({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:c,selectionKeyCode:u,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:x,panActivationKeyCode:v,zoomActivationKeyCode:E,elementsSelectable:N,zoomOnScroll:O,zoomOnPinch:_,panOnScroll:C,panOnScrollSpeed:j,panOnScrollMode:A,zoomOnDoubleClick:R,panOnDrag:I,defaultViewport:P,translateExtent:z,minZoom:B,maxZoom:U,preventScrolling:H,onSelectionContextMenu:M,noWheelClassName:L,noPanClassName:T,disableKeyboardA11y:F,onViewportChange:k,isControlledViewport:q}){const{nodesSelectionActive:D,userSelectionActive:W}=Lt(vGe),X=Ox(u,{target:Lz}),oe=Ox(v,{target:Lz}),se=oe||I,ie=oe||C,le=f&&se!==!0,pe=X||W||le;return eGe({deleteKeyCode:c,multiSelectionKeyCode:x}),m.jsx(rGe,{onPaneContextMenu:o,elementsSelectable:N,zoomOnScroll:O,zoomOnPinch:_,panOnScroll:ie,panOnScrollSpeed:j,panOnScrollMode:A,zoomOnDoubleClick:R,panOnDrag:!X&&se,defaultViewport:P,translateExtent:z,minZoom:B,maxZoom:U,zoomActivationKeyCode:E,preventScrolling:H,noWheelClassName:L,noPanClassName:T,onViewportChange:k,isControlledViewport:q,paneClickDistance:a,children:m.jsxs(aGe,{onSelectionStart:p,onSelectionEnd:y,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:se,isSelecting:!!pe,selectionMode:h,selectionKeyPressed:X,selectionOnDrag:le,children:[e,D&&m.jsx(xGe,{onSelectionContextMenu:M,noPanClassName:T,disableKeyboardA11y:F})]})})}Jte.displayName="FlowRenderer";const wGe=w.memo(Jte),SGe=e=>t=>e?fte(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function EGe(e){return Lt(w.useCallback(SGe(e),[e]),Bn)}const NGe=e=>e.updateNodeInternals;function OGe(){const e=Lt(NGe),[t]=w.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return w.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function _Ge({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=Mn(),o=w.useRef(null),s=w.useRef(null),a=w.useRef(e.sourcePosition),c=w.useRef(e.targetPosition),u=w.useRef(t),f=n&&!!e.internals.handleBounds;return w.useEffect(()=>{o.current&&!e.hidden&&(!f||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[f,e.hidden]),w.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),w.useEffect(()=>{if(o.current){const h=u.current!==t,p=a.current!==e.sourcePosition,y=c.current!==e.targetPosition;(h||p||y)&&(u.current=t,a.current=e.sourcePosition,c.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function $Ge({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:c,nodesConnectable:u,nodesFocusable:f,resizeObserver:h,noDragClassName:p,noPanClassName:y,disableKeyboardA11y:x,rfId:v,nodeTypes:E,nodeClickDistance:N,onError:O}){const{node:_,internals:C,isParent:j}=Lt(pe=>{const ye=pe.nodeLookup.get(e),je=pe.parentLookup.has(e);return{node:ye,internals:ye.internals,isParent:je}},Bn);let A=_.type||"default",R=(E==null?void 0:E[A])||Fz[A];R===void 0&&(O==null||O("003",sl.error003(A)),A="default",R=Fz.default);const I=!!(_.draggable||a&&typeof _.draggable>"u"),P=!!(_.selectable||c&&typeof _.selectable>"u"),z=!!(_.connectable||u&&typeof _.connectable>"u"),B=!!(_.focusable||f&&typeof _.focusable>"u"),U=Mn(),H=bte(_),M=_Ge({node:_,nodeType:A,hasDimensions:H,resizeObserver:h}),L=Gte({nodeRef:M,disabled:_.hidden||!I,noDragClassName:p,handleSelector:_.dragHandle,nodeId:e,isSelectable:P,nodeClickDistance:N}),T=Kte();if(_.hidden)return null;const F=Qc(_),k=yGe(_),q=P||I||t||n||r||i,D=n?pe=>n(pe,{...C.userNode}):void 0,W=r?pe=>r(pe,{...C.userNode}):void 0,X=i?pe=>i(pe,{...C.userNode}):void 0,oe=o?pe=>o(pe,{...C.userNode}):void 0,se=s?pe=>s(pe,{...C.userNode}):void 0,ie=pe=>{const{selectNodesOnDrag:ye,nodeDragThreshold:je}=U.getState();P&&(!ye||!I||je>0)&&d5({id:e,store:U,nodeRef:M}),t&&t(pe,{...C.userNode})},le=pe=>{if(!(s5(pe.nativeEvent)||x))if(lte.includes(pe.key)&&P){const ye=pe.key==="Escape";d5({id:e,store:U,unselect:ye,nodeRef:M})}else I&&_.selected&&Object.prototype.hasOwnProperty.call(a2,pe.key)&&(pe.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${pe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~C.positionAbsolute.x}, y: ${~~C.positionAbsolute.y}`}),T({direction:a2[pe.key],factor:pe.shiftKey?4:1}))};return m.jsx("div",{className:pr(["react-flow__node",`react-flow__node-${A}`,{[y]:I},_.className,{selected:_.selected,selectable:P,parent:j,draggable:I,dragging:L}]),ref:M,style:{zIndex:C.z,transform:`translate(${C.positionAbsolute.x}px,${C.positionAbsolute.y}px)`,pointerEvents:q?"all":"none",visibility:H?"visible":"hidden",..._.style,...k},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:D,onMouseMove:W,onMouseLeave:X,onContextMenu:oe,onClick:ie,onDoubleClick:se,onKeyDown:B?le:void 0,tabIndex:B?0:void 0,role:B?"button":void 0,"aria-describedby":x?void 0:`${Lte}-${v}`,"aria-label":_.ariaLabel,children:m.jsx(cGe,{value:e,children:m.jsx(R,{id:e,data:_.data,type:A,positionAbsoluteX:C.positionAbsolute.x,positionAbsoluteY:C.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:I,deletable:_.deletable??!0,isConnectable:z,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:L,dragHandle:_.dragHandle,zIndex:C.z,parentId:_.parentId,...F})})})}const CGe=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function Xte(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=Lt(CGe,Bn),s=EGe(e.onlyRenderVisibleElements),a=OGe();return m.jsx("div",{className:"react-flow__nodes",style:YO,children:s.map(c=>m.jsx($Ge,{id:c,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},c))})}Xte.displayName="NodeRenderer";const jGe=w.memo(Xte);function AGe(e){return Lt(w.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&LHe({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),Bn)}const TGe=({color:e="none",strokeWidth:t=1})=>m.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),RGe=({color:e="none",strokeWidth:t=1})=>m.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Bz={[jh.Arrow]:TGe,[jh.ArrowClosed]:RGe};function IGe(e){const t=Mn();return w.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Bz,e)?Bz[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",sl.error009(e)),null)},[e])}const MGe=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const c=IGe(t);return c?m.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:m.jsx(c,{color:n,strokeWidth:s})}):null},Qte=({defaultColor:e,rfId:t})=>{const n=Lt(o=>o.edges),r=Lt(o=>o.defaultEdgeOptions),i=w.useMemo(()=>WHe(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?m.jsx("svg",{className:"react-flow__marker",children:m.jsx("defs",{children:i.map(o=>m.jsx(MGe,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};Qte.displayName="MarkerDefinitions";var kGe=w.memo(Qte);function Zte({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:c,className:u,...f}){const[h,p]=w.useState({x:1,y:0,width:0,height:0}),y=pr(["react-flow__edge-textwrapper",u]),x=w.useRef(null);return w.useEffect(()=>{if(x.current){const v=x.current.getBBox();p({x:v.x,y:v.y,width:v.width,height:v.height})}},[n]),typeof n>"u"||!n?null:m.jsxs("g",{transform:`translate(${e-h.width/2} ${t-h.height/2})`,className:y,visibility:h.width?"visible":"hidden",...f,children:[i&&m.jsx("rect",{width:h.width+2*s[0],x:-s[0],y:-s[1],height:h.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),m.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:x,style:r,children:n}),c]})}Zte.displayName="EdgeText";const PGe=w.memo(Zte);function JO({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c,interactionWidth:u=20,...f}){return m.jsxs(m.Fragment,{children:[m.jsx("path",{...f,d:e,fill:"none",className:pr(["react-flow__edge-path",f.className])}),u&&m.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:u,className:"react-flow__edge-interaction"}),r&&ia(t)&&ia(n)?m.jsx(PGe,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:c}):null]})}function zz({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===st.Left||e===st.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function ene({sourceX:e,sourceY:t,sourcePosition:n=st.Bottom,targetX:r,targetY:i,targetPosition:o=st.Top}){const[s,a]=zz({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,u]=zz({pos:o,x1:r,y1:i,x2:e,y2:t}),[f,h,p,y]=Ste({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:c,targetControlY:u});return[`M${e},${t} C${s},${a} ${c},${u} ${r},${i}`,f,h,p,y]}function tne(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=st.Bottom,targetPosition:a=st.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:E,interactionWidth:N})=>{const[O,_,C]=ene({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),j=e.isInternal?void 0:t;return m.jsx(JO,{id:j,path:O,labelX:_,labelY:C,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:E,interactionWidth:N})})}const DGe=tne({isInternal:!1}),nne=tne({isInternal:!0});DGe.displayName="SimpleBezierEdge";nne.displayName="SimpleBezierEdgeInternal";function rne(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:y=st.Bottom,targetPosition:x=st.Top,markerEnd:v,markerStart:E,pathOptions:N,interactionWidth:O})=>{const[_,C,j]=a5({sourceX:n,sourceY:r,sourcePosition:y,targetX:i,targetY:o,targetPosition:x,borderRadius:N==null?void 0:N.borderRadius,offset:N==null?void 0:N.offset}),A=e.isInternal?void 0:t;return m.jsx(JO,{id:A,path:_,labelX:C,labelY:j,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:E,interactionWidth:O})})}const ine=rne({isInternal:!1}),one=rne({isInternal:!0});ine.displayName="SmoothStepEdge";one.displayName="SmoothStepEdgeInternal";function sne(e){return w.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return m.jsx(ine,{...n,id:r,pathOptions:w.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const FGe=sne({isInternal:!1}),ane=sne({isInternal:!0});FGe.displayName="StepEdge";ane.displayName="StepEdgeInternal";function lne(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:x,interactionWidth:v})=>{const[E,N,O]=_te({sourceX:n,sourceY:r,targetX:i,targetY:o}),_=e.isInternal?void 0:t;return m.jsx(JO,{id:_,path:E,labelX:N,labelY:O,label:s,labelStyle:a,labelShowBg:c,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:y,markerStart:x,interactionWidth:v})})}const LGe=lne({isInternal:!1}),cne=lne({isInternal:!0});LGe.displayName="StraightEdge";cne.displayName="StraightEdgeInternal";function une(e){return w.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=st.Bottom,targetPosition:a=st.Top,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:E,pathOptions:N,interactionWidth:O})=>{const[_,C,j]=Ete({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:N==null?void 0:N.curvature}),A=e.isInternal?void 0:t;return m.jsx(JO,{id:A,path:_,labelX:C,labelY:j,label:c,labelStyle:u,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:y,style:x,markerEnd:v,markerStart:E,interactionWidth:O})})}const BGe=une({isInternal:!1}),dne=une({isInternal:!0});BGe.displayName="BezierEdge";dne.displayName="BezierEdgeInternal";const Uz={default:dne,straight:cne,step:ane,smoothstep:one,simplebezier:nne},Vz={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},zGe=(e,t,n)=>n===st.Left?e-t:n===st.Right?e+t:e,UGe=(e,t,n)=>n===st.Top?e-t:n===st.Bottom?e+t:e,qz="react-flow__edgeupdater";function Hz({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return m.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:pr([qz,`${qz}-${a}`]),cx:zGe(t,r,e),cy:UGe(n,r,e),r,stroke:"transparent",fill:"transparent"})}function VGe({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:c,onReconnect:u,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:y}){const x=Mn(),v=(C,j)=>{if(C.button!==0)return;const{autoPanOnConnect:A,domNode:R,isValidConnection:I,connectionMode:P,connectionRadius:z,lib:B,onConnectStart:U,onConnectEnd:H,cancelConnection:M,nodeLookup:L,rfId:T,panBy:F,updateConnection:k}=x.getState(),q=j.type==="target";p(!0),f==null||f(C,n,j.type);const D=(X,oe)=>{p(!1),h==null||h(X,n,j.type,oe)},W=X=>u==null?void 0:u(n,X);u5.onPointerDown(C.nativeEvent,{autoPanOnConnect:A,connectionMode:P,connectionRadius:z,domNode:R,handleId:j.id,nodeId:j.nodeId,nodeLookup:L,isTarget:q,edgeUpdaterType:j.type,lib:B,flowId:T,cancelConnection:M,panBy:F,isValidConnection:I,onConnect:W,onConnectStart:U,onConnectEnd:H,onReconnectEnd:D,updateConnection:k,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle})},E=C=>v(C,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),N=C=>v(C,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>y(!0),_=()=>y(!1);return m.jsxs(m.Fragment,{children:[(e===!0||e==="source")&&m.jsx(Hz,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:E,onMouseEnter:O,onMouseOut:_,type:"source"}),(e===!0||e==="target")&&m.jsx(Hz,{position:c,centerX:o,centerY:s,radius:t,onMouseDown:N,onMouseEnter:O,onMouseOut:_,type:"target"})]})}function qGe({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,rfId:x,edgeTypes:v,noPanClassName:E,onError:N,disableKeyboardA11y:O}){let _=Lt(me=>me.edgeLookup.get(e));const C=Lt(me=>me.defaultEdgeOptions);_=C?{...C,..._}:_;let j=_.type||"default",A=(v==null?void 0:v[j])||Uz[j];A===void 0&&(N==null||N("011",sl.error011(j)),j="default",A=Uz.default);const R=!!(_.focusable||t&&typeof _.focusable>"u"),I=typeof h<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),z=w.useRef(null),[B,U]=w.useState(!1),[H,M]=w.useState(!1),L=Mn(),{zIndex:T,sourceX:F,sourceY:k,targetX:q,targetY:D,sourcePosition:W,targetPosition:X}=Lt(w.useCallback(me=>{const Z=me.nodeLookup.get(_.source),we=me.nodeLookup.get(_.target);if(!Z||!we)return{zIndex:_.zIndex,...Vz};const Ne=HHe({id:e,sourceNode:Z,targetNode:we,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:me.connectionMode,onError:N});return{zIndex:FHe({selected:_.selected,zIndex:_.zIndex,sourceNode:Z,targetNode:we,elevateOnSelect:me.elevateEdgesOnSelect}),...Ne||Vz}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),Bn),oe=w.useMemo(()=>_.markerStart?`url('#${l5(_.markerStart,x)}')`:void 0,[_.markerStart,x]),se=w.useMemo(()=>_.markerEnd?`url('#${l5(_.markerEnd,x)}')`:void 0,[_.markerEnd,x]);if(_.hidden||F===null||k===null||q===null||D===null)return null;const ie=me=>{var $e;const{addSelectedEdges:Z,unselectNodesAndEdges:we,multiSelectionActive:Ne}=L.getState();P&&(L.setState({nodesSelectionActive:!1}),_.selected&&Ne?(we({nodes:[],edges:[_]}),($e=z.current)==null||$e.blur()):Z([e])),i&&i(me,_)},le=o?me=>{o(me,{..._})}:void 0,pe=s?me=>{s(me,{..._})}:void 0,ye=a?me=>{a(me,{..._})}:void 0,je=c?me=>{c(me,{..._})}:void 0,Te=u?me=>{u(me,{..._})}:void 0,J=me=>{var Z;if(!O&&lte.includes(me.key)&&P){const{unselectNodesAndEdges:we,addSelectedEdges:Ne}=L.getState();me.key==="Escape"?((Z=z.current)==null||Z.blur(),we({edges:[_]})):Ne([e])}};return m.jsx("svg",{style:{zIndex:T},children:m.jsxs("g",{className:pr(["react-flow__edge",`react-flow__edge-${j}`,_.className,E,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:B,selectable:P}]),onClick:ie,onDoubleClick:le,onContextMenu:pe,onMouseEnter:ye,onMouseMove:je,onMouseLeave:Te,onKeyDown:R?J:void 0,tabIndex:R?0:void 0,role:R?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":R?`${Bte}-${x}`:void 0,ref:z,children:[!H&&m.jsx(A,{id:e,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:F,sourceY:k,targetX:q,targetY:D,sourcePosition:W,targetPosition:X,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:oe,markerEnd:se,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),I&&m.jsx(VGe,{edge:_,isReconnectable:I,reconnectRadius:f,onReconnect:h,onReconnectStart:p,onReconnectEnd:y,sourceX:F,sourceY:k,targetX:q,targetY:D,sourcePosition:W,targetPosition:X,setUpdateHover:U,setReconnecting:M})]})})}const HGe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function fne({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:p,onReconnectStart:y,onReconnectEnd:x,disableKeyboardA11y:v}){const{edgesFocusable:E,edgesReconnectable:N,elementsSelectable:O,onError:_}=Lt(HGe,Bn),C=AGe(t);return m.jsxs("div",{className:"react-flow__edges",children:[m.jsx(kGe,{defaultColor:e,rfId:n}),C.map(j=>m.jsx(qGe,{id:j,edgesFocusable:E,edgesReconnectable:N,elementsSelectable:O,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:c,onMouseLeave:u,onClick:f,reconnectRadius:h,onDoubleClick:p,onReconnectStart:y,onReconnectEnd:x,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:v},j))]})}fne.displayName="EdgeRenderer";const WGe=w.memo(fne),GGe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function KGe({children:e}){const t=Lt(GGe);return m.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function YGe(e){const t=$y(),n=w.useRef(!1);w.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const JGe=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function XGe(e){const t=Lt(JGe),n=Mn();return w.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function QGe(e){return e.connection.inProgress?{...e.connection,to:ow(e.connection.to,e.transform)}:{...e.connection}}function ZGe(e){return QGe}function eKe(e){const t=ZGe();return Lt(t,Bn)}const tKe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function nKe({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:c}=Lt(tKe,Bn);return!(o&&i&&c)?null:m.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:m.jsx("g",{className:pr(["react-flow__connection",ute(a)]),children:m.jsx(hne,{style:t,type:n,CustomComponent:r,isValid:a})})})}const hne=({style:e,type:t=Yu.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:c,to:u,toNode:f,toHandle:h,toPosition:p}=eKe();if(!i)return;if(n)return m.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:u.x,toY:u.y,fromPosition:c,toPosition:p,connectionStatus:ute(r),toNode:f,toHandle:h});let y="";const x={sourceX:o.x,sourceY:o.y,sourcePosition:c,targetX:u.x,targetY:u.y,targetPosition:p};switch(t){case Yu.Bezier:[y]=Ete(x);break;case Yu.SimpleBezier:[y]=ene(x);break;case Yu.Step:[y]=a5({...x,borderRadius:0});break;case Yu.SmoothStep:[y]=a5(x);break;default:[y]=_te(x)}return m.jsx("path",{d:y,fill:"none",className:"react-flow__connection-path",style:e})};hne.displayName="ConnectionLine";const rKe={};function Wz(e=rKe){w.useRef(e),Mn(),w.useEffect(()=>{},[e])}function iKe(){Mn(),w.useRef(!1),w.useEffect(()=>{},[])}function mne({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:p,onSelectionEnd:y,connectionLineType:x,connectionLineStyle:v,connectionLineComponent:E,connectionLineContainerStyle:N,selectionKeyCode:O,selectionOnDrag:_,selectionMode:C,multiSelectionKeyCode:j,panActivationKeyCode:A,zoomActivationKeyCode:R,deleteKeyCode:I,onlyRenderVisibleElements:P,elementsSelectable:z,defaultViewport:B,translateExtent:U,minZoom:H,maxZoom:M,preventScrolling:L,defaultMarkerColor:T,zoomOnScroll:F,zoomOnPinch:k,panOnScroll:q,panOnScrollSpeed:D,panOnScrollMode:W,zoomOnDoubleClick:X,panOnDrag:oe,onPaneClick:se,onPaneMouseEnter:ie,onPaneMouseMove:le,onPaneMouseLeave:pe,onPaneScroll:ye,onPaneContextMenu:je,paneClickDistance:Te,nodeClickDistance:J,onEdgeContextMenu:me,onEdgeMouseEnter:Z,onEdgeMouseMove:we,onEdgeMouseLeave:Ne,reconnectRadius:$e,onReconnect:_e,onReconnectStart:Y,onReconnectEnd:re,noDragClassName:Q,noWheelClassName:xe,noPanClassName:ue,disableKeyboardA11y:de,nodeExtent:ae,rfId:he,viewport:Ee,onViewportChange:ke}){return Wz(e),Wz(t),iKe(),YGe(n),XGe(Ee),m.jsx(wGe,{onPaneClick:se,onPaneMouseEnter:ie,onPaneMouseMove:le,onPaneMouseLeave:pe,onPaneContextMenu:je,onPaneScroll:ye,paneClickDistance:Te,deleteKeyCode:I,selectionKeyCode:O,selectionOnDrag:_,selectionMode:C,onSelectionStart:p,onSelectionEnd:y,multiSelectionKeyCode:j,panActivationKeyCode:A,zoomActivationKeyCode:R,elementsSelectable:z,zoomOnScroll:F,zoomOnPinch:k,zoomOnDoubleClick:X,panOnScroll:q,panOnScrollSpeed:D,panOnScrollMode:W,panOnDrag:oe,defaultViewport:B,translateExtent:U,minZoom:H,maxZoom:M,onSelectionContextMenu:h,preventScrolling:L,noDragClassName:Q,noWheelClassName:xe,noPanClassName:ue,disableKeyboardA11y:de,onViewportChange:ke,isControlledViewport:!!Ee,children:m.jsxs(KGe,{children:[m.jsx(WGe,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:_e,onReconnectStart:Y,onReconnectEnd:re,onlyRenderVisibleElements:P,onEdgeContextMenu:me,onEdgeMouseEnter:Z,onEdgeMouseMove:we,onEdgeMouseLeave:Ne,reconnectRadius:$e,defaultMarkerColor:T,noPanClassName:ue,disableKeyboardA11y:de,rfId:he}),m.jsx(nKe,{style:v,type:x,component:E,containerStyle:N}),m.jsx("div",{className:"react-flow__edgelabel-renderer"}),m.jsx(jGe,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:c,onNodeMouseLeave:u,onNodeContextMenu:f,nodeClickDistance:J,onlyRenderVisibleElements:P,noPanClassName:ue,noDragClassName:Q,disableKeyboardA11y:de,nodeExtent:ae,rfId:he}),m.jsx("div",{className:"react-flow__viewport-portal"})]})})}mne.displayName="GraphView";const oKe=w.memo(mne),Gz=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:c}={})=>{const u=new Map,f=new Map,h=new Map,p=new Map,y=r??t??[],x=n??e??[],v=a??[0,0],E=c??wx;Cte(h,p,y),c5(x,u,f,{nodeOrigin:v,nodeExtent:E,elevateNodesOnSelect:!1});let N=[0,0,1];if(s&&i&&o){const O=iw(u,{filter:A=>!!((A.width||A.initialWidth)&&(A.height||A.initialHeight))}),{x:_,y:C,zoom:j}=mk(O,i,o,.5,2,.1);N=[_,C,j]}return{rfId:"1",width:0,height:0,transform:N,nodes:x,nodeLookup:u,parentLookup:f,edges:y,edgeLookup:p,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:wx,nodeExtent:E,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Rg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:v,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...cte},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:PHe,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},sKe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:c})=>OWe((u,f)=>({...Gz({nodes:e,edges:t,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:p,parentLookup:y,nodeOrigin:x,elevateNodesOnSelect:v}=f();c5(h,p,y,{nodeOrigin:x,nodeExtent:c,elevateNodesOnSelect:v,checkEquality:!0}),u({nodes:h})},setEdges:h=>{const{connectionLookup:p,edgeLookup:y}=f();Cte(p,y,h),u({edges:h})},setDefaultNodesAndEdges:(h,p)=>{if(h){const{setNodes:y}=f();y(h),u({hasDefaultNodes:!0})}if(p){const{setEdges:y}=f();y(p),u({hasDefaultEdges:!0})}},updateNodeInternals:(h,p={triggerFitView:!0})=>{const{triggerNodeChanges:y,nodeLookup:x,parentLookup:v,fitViewOnInit:E,fitViewDone:N,fitViewOnInitOptions:O,domNode:_,nodeOrigin:C,nodeExtent:j,debug:A,fitViewSync:R}=f(),{changes:I,updatedInternals:P}=XHe(h,x,v,_,C,j);if(P){if(KHe(x,v,{nodeOrigin:C,nodeExtent:j}),p.triggerFitView){let z=N;!N&&E&&(z=R({...O,nodes:O==null?void 0:O.nodes})),u({fitViewDone:z})}else u({});(I==null?void 0:I.length)>0&&(A&&console.log("React Flow: trigger node changes",I),y==null||y(I))}},updateNodePositions:(h,p=!1)=>{const y=[],x=[],{nodeLookup:v,triggerNodeChanges:E}=f();for(const[N,O]of h){const _=v.get(N),C=!!(_!=null&&_.expandParent&&(_!=null&&_.parentId)&&(O!=null&&O.position)),j={id:N,type:"position",position:C?{x:Math.max(0,O.position.x),y:Math.max(0,O.position.y)}:O.position,dragging:p};C&&_.parentId&&y.push({id:N,parentId:_.parentId,rect:{...O.internals.positionAbsolute,width:O.measured.width??0,height:O.measured.height??0}}),x.push(j)}if(y.length>0){const{parentLookup:N,nodeOrigin:O}=f(),_=bk(y,v,N,O);x.push(..._)}E(x)},triggerNodeChanges:h=>{const{onNodesChange:p,setNodes:y,nodes:x,hasDefaultNodes:v,debug:E}=f();if(h!=null&&h.length){if(v){const N=Vte(h,x);y(N)}E&&console.log("React Flow: trigger node changes",h),p==null||p(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:p,setEdges:y,edges:x,hasDefaultEdges:v,debug:E}=f();if(h!=null&&h.length){if(v){const N=qte(h,x);y(N)}E&&console.log("React Flow: trigger edge changes",h),p==null||p(h)}},addSelectedNodes:h=>{const{multiSelectionActive:p,edgeLookup:y,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:E}=f();if(p){const N=h.map(O=>kf(O,!0));v(N);return}v(Op(x,new Set([...h]),!0)),E(Op(y))},addSelectedEdges:h=>{const{multiSelectionActive:p,edgeLookup:y,nodeLookup:x,triggerNodeChanges:v,triggerEdgeChanges:E}=f();if(p){const N=h.map(O=>kf(O,!0));E(N);return}E(Op(y,new Set([...h]))),v(Op(x,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:p}={})=>{const{edges:y,nodes:x,nodeLookup:v,triggerNodeChanges:E,triggerEdgeChanges:N}=f(),O=h||x,_=p||y,C=O.map(A=>{const R=v.get(A.id);return R&&(R.selected=!1),kf(A.id,!1)}),j=_.map(A=>kf(A.id,!1));E(C),N(j)},setMinZoom:h=>{const{panZoom:p,maxZoom:y}=f();p==null||p.setScaleExtent([h,y]),u({minZoom:h})},setMaxZoom:h=>{const{panZoom:p,minZoom:y}=f();p==null||p.setScaleExtent([y,h]),u({maxZoom:h})},setTranslateExtent:h=>{var p;(p=f().panZoom)==null||p.setTranslateExtent(h),u({translateExtent:h})},setPaneClickDistance:h=>{var p;(p=f().panZoom)==null||p.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:p,triggerNodeChanges:y,triggerEdgeChanges:x}=f(),v=p.reduce((N,O)=>O.selected?[...N,kf(O.id,!1)]:N,[]),E=h.reduce((N,O)=>O.selected?[...N,kf(O.id,!1)]:N,[]);y(v),x(E)},setNodeExtent:h=>{const{nodes:p,nodeLookup:y,parentLookup:x,nodeOrigin:v,elevateNodesOnSelect:E,nodeExtent:N}=f();h[0][0]===N[0][0]&&h[0][1]===N[0][1]&&h[1][0]===N[1][0]&&h[1][1]===N[1][1]||(c5(p,y,x,{nodeOrigin:v,nodeExtent:h,elevateNodesOnSelect:E,checkEquality:!1}),u({nodeExtent:h}))},panBy:h=>{const{transform:p,width:y,height:x,panZoom:v,translateExtent:E}=f();return QHe({delta:h,panZoom:v,transform:p,translateExtent:E,width:y,height:x})},fitView:h=>{const{panZoom:p,width:y,height:x,minZoom:v,maxZoom:E,nodeLookup:N}=f();if(!p)return Promise.resolve(!1);const O=r5(N,h);return i5({nodes:O,width:y,height:x,panZoom:p,minZoom:v,maxZoom:E},h)},fitViewSync:h=>{const{panZoom:p,width:y,height:x,minZoom:v,maxZoom:E,nodeLookup:N}=f();if(!p)return!1;const O=r5(N,h);return i5({nodes:O,width:y,height:x,panZoom:p,minZoom:v,maxZoom:E},h),O.size>0},cancelConnection:()=>{u({connection:{...cte}})},updateConnection:h=>{u({connection:h})},reset:()=>u({...Gz()})}),Object.is);function pne({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,fitView:s,nodeOrigin:a,nodeExtent:c,children:u}){const[f]=w.useState(()=>sKe({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,nodeOrigin:a,nodeExtent:c}));return m.jsx(_We,{value:f,children:m.jsx(YWe,{children:u})})}function aKe({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,nodeOrigin:c,nodeExtent:u}){return w.useContext(KO)?m.jsx(m.Fragment,{children:e}):m.jsx(pne,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,nodeOrigin:c,nodeExtent:u,children:e})}const lKe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function cKe({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:c,onInit:u,onMove:f,onMoveStart:h,onMoveEnd:p,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:E,onClickConnectEnd:N,onNodeMouseEnter:O,onNodeMouseMove:_,onNodeMouseLeave:C,onNodeContextMenu:j,onNodeDoubleClick:A,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:P,onNodesDelete:z,onEdgesDelete:B,onDelete:U,onSelectionChange:H,onSelectionDragStart:M,onSelectionDrag:L,onSelectionDragStop:T,onSelectionContextMenu:F,onSelectionStart:k,onSelectionEnd:q,onBeforeDelete:D,connectionMode:W,connectionLineType:X=Yu.Bezier,connectionLineStyle:oe,connectionLineComponent:se,connectionLineContainerStyle:ie,deleteKeyCode:le="Backspace",selectionKeyCode:pe="Shift",selectionOnDrag:ye=!1,selectionMode:je=Sx.Full,panActivationKeyCode:Te="Space",multiSelectionKeyCode:J=s2()?"Meta":"Control",zoomActivationKeyCode:me=s2()?"Meta":"Control",snapToGrid:Z,snapGrid:we,onlyRenderVisibleElements:Ne=!1,selectNodesOnDrag:$e,nodesDraggable:_e,nodesConnectable:Y,nodesFocusable:re,nodeOrigin:Q=zte,edgesFocusable:xe,edgesReconnectable:ue,elementsSelectable:de=!0,defaultViewport:ae=LWe,minZoom:he=.5,maxZoom:Ee=2,translateExtent:ke=wx,preventScrolling:Fe=!0,nodeExtent:gt,defaultMarkerColor:Xt="#b1b1b7",zoomOnScroll:Mt=!0,zoomOnPinch:_a=!0,panOnScroll:Qt=!1,panOnScrollSpeed:Kt=.5,panOnScrollMode:Uo=uh.Free,zoomOnDoubleClick:Vo=!0,panOnDrag:Ar=!0,onPaneClick:Xd,onPaneMouseEnter:lm,onPaneMouseMove:Cy,onPaneMouseLeave:vl,onPaneScroll:Zc,onPaneContextMenu:Tr,paneClickDistance:wl=0,nodeClickDistance:eu=0,children:jy,onReconnect:cm,onReconnectStart:$n,onReconnectEnd:ho,onEdgeContextMenu:gi,onEdgeDoubleClick:$a,onEdgeMouseEnter:tu,onEdgeMouseMove:Qd,onEdgeMouseLeave:Zd,reconnectRadius:ef=10,onNodesChange:Ay,onEdgesChange:qo,noDragClassName:rr="nodrag",noWheelClassName:Rr="nowheel",noPanClassName:ht="nopan",fitView:Ir,fitViewOptions:Ho,connectOnClick:aw,attributionPosition:lw,proOptions:tf,defaultEdgeOptions:Ty,elevateNodesOnSelect:Sl,elevateEdgesOnSelect:nu,disableKeyboardA11y:ru=!1,autoPanOnConnect:iu,autoPanOnNodeDrag:ir,autoPanSpeed:cw,connectionRadius:uw,isValidConnection:El,onError:ou,style:Ms,id:dw,nodeDragThreshold:fw,viewport:hw,onViewportChange:XO,width:um,height:dm,colorMode:ks="light",debug:zi,onScroll:nf,...QO},fm){const hm=dw||"1",mm=VWe(ks),ZO=w.useCallback(yi=>{yi.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),nf==null||nf(yi)},[nf]);return m.jsx("div",{"data-testid":"rf__wrapper",...QO,onScroll:ZO,style:{...Ms,...lKe},ref:fm,className:pr(["react-flow",i,mm]),id:dw,children:m.jsxs(aKe,{nodes:e,edges:t,width:um,height:dm,fitView:Ir,nodeOrigin:Q,nodeExtent:gt,children:[m.jsx(oKe,{onInit:u,onNodeClick:a,onEdgeClick:c,onNodeMouseEnter:O,onNodeMouseMove:_,onNodeMouseLeave:C,onNodeContextMenu:j,onNodeDoubleClick:A,nodeTypes:o,edgeTypes:s,connectionLineType:X,connectionLineStyle:oe,connectionLineComponent:se,connectionLineContainerStyle:ie,selectionKeyCode:pe,selectionOnDrag:ye,selectionMode:je,deleteKeyCode:le,multiSelectionKeyCode:J,panActivationKeyCode:Te,zoomActivationKeyCode:me,onlyRenderVisibleElements:Ne,defaultViewport:ae,translateExtent:ke,minZoom:he,maxZoom:Ee,preventScrolling:Fe,zoomOnScroll:Mt,zoomOnPinch:_a,zoomOnDoubleClick:Vo,panOnScroll:Qt,panOnScrollSpeed:Kt,panOnScrollMode:Uo,panOnDrag:Ar,onPaneClick:Xd,onPaneMouseEnter:lm,onPaneMouseMove:Cy,onPaneMouseLeave:vl,onPaneScroll:Zc,onPaneContextMenu:Tr,paneClickDistance:wl,nodeClickDistance:eu,onSelectionContextMenu:F,onSelectionStart:k,onSelectionEnd:q,onReconnect:cm,onReconnectStart:$n,onReconnectEnd:ho,onEdgeContextMenu:gi,onEdgeDoubleClick:$a,onEdgeMouseEnter:tu,onEdgeMouseMove:Qd,onEdgeMouseLeave:Zd,reconnectRadius:ef,defaultMarkerColor:Xt,noDragClassName:rr,noWheelClassName:Rr,noPanClassName:ht,rfId:hm,disableKeyboardA11y:ru,nodeExtent:gt,viewport:hw,onViewportChange:XO}),m.jsx(UWe,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:y,onConnectStart:x,onConnectEnd:v,onClickConnectStart:E,onClickConnectEnd:N,nodesDraggable:_e,nodesConnectable:Y,nodesFocusable:re,edgesFocusable:xe,edgesReconnectable:ue,elementsSelectable:de,elevateNodesOnSelect:Sl,elevateEdgesOnSelect:nu,minZoom:he,maxZoom:Ee,nodeExtent:gt,onNodesChange:Ay,onEdgesChange:qo,snapToGrid:Z,snapGrid:we,connectionMode:W,translateExtent:ke,connectOnClick:aw,defaultEdgeOptions:Ty,fitView:Ir,fitViewOptions:Ho,onNodesDelete:z,onEdgesDelete:B,onDelete:U,onNodeDragStart:R,onNodeDrag:I,onNodeDragStop:P,onSelectionDrag:L,onSelectionDragStart:M,onSelectionDragStop:T,onMove:f,onMoveStart:h,onMoveEnd:p,noPanClassName:ht,nodeOrigin:Q,rfId:hm,autoPanOnConnect:iu,autoPanOnNodeDrag:ir,autoPanSpeed:cw,onError:ou,connectionRadius:uw,isValidConnection:El,selectNodesOnDrag:$e,nodeDragThreshold:fw,onBeforeDelete:D,paneClickDistance:wl,debug:zi}),m.jsx(FWe,{onSelectionChange:H}),jy,m.jsx(IWe,{proOptions:tf,position:lw}),m.jsx(TWe,{rfId:hm,disableKeyboardA11y:ru})]})})}var uKe=Hte(cKe);const dKe=e=>({x:e.transform[0],y:e.transform[1],zoom:e.transform[2]});function fKe(){return Lt(dKe,Bn)}function hKe(e){const[t,n]=w.useState(e),r=w.useCallback(i=>n(o=>Vte(i,o)),[]);return[t,n,r]}function mKe(e){const[t,n]=w.useState(e),r=w.useCallback(i=>n(o=>qte(i,o)),[]);return[t,n,r]}function pKe({dimensions:e,lineWidth:t,variant:n,className:r}){return m.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:pr(["react-flow__background-pattern",n,r])})}function gKe({radius:e,className:t}){return m.jsx("circle",{cx:e,cy:e,r:e,className:pr(["react-flow__background-pattern","dots",t])})}var Sc;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Sc||(Sc={}));const yKe={[Sc.Dots]:1,[Sc.Lines]:1,[Sc.Cross]:6},bKe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function gne({id:e,variant:t=Sc.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:c,className:u,patternClassName:f}){const h=w.useRef(null),{transform:p,patternId:y}=Lt(bKe,Bn),x=r||yKe[t],v=t===Sc.Dots,E=t===Sc.Cross,N=Array.isArray(n)?n:[n,n],O=[N[0]*p[2]||1,N[1]*p[2]||1],_=x*p[2],C=Array.isArray(o)?o:[o,o],j=E?[_,_]:O,A=[C[0]*p[2]||1+j[0]/2,C[1]*p[2]||1+j[1]/2],R=`${y}${e||""}`;return m.jsxs("svg",{className:pr(["react-flow__background",u]),style:{...c,...YO,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:h,"data-testid":"rf__background",children:[m.jsx("pattern",{id:R,x:p[0]%O[0],y:p[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${A[0]},-${A[1]})`,children:v?m.jsx(gKe,{radius:_/2,className:f}):m.jsx(pKe,{dimensions:j,lineWidth:i,variant:t,className:f})}),m.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${R})`})]})}gne.displayName="Background";const Kz=w.memo(gne);function xKe(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:m.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function vKe(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:m.jsx("path",{d:"M0 0h32v4.2H0z"})})}function wKe(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:m.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function SKe(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function EKe(){return m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:m.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function oS({children:e,className:t,...n}){return m.jsx("button",{type:"button",className:pr(["react-flow__controls-button",t]),...n,children:e})}const NKe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function yne({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:c,className:u,children:f,position:h="bottom-left",orientation:p="vertical","aria-label":y="React Flow controls"}){const x=Mn(),{isInteractive:v,minZoomReached:E,maxZoomReached:N}=Lt(NKe,Bn),{zoomIn:O,zoomOut:_,fitView:C}=$y(),j=()=>{O(),o==null||o()},A=()=>{_(),s==null||s()},R=()=>{C(i),a==null||a()},I=()=>{x.setState({nodesDraggable:!v,nodesConnectable:!v,elementsSelectable:!v}),c==null||c(!v)},P=p==="horizontal"?"horizontal":"vertical";return m.jsxs(Pg,{className:pr(["react-flow__controls",P,u]),position:h,style:e,"data-testid":"rf__controls","aria-label":y,children:[t&&m.jsxs(m.Fragment,{children:[m.jsx(oS,{onClick:j,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:N,children:m.jsx(xKe,{})}),m.jsx(oS,{onClick:A,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:E,children:m.jsx(vKe,{})})]}),n&&m.jsx(oS,{className:"react-flow__controls-fitview",onClick:R,title:"fit view","aria-label":"fit view",children:m.jsx(wKe,{})}),r&&m.jsx(oS,{className:"react-flow__controls-interactive",onClick:I,title:"toggle interactivity","aria-label":"toggle interactivity",children:v?m.jsx(EKe,{}):m.jsx(SKe,{})}),f]})}yne.displayName="Controls";w.memo(yne);function OKe({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:c,className:u,borderRadius:f,shapeRendering:h,selected:p,onClick:y}){const{background:x,backgroundColor:v}=o||{},E=s||x||v;return m.jsx("rect",{className:pr(["react-flow__minimap-node",{selected:p},u]),x:t,y:n,rx:f,ry:f,width:r,height:i,style:{fill:E,stroke:a,strokeWidth:c},shapeRendering:h,onClick:y?N=>y(N,e):void 0})}const _Ke=w.memo(OKe),$Ke=e=>e.nodes.map(t=>t.id),yA=e=>e instanceof Function?e:()=>e;function CKe({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=_Ke,onClick:s}){const a=Lt($Ke,Bn),c=yA(t),u=yA(e),f=yA(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return m.jsx(m.Fragment,{children:a.map(p=>m.jsx(AKe,{id:p,nodeColorFunc:c,nodeStrokeColorFunc:u,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:h},p))})}function jKe({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:c}){const{node:u,x:f,y:h,width:p,height:y}=Lt(x=>{const v=x.nodeLookup.get(e),{x:E,y:N}=v.internals.positionAbsolute,{width:O,height:_}=Qc(v);return{node:v,x:E,y:N,width:O,height:_}},Bn);return!u||u.hidden||!bte(u)?null:m.jsx(a,{x:f,y:h,width:p,height:y,style:u.style,selected:!!u.selected,className:r(u),color:t(u),borderRadius:i,strokeColor:n(u),strokeWidth:o,shapeRendering:s,onClick:c,id:u.id})}const AKe=w.memo(jKe);var TKe=w.memo(CKe);const RKe=200,IKe=150,MKe=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?gte(iw(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},kKe="react-flow__minimap-desc";function bne({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:c,maskColor:u,maskStrokeColor:f,maskStrokeWidth:h,position:p="bottom-right",onClick:y,onNodeClick:x,pannable:v=!1,zoomable:E=!1,ariaLabel:N="React Flow mini map",inversePan:O,zoomStep:_=10,offsetScale:C=5}){const j=Mn(),A=w.useRef(null),{boundingRect:R,viewBB:I,rfId:P,panZoom:z,translateExtent:B,flowWidth:U,flowHeight:H}=Lt(MKe,Bn),M=(e==null?void 0:e.width)??RKe,L=(e==null?void 0:e.height)??IKe,T=R.width/M,F=R.height/L,k=Math.max(T,F),q=k*M,D=k*L,W=C*k,X=R.x-(q-R.width)/2-W,oe=R.y-(D-R.height)/2-W,se=q+W*2,ie=D+W*2,le=`${kKe}-${P}`,pe=w.useRef(0),ye=w.useRef();pe.current=k,w.useEffect(()=>{if(A.current&&z)return ye.current=sWe({domNode:A.current,panZoom:z,getTransform:()=>j.getState().transform,getViewScale:()=>pe.current}),()=>{var J;(J=ye.current)==null||J.destroy()}},[z]),w.useEffect(()=>{var J;(J=ye.current)==null||J.update({translateExtent:B,width:U,height:H,inversePan:O,pannable:v,zoomStep:_,zoomable:E})},[v,E,O,_,B,U,H]);const je=y?J=>{var we;const[me,Z]=((we=ye.current)==null?void 0:we.pointer(J))||[0,0];y(J,{x:me,y:Z})}:void 0,Te=x?w.useCallback((J,me)=>{const Z=j.getState().nodeLookup.get(me);x(J,Z)},[]):void 0;return m.jsx(Pg,{position:p,style:{...e,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*k:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="string"?s:void 0},className:pr(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:m.jsxs("svg",{width:M,height:L,viewBox:`${X} ${oe} ${se} ${ie}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":le,ref:A,onClick:je,children:[N&&m.jsx("title",{id:le,children:N}),m.jsx(TKe,{onClick:Te,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),m.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-W},${oe-W}h${se+W*2}v${ie+W*2}h${-se-W*2}z
        M${I.x},${I.y}h${I.width}v${I.height}h${-I.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}bne.displayName="MiniMap";const xne=w.memo(bne);function PKe({nodeId:e,position:t,variant:n=Ob.Handle,className:r,style:i={},children:o,color:s,minWidth:a=10,minHeight:c=10,maxWidth:u=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:p,onResizeStart:y,onResize:x,onResizeEnd:v}){const E=Yte(),N=typeof e=="string"?e:E,O=Mn(),_=w.useRef(null),C=n===Ob.Line?"right":"bottom-right",j=t??C,A=w.useRef(null);w.useEffect(()=>{if(!(!_.current||!N))return A.current||(A.current=wWe({domNode:_.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:z,transform:B,snapGrid:U,snapToGrid:H,nodeOrigin:M,domNode:L}=O.getState();return{nodeLookup:z,transform:B,snapGrid:U,snapToGrid:H,nodeOrigin:M,paneDomNode:L}},onChange:(z,B)=>{const{triggerNodeChanges:U,nodeLookup:H,parentLookup:M,nodeOrigin:L}=O.getState(),T=[],F={x:z.x,y:z.y},k=H.get(N);if(k&&k.expandParent&&k.parentId){const q=k.origin??L,D=z.width??k.measured.width??0,W=z.height??k.measured.height??0,X={id:k.id,parentId:k.parentId,rect:{width:D,height:W,...xte({x:z.x??k.position.x,y:z.y??k.position.y},{width:D,height:W},k.parentId,H,q)}},oe=bk([X],H,M,L);T.push(...oe),F.x=z.x?Math.max(q[0]*D,z.x):void 0,F.y=z.y?Math.max(q[1]*W,z.y):void 0}if(F.x!==void 0&&F.y!==void 0){const q={id:N,type:"position",position:{...F}};T.push(q)}if(z.width!==void 0&&z.height!==void 0){const q={id:N,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:z.width,height:z.height}};T.push(q)}for(const q of B){const D={...q,type:"position"};T.push(D)}U(T)},onEnd:()=>{const z={id:N,type:"dimensions",resizing:!1};O.getState().triggerNodeChanges([z])}})),A.current.update({controlPosition:j,boundaries:{minWidth:a,minHeight:c,maxWidth:u,maxHeight:f},keepAspectRatio:h,onResizeStart:y,onResize:x,onResizeEnd:v,shouldResize:p}),()=>{var z;(z=A.current)==null||z.destroy()}},[j,a,c,u,f,h,y,x,v,p]);const R=j.split("-"),I=n===Ob.Line?"borderColor":"backgroundColor",P=s?{...i,[I]:s}:i;return m.jsx("div",{className:pr(["react-flow__resize-control","nodrag",...R,n,r]),ref:_,style:P,children:o})}w.memo(PKe);function DKe({nodes:e,edges:t,externalProvider:n,backgroundStyle:r="lines",minimap:i=!1,children:o,onDropNewNode:s,onDropNewEdge:a,...c}){const[u,f,h]=hKe(e??[]),[p,y,x]=mKe(t??[]),{screenToFlowPosition:v}=$y(),{theme:E}=Wd(),[N,O]=w.useState(!1),[_,C]=w.useState(!1),[j,A]=w.useState(!1),R=H=>{H.metaKey&&O(!0),H.key===" "&&C(!0)},I=H=>{H.metaKey||O(!1),H.key===" "&&C(!1)},P=()=>{if(_){A(!1);return}A(!0)},z=()=>{if(_){A(!1);return}A(!1)};w.useEffect(()=>{var H;return(H=document.querySelector("html"))==null||H.classList.add("fixed"),window.addEventListener("keydown",R),window.addEventListener("keyup",I),window.addEventListener("pointerdown",P),window.addEventListener("pointerup",z),()=>{var M;window.removeEventListener("keydown",R),window.removeEventListener("keyup",I),window.removeEventListener("pointerdown",P),window.removeEventListener("pointerup",z),(M=document.querySelector("html"))==null||M.classList.remove("fixed")}},[]),w.useEffect(()=>{f(e??[]),y(t??[])},[e,t]);const B=w.useCallback(H=>y(M=>Ote(H,M)),[]),U=w.useCallback((H,M)=>{if(!s||!a)return;const{fromNode:L,fromHandle:T,fromPosition:F}=M;if(!M.isValid){console.log("conn",{event:H,connectionState:M});const{clientX:k,clientY:q}="changedTouches"in H?H.changedTouches[0]:H,D=s({id:"select",type:"default",data:{label:""},position:v({x:k,y:q}),origin:[0,0]});f(W=>W.concat(D)),y(W=>W.concat(s({id:D.id,source:M.fromNode.id,target:D.id})))}},[v]);return m.jsxs(uKe,{colorMode:E,onConnect:B,onConnectEnd:U,className:N?"cursor-zoom-in":_?j?"cursor-grabbing":"cursor-grab":"",proOptions:{hideAttribution:!0},fitView:!0,fitViewOptions:{maxZoom:1.5,...c.fitViewOptions},nodeDragThreshold:25,panOnScrollSpeed:1,snapToGrid:!0,nodes:u,edges:p,onNodesChange:h,onEdgesChange:x,nodesConnectable:!1,panOnDrag:!0,zoomOnScroll:N,panOnScroll:!N,zoomOnDoubleClick:!1,selectionOnDrag:!_,...c,children:[r==="lines"&&m.jsx(Kz,{color:E==="light"?"rgba(0,0,0,.05)":"rgba(255,255,255,.1)",gap:[50,50],variant:Sc.Lines}),r==="dots"&&m.jsx(Kz,{color:E==="light"?"rgba(0,0,0,.5)":"rgba(255,255,255,.2)"}),i&&m.jsx(xne,{...typeof i=="object"?i:{}}),o]})}function ai({position:e,className:t,children:n,unstyled:r,...i}){return r?m.jsx(Pg,{position:e,className:Ke("flex flex-row p-1 gap-4",t),...i,children:n}):m.jsx(Pg,{position:e,...i,children:m.jsx(vne,{className:t,children:n})})}const vne=({children:e,className:t,...n})=>m.jsx("div",{...n,className:Ke("flex flex-row bg-lightest border ring-2 ring-muted/5 border-muted rounded-full items-center p-1",t),children:e}),FKe=({Icon:e,size:t="lg",variant:n="ghost",onClick:r,disabled:i,className:o,round:s,...a})=>m.jsx(Tt,{Icon:e,size:t,variant:n,onClick:r,disabled:i,className:Ke(s?"rounded-full":"",o),...a}),LKe=w.forwardRef(({children:e,className:t,mono:n,...r},i)=>m.jsx("span",{...r,ref:i,className:Ke("text-md font-medium leading-none",n&&"font-mono",t),children:e}));ai.Wrapper=vne;ai.IconButton=FKe;ai.Text=LKe;function BKe({children:e,...t}){const[n,r]=w.useState(!1),i=$y(),{zoom:o,x:s,y:a}=fKe(),c=Math.round(o*100),u=async()=>await i.zoomIn(),f=async()=>i.zoomTo(1),h=async()=>await i.zoomOut();function p(){r(y=>!y)}return m.jsxs(m.Fragment,{children:[e,t.coordinates&&m.jsx(ai,{position:"bottom-center",children:m.jsxs(ai.Text,{className:"px-2",mono:!0,children:[s.toFixed(2),",",a.toFixed(2)]})}),m.jsxs(ai,{unstyled:!0,position:"bottom-right",children:[t.zoom&&m.jsxs(ai.Wrapper,{className:"px-1.5",children:[m.jsx(ai.IconButton,{Icon:_X,round:!0,onClick:u}),m.jsxs(ai.Text,{className:"px-2",mono:!0,onClick:f,children:[c,"%"]}),m.jsx(ai.IconButton,{Icon:f3e,round:!0,onClick:h}),m.jsx(ai.IconButton,{Icon:u3e,round:!0,onClick:f})]}),t.minimap&&m.jsxs(m.Fragment,{children:[m.jsx(ai.Wrapper,{children:m.jsx(ai.IconButton,{Icon:yR,round:!0,onClick:p,variant:n?"default":"ghost"})}),n&&m.jsx(xne,{style:{bottom:50,right:-5},ariaLabel:null})]})]})]})}function hd({selected:e,children:t,className:n,...r}){return Wd(),m.jsx("div",{...r,className:Ke("relative w-80 shadow-lg rounded-lg bg-background",e&&"outline outline-blue-500/25",n),children:t})}const zKe=({className:e,label:t,children:n,...r})=>m.jsx("div",{...r,className:Ke("flex flex-row bg-primary/15 justify-center items-center rounded-tl-lg rounded-tr-lg py-1 px-2 drag-handle",e),children:n||m.jsx("span",{className:"font-semibold opacity-75 font-mono",children:t??"Untitled node"})}),UKe=({children:e,className:t,...n})=>m.jsx("div",{...n,className:Ke("px-2 py-1.5 pb-2 flex flex-col",t),children:e});hd.Header=zKe;hd.Content=UKe;const vk=Cg({dirty:!1,name:void 0,flow:void 0}),wne=w.createContext(void 0),bA={trigger:{},tasks:{},connections:{}};function VKe({children:e,name:t}){const n=HM(vk),r=Bt(),i=t?r.config.flows.flows[t]:void 0,o=r.schema.flows.properties.flows;w.useEffect(()=>{t&&n({dirty:!1,name:t,flow:i})},[t]);const s={flow:{setName:async a=>{console.log("set name",a),n(c=>({...c,name:a,dirty:!0}))}},trigger:{update:async a=>{console.log("update trigger",a),n(c=>{const u=c.flow||bA;return{...c,dirty:!0,flow:{...u,trigger:a}}})}},task:{create:async(a,c={})=>{console.log("create task",a,c),n(u=>{const f=u.flow||bA,h={...f.tasks,[a]:c};return{...u,dirty:!0,flow:{...f,tasks:h}}})},update:async(a,c)=>{console.log("update task",a,c),n(u=>{var p,y;const f=u.flow||bA,h={...(y=(p=u.flow)==null?void 0:p.tasks)==null?void 0:y[a],params:c};return{...u,dirty:!0,flow:{...f,tasks:{...f.tasks,[a]:h}}}})}}};return m.jsx(wne.Provider,{value:{name:t,data:i,schema:o,actions:s},children:e})}function sw(){return w.useContext(wne)}function qKe(){return qM(vk)}function wk(e,t=w4){const n=Xv(vk,w.useCallback(e,[]),t);return _y(n)[0]}function HKe(e,t){const n=[{id:"trigger",data:{label:t,type:e.trigger.type},type:"trigger",dragHandle:".drag-handle",position:{x:0,y:0}}];let r=1;const i=Object.keys(e.tasks??{}).length;for(const[o,s]of Object.entries(e.tasks??{})){const a=r===i,c=r===1,u=a;n.push({id:`task-${o}`,data:{label:o,type:s.type,last:a,start:c,responding:u},type:"task",dragHandle:".drag-handle",position:{x:450*r+(r-1)*64,y:0}}),r++}return n}function WKe(e){var r;const t=Object.entries(e.tasks??{});if(t.length===0)return[];const n=t.length>=1?[{id:"trigger-task",source:"trigger",target:`task-${(r=t[0])==null?void 0:r[0]}`,style:{strokeWidth:2},markerEnd:{type:jh.ArrowClosed,width:10,height:10}}]:[];for(const[i,o]of Object.entries(e.connections??{}))n.push({id:i,source:"task-"+o.source,target:"task-"+o.target,style:{strokeWidth:2},markerEnd:{type:jh.ArrowClosed,width:10,height:10}});return n}function l2(e){const t={top:16,width:10,height:10,background:"transparent",border:"2px solid #999"},n=-10,r={target:{...t,left:n},source:{...t,right:n}};return m.jsx(_x,{...e,position:e.type==="source"?st.Right:st.Left,style:r[e.type]})}const Yz=[{type:"fetch",label:"Fetch",description:"Fetch data from a URL",template:{type:"fetch",params:{method:"GET",headers:[],url:""}}},{type:"render",label:"Render",description:"Render data using LiquidJS"}];function GKe(e){const[t,n]=w.useState(),r=$y(),{actions:i}=sw(),o=e.id;async function s(){const a=Yz.find(u=>u.type===t),c="untitled";await i.task.create(c,a.template),r.setNodes(u=>u.map(f=>f.id===o?{...f,id:"task-"+c,type:"task",data:{...a.template,label:c}}:f)),setTimeout(()=>{r.setEdges(u=>u.map(f=>(console.log("edge?",f,o,f.target===o),f.target===o?{...f,id:"task-"+c,target:"task-"+c}:f)))},100),console.log("make",a)}return m.jsxs(hd,{className:"w-96",children:[m.jsx(l2,{type:"target",id:"select-in"}),m.jsxs(hd.Header,{className:"gap-3 justify-start py-2",children:[m.jsx("div",{className:"bg-primary/10 rounded-full w-4 h-4"}),m.jsx("div",{className:"bg-primary/5 rounded-full w-1/2 h-4"})]}),m.jsxs(hd.Content,{children:[m.jsx("div",{children:"select"}),m.jsx("div",{className:"grid grid-cols-3 gap-2",children:Yz.map(a=>m.jsx("button",{type:"button",className:Ke("border border-primary/10 rounded-md py-2 px-4 hover:bg-primary/10",t===a.type&&"bg-primary/10"),onClick:()=>n(a.type),children:a.label},a.type))}),m.jsx("button",{onClick:s,children:"make"})]})]})}function KKe({label:e,description:t,size:n,...r}){return m.jsxs(qt.Wrapper,{className:"relative",children:[e&&m.jsxs("div",{className:"flex flex-col",children:[m.jsx(qt.Label,{size:n,children:e}),t&&m.jsx(qt.Description,{size:n,children:t})]}),m.jsx(Mh,{...r,size:n})]})}const f5={key:"",value:""};function YKe(e){return!e||Array.isArray(e)?[f5]:Object.entries(e).map(([t,n])=>({key:t,value:n}))}const sS=({label:e,initialValue:t,onChange:n,error:r,classNames:i,mode:o="object"})=>{const[s,a]=w.useState(t?YKe(t):[f5]);w.useEffect(()=>{if(n)if(o==="object"){const h=s.reduce((p,y)=>(y.key&&typeof y.value<"u"&&(p[y.key]=y.value),p),{});n(h)}else n(s)},[s]);function c(){a(h=>[...h,f5])}function u(h,p){return y=>{const x=y.currentTarget.value;a(v=>v.map((E,N)=>N===h?{...E,[p]:x}:E))}}function f(h){return()=>{a(p=>p.filter((y,x)=>x!==h))}}return m.jsxs(qt.Wrapper,{className:"w-full",children:[m.jsxs("div",{className:"flex flex-row w-full justify-between",children:[e?m.jsx(qt.Label,{className:i==null?void 0:i.label,children:e}):m.jsx("div",{}),m.jsx(Tt,{Icon:z3,size:"xs",onClick:c})]}),m.jsxs("div",{className:Ke("flex flex-col gap-2",i==null?void 0:i.itemWrapper),children:[s.map(({key:h,value:p},y)=>m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[s.length>1&&m.jsx(Tt,{Icon:vJ,size:"xs",onClick:f(y)}),m.jsx(Wn,{className:"w-36",placeholder:"key",value:h,classNames:{wrapper:"font-mono pt-px"},onChange:u(y,"key")}),m.jsx(Wn,{className:"w-full",placeholder:"value",value:p,classNames:{wrapper:"font-mono pt-px"},onChange:u(y,"value")})]},y)),r&&m.jsx(qt.Error,{children:r})]})]})};function Sk({children:e,className:t,tabs:n,Icon:r,isInvalid:i,...o}){const{data:s}=o;function a(c){o.onChangeName&&o.onChangeName(c.target.value)}return m.jsxs(hd,{className:Ke("w-96",i&&"ring-8 ring-red-500/15",t),children:[m.jsx(XKe,{Icon:r??o5e,initialValue:s.label,onChange:a}),m.jsx(hd.Content,{className:"gap-3",children:e}),m.jsx(JKe,{tabs:n})]})}const JKe=({tabs:e})=>{var i;const[t,n]=w.useState();if(!e||(e==null?void 0:e.length)===0)return null;function r(o){return()=>{n(s=>s===o?void 0:o)}}return m.jsxs("div",{className:"border-t border-t-muted mt-1",children:[m.jsx("div",{className:"flex flex-row justify-start bg-primary/5 px-3 py-2.5 gap-3",children:e.map((o,s)=>m.jsx("button",{type:"button",onClick:r(s),className:Ke("text-sm leading-none",s===t?"font-bold opacity-80":"font-medium opacity-50"),children:o.label},o.id))}),typeof t<"u"?m.jsx("div",{className:"border-t border-t-muted",children:(i=e[t])==null?void 0:i.content()}):null]})},XKe=({Icon:e,iconProps:t,rightSection:n,initialValue:r,changable:i=!1,onChange:o})=>{const[s,a]=w.useState(r);function c(u){if(!i)return;const f=String(u.target.value);if(f.length>0&&!/^[a-zA-Z_][a-zA-Z0-9_ ]*$/.test(f)||f.length===25)return;const h=f.toLowerCase().replace(/ /g,"_").replace(/__+/g,"_");a(h),o==null||o({...u,target:{...u.target,value:h}})}return m.jsxs(hd.Header,{className:"justify-between gap-10",children:[m.jsxs("div",{className:"flex flex-row flex-grow gap-1 items-center",children:[m.jsx(e,{width:16,height:16,...t??{}}),i?m.jsx("input",{type:"text",value:s,disabled:!i,onChange:c,className:Ke("font-mono font-semibold bg-transparent rounded-lg outline-none pl-1.5 w-full hover:bg-lightest/30 transition-colors focus:bg-lightest/60")}):m.jsx("span",{className:"font-mono font-semibold bg-transparent  rounded-lg outline-none pl-1.5",children:s})]}),m.jsxs("div",{className:"flex flex-row gap-1",children:[m.jsx(Tt,{Icon:D4e,size:"sm"}),m.jsx(Tt,{Icon:Kd,size:"sm"})]})]})},{Type:lp}=pt,QKe=lp.Composite([N3.schema,lp.Object({query:lp.Optional(lp.Record(lp.String(),lp.String()))})]);function ZKe({onChange:e,params:t,...n}){var E;const[r,i]=_U([!0,!1]),[o,s]=w.useState("None"),{register:a,handleSubmit:c,setValue:u,getValues:f,formState:{isValid:h,errors:p},watch:y,control:x}=Jc({resolver:Xc(QKe),defaultValues:t,mode:"onChange"});function v(N){console.log("submit task",N),e(N)}return m.jsx(Sk,{...n,isInvalid:!h,className:"w-[400px]",Icon:wJ,tabs:eYe({watch:y}),onChangeName:console.log,children:m.jsxs("form",{onBlur:c(v),className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(ud,{className:"w-36",label:"Method",defaultValue:"GET",data:["GET","POST","PATCH","PUT","DEL"],name:"method",control:x}),m.jsx(Wn,{className:"w-full",label:"Mapping Path",placeholder:"/path/to-be/mapped",classNames:{wrapper:"font-mono pt-px"},...a("url")})]}),m.jsx(lt,{onClick:i,className:"justify-center",size:"small",variant:"ghost",iconSize:14,IconLeft:r?e5e:z3,children:"More options"}),r&&m.jsxs(m.Fragment,{children:[m.jsx(sS,{label:"URL query",onChange:N=>u("query",N),error:(E=p.query)==null?void 0:E.message}),m.jsx(sS,{label:"Headers"}),m.jsx("div",{className:"flex flex-row gap-2 items-center mt-2",children:m.jsxs(qt.Wrapper,{className:"w-full",children:[m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(qt.Label,{children:"Body"}),m.jsx(KKe,{data:["None","Form","JSON","Code"],size:"xs",defaultValue:o,onChange:N=>s(N)})]}),o==="Form"&&m.jsx(sS,{label:void 0}),o==="JSON"&&m.jsx(sS,{label:void 0})]})})]})]})})}const eYe=({watch:e})=>[{id:"json",label:"JSON",content:()=>m.jsx("div",{className:"scroll-auto",children:m.jsx(Es,{json:e(),expand:2,className:"bg-white break-all"})})},{id:"test",label:"test",content:()=>m.jsx("div",{children:"test"})}],tYe=w.lazy(()=>qv(()=>import("./CodeEditor-0av4r9gh.js"),[]));function nYe({editable:e,...t}){return m.jsx(w.Suspense,{fallback:null,children:m.jsx(tYe,{className:Ke("flex w-full border border-muted bg-white rounded-lg",!e&&"opacity-70"),editable:e,_extensions:{html:!0},...t})})}function rYe(e){return m.jsx(Sk,{...e,onChangeName:console.log,Icon:wJ,className:"w-[400px]",children:m.jsx("form",{className:"flex flex-col gap-3",children:m.jsx(nYe,{value:e.params.render,onChange:console.log})})})}$v(Kx);const Jz={fetch:ZKe,render:rYe},iYe=e=>{const{data:{label:t,start:n,last:r,responding:i}}=e,o=wk(u=>u.flow.tasks[t]),{actions:s}=sw(),a=o.type in Jz?Jz[o.type]:()=>m.jsx("div",{children:"unsupported"});function c(u){s.task.update(t,u)}return m.jsxs(m.Fragment,{children:[m.jsx(a,{...e,params:o.params,onChange:c}),m.jsx(l2,{type:"target",id:`${t}-in`}),m.jsx(l2,{type:"source",id:`${t}-out`})]})};function $x({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i,onChange:o,label:s,size:a,description:c,error:u,...f}){const{field:{value:h,onChange:p,...y}}=om({name:e,control:t,defaultValue:n,rules:r,shouldUnregister:i});return m.jsxs(qt.Wrapper,{className:"relative",children:[s&&m.jsxs("div",{className:"flex flex-col",children:[m.jsx(qt.Label,{size:a,children:s}),c&&m.jsx(qt.Description,{size:a,children:c})]}),m.jsx(Mh,{value:h,onChange:x=>{p(x),o==null||o(x)},size:a,...y,...f})]})}const{Type:xA,TypeRegistry:oYe}=pt;$v(oYe);const sYe=xA.Object({trigger:xA.Union(Object.values(yn($3,(e,t)=>xA.Object({type:yc(t),config:e.cls.schema},{title:String(t),additionalProperties:!1}))))}),aYe=e=>{const{data:{label:t,...n}}=e,r=wk(E=>E.flow.trigger),{actions:i}=sw(),{register:o,handleSubmit:s,setValue:a,getValues:c,formState:{isValid:u,errors:f},watch:h,control:p}=Jc({resolver:Xc(sYe),defaultValues:{trigger:r},mode:"onChange"}),y=h("trigger");async function x(E){console.log("submit",E.trigger),await i.trigger.update(E.trigger)}async function v(E){console.log("change name",E),await i.flow.setName(E)}return m.jsxs(Sk,{...e,tabs:uYe({data:y}),onChangeName:v,children:[m.jsxs("form",{onBlur:s(x),className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex flex-row justify-between items-center",children:[m.jsx($x,{label:"Trigger Type",defaultValue:"manual",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event",disabled:!0}],name:"trigger.type",control:p}),m.jsx($x,{label:"Execution Mode",defaultValue:"async",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],name:"trigger.config.mode",control:p})]}),y.type==="manual"&&m.jsx(lYe,{}),y.type==="http"&&m.jsx(cYe,{form:{watch:h,register:o,setValue:a,getValues:c,control:p}})]}),m.jsx(l2,{type:"source",id:"trigger-out"})]})},lYe=()=>null,cYe=({form:e})=>m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[m.jsx(ud,{className:"w-36",label:"Method",data:["GET","POST","PATCH","PUT","DEL"],name:"trigger.config.method",control:e.control}),m.jsx(Wn,{className:"w-full",label:"Mapping Path",placeholder:"/trigger_http",classNames:{wrapper:"font-mono pt-px"},...e.register("trigger.config.path")})]}),m.jsx("div",{className:"flex flex-row gap-2 items-center",children:m.jsx($x,{className:"w-full",label:"Response Type",defaultValue:"json",data:[{label:"JSON",value:"json"},{label:"HTML",value:"html"},{label:"Text",value:"text"}],name:"trigger.config.response_type",control:e.control})})]}),uYe=({data:e,...t})=>[{id:"json",label:"JSON",content:()=>m.jsx(Es,{json:e,expand:2,className:""})},{id:"test",label:"test",content:()=>m.jsx("div",{children:"test"})}],dYe={select:GKe,trigger:aYe,task:iYe};function fYe(e){return m.jsx(VKe,{name:e.params.flow,children:m.jsx(pne,{children:m.jsx(hYe,{})})})}function hYe(){const e=w.useRef(null),[t,n]=w.useState(),r=sw();if(!r.data||!r.name)return"no flow";w.useEffect(()=>{var u,f;console.log("ref",(u=e.current)==null?void 0:u.getBoundingClientRect()),n((f=e.current)==null?void 0:f.getBoundingClientRect())},[]);const i=HKe(r.data,r.name),o=WKe(r.data);console.log("nodes",i),console.log("edges",o);const c={zoom:1,x:t!=null&&t.width?t.width*.1:0,y:t!=null&&t.height?t.height/2-260/2-50:0};return m.jsx("div",{className:"flex flex-col w-full h-full",ref:e,children:t&&m.jsxs(m.Fragment,{children:[m.jsx(DKe,{externalProvider:!0,backgroundStyle:"dots",nodes:i,edges:o,nodeTypes:dYe,nodeDragThreshold:0,fitView:!1,defaultViewport:c,nodesConnectable:!0,onDropNewNode:u=>({...u,type:"select",data:{label:""}}),onDropNewEdge:u=>({...u,style:{strokeWidth:2},markerEnd:{type:jh.ArrowClosed,width:10,height:10}}),children:m.jsx(mYe,{})}),m.jsx(gYe,{})]})})}function mYe(){const e=wk(r=>eE(r,["name","dirty"])),[t]=Cr(),{goBack:n}=OIe(()=>t(ft.flows.flows.list()));return m.jsx(BKe,{minimap:!0,zoom:!0,children:m.jsxs(ai,{position:"top-left",className:"gap-2 pr-6",children:[m.jsx(ai.IconButton,{Icon:eM,round:!0,onClick:n}),m.jsxs(ai.Text,{children:[e.name," ",e.dirty?"*":""]})]})})}const pYe=WFe("__dev_flow_debugger_tab",{tab:null}),gYe=()=>{var s;const[e,t]=_y(pYe),n=sw(),r=qKe();function i(a){t(c=>({...c,tab:c.tab===a?null:a}))}const o=((s=e.store)==null?void 0:s.expand)||3;return m.jsx("div",{className:"flex fixed left-5 bottom-5 z-20",children:m.jsxs(Ln,{value:e.tab,onChange:i,children:[m.jsx("div",{className:"max-h-96 overflow-y-scroll bg-background/70",children:m.jsxs(Ln.Panel,{value:"store",children:[m.jsxs("div",{className:"flex flex-row text-sm",children:[m.jsx(Es,{className:"max-w-96 break-all",title:"Context",json:{name:n.name,...n.data},expand:o}),m.jsx(Es,{className:"max-w-96 break-all",title:"State",json:{name:r.name,...r.flow},expand:o})]}),m.jsx(_I,{className:"w-36",defaultValue:o,min:0,max:yW(r.flow??{}),onChange:sG(a=>t(c=>({...c,store:{...c.store,expand:a}})),250)})]})}),m.jsx(Ln.List,{children:m.jsx(Ln.Tab,{value:"store",children:"Store"})})]})})};function Sne(){const{config:e,app:t,actions:n}=Bt(),r={flow:{create:async(i,o)=>{console.log("would create",i,o);const s=Er(KY,o,{skipMark:!0,forceParse:!0});console.log("parsed",s);const a=await n.add("flows",`flows.${i}`,s);console.log("res",a)}}};return{flows:t.flows,config:e.flows,actions:r}}const{Type:yYe}=pt;$v(Kx);const bYe=Object.keys(WY),xYe=yYe.Object({name:nl,trigger:On(bYe),mode:On(["async","sync"])}),vYe=w.forwardRef(function(t,n){const[r,i]=w.useState([]);function o(){var s;(s=n==null?void 0:n.current)==null||s.close()}return m.jsx(sMe,{ref:n,size:"lg",children:m.jsx(FX,{path:r,lastBack:o,children:m.jsxs(If,{id:"select",children:[m.jsx(Rf,{path:["Create New Flow"],onClose:o}),m.jsx(wYe,{})]})})})});function wYe(){var y;const e=N2(),{actions:t}=Sne(),{nextStep:n,stepBack:r,state:i,setState:o}=im(),{handleSubmit:s,watch:a,control:c,register:u,formState:{isValid:f,errors:h}}=Jc({resolver:Xc(xYe),defaultValues:{name:"",trigger:"manual",mode:"async"},mode:"onSubmit"});async function p(x){console.log(x,f),t.flow.create(x.name,{trigger:{type:x.trigger,config:{mode:x.mode}}})}return console.log("errors",h),m.jsxs("form",{ref:e,onSubmit:s(p),children:[m.jsxs(nm,{className:"min-h-40",children:[m.jsx("div",{children:m.jsx(Wn,{"data-autofocus":!0,label:"Flow Name",placeholder:"Enter flow name",error:(y=h.name)==null?void 0:y.message,...u("name",{required:!0})})}),m.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m.jsx($x,{label:"Trigger Type",name:"trigger",data:[{label:"Manual",value:"manual"},{label:"HTTP",value:"http"},{label:"Event",value:"event"}],control:c}),m.jsx($x,{label:"Execution mode",name:"mode",data:[{label:"Async",value:"async"},{label:"Sync",value:"sync"}],control:c})]}),m.jsx("pre",{children:JSON.stringify(a(),null,2)})]}),m.jsx(rm,{next:{type:"submit",disabled:!f},nextLabel:"Create",prev:{onClick:r},prevLabel:"Cancel"})]})}function SYe(){const e=w.useRef(null),[t]=Cr(),{flows:n}=Sne();console.log("flows",n);const r=n.map(o=>{var s;return{flow:o.name,trigger:o.trigger.type,mode:o.trigger.config.mode,tasks:Object.keys(o.tasks).length,start_task:(s=o.startTask)==null?void 0:s.name}});function i(o){t(ft.flows.flows.edit(o.flow))}return m.jsxs(m.Fragment,{children:[m.jsx(vYe,{ref:e}),m.jsx(jr,{right:m.jsx(lt,{variant:"primary",onClick:()=>{var o;return(o=e.current)==null?void 0:o.open()},children:"Create new"}),children:"All Flows"}),m.jsx(ri,{children:m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsx(EO,{data:r,renderValue:EYe,renderHeader:pv,onClickRow:i})})})]})}const EYe=({value:e,property:t})=>["is_default","implicit_allow"].includes(t)?e?m.jsx("span",{children:"Yes"}):m.jsx("span",{className:"opacity-50",children:"No"}):t==="permissions"?[...e||[]].map((n,r)=>m.jsx("span",{className:"inline-block px-2 py-1.5 text-sm bg-primary/5 rounded font-mono leading-none",children:n},r)):m.jsx(NO,{value:e,property:t});function NYe(){return m.jsxs(Rc,{children:[m.jsx(ut,{path:"/flow/:flow",component:fYe}),m.jsx(Zze,{children:m.jsx(ut,{path:"/",component:SYe})})]})}function OYe({children:e}){const{app:t,config:n}=Bt(),r=!n.media.enabled;return uo(["Media"]),m.jsxs(m.Fragment,{children:[m.jsxs(Vv,{children:[m.jsx(jr,{right:m.jsx(er,{href:t.getSettingsPath(["media"]),children:m.jsx(Tt,{Icon:wy})}),children:"Media"}),m.jsx(ri,{initialOffset:96,children:m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsxs("nav",{className:"flex flex-col flex-1 gap-1",children:[m.jsxs(So,{as:er,href:"/",className:"flex flex-row justify-between",children:["Main Bucket"," ",r&&m.jsx(iM.Warning,{title:"Media not enabled.",className:"size-5"})]}),m.jsx(So,{as:er,href:"/settings",children:"Settings"})]})})})]}),m.jsx(Uv,{children:e})]})}function _Ye(){const{config:e}=Bt(),[,t]=zo();if(uo(["Media"]),!e.media.enabled)return m.jsx(Fi,{Icon:xJ,title:"Media not enabled",description:"Please enable media in the settings to continue.",primary:{children:"Manage Settings",onClick:()=>t("/settings")}});const n=r=>{li.open(li.ids.mediaInfo,{file:r})};return m.jsx(ri,{children:m.jsx("div",{className:"flex flex-1 p-3",children:m.jsx(UM.Dropzone,{onClick:n,infinite:!0,query:{sort:"-id"}})})})}function $Ye(e){uo(["Media","Settings"]);const{hasSecrets:t}=Bt({withSecrets:!0});return t?m.jsx(jYe,{...e}):m.jsx(Po.MissingPermission,{what:"Media Settings"})}const CYe={ignoreKeys:["entity_name","basepath"],options:{debug:co(),keepEmpty:!0}};function jYe(){const{config:e,schema:t,actions:n}=TZ(),r=JSON.parse(JSON.stringify(t));r.if={properties:{enabled:{const:!0}}},r.then={required:["adapter"]};async function i(o){console.log("submit",o),await n.config.patch(o)}return m.jsx(m.Fragment,{children:m.jsxs(tk,{schema:r,initialValues:e,onSubmit:i,...CYe,children:[m.jsx(ew,{selector:o=>({dirty:o.dirty,errors:o.errors.length>0,submitting:o.submitting}),children:({dirty:o,errors:s,submitting:a})=>m.jsx(jr,{right:m.jsx(lt,{variant:"primary",type:"submit",disabled:!o||s||a,children:"Update"}),children:"Settings"})}),m.jsxs(ri,{children:[m.jsx(AYe,{}),m.jsxs("div",{className:"flex flex-col gap-3 p-3",children:[m.jsx(pa,{name:"enabled",inputProps:{"data-testId":wee.media.switchEnabled}}),m.jsxs("div",{className:"flex flex-col gap-3 relative",children:[m.jsx(Xz,{}),m.jsx(pa,{name:"storage.body_max_size",label:"Storage Body Max Size"})]})]}),m.jsx(bR,{}),m.jsxs("div",{className:"flex flex-col gap-3 p-3 relative",children:[m.jsx(Xz,{}),m.jsx(Sb.Root,{path:"adapter",children:m.jsx(IYe,{})})]}),m.jsx(RO,{})]})]})})}const AYe=()=>{const e=Zv("",{strict:!0});return e.length===0?null:m.jsx(Ga.Exception,{children:e.map((t,n)=>m.jsx("div",{children:t.message},n))})},TYe={s3:zRe,cloudinary:HRe,local:n5e,r2:URe},RYe=({type:e})=>{const t=TYe[e];return t?m.jsx(t,{}):null};function IYe(){var t;const e=Sb.useContext();return m.jsxs(ma,{children:[m.jsxs(il,{className:"flex flex-row items-center gap-1",children:[m.jsx("span",{className:"font-bold",children:"Media Adapter:"}),e.selected===null&&m.jsx("span",{className:"opacity-70",children:" (Choose one)"})]}),m.jsx("div",{className:"flex flex-row gap-1 mb-2",children:(t=e.schemas)==null?void 0:t.map((n,r)=>m.jsxs(lt,{onClick:()=>e.select(r),id:`adapter-${n.properties.type.const}`,variant:e.selected===r?"primary":"outline",className:Ke("flex flex-row items-center justify-center gap-3 border",e.selected===r&&"border-primary"),children:[m.jsx("div",{children:m.jsx(RYe,{type:n.properties.type.const})}),m.jsxs("div",{className:"flex flex-col items-start justify-center",children:[m.jsx("span",{children:pg(n.title)}),n.description&&m.jsx("span",{className:"text-xs opacity-70 text-left",children:n.description})]})]},r))}),e.selected!==null&&m.jsxs(ma,{as:"fieldset",error:e.errors.length>0,children:[m.jsx(il,{as:"legend",className:"font-mono px-2",children:pg(e.selectedSchema.title)}),m.jsxs(nk,{schema:e.selectedSchema,prefix:e.path,children:[m.jsx(pa,{name:"type",hidden:!0}),m.jsx(IO,{path:"config",wrapperProps:{label:!1,wrapper:"group"}})]})]})]})}const Xz=()=>m.jsx(ew,{selector:e=>({enabled:e.data.enabled}),children:({enabled:e})=>!e&&m.jsx("div",{className:"absolute w-full h-full z-50 inset-0 bg-background opacity-90"})});function MYe(){return m.jsxs(OYe,{children:[m.jsx(ut,{path:"/",component:_Ye}),m.jsx(ut,{path:"/settings",component:$Ye})]})}function kYe(e,t){const n=w.useRef(!1),r=w.useRef(t);w.useEffect(()=>{if(!n.current||!PYe(r.current,t))return n.current=!0,r.current=t,e()},[t])}function PYe(e,t){return e&&e.length===0&&t.length===0||!e&&t.length===0?!0:!e||!t||e.length!==t.length?!1:e.every((n,r)=>Object.is(n,t[r]))}const DYe=({children:e})=>{const{verify:t,user:n}=yJ();return kYe(()=>{t()},[n==null?void 0:n.id]),m.jsxs(CX,{children:[m.jsx(S3e,{}),m.jsx(jX,{children:e})]})};function FYe(){const[e]=Cr();return w.useEffect(()=>{e("/data")},[]),uo(),m.jsx(Fi,{Icon:YRe,title:"Not implemented yet",description:'Go checkout "Data" or "Media" for some action.'})}const G0={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}},roles:{"ui:options":{orderable:!1},permissions:{items:{"ui:widget":"checkboxes"},"ui:widget":"checkboxes"}}},LYe=({schema:e,config:t})=>{var s,a;const n=Bt(),r=xv(e),i=n.app.getAbsolutePath("settings");try{const c=t.entity_name??"users",u=n.config.data.entities??{};console.log("entities",u,c);const f=Object.entries(((s=u[c])==null?void 0:s.fields)??{}).map(([h,p])=>{var y;return(y=p.config)!=null&&y.virtual?void 0:h}).filter(Boolean);f.length>0&&(console.log("user_fields",f),r.properties.jwt.properties.fields.items.enum=f,r.properties.jwt.properties.fields.uniqueItems=!0,G0.jwt.fields["ui:widget"]="checkboxes")}catch{}console.log("_s",n);const o=((a=r.properties.roles)==null?void 0:a.additionalProperties)??{type:"object"};return n.permissions&&(o.properties.permissions.items.enum=n.permissions,o.properties.permissions.uniqueItems=!0),m.jsx(ut,{path:"/auth",nest:!0,children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/roles/:role",component:({params:{role:c}})=>{var u;return m.jsx(Ji,{schema:o,uiSchema:G0.roles,config:(u=t.roles)==null?void 0:u[c],path:["auth","roles",c],prefix:`${i}/auth/roles/${c}`})},nest:!0}),m.jsx(ut,{path:"/strategies/:strategy",component:({params:{strategy:c}})=>{var p,y;const u=(p=t.strategies)==null?void 0:p[c],f=r.properties.strategies.additionalProperties,h=f.anyOf.find(x=>x.properties.type.const===(u==null?void 0:u.type));return m.jsx(Ji,{schema:h??f,config:(y=t.strategies)==null?void 0:y[c],path:["auth","strategies",c],prefix:`${i}/auth/strategies/${c}`})},nest:!0}),m.jsx(ut,{path:"/",component:()=>m.jsx(Ji,{schema:r,uiSchema:G0,config:t,options:{showAlert:c=>{if(!c.enabled)return"Auth is disabled. Enable it by toggling the switch below. Please also make sure set a secure secret to sign JWT tokens."},reloadOnSave:!0},properties:{strategies:{extract:!0,tableValues:c=>Object.values(yn(c,(u,f)=>({key:f,type:u.type}))),new:{schema:r.properties.strategies.additionalProperties,uiSchema:G0.strategies,generateKey:c=>{var u;return c.type==="password"?"password":((u=c.config.name)==null?void 0:u.toLowerCase())||""}}},roles:{extract:!0,new:{schema:o,uiSchema:G0.roles}}},prefix:`${i}/auth`,path:["auth"]}),nest:!0})]})})},BYe={jwt:{basepath:{"ui:options":{label:!1}},fields:{"ui:options":{orderable:!1}}},strategies:{additionalProperties:{"ui:widget":"select",type:{"ui:widget":"hidden"}},type:{"ui:widget":"hidden"}}},zYe=({schema:e,config:t})=>{const{app:n}=Bt(),r=n.getAbsolutePath("settings");function i(o,s,a){const c=Object.keys(s.tasks??{});c.length!==0&&(o.properties&&a in o.properties&&(o.properties[a].enum=c),"anyOf"in o&&o.anyOf.forEach(u=>i(u,s,a)))}return m.jsx(ut,{path:"/flows",nest:!0,children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/flows/:flow/connections/:connection",component:({params:{flow:o,connection:s}})=>{var f,h,p,y;const a=(f=t.flows)==null?void 0:f[o],c=(y=(p=(h=t.flows)==null?void 0:h[o])==null?void 0:p.connections)==null?void 0:y[s],u=e.properties.flows.additionalProperties.properties.connections.additionalProperties;return i(u,a,"source"),i(u,a,"target"),m.jsx(Ji,{schema:u,config:c,path:["flows","flows",o,"connections",s],prefix:`${r}/flows/flows/${o}/connections/${s}`})},nest:!0}),m.jsx(ut,{path:"/flows/:flow/tasks/:task",component:({params:{flow:o,task:s}})=>{var f,h,p;const a=(p=(h=(f=t.flows)==null?void 0:f[o])==null?void 0:h.tasks)==null?void 0:p[s],u=e.properties.flows.additionalProperties.properties.tasks.additionalProperties.anyOf.find(y=>y.properties.type.const===(a==null?void 0:a.type));return m.jsx(Ji,{schema:u,config:a,path:["flows","flows",o,"tasks",s],prefix:`${r}/flows/flows/${o}/tasks/${s}`,uiSchema:{params:{render:{"ui:field":"HtmlField"}}}})},nest:!0}),m.jsx(ut,{path:"/flows/:flow",component:({params:{flow:o}})=>{var f;const s=(f=t.flows)==null?void 0:f[o],a=e.properties.flows.additionalProperties,c=a.properties.tasks.additionalProperties,u=a.properties.connections.additionalProperties;return i(a,s,"start_task"),i(a,s,"responding_task"),i(u,s,"source"),i(u,s,"target"),m.jsx(Ji,{schema:a,config:s,path:["flows","flows",o],prefix:`${r}/flows/flows/${o}`,properties:{tasks:{extract:!0,new:{schema:c},tableValues:h=>us(h,(p,y,x)=>{p.push({name:x,type:y.type})},[])},connections:{extract:!0,new:{schema:u,generateKey:crypto.randomUUID()},tableValues:h=>us(h,(p,y,x)=>{var v;p.push({id:x,source:y.source,target:y.target,condition:(v=y.config.condition)==null?void 0:v.type})},[])}}})},nest:!0}),m.jsx(ut,{path:"/",component:()=>m.jsx(Ji,{schema:e,uiSchema:BYe,config:t,properties:{flows:{extract:!0,new:{schema:e.properties.flows.additionalProperties},tableValues:o=>us(o,(s,a,c)=>{s.push({name:c,trigger:a.trigger.type,mode:a.trigger.config.mode,start_task:a.start_task,responding_task:a.responding_task})},[])}},prefix:`${r}/flows`,path:["flows"]}),nest:!0})]})})},UYe={cors:{allow_methods:{"ui:widget":"checkboxes"},allow_headers:{"ui:options":{orderable:!1}}}},VYe=({schema:e,config:t})=>{const{app:n}=Bt(),r=xv(e),i=n.getAbsolutePath("settings"),o=r;return m.jsx(ut,{path:"/server",nest:!0,children:m.jsx(ut,{path:"/",component:()=>m.jsx(Ji,{schema:o,uiSchema:UYe,config:t,prefix:`${i}/server`,path:["server"]}),nest:!0})})};function qYe(){const{version:e,schema:t,actions:n,app:r}=Bt();uo(["Settings"]);async function i(){await n.reload()}const o=Object.keys(t).map(s=>({title:t[s].title??Mo(s),key:s}));return m.jsxs(Vv,{children:[m.jsx(jr,{right:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"font-mono leading-none",children:["v",e]}),m.jsx(Tt,{Icon:t5e,onClick:i})]}),children:"Settings"}),m.jsx(ri,{initialOffset:96,children:m.jsx("div",{className:"flex flex-col flex-grow p-3 gap-3",children:m.jsx("nav",{className:"flex flex-col flex-1 gap-1",children:o.map((s,a)=>m.jsx(So,{as:er,href:`/${s.key}`,children:s.title},a))})})})]})}function HYe(){return Bt({withSecrets:!0}).hasSecrets?m.jsxs(m.Fragment,{children:[m.jsx(qYe,{}),m.jsx(Uv,{children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/",component:()=>m.jsx(Fi,{Icon:sx,title:"No Setting selected",description:"Please select a setting from the left sidebar."})}),m.jsx(GYe,{}),m.jsx(ut,{path:"*",component:()=>m.jsx(Fi,{Icon:sx,title:"Settings not found",description:"Check other options."})})]})})]}):m.jsx(Po.MissingPermission,{what:"the settings"})}const WYe={media:{adapter:{"ui:options":{label:!1}}}},GYe=()=>{const{schema:e,config:t}=Bt();return console.log("flows",{schema:e.flows,config:t.flows}),m.jsxs(m.Fragment,{children:[m.jsx(VYe,{schema:e.server,config:t.server}),m.jsx(h8e,{schema:e.data,config:t.data}),m.jsx(LYe,{schema:e.auth,config:t.auth}),m.jsx(KYe,{module:"media",schema:e,config:t,uiSchema:WYe.media,options:{reloadOnSave:!0}}),m.jsx(zYe,{schema:e.flows,config:t.flows})]})},KYe=({module:e,schema:t,config:n,...r})=>{const{app:i}=Bt(),o=i.getAbsolutePath("settings");return m.jsx(ut,{path:e,nest:!0,children:m.jsx(Rc,{children:m.jsx(ut,{path:"/",component:()=>m.jsx(Ji,{...r,schema:t[e],config:n[e],prefix:`${o}/${e}`,path:[e]}),nest:!0})})})};function YYe(){const[e,t]=w.useState();if(w.useEffect(()=>{if(!e){const n=MOe();n&&t(n)}},[]),e){let n=Ga.Info;switch(e.type){case"error":n=Ga.Exception;break;case"success":n=Ga.Success;break;case"warning":n=Ga.Warning;break}return m.jsx(n,{message:e.message,className:"justify-center"})}return null}function JYe(){return uo(["Register"]),m.jsx(OZ.Screen,{action:"register",logo:m.jsx(er,{href:"/",className:"link",children:m.jsx(cO,{scale:.25})})})}const XYe=w.lazy(()=>qv(()=>import("./index-BigF3_9g.js"),__vite__mapDeps([2,1])));function QYe({BkndWrapper:e,basePath:t=""}){const{theme:n}=Wd(),r=R3(),i=t||r.admin_basepath;return m.jsxs("div",{id:"bknd-admin",className:n+" antialiased",children:[m.jsx(YYe,{}),m.jsx(FJ,{base:i,children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/auth/login",component:oze}),m.jsx(ut,{path:"/auth/register",component:JYe}),m.jsx(e,{children:m.jsx(RBe,{children:m.jsx(ut,{path:"/",nest:!0,children:m.jsx(DYe,{children:m.jsxs(Rc,{children:[m.jsx(ut,{path:"/test*",nest:!0,children:m.jsx(w.Suspense,{fallback:null,children:m.jsx(XYe,{})})}),m.jsx(ut,{path:"/",component:FYe}),m.jsx(ut,{path:"/data",nest:!0,children:m.jsx(w.Suspense,{fallback:null,children:m.jsx(Qze,{})})}),m.jsx(ut,{path:"/flows",nest:!0,children:m.jsx(w.Suspense,{fallback:null,children:m.jsx(NYe,{})})}),m.jsx(ut,{path:"/auth",nest:!0,children:m.jsx(w.Suspense,{fallback:null,children:m.jsx(ize,{})})}),m.jsx(ut,{path:"/media",nest:!0,children:m.jsx(w.Suspense,{fallback:null,children:m.jsx(MYe,{})})}),m.jsx(ut,{path:"/settings",nest:!0,children:m.jsx(w.Suspense,{fallback:null,children:m.jsx(HYe,{})})}),m.jsx(ut,{path:"*",component:ZYe})]})})})})})]})})]})}function ZYe(){return m.jsx("div",{className:"flex w-full items-center justify-center",children:m.jsxs("p",{className:"text-2xl font-mono",children:[m.jsx("span",{className:"font-bold",children:"404"}),m.jsx("span",{className:"opacity-50",children:", Sorry :)"})]})})}function eJe({baseUrl:e,withProvider:t=!1,config:n}){const{theme:r}=Wd(),i=({children:s})=>t?m.jsx(JTe,{baseUrl:e,...typeof t=="object"?t:{},children:s}):s,o=({children:s})=>m.jsx(_Ie,{options:n,fallback:m.jsx(tJe,{theme:n==null?void 0:n.theme}),children:s});return m.jsx(i,{children:m.jsxs(kU,{...$3e(r),children:[m.jsx(cl,{position:"top-right"}),m.jsx(QYe,{BkndWrapper:o,basePath:n==null?void 0:n.basepath})]})})}const tJe=({theme:e})=>{const t=Wd(),n=e??t.theme;return m.jsx("div",{id:"bknd-admin",className:n+" antialiased",children:m.jsxs(CX,{children:[m.jsxs("header",{"data-shell":"header",className:"flex flex-row w-full h-16 gap-2.5 border-muted border-b justify-start bg-muted/10",children:[m.jsx("div",{className:"max-h-full flex hover:bg-primary/5 link p-2.5 w-[134px] outline-none",children:m.jsx(cO,{theme:n})}),m.jsx("nav",{className:"hidden md:flex flex-row gap-2.5 pl-0 p-2.5 items-center",children:[...new Array(4)].map((r,i)=>m.jsx(gb,{as:"span",className:"active h-full opacity-50",children:m.jsx("div",{className:"w-18 h-3"})},i))}),m.jsx("nav",{className:"flex md:hidden flex-row gap-2.5 pl-0 p-2.5 items-center",children:m.jsx(gb,{as:"span",className:"active h-full opacity-50",children:m.jsx("div",{className:"w-20 h-3"})})}),m.jsx("div",{className:"flex flex-grow"}),m.jsx("div",{className:"hidden lg:flex flex-row items-center px-4 gap-2 opacity-50",children:m.jsx("div",{className:"size-11 rounded-full bg-primary/10"})})]}),m.jsx(jX,{children:m.jsx("div",{className:"flex flex-col w-full h-full justify-center items-center"})})]})})};function Qz(){Fie.createRoot(document.getElementById("root")).render(m.jsx(w.StrictMode,{children:m.jsx(eJe,{withProvider:!0})}))}"startViewTransition"in document?document.startViewTransition(Qz):Qz();export{sS as $,kTe as A,kO as B,jc as C,Li as D,Wh as E,L8e as F,ma as G,UM as H,Tt as I,Es as J,hd as K,il as L,AU as M,o5e as N,KKe as O,J2 as P,Wn as Q,by as R,jr as S,Kd as T,RI as U,qt as V,hze as W,_U as X,wJ as Y,e5e as Z,z3 as _,w5 as a,Kn as a$,D4e as a0,Bt as a1,tk as a2,bZ as a3,nYe as a4,fh as a5,gd as a6,ll as a7,Lo as a8,Ih as a9,oG as aA,so as aB,OW as aC,CW as aD,NN as aE,Iwe as aF,Mwe as aG,dy as aH,zC as aI,Vb as aJ,Y0 as aK,xv as aL,BW as aM,gbe as aN,Sh as aO,_X as aP,$X as aQ,U4e as aR,B4e as aS,pv as aT,el as aU,hl as aV,UN as aW,rv as aX,wv as aY,Hh as aZ,bt as a_,Jc as aa,Xc as ab,uKe as ac,j9e as ad,GRe as ae,u9e as af,J9e as ag,Ga as ah,bJe as ai,ut as aj,Fi as ak,Vv as al,So as am,er as an,Uv as ao,W3 as ap,ga as aq,_x as ar,st as as,gJe as at,pJe as au,Wd as av,jh as aw,pne as ax,DKe as ay,BKe as az,L3 as b,lN as b0,fl as b1,va as b2,nr as b3,Uc as b4,ey as b5,Tn as b6,bn as b7,To as b8,Id as b9,mi as bA,fI as bB,ag as bC,R8 as ba,$N as bb,aEe as bc,u4 as bd,DW as be,tl as bf,Gh as bg,gg as bh,CN as bi,Bb as bj,Xs as bk,m4 as bl,Xve as bm,IN as bn,dve as bo,iG as bp,oEe as bq,hve as br,cT as bs,OSe as bt,ZS as bu,wSe as bv,lve as bw,fEe as bx,rJe as by,us as bz,lt as c,sx as d,B3 as e,LRe as f,qRe as g,VRe as h,zt as i,m as j,l8e as k,Jd as l,ri as m,EA as n,iO as o,RRe as p,oO as q,w as r,MRe as s,Ke as t,Doe as u,Er as v,Sy as w,N3 as x,Bg as y,xZ as z};
