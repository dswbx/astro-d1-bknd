var _r=Object.defineProperty;var Pr=(t,e,r)=>e in t?_r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var wt=(t,e,r)=>Pr(t,typeof e!="symbol"?e+"":e,r);import{aA as Rr,aB as Wr,aC as Lr,aD as Mr,aE as Vr,aF as qr,aG as Kr,aH as Hr,aI as ae,aJ as R,aK as Fe,aL as Yr,r as O,j as m,aM as zr,aN as Jr,t as pt,W as Gr,aO as Qr,a4 as Zr,c as Xr,aP as en,I as gt,aQ as tn,aR as rn,aS as nn,aT as sn,aU as an,aV as on,aW as ln,aX as cn,aY as dn,aZ as un,a_ as Y,a$ as be,b0 as mn,b1 as yt,b2 as hn,b3 as kt,b4 as fn,b5 as pn,b6 as Ht,b7 as Yt,b8 as gn,b9 as yn,C as bn,E as xn,a7 as Sn}from"./main-DjkeOCN5.js";import{i as bt,g as _,U as zt,r as de,a as Ee,b as Jt,c as Fn,d as xt,m as Ce,P as J,R as ne,D as Gt,A as Qt,e as M,I as ye,f as ct,N as _e,O as Q,h as X,j as St,k as Zt,l as Ot,n as Xt,o as Cn,p as vn,q as jn,s as wn,t as kn,E as z,S as Me,u as Dt,v as At,w as Z,x as On,_ as ue,T as W,y as me,z as Ve,B as dt,C as er,F as tr,G as Dn,H as Et,J as He,K as Pe,L as Ie,M as Ft,Q as te,V as qe,W as An,X as En,Y as Ye,Z as In,$ as It,a0 as Nn,a1 as Tn,a2 as Bn,a3 as $n}from"./TextareaWidget-PeljeH7F.js";function Un(t,e,r,n){return n=typeof n=="function"?n:void 0,t==null?t:Rr(t,e,r,n)}function _n(t){return Wr(t)?Lr(t,Hr):Vr(t)?[t]:Mr(qr(Kr(t)))}function Pn(t){return t.additionalItems===!0&&console.warn("additionalItems=true is currently not supported"),bt(t.additionalItems)}function Nt(t){if(t==="")return;if(t===null)return null;if(/\.$/.test(t)||/\.0$/.test(t)||/\.\d*0$/.test(t))return t;const e=Number(t);return typeof e=="number"&&!Number.isNaN(e)?e:t}function rr(t,e={},r){if(!t.additionalProperties)return!1;const{expandable:n=!0}=_(e);return n===!1?n:t.maxProperties!==void 0&&r?Object.keys(r).length<t.maxProperties:!0}function nr(t={}){return"widget"in _(t)&&_(t).widget!=="hidden"}function sr(t,e,r={},n,s){if(r[zt]==="files")return!0;if(e.items){const a=de(t,e.items,n,void 0,s);return a.type==="string"&&a.format==="data-url"}return!1}function Rn(t,e,r={},n,s,a){const o=_(r,s),{label:l=!0}=o;let c=!!l;const d=Ee(e);return d==="array"&&(c=Jt(t,e,n,a)||sr(t,e,r,n,a)||nr(r)),d==="object"&&(c=!1),d==="boolean"&&!r[zt]&&(c=!1),r[Fn]&&(c=!1),c}function Wn(t,e,r){if(!r)return e;const{errors:n,errorSchema:s}=e;let a=t.toErrorList(r),o=r;return xt(s)||(o=Ce(s,r,!0),a=[...n].concat(a)),{errorSchema:o,errors:a}}const Se=Symbol("no Value");function ut(t,e,r,n,s={},a){let o;if(ae(r,J)){const l={};if(ae(n,J)){const h=R(n,J,{});Object.keys(h).forEach(p=>{ae(s,p)&&(l[p]=void 0)})}const c=Object.keys(R(r,J,{})),d={};c.forEach(h=>{const p=R(s,h);let i=R(n,[J,h],{}),u=R(r,[J,h],{});ae(i,ne)&&(i=de(t,i,e,p,a)),ae(u,ne)&&(u=de(t,u,e,p,a));const f=R(i,"type"),y=R(u,"type");if(!f||f===y)if(ae(l,h)&&delete l[h],y==="object"||y==="array"&&Array.isArray(p)){const g=ut(t,e,u,i,p,a);(g!==void 0||y==="array")&&(d[h]=g)}else{const g=R(u,"default",Se),b=R(i,"default",Se);g!==Se&&g!==p&&(b===p?l[h]=g:R(u,"readOnly")===!0&&(l[h]=void 0));const S=R(u,"const",Se),x=R(i,"const",Se);S!==Se&&S!==p&&(l[h]=x===p?S:void 0)}}),o={...typeof s=="string"||Array.isArray(s)?void 0:s,...l,...d}}else if(R(n,"type")==="array"&&R(r,"type")==="array"&&Array.isArray(s)){let l=R(n,"items"),c=R(r,"items");if(typeof l=="object"&&typeof c=="object"&&!Array.isArray(l)&&!Array.isArray(c)){ae(l,ne)&&(l=de(t,l,e,s,a)),ae(c,ne)&&(c=de(t,c,e,s,a));const d=R(l,"type"),h=R(c,"type");if(!d||d===h){const p=R(r,"maxItems",-1);h==="object"?o=s.reduce((i,u)=>{const f=ut(t,e,c,l,u,a);return f!==void 0&&(p<0||i.length<p)&&i.push(f),i},[]):o=p>0&&s.length>p?s.slice(0,p):s}}else typeof l=="boolean"&&typeof c=="boolean"&&l===c&&(o=s)}return o}function Re(t,e,r,n,s,a,o,l=[],c){if(ne in e||Gt in e||Qt in e){const p=de(t,e,a,o,c);if(l.findIndex(u=>M(u,p))===-1)return Re(t,p,r,n,s,a,o,l.concat(p),c)}if(ye in e&&!R(e,[ye,ne]))return Re(t,R(e,ye),r,n,s,a,o,l,c);const h={$id:s||r};if(Ee(e)==="object"&&J in e)for(const p in e.properties){const i=R(e,[J,p]),u=h[ct]+n+p;h[p]=Re(t,bt(i)?i:{},r,n,u,a,R(o,[p]),l,c)}return h}function Ln(t,e,r,n,s,a="root",o="_",l){return Re(t,e,a,o,r,n,s,void 0,l)}function pe(t,e,r,n,s,a=[],o){if(ne in e||Gt in e||Qt in e){const c=de(t,e,n,s,o);if(a.findIndex(h=>M(h,c))===-1)return pe(t,c,r,n,s,a.concat(c),o)}let l={[_e]:r.replace(/^\./,"")};if(Q in e||X in e){const c=Q in e?e.oneOf:e.anyOf,d=St(e),h=Zt(t,n,s,c,0,d,o),p=c[h];l={...l,...pe(t,p,r,n,s,a,o)}}if(Ot in e&&e[Ot]!==!1&&Fe(l,Xt,!0),ye in e&&Array.isArray(s)){const{items:c,additionalItems:d}=e;Array.isArray(c)?s.forEach((h,p)=>{c[p]?l[p]=pe(t,c[p],`${r}.${p}`,n,h,a,o):d?l[p]=pe(t,d,`${r}.${p}`,n,h,a,o):console.warn(`Unable to generate path schema for "${r}.${p}". No schema defined for it`)}):s.forEach((h,p)=>{l[p]=pe(t,c,`${r}.${p}`,n,h,a,o)})}else if(J in e)for(const c in e.properties){const d=R(e,[J,c]);l[c]=pe(t,d,`${r}.${c}`,n,R(s,[c]),a,o)}return l}function Mn(t,e,r="",n,s,a){return pe(t,e,r,n,s,void 0,a)}class Vn{constructor(e,r,n,s){this.rootSchema=r,this.validator=e,this.experimental_defaultFormStateBehavior=n,this.experimental_customMergeAllOf=s}getValidator(){return this.validator}doesSchemaUtilsDiffer(e,r,n={},s){return!e||!r?!1:this.validator!==e||!M(this.rootSchema,r)||!M(this.experimental_defaultFormStateBehavior,n)||this.experimental_customMergeAllOf!==s}getDefaultFormState(e,r,n=!1){return Cn(this.validator,e,r,this.rootSchema,n,this.experimental_defaultFormStateBehavior,this.experimental_customMergeAllOf)}getDisplayLabel(e,r,n){return Rn(this.validator,e,r,this.rootSchema,n,this.experimental_customMergeAllOf)}getClosestMatchingOption(e,r,n,s){return Zt(this.validator,this.rootSchema,e,r,n,s,this.experimental_customMergeAllOf)}getFirstMatchingOption(e,r,n){return vn(this.validator,e,r,this.rootSchema,n)}getMatchingOption(e,r,n){return jn(this.validator,e,r,this.rootSchema,n)}isFilesArray(e,r){return sr(this.validator,e,r,this.rootSchema,this.experimental_customMergeAllOf)}isMultiSelect(e){return Jt(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}isSelect(e){return wn(this.validator,e,this.rootSchema,this.experimental_customMergeAllOf)}mergeValidationData(e,r){return Wn(this.validator,e,r)}retrieveSchema(e,r){return de(this.validator,e,this.rootSchema,r,this.experimental_customMergeAllOf)}sanitizeDataForNewSchema(e,r,n){return ut(this.validator,this.rootSchema,e,r,n,this.experimental_customMergeAllOf)}toIdSchema(e,r,n,s="root",a="_"){return Ln(this.validator,e,r,this.rootSchema,n,s,a,this.experimental_customMergeAllOf)}toPathSchema(e,r,n){return Mn(this.validator,e,r,this.rootSchema,n,this.experimental_customMergeAllOf)}}function qn(t,e,r={},n){return new Vn(t,e,r,n)}function Kn(t){var e;if(t.indexOf("data:")===-1)throw new Error("File is invalid: URI must be a dataURI");const n=t.slice(5).split(";base64,");if(n.length!==2)throw new Error("File is invalid: dataURI must be base64");const[s,a]=n,[o,...l]=s.split(";"),c=o||"",d=decodeURI(((e=l.map(h=>h.split("=")).find(([h])=>h==="name"))===null||e===void 0?void 0:e[1])||"unknown");try{const h=atob(a),p=new Array(h.length);for(let u=0;u<h.length;u++)p[u]=h.charCodeAt(u);return{blob:new window.Blob([new Uint8Array(p)],{type:c}),name:d}}catch(h){throw new Error("File is invalid: "+h.message)}}function ce(t,e){let r=String(t);for(;r.length<e;)r="0"+r;return r}function ir(t,e){if(t<=0&&e<=0)t=new Date().getFullYear()+t,e=new Date().getFullYear()+e;else if(t<0||e<0)throw new Error(`Both start (${t}) and stop (${e}) must both be <= 0 or > 0, got one of each`);if(t>e)return ir(e,t).reverse();const r=[];for(let n=t;n<=e;n++)r.push({value:n,label:ce(n,2)});return r}function Hn(t,e){let r=t;if(Array.isArray(e)){const n=r.split(/(%\d)/);e.forEach((s,a)=>{const o=n.findIndex(l=>l===`%${a+1}`);o>=0&&(n[o]=s)}),r=n.join("")}return r}function Yn(t,e){return Hn(t,e)}function K(t,e=[],r){if(Array.isArray(t))return t.map(a=>K(a,e)).filter(a=>a!==r);const n=t===""||t===null?-1:Number(t),s=e[n];return s?s.value:r}function ar(t,e,r=[]){const n=K(t,r);return Array.isArray(e)?e.filter(s=>!M(s,n)):M(n,e)?void 0:e}function Ne(t,e){return Array.isArray(e)?e.some(r=>M(r,t)):M(e,t)}function or(t,e=[],r=!1){const n=e.map((s,a)=>Ne(s.value,t)?String(a):void 0).filter(s=>typeof s<"u");return r?n:n[0]}function lr(t,e,r=[]){const n=K(t,r);if(!kn(n)){const s=r.findIndex(l=>n===l.value),a=r.map(({value:l})=>l);return e.slice(0,s).concat(n,e.slice(s)).sort((l,c)=>+(a.indexOf(l)>a.indexOf(c)))}return e}class zn{constructor(e){this.errorSchema={},this.resetAllErrors(e)}get ErrorSchema(){return this.errorSchema}getOrCreateErrorBlock(e){let n=Array.isArray(e)&&e.length>0||typeof e=="string"?R(this.errorSchema,e):this.errorSchema;return!n&&e&&(n={},Un(this.errorSchema,e,n,Object)),n}resetAllErrors(e){return this.errorSchema=e?Yr(e):{},this}addErrors(e,r){const n=this.getOrCreateErrorBlock(r);let s=R(n,z);return Array.isArray(s)||(s=[],n[z]=s),Array.isArray(e)?Fe(n,z,[...new Set([...s,...e])]):Fe(n,z,[...new Set([...s,e])]),this}setErrors(e,r){const n=this.getOrCreateErrorBlock(r),s=Array.isArray(e)?[...new Set([...e])]:[e];return Fe(n,z,s),this}clearErrors(e){const r=this.getOrCreateErrorBlock(e);return Fe(r,z,[]),this}}function Jn(t,e,r=[1900,new Date().getFullYear()+2],n="YMD"){const{day:s,month:a,year:o,hour:l,minute:c,second:d}=t,h={type:"day",range:[1,31],value:s},p={type:"month",range:[1,12],value:a},i={type:"year",range:r,value:o},u=[];switch(n){case"MDY":u.push(p,h,i);break;case"DMY":u.push(h,p,i);break;case"YMD":default:u.push(i,p,h)}return e&&u.push({type:"hour",range:[0,23],value:l},{type:"minute",range:[0,59],value:c},{type:"second",range:[0,59],value:d}),u}function Gn(t){const e={};return t.multipleOf&&(e.step=t.multipleOf),(t.minimum||t.minimum===0)&&(e.min=t.minimum),(t.maximum||t.maximum===0)&&(e.max=t.maximum),e}function cr(t,e,r={},n=!0){const s={type:e||"text",...Gn(t)};return r.inputType?s.type=r.inputType:e||(t.type==="number"?(s.type="number",n&&s.step===void 0&&(s.step="any")):t.type==="integer"&&(s.type="number",s.step===void 0&&(s.step=1))),r.autocomplete&&(s.autoComplete=r.autocomplete),r.accept&&(s.accept=r.accept),s}const Tt={props:{disabled:!1},submitText:"Submit",norender:!1};function Qn(t={}){const e=_(t);if(e&&e[Me]){const r=e[Me];return{...Tt,...r}}return Tt}function U(t,e,r={}){const{templates:n}=e;return t==="ButtonTemplates"?n[t]:r[t]||n[t]}const Xe={boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",time:"TimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget",hidden:"HiddenWidget"}};function Zn(t){let e=R(t,"MergedWidget");if(!e){const r=t.defaultProps&&t.defaultProps.options||{};e=({options:n,...s})=>m.jsx(t,{options:{...r,...n},...s}),Fe(t,"MergedWidget",e)}return e}function ee(t,e,r={}){const n=Ee(t);if(typeof e=="function"||e&&Dt.isForwardRef(O.createElement(e))||Dt.isMemo(e))return Zn(e);if(typeof e!="string")throw new Error(`Unsupported widget definition: ${typeof e}`);if(e in r){const s=r[e];return ee(t,s,r)}if(typeof n=="string"){if(!(n in Xe))throw new Error(`No widget for type '${n}'`);if(e in Xe[n]){const s=r[Xe[n][e]];return ee(t,s,r)}}throw new Error(`No widget '${e}' for type '${n}'`)}function Xn(t,e,r={}){try{return ee(t,e,r),!0}catch(n){const s=n;if(s.message&&(s.message.startsWith("No widget")||s.message.startsWith("Unsupported widget")))return!1;throw n}}function es(t,e,r){return e?r:t}function ts(t){return t?new Date(t).toJSON():void 0}function rs(t,e){if(!Array.isArray(e))return t;const r=h=>h.reduce((p,i)=>(p[i]=!0,p),{}),n=h=>h.length>1?`properties '${h.join("', '")}'`:`property '${h[0]}'`,s=r(t),a=e.filter(h=>h==="*"||s[h]),o=r(a),l=t.filter(h=>!o[h]),c=a.indexOf("*");if(c===-1){if(l.length)throw new Error(`uiSchema order list does not contain ${n(l)}`);return a}if(c!==a.lastIndexOf("*"))throw new Error("uiSchema order list contains more than one wildcard item");const d=[...a];return d.splice(c,1,...l),d}function et(t,e=!0){if(!t)return{year:-1,month:-1,day:-1,hour:e?-1:0,minute:e?-1:0,second:e?-1:0};const r=new Date(t);if(Number.isNaN(r.getTime()))throw new Error("Unable to parse date "+t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:e?r.getUTCHours():0,minute:e?r.getUTCMinutes():0,second:e?r.getUTCSeconds():0}}function We(t){if(t.const||t.enum&&t.enum.length===1&&t.enum[0]===!0)return!0;if(t.anyOf&&t.anyOf.length===1)return We(t.anyOf[0]);if(t.oneOf&&t.oneOf.length===1)return We(t.oneOf[0]);if(t.allOf){const e=r=>We(r);return t.allOf.some(e)}return!1}function ns(t,e,r){const{props:n,state:s}=t;return!M(n,e)||!M(s,r)}function Bt(t,e=!0){const{year:r,month:n,day:s,hour:a=0,minute:o=0,second:l=0}=t,c=Date.UTC(r,n-1,s,a,o,l),d=new Date(c).toJSON();return e?d:d.slice(0,10)}function Ke(t,e=[]){if(!t)return[];let r=[];return z in t&&(r=r.concat(t[z].map(n=>{const s=`.${e.join(".")}`;return{property:s,message:n,stack:`${s} ${n}`}}))),Object.keys(t).reduce((n,s)=>{if(s!==z){const a=t[s];zr(a)&&(n=n.concat(Ke(a,[...e,s])))}return n},r)}function ss(t){const e=new zn;return t.length&&t.forEach(r=>{const{property:n,message:s}=r,a=n==="."?[]:_n(n);a.length>0&&a[0]===""&&a.splice(0,1),s&&e.addErrors(s,a)}),e.ErrorSchema}function is(t){if(!t)return"";const e=new Date(t),r=ce(e.getFullYear(),4),n=ce(e.getMonth()+1,2),s=ce(e.getDate(),2),a=ce(e.getHours(),2),o=ce(e.getMinutes(),2),l=ce(e.getSeconds(),2),c=ce(e.getMilliseconds(),3);return`${r}-${n}-${s}T${a}:${o}:${l}.${c}`}function tt(t,e){if(!e)return t;const{errors:r,errorSchema:n}=t;let s=Ke(e),a=e;return xt(n)||(a=Ce(n,e,!0),s=[...r].concat(s)),{errorSchema:a,errors:s}}let as=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");function mt(){return as()}function $t(t){return Array.isArray(t)?t.map(e=>({key:mt(),item:e})):[]}function ke(t){return Array.isArray(t)?t.map(e=>e.item):[]}class os extends O.Component{constructor(e){super(e),this._getNewFormDataRow=()=>{const{schema:s,registry:a}=this.props,{schemaUtils:o}=a;let l=s.items;return At(s)&&Pn(s)&&(l=s.additionalItems),o.getDefaultFormState(l)},this.onAddClick=s=>{this._handleAddClick(s)},this.onAddIndexClick=s=>a=>{this._handleAddClick(a,s)},this.onCopyIndexClick=s=>a=>{a&&a.preventDefault();const{onChange:o,errorSchema:l}=this.props,{keyedFormData:c}=this.state;let d;if(l){d={};for(const i in l){const u=parseInt(i);u<=s?Z(d,[u],l[i]):u>s&&Z(d,[u+1],l[i])}}const h={key:mt(),item:On(c[s].item)},p=[...c];s!==void 0?p.splice(s+1,0,h):p.push(h),this.setState({keyedFormData:p,updatedKeyedFormData:!0},()=>o(ke(p),d))},this.onDropIndexClick=s=>a=>{a&&a.preventDefault();const{onChange:o,errorSchema:l}=this.props,{keyedFormData:c}=this.state;let d;if(l){d={};for(const p in l){const i=parseInt(p);i<s?Z(d,[i],l[p]):i>s&&Z(d,[i-1],l[p])}}const h=c.filter((p,i)=>i!==s);this.setState({keyedFormData:h,updatedKeyedFormData:!0},()=>o(ke(h),d))},this.onReorderClick=(s,a)=>o=>{o&&(o.preventDefault(),o.currentTarget.blur());const{onChange:l,errorSchema:c}=this.props;let d;if(c){d={};for(const u in c){const f=parseInt(u);f==s?Z(d,[a],c[s]):f==a?Z(d,[s],c[a]):Z(d,[u],c[f])}}const{keyedFormData:h}=this.state;function p(){const u=h.slice();return u.splice(s,1),u.splice(a,0,h[s]),u}const i=p();this.setState({keyedFormData:i},()=>l(ke(i),d))},this.onChangeForIndex=s=>(a,o,l)=>{const{formData:c,onChange:d,errorSchema:h}=this.props,i=(Array.isArray(c)?c:[]).map((u,f)=>s===f?typeof a>"u"?null:a:u);d(i,h&&h&&{...h,[s]:o},l)},this.onSelectChange=s=>{const{onChange:a,idSchema:o}=this.props;a(s,void 0,o&&o.$id)};const{formData:r=[]}=e,n=$t(r);this.state={keyedFormData:n,updatedKeyedFormData:!1}}static getDerivedStateFromProps(e,r){if(r.updatedKeyedFormData)return{updatedKeyedFormData:!1};const n=Array.isArray(e.formData)?e.formData:[],s=r.keyedFormData||[];return{keyedFormData:n.length===s.length?s.map((o,l)=>({key:o.key,item:n[l]})):$t(n)}}get itemTitle(){const{schema:e,registry:r}=this.props,{translateString:n}=r;return ue(e,[ye,"title"],ue(e,[ye,"description"],n(W.ArrayItemTitle)))}isItemRequired(e){return Array.isArray(e.type)?!e.type.includes("null"):e.type!=="null"}canAddItem(e){const{schema:r,uiSchema:n,registry:s}=this.props;let{addable:a}=_(n,s.globalUiOptions);return a!==!1&&(r.maxItems!==void 0?a=e.length<r.maxItems:a=!0),a}_handleAddClick(e,r){e&&e.preventDefault();const{onChange:n,errorSchema:s}=this.props,{keyedFormData:a}=this.state;let o;if(s){o={};for(const d in s){const h=parseInt(d);r===void 0||h<r?Z(o,[h],s[d]):h>=r&&Z(o,[h+1],s[d])}}const l={key:mt(),item:this._getNewFormDataRow()},c=[...a];r!==void 0?c.splice(r,0,l):c.push(l),this.setState({keyedFormData:c,updatedKeyedFormData:!0},()=>n(ke(c),o))}render(){const{schema:e,uiSchema:r,idSchema:n,registry:s}=this.props,{schemaUtils:a,translateString:o}=s;if(!(ye in e)){const l=_(r),c=U("UnsupportedFieldTemplate",s,l);return m.jsx(c,{schema:e,idSchema:n,reason:o(W.MissingItems),registry:s})}return a.isMultiSelect(e)?this.renderMultiSelect():nr(r)?this.renderCustomWidget():At(e)?this.renderFixedArray():a.isFilesArray(e,r)?this.renderFiles():this.renderNormalArray()}renderNormalArray(){const{schema:e,uiSchema:r={},errorSchema:n,idSchema:s,name:a,title:o,disabled:l=!1,readonly:c=!1,autofocus:d=!1,required:h=!1,registry:p,onBlur:i,onFocus:u,idPrefix:f,idSeparator:y="_",rawErrors:g}=this.props,{keyedFormData:b}=this.state,S=e.title||o||a,{schemaUtils:x,formContext:C}=p,v=_(r),F=me(e.items)?e.items:{},w=x.retrieveSchema(F),k=ke(this.state.keyedFormData),E=this.canAddItem(k),j={canAdd:E,items:b.map((B,I)=>{const{key:L,item:N}=B,P=N,V=x.retrieveSchema(F,P),$=n?n[I]:void 0,D=s.$id+y+I,q=x.toIdSchema(V,D,P,f,y);return this.renderArrayFieldItem({key:L,index:I,name:a&&`${a}-${I}`,title:S?`${S}-${I+1}`:void 0,canAdd:E,canMoveUp:I>0,canMoveDown:I<k.length-1,itemSchema:V,itemIdSchema:q,itemErrorSchema:$,itemData:P,itemUiSchema:r.items,autofocus:d&&I===0,onBlur:i,onFocus:u,rawErrors:g,totalItems:b.length})}),className:`field field-array field-array-of-${w.type}`,disabled:l,idSchema:s,uiSchema:r,onAddClick:this.onAddClick,readonly:c,required:h,schema:e,title:S,formContext:C,formData:k,rawErrors:g,registry:p},T=U("ArrayFieldTemplate",p,v);return m.jsx(T,{...j})}renderCustomWidget(){var e;const{schema:r,idSchema:n,uiSchema:s,disabled:a=!1,readonly:o=!1,autofocus:l=!1,required:c=!1,hideError:d,placeholder:h,onBlur:p,onFocus:i,formData:u=[],registry:f,rawErrors:y,name:g}=this.props,{widgets:b,formContext:S,globalUiOptions:x,schemaUtils:C}=f,{widget:v,title:F,...w}=_(s,x),k=ee(r,v,b),E=(e=F??r.title)!==null&&e!==void 0?e:g,j=C.getDisplayLabel(r,s,x);return m.jsx(k,{id:n.$id,name:g,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:i,options:w,schema:r,uiSchema:s,registry:f,value:u,disabled:a,readonly:o,hideError:d,required:c,label:E,hideLabel:!j,placeholder:h,formContext:S,autofocus:l,rawErrors:y})}renderMultiSelect(){var e;const{schema:r,idSchema:n,uiSchema:s,formData:a=[],disabled:o=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,placeholder:h,onBlur:p,onFocus:i,registry:u,rawErrors:f,name:y}=this.props,{widgets:g,schemaUtils:b,formContext:S,globalUiOptions:x}=u,C=b.retrieveSchema(r.items,a),v=Ve(C,s),{widget:F="select",title:w,...k}=_(s,x),E=ee(r,F,g),j=(e=w??r.title)!==null&&e!==void 0?e:y,T=b.getDisplayLabel(r,s,x);return m.jsx(E,{id:n.$id,name:y,multiple:!0,onChange:this.onSelectChange,onBlur:p,onFocus:i,options:{...k,enumOptions:v},schema:r,uiSchema:s,registry:u,value:a,disabled:o,readonly:l,required:d,label:j,hideLabel:!T,placeholder:h,formContext:S,autofocus:c,rawErrors:f})}renderFiles(){var e;const{schema:r,uiSchema:n,idSchema:s,name:a,disabled:o=!1,readonly:l=!1,autofocus:c=!1,required:d=!1,onBlur:h,onFocus:p,registry:i,formData:u=[],rawErrors:f}=this.props,{widgets:y,formContext:g,globalUiOptions:b,schemaUtils:S}=i,{widget:x="files",title:C,...v}=_(n,b),F=ee(r,x,y),w=(e=C??r.title)!==null&&e!==void 0?e:a,k=S.getDisplayLabel(r,n,b);return m.jsx(F,{options:v,id:s.$id,name:a,multiple:!0,onChange:this.onSelectChange,onBlur:h,onFocus:p,schema:r,uiSchema:n,value:u,disabled:o,readonly:l,required:d,registry:i,formContext:g,autofocus:c,rawErrors:f,label:w,hideLabel:!k})}renderFixedArray(){const{schema:e,uiSchema:r={},formData:n=[],errorSchema:s,idPrefix:a,idSeparator:o="_",idSchema:l,name:c,title:d,disabled:h=!1,readonly:p=!1,autofocus:i=!1,required:u=!1,registry:f,onBlur:y,onFocus:g,rawErrors:b}=this.props,{keyedFormData:S}=this.state;let{formData:x=[]}=this.props;const C=e.title||d||c,v=_(r),{schemaUtils:F,formContext:w}=f,E=(me(e.items)?e.items:[]).map((L,N)=>F.retrieveSchema(L,n[N])),j=me(e.additionalItems)?F.retrieveSchema(e.additionalItems,n):null;(!x||x.length<E.length)&&(x=x||[],x=x.concat(new Array(E.length-x.length)));const T=this.canAddItem(x)&&!!j,B={canAdd:T,className:"field field-array field-array-fixed-items",disabled:h,idSchema:l,formData:n,items:S.map((L,N)=>{const{key:P,item:V}=L,$=V,D=N>=E.length,q=(D&&me(e.additionalItems)?F.retrieveSchema(e.additionalItems,$):E[N])||{},H=l.$id+o+N,se=F.toIdSchema(q,H,$,a,o),G=D?r.additionalItems||{}:Array.isArray(r.items)?r.items[N]:r.items||{},ie=s?s[N]:void 0;return this.renderArrayFieldItem({key:P,index:N,name:c&&`${c}-${N}`,title:C?`${C}-${N+1}`:void 0,canAdd:T,canRemove:D,canMoveUp:N>=E.length+1,canMoveDown:D&&N<x.length-1,itemSchema:q,itemData:$,itemUiSchema:G,itemIdSchema:se,itemErrorSchema:ie,autofocus:i&&N===0,onBlur:y,onFocus:g,rawErrors:b,totalItems:S.length})}),onAddClick:this.onAddClick,readonly:p,required:u,registry:f,schema:e,uiSchema:r,title:C,formContext:w,errorSchema:s,rawErrors:b},I=U("ArrayFieldTemplate",f,v);return m.jsx(I,{...B})}renderArrayFieldItem(e){const{key:r,index:n,name:s,canAdd:a,canRemove:o=!0,canMoveUp:l,canMoveDown:c,itemSchema:d,itemData:h,itemUiSchema:p,itemIdSchema:i,itemErrorSchema:u,autofocus:f,onBlur:y,onFocus:g,rawErrors:b,totalItems:S,title:x}=e,{disabled:C,hideError:v,idPrefix:F,idSeparator:w,readonly:k,uiSchema:E,registry:j,formContext:T}=this.props,{fields:{ArraySchemaField:B,SchemaField:I},globalUiOptions:L}=j,N=B||I,{orderable:P=!0,removable:V=!0,copyable:$=!1}=_(E,L),D={moveUp:P&&l,moveDown:P&&c,copy:$&&a,remove:V&&o,toolbar:!1};return D.toolbar=Object.keys(D).some(q=>D[q]),{children:m.jsx(N,{name:s,title:x,index:n,schema:d,uiSchema:p,formData:h,formContext:T,errorSchema:u,idPrefix:F,idSeparator:w,idSchema:i,required:this.isItemRequired(d),onChange:this.onChangeForIndex(n),onBlur:y,onFocus:g,registry:j,disabled:C,readonly:k,hideError:v,autofocus:f,rawErrors:b}),className:"array-item",disabled:C,canAdd:a,hasCopy:D.copy,hasToolbar:D.toolbar,hasMoveUp:D.moveUp,hasMoveDown:D.moveDown,hasRemove:D.remove,index:n,totalItems:S,key:r,onAddIndexClick:this.onAddIndexClick,onCopyIndexClick:this.onCopyIndexClick,onDropIndexClick:this.onDropIndexClick,onReorderClick:this.onReorderClick,readonly:k,registry:j,schema:d,uiSchema:p}}}function ls(t){var e,r,n;const{schema:s,name:a,uiSchema:o,idSchema:l,formData:c,registry:d,required:h,disabled:p,readonly:i,hideError:u,autofocus:f,title:y,onChange:g,onFocus:b,onBlur:S,rawErrors:x}=t,{title:C}=s,{widgets:v,formContext:F,translateString:w,globalUiOptions:k}=d,{widget:E="checkbox",title:j,label:T=!0,...B}=_(o,k),I=ee(s,E,v),L=w(W.YesLabel),N=w(W.NoLabel);let P;const V=(r=(e=j??C)!==null&&e!==void 0?e:y)!==null&&r!==void 0?r:a;if(Array.isArray(s.oneOf))P=Ve({oneOf:s.oneOf.map($=>{if(me($))return{...$,title:$.title||($.const===!0?L:N)}}).filter($=>$)},o);else{const $=s,D=(n=s.enum)!==null&&n!==void 0?n:[!0,!1];!$.enumNames&&D.length===2&&D.every(q=>typeof q=="boolean")?P=[{value:D[0],label:D[0]?L:N},{value:D[1],label:D[1]?L:N}]:P=Ve({enum:D,enumNames:$.enumNames},o)}return m.jsx(I,{options:{...B,enumOptions:P},schema:s,uiSchema:o,id:l.$id,name:a,onChange:g,onFocus:b,onBlur:S,label:V,hideLabel:!T,value:c,required:h,disabled:p,readonly:i,hideError:u,registry:d,formContext:F,autofocus:f,rawErrors:x})}class Ut extends O.Component{constructor(e){super(e),this.onOptionChange=o=>{const{selectedOption:l,retrievedOptions:c}=this.state,{formData:d,onChange:h,registry:p}=this.props,{schemaUtils:i}=p,u=o!==void 0?parseInt(o,10):-1;if(u===l)return;const f=u>=0?c[u]:void 0,y=l>=0?c[l]:void 0;let g=i.sanitizeDataForNewSchema(f,y,d);g&&f&&(g=i.getDefaultFormState(f,g,"excludeObjectChildren")),this.setState({selectedOption:u},()=>{h(g,void 0,this.getFieldId())})};const{formData:r,options:n,registry:{schemaUtils:s}}=this.props,a=n.map(o=>s.retrieveSchema(o,r));this.state={retrievedOptions:a,selectedOption:this.getMatchingOption(0,r,a)}}componentDidUpdate(e,r){const{formData:n,options:s,idSchema:a}=this.props,{selectedOption:o}=this.state;let l=this.state;if(!M(e.options,s)){const{registry:{schemaUtils:c}}=this.props,d=s.map(h=>c.retrieveSchema(h,n));l={selectedOption:o,retrievedOptions:d}}if(!M(n,e.formData)&&a.$id===e.idSchema.$id){const{retrievedOptions:c}=l,d=this.getMatchingOption(o,n,c);r&&d!==o&&(l={selectedOption:d,retrievedOptions:c})}l!==this.state&&this.setState(l)}getMatchingOption(e,r,n){const{schema:s,registry:{schemaUtils:a}}=this.props,o=St(s);return a.getClosestMatchingOption(r,n,e,o)}getFieldId(){const{idSchema:e,schema:r}=this.props;return`${e.$id}${r.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:e,disabled:r=!1,errorSchema:n={},formContext:s,onBlur:a,onFocus:o,registry:l,schema:c,uiSchema:d}=this.props,{widgets:h,fields:p,translateString:i,globalUiOptions:u,schemaUtils:f}=l,{SchemaField:y}=p,{selectedOption:g,retrievedOptions:b}=this.state,{widget:S="select",placeholder:x,autofocus:C,autocomplete:v,title:F=c.title,...w}=_(d,u),k=ee({type:"number"},S,h),E=ue(n,z,[]),j=dt(n,[z]),T=f.getDisplayLabel(c,d,u),B=g>=0&&b[g]||null;let I;if(B){const{required:D}=c;I=D?er({required:D},B):B}let L=[];Q in c&&d&&Q in d?Array.isArray(d[Q])?L=d[Q]:console.warn(`uiSchema.oneOf is not an array for "${F||e}"`):X in c&&d&&X in d&&(Array.isArray(d[X])?L=d[X]:console.warn(`uiSchema.anyOf is not an array for "${F||e}"`));let N=d;g>=0&&L.length>g&&(N=L[g]);const P=F?W.TitleOptionPrefix:W.OptionPrefix,V=F?[F]:[],$=b.map((D,q)=>{const{title:H=D.title}=_(L[q]);return{label:H||i(P,V.concat(String(q+1))),value:q}});return m.jsxs("div",{className:"panel panel-default panel-body",children:[m.jsx("div",{className:"form-group",children:m.jsx(k,{id:this.getFieldId(),name:`${e}${c.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:a,onFocus:o,disabled:r||tr($),multiple:!1,rawErrors:E,errorSchema:j,value:g>=0?g:void 0,options:{enumOptions:$,...w},registry:l,formContext:s,placeholder:x,autocomplete:v,autofocus:C,label:F??e,hideLabel:!T})}),I&&m.jsx(y,{...this.props,schema:I,uiSchema:N})]})}}const cs=/\.([0-9]*0)*$/,ds=/[0.]0*$/;function us(t){const{registry:e,onChange:r,formData:n,value:s}=t,[a,o]=O.useState(s),{StringField:l}=e.fields;let c=n;const d=O.useCallback(h=>{o(h),`${h}`.charAt(0)==="."&&(h=`0${h}`);const p=typeof h=="string"&&h.match(cs)?Nt(h.replace(ds,"")):Nt(h);r(p)},[r]);if(typeof a=="string"&&typeof c=="number"){const h=new RegExp(`^(${String(c).replace(".","\\.")})?\\.?0*$`);a.match(h)&&(c=a)}return m.jsx(l,{...t,formData:c,onChange:d})}function ge(){return ge=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ge.apply(this,arguments)}const ms=["children","options"],A={blockQuote:"0",breakLine:"1",breakThematic:"2",codeBlock:"3",codeFenced:"4",codeInline:"5",footnote:"6",footnoteReference:"7",gfmTask:"8",heading:"9",headingSetext:"10",htmlBlock:"11",htmlComment:"12",htmlSelfClosing:"13",image:"14",link:"15",linkAngleBraceStyleDetector:"16",linkBareUrlDetector:"17",linkMailtoDetector:"18",newlineCoalescer:"19",orderedList:"20",paragraph:"21",ref:"22",refImage:"23",refLink:"24",table:"25",text:"27",textBolded:"28",textEmphasized:"29",textEscaped:"30",textMarked:"31",textStrikethroughed:"32",unorderedList:"33"};var _t;(function(t){t[t.MAX=0]="MAX",t[t.HIGH=1]="HIGH",t[t.MED=2]="MED",t[t.LOW=3]="LOW",t[t.MIN=4]="MIN"})(_t||(_t={}));const Pt=["allowFullScreen","allowTransparency","autoComplete","autoFocus","autoPlay","cellPadding","cellSpacing","charSet","classId","colSpan","contentEditable","contextMenu","crossOrigin","encType","formAction","formEncType","formMethod","formNoValidate","formTarget","frameBorder","hrefLang","inputMode","keyParams","keyType","marginHeight","marginWidth","maxLength","mediaGroup","minLength","noValidate","radioGroup","readOnly","rowSpan","spellCheck","srcDoc","srcLang","srcSet","tabIndex","useMap"].reduce((t,e)=>(t[e.toLowerCase()]=e,t),{class:"className",for:"htmlFor"}),Rt={amp:"&",apos:"'",gt:">",lt:"<",nbsp:" ",quot:"“"},hs=["style","script"],fs=/([-A-Z0-9_:]+)(?:\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|(?:\{((?:\\.|{[^}]*?}|[^}])*)\})))?/gi,ps=/mailto:/i,gs=/\n{2,}$/,dr=/^(\s*>[\s\S]*?)(?=\n\n|$)/,ys=/^ *> ?/gm,bs=/^(?:\[!([^\]]*)\]\n)?([\s\S]*)/,xs=/^ {2,}\n/,Ss=/^(?:( *[-*_])){3,} *(?:\n *)+\n/,ur=/^(?: {1,3})?(`{3,}|~{3,}) *(\S+)? *([^\n]*?)?\n([\s\S]*?)(?:\1\n?|$)/,mr=/^(?: {4}[^\n]+\n*)+(?:\n *)+\n?/,Fs=/^(`+)((?:\\`|[^`])+)\1/,Cs=/^(?:\n *)*\n/,vs=/\r\n?/g,js=/^\[\^([^\]]+)](:(.*)((\n+ {4,}.*)|(\n(?!\[\^).+))*)/,ws=/^\[\^([^\]]+)]/,ks=/\f/g,Os=/^---[ \t]*\n(.|\n)*\n---[ \t]*\n/,Ds=/^\s*?\[(x|\s)\]/,hr=/^ *(#{1,6}) *([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,fr=/^ *(#{1,6}) +([^\n]+?)(?: +#*)?(?:\n *)*(?:\n|$)/,pr=/^([^\n]+)\n *(=|-){3,} *(?:\n *)+\n/,ht=/^ *(?!<[a-z][^ >/]* ?\/>)<([a-z][^ >/]*) ?((?:[^>]*[^/])?)>\n?(\s*(?:<\1[^>]*?>[\s\S]*?<\/\1>|(?!<\1\b)[\s\S])*?)<\/\1>(?!<\/\1>)\n*/i,As=/&([a-z0-9]+|#[0-9]{1,6}|#x[0-9a-fA-F]{1,6});/gi,gr=/^<!--[\s\S]*?(?:-->)/,Es=/^(data|aria|x)-[a-z_][a-z\d_.-]*$/,ft=/^ *<([a-z][a-z0-9:]*)(?:\s+((?:<.*?>|[^>])*))?\/?>(?!<\/\1>)(\s*\n)?/i,Is=/^\{.*\}$/,Ns=/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,Ts=/^<([^ >]+@[^ >]+)>/,Bs=/^<([^ >]+:\/[^ >]+)>/,$s=/-([a-z])?/gi,yr=/^(\|.*)\n(?: *(\|? *[-:]+ *\|[-| :]*)\n((?:.*\|.*\n)*))?\n?/,Us=/^\[([^\]]*)\]:\s+<?([^\s>]+)>?\s*("([^"]*)")?/,_s=/^!\[([^\]]*)\] ?\[([^\]]*)\]/,Ps=/^\[([^\]]*)\] ?\[([^\]]*)\]/,Rs=/(\n|^[-*]\s|^#|^ {2,}|^-{2,}|^>\s)/,Ws=/\t/g,Ls=/(^ *\||\| *$)/g,Ms=/^ *:-+: *$/,Vs=/^ *:-+ *$/,qs=/^ *-+: *$/,ze="((?:\\[.*?\\][([].*?[)\\]]|<.*?>(?:.*?<.*?>)?|`.*?`|\\\\\\1|[\\s\\S])+?)",Ks=new RegExp(`^([*_])\\1${ze}\\1\\1(?!\\1)`),Hs=new RegExp(`^([*_])${ze}\\1(?!\\1)`),Ys=new RegExp(`^(==)${ze}\\1`),zs=new RegExp(`^(~~)${ze}\\1`),Js=/^\\([^0-9A-Za-z\s])/,rt=/\\([^0-9A-Za-z\s])/g,Gs=/^([\s\S](?:(?!  |[0-9]\.)[^*_~\-\n<`\\\[!])*)/,Qs=/^\n+/,Zs=/^([ \t]*)/,Xs=/\\([^\\])/g,ei=/(?:^|\n)( *)$/,Ct="(?:\\d+\\.)",vt="(?:[*+-])";function br(t){return"( *)("+(t===1?Ct:vt)+") +"}const xr=br(1),Sr=br(2);function Fr(t){return new RegExp("^"+(t===1?xr:Sr))}const ti=Fr(1),ri=Fr(2);function Cr(t){return new RegExp("^"+(t===1?xr:Sr)+"[^\\n]*(?:\\n(?!\\1"+(t===1?Ct:vt)+" )[^\\n]*)*(\\n|$)","gm")}const ni=Cr(1),si=Cr(2);function vr(t){const e=t===1?Ct:vt;return new RegExp("^( *)("+e+") [\\s\\S]+?(?:\\n{2,}(?! )(?!\\1"+e+" (?!"+e+" ))\\n*|\\s*\\n*$)")}const jr=vr(1),wr=vr(2);function Wt(t,e){const r=e===1,n=r?jr:wr,s=r?ni:si,a=r?ti:ri;return{match:je(function(o,l){const c=ei.exec(l.prevCapture);return c&&(l.list||!l.inline&&!l.simple)?n.exec(o=c[1]+o):null}),order:1,parse(o,l,c){const d=r?+o[2]:void 0,h=o[0].replace(gs,`
`).match(s);let p=!1;return{items:h.map(function(i,u){const f=a.exec(i)[0].length,y=new RegExp("^ {1,"+f+"}","gm"),g=i.replace(y,"").replace(a,""),b=u===h.length-1,S=g.indexOf(`

`)!==-1||b&&p;p=S;const x=c.inline,C=c.list;let v;c.list=!0,S?(c.inline=!1,v=Ae(g)+`

`):(c.inline=!0,v=Ae(g));const F=l(v,c);return c.inline=x,c.list=C,F}),ordered:r,start:d}},render:(o,l,c)=>t(o.ordered?"ol":"ul",{key:c.key,start:o.type===A.orderedList?o.start:void 0},o.items.map(function(d,h){return t("li",{key:h},l(d,c))}))}}const ii=new RegExp(`^\\[((?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*)\\]\\(\\s*<?((?:\\([^)]*\\)|[^\\s\\\\]|\\\\.)*?)>?(?:\\s+['"]([\\s\\S]*?)['"])?\\s*\\)`),ai=/^!\[(.*?)\]\( *((?:\([^)]*\)|[^() ])*) *"?([^)"]*)?"?\)/,kr=[dr,ur,mr,hr,pr,fr,yr,jr,wr],oi=[...kr,/^[^\n]+(?:  \n|\n{2,})/,ht,gr,ft];function Ae(t){let e=t.length;for(;e>0&&t[e-1]<=" ";)e--;return t.slice(0,e)}function Oe(t){return t.replace(/[ÀÁÂÃÄÅàáâãäåæÆ]/g,"a").replace(/[çÇ]/g,"c").replace(/[ðÐ]/g,"d").replace(/[ÈÉÊËéèêë]/g,"e").replace(/[ÏïÎîÍíÌì]/g,"i").replace(/[Ññ]/g,"n").replace(/[øØœŒÕõÔôÓóÒò]/g,"o").replace(/[ÜüÛûÚúÙù]/g,"u").replace(/[ŸÿÝý]/g,"y").replace(/[^a-z0-9- ]/gi,"").replace(/ /gi,"-").toLowerCase()}function li(t){return qs.test(t)?"right":Ms.test(t)?"center":Vs.test(t)?"left":null}function Lt(t,e,r,n){const s=r.inTable;r.inTable=!0;let a=[[]],o="";function l(){if(!o)return;const c=a[a.length-1];c.push.apply(c,e(o,r)),o=""}return t.trim().split(/(`[^`]*`|\\\||\|)/).filter(Boolean).forEach((c,d,h)=>{c.trim()==="|"&&(l(),n)?d!==0&&d!==h.length-1&&a.push([]):o+=c}),l(),r.inTable=s,a}function ci(t,e,r){r.inline=!0;const n=t[2]?t[2].replace(Ls,"").split("|").map(li):[],s=t[3]?function(o,l,c){return o.trim().split(`
`).map(function(d){return Lt(d,l,c,!0)})}(t[3],e,r):[],a=Lt(t[1],e,r,!!s.length);return r.inline=!1,s.length?{align:n,cells:s,header:a,type:A.table}:{children:a,type:A.paragraph}}function Mt(t,e){return t.align[e]==null?{}:{textAlign:t.align[e]}}function je(t){return t.inline=1,t}function oe(t){return je(function(e,r){return r.inline?t.exec(e):null})}function le(t){return je(function(e,r){return r.inline||r.simple?t.exec(e):null})}function re(t){return function(e,r){return r.inline||r.simple?null:t.exec(e)}}function De(t){return je(function(e){return t.exec(e)})}function di(t,e){if(e.inline||e.simple)return null;let r="";t.split(`
`).every(s=>(s+=`
`,!kr.some(a=>a.test(s))&&(r+=s,!!s.trim())));const n=Ae(r);return n==""?null:[r,,n]}function ui(t){try{if(decodeURIComponent(t).replace(/[^A-Za-z0-9/:]/g,"").match(/^\s*(javascript|vbscript|data(?!:image)):/i))return null}catch{return null}return t}function Vt(t){return t.replace(Xs,"$1")}function Le(t,e,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!0,r.simple=!0;const a=t(e,r);return r.inline=n,r.simple=s,a}function mi(t,e,r){const n=r.inline||!1,s=r.simple||!1;r.inline=!1,r.simple=!0;const a=t(e,r);return r.inline=n,r.simple=s,a}function hi(t,e,r){const n=r.inline||!1;r.inline=!1;const s=t(e,r);return r.inline=n,s}const nt=(t,e,r)=>({children:Le(e,t[2],r)});function st(){return{}}function it(){return null}function fi(...t){return t.filter(Boolean).join(" ")}function at(t,e,r){let n=t;const s=e.split(".");for(;s.length&&(n=n[s[0]],n!==void 0);)s.shift();return n||r}function pi(t="",e={}){function r(i,u,...f){const y=at(e.overrides,`${i}.props`,{});return e.createElement(function(g,b){const S=at(b,g);return S?typeof S=="function"||typeof S=="object"&&"render"in S?S:at(b,`${g}.component`,g):g}(i,e.overrides),ge({},u,y,{className:fi(u==null?void 0:u.className,y.className)||void 0}),...f)}function n(i){i=i.replace(Os,"");let u=!1;e.forceInline?u=!0:e.forceBlock||(u=Rs.test(i)===!1);const f=d(c(u?i:`${Ae(i).replace(Qs,"")}

`,{inline:u}));for(;typeof f[f.length-1]=="string"&&!f[f.length-1].trim();)f.pop();if(e.wrapper===null)return f;const y=e.wrapper||(u?"span":"div");let g;if(f.length>1||e.forceWrapper)g=f;else{if(f.length===1)return g=f[0],typeof g=="string"?r("span",{key:"outer"},g):g;g=null}return e.createElement(y,{key:"outer"},g)}function s(i,u){const f=u.match(fs);return f?f.reduce(function(y,g){const b=g.indexOf("=");if(b!==-1){const S=function(F){return F.indexOf("-")!==-1&&F.match(Es)===null&&(F=F.replace($s,function(w,k){return k.toUpperCase()})),F}(g.slice(0,b)).trim(),x=function(F){const w=F[0];return(w==='"'||w==="'")&&F.length>=2&&F[F.length-1]===w?F.slice(1,-1):F}(g.slice(b+1).trim()),C=Pt[S]||S;if(C==="ref")return y;const v=y[C]=function(F,w,k,E){return w==="style"?k.split(/;\s?/).reduce(function(j,T){const B=T.slice(0,T.indexOf(":"));return j[B.trim().replace(/(-[a-z])/g,I=>I[1].toUpperCase())]=T.slice(B.length+1).trim(),j},{}):w==="href"||w==="src"?E(k,F,w):(k.match(Is)&&(k=k.slice(1,k.length-1)),k==="true"||k!=="false"&&k)}(i,S,x,e.sanitizer);typeof v=="string"&&(ht.test(v)||ft.test(v))&&(y[C]=n(v.trim()))}else g!=="style"&&(y[Pt[g]||g]=!0);return y},{}):null}e.overrides=e.overrides||{},e.sanitizer=e.sanitizer||ui,e.slugify=e.slugify||Oe,e.namedCodesToUnicode=e.namedCodesToUnicode?ge({},Rt,e.namedCodesToUnicode):Rt,e.createElement=e.createElement||O.createElement;const a=[],o={},l={[A.blockQuote]:{match:re(dr),order:1,parse(i,u,f){const[,y,g]=i[0].replace(ys,"").match(bs);return{alert:y,children:u(g,f)}},render(i,u,f){const y={key:f.key};return i.alert&&(y.className="markdown-alert-"+e.slugify(i.alert.toLowerCase(),Oe),i.children.unshift({attrs:{},children:[{type:A.text,text:i.alert}],noInnerParse:!0,type:A.htmlBlock,tag:"header"})),r("blockquote",y,u(i.children,f))}},[A.breakLine]:{match:De(xs),order:1,parse:st,render:(i,u,f)=>r("br",{key:f.key})},[A.breakThematic]:{match:re(Ss),order:1,parse:st,render:(i,u,f)=>r("hr",{key:f.key})},[A.codeBlock]:{match:re(mr),order:0,parse:i=>({lang:void 0,text:Ae(i[0].replace(/^ {4}/gm,"")).replace(rt,"$1")}),render:(i,u,f)=>r("pre",{key:f.key},r("code",ge({},i.attrs,{className:i.lang?`lang-${i.lang}`:""}),i.text))},[A.codeFenced]:{match:re(ur),order:0,parse:i=>({attrs:s("code",i[3]||""),lang:i[2]||void 0,text:i[4].replace(rt,"$1"),type:A.codeBlock})},[A.codeInline]:{match:le(Fs),order:3,parse:i=>({text:i[2].replace(rt,"$1")}),render:(i,u,f)=>r("code",{key:f.key},i.text)},[A.footnote]:{match:re(js),order:0,parse:i=>(a.push({footnote:i[2],identifier:i[1]}),{}),render:it},[A.footnoteReference]:{match:oe(ws),order:1,parse:i=>({target:`#${e.slugify(i[1],Oe)}`,text:i[1]}),render:(i,u,f)=>r("a",{key:f.key,href:e.sanitizer(i.target,"a","href")},r("sup",{key:f.key},i.text))},[A.gfmTask]:{match:oe(Ds),order:1,parse:i=>({completed:i[1].toLowerCase()==="x"}),render:(i,u,f)=>r("input",{checked:i.completed,key:f.key,readOnly:!0,type:"checkbox"})},[A.heading]:{match:re(e.enforceAtxHeadings?fr:hr),order:1,parse:(i,u,f)=>({children:Le(u,i[2],f),id:e.slugify(i[2],Oe),level:i[1].length}),render:(i,u,f)=>r(`h${i.level}`,{id:i.id,key:f.key},u(i.children,f))},[A.headingSetext]:{match:re(pr),order:0,parse:(i,u,f)=>({children:Le(u,i[1],f),level:i[2]==="="?1:2,type:A.heading})},[A.htmlBlock]:{match:De(ht),order:1,parse(i,u,f){const[,y]=i[3].match(Zs),g=new RegExp(`^${y}`,"gm"),b=i[3].replace(g,""),S=(x=b,oi.some(k=>k.test(x))?hi:Le);var x;const C=i[1].toLowerCase(),v=hs.indexOf(C)!==-1,F=(v?C:i[1]).trim(),w={attrs:s(F,i[2]),noInnerParse:v,tag:F};return f.inAnchor=f.inAnchor||C==="a",v?w.text=i[3]:w.children=S(u,b,f),f.inAnchor=!1,w},render:(i,u,f)=>r(i.tag,ge({key:f.key},i.attrs),i.text||(i.children?u(i.children,f):""))},[A.htmlSelfClosing]:{match:De(ft),order:1,parse(i){const u=i[1].trim();return{attrs:s(u,i[2]||""),tag:u}},render:(i,u,f)=>r(i.tag,ge({},i.attrs,{key:f.key}))},[A.htmlComment]:{match:De(gr),order:1,parse:()=>({}),render:it},[A.image]:{match:le(ai),order:1,parse:i=>({alt:i[1],target:Vt(i[2]),title:i[3]}),render:(i,u,f)=>r("img",{key:f.key,alt:i.alt||void 0,title:i.title||void 0,src:e.sanitizer(i.target,"img","src")})},[A.link]:{match:oe(ii),order:3,parse:(i,u,f)=>({children:mi(u,i[1],f),target:Vt(i[2]),title:i[3]}),render:(i,u,f)=>r("a",{key:f.key,href:e.sanitizer(i.target,"a","href"),title:i.title},u(i.children,f))},[A.linkAngleBraceStyleDetector]:{match:oe(Bs),order:0,parse:i=>({children:[{text:i[1],type:A.text}],target:i[1],type:A.link})},[A.linkBareUrlDetector]:{match:je((i,u)=>u.inAnchor||e.disableAutoLink?null:oe(Ns)(i,u)),order:0,parse:i=>({children:[{text:i[1],type:A.text}],target:i[1],title:void 0,type:A.link})},[A.linkMailtoDetector]:{match:oe(Ts),order:0,parse(i){let u=i[1],f=i[1];return ps.test(f)||(f="mailto:"+f),{children:[{text:u.replace("mailto:",""),type:A.text}],target:f,type:A.link}}},[A.orderedList]:Wt(r,1),[A.unorderedList]:Wt(r,2),[A.newlineCoalescer]:{match:re(Cs),order:3,parse:st,render:()=>`
`},[A.paragraph]:{match:je(di),order:3,parse:nt,render:(i,u,f)=>r("p",{key:f.key},u(i.children,f))},[A.ref]:{match:oe(Us),order:0,parse:i=>(o[i[1]]={target:i[2],title:i[4]},{}),render:it},[A.refImage]:{match:le(_s),order:0,parse:i=>({alt:i[1]||void 0,ref:i[2]}),render:(i,u,f)=>o[i.ref]?r("img",{key:f.key,alt:i.alt,src:e.sanitizer(o[i.ref].target,"img","src"),title:o[i.ref].title}):null},[A.refLink]:{match:oe(Ps),order:0,parse:(i,u,f)=>({children:u(i[1],f),fallbackChildren:i[0],ref:i[2]}),render:(i,u,f)=>o[i.ref]?r("a",{key:f.key,href:e.sanitizer(o[i.ref].target,"a","href"),title:o[i.ref].title},u(i.children,f)):r("span",{key:f.key},i.fallbackChildren)},[A.table]:{match:re(yr),order:1,parse:ci,render(i,u,f){const y=i;return r("table",{key:f.key},r("thead",null,r("tr",null,y.header.map(function(g,b){return r("th",{key:b,style:Mt(y,b)},u(g,f))}))),r("tbody",null,y.cells.map(function(g,b){return r("tr",{key:b},g.map(function(S,x){return r("td",{key:x,style:Mt(y,x)},u(S,f))}))})))}},[A.text]:{match:De(Gs),order:4,parse:i=>({text:i[0].replace(As,(u,f)=>e.namedCodesToUnicode[f]?e.namedCodesToUnicode[f]:u)}),render:i=>i.text},[A.textBolded]:{match:le(Ks),order:2,parse:(i,u,f)=>({children:u(i[2],f)}),render:(i,u,f)=>r("strong",{key:f.key},u(i.children,f))},[A.textEmphasized]:{match:le(Hs),order:3,parse:(i,u,f)=>({children:u(i[2],f)}),render:(i,u,f)=>r("em",{key:f.key},u(i.children,f))},[A.textEscaped]:{match:le(Js),order:1,parse:i=>({text:i[1],type:A.text})},[A.textMarked]:{match:le(Ys),order:3,parse:nt,render:(i,u,f)=>r("mark",{key:f.key},u(i.children,f))},[A.textStrikethroughed]:{match:le(zs),order:3,parse:nt,render:(i,u,f)=>r("del",{key:f.key},u(i.children,f))}};e.disableParsingRawHTML===!0&&(delete l[A.htmlBlock],delete l[A.htmlSelfClosing]);const c=function(i){let u=Object.keys(i);function f(y,g){let b,S,x=[],C="",v="";for(g.prevCapture=g.prevCapture||"";y;){let F=0;for(;F<u.length;){if(C=u[F],b=i[C],g.inline&&!b.match.inline){F++;continue}const w=b.match(y,g);if(w){v=w[0],g.prevCapture+=v,y=y.substring(v.length),S=b.parse(w,f,g),S.type==null&&(S.type=C),x.push(S);break}F++}}return g.prevCapture="",x}return u.sort(function(y,g){let b=i[y].order,S=i[g].order;return b!==S?b-S:y<g?-1:1}),function(y,g){return f(function(b){return b.replace(vs,`
`).replace(ks,"").replace(Ws,"    ")}(y),g)}}(l),d=(h=function(i,u){return function(f,y,g){const b=i[f.type].render;return u?u(()=>b(f,y,g),f,y,g):b(f,y,g)}}(l,e.renderRule),function i(u,f={}){if(Array.isArray(u)){const y=f.key,g=[];let b=!1;for(let S=0;S<u.length;S++){f.key=S;const x=i(u[S],f),C=typeof x=="string";C&&b?g[g.length-1]+=x:x!==null&&g.push(x),b=C}return f.key=y,g}return h(u,i,f)});var h;const p=n(t);return a.length?r("div",null,p,r("footer",{key:"footer"},a.map(function(i){return r("div",{id:e.slugify(i.identifier,Oe),key:i.identifier},i.identifier,d(c(i.footnote,{inline:!0})))}))):p}const Je=t=>{let{children:e="",options:r}=t,n=function(s,a){if(s==null)return{};var o,l,c={},d=Object.keys(s);for(l=0;l<d.length;l++)a.indexOf(o=d[l])>=0||(c[o]=s[o]);return c}(t,ms);return O.cloneElement(pi(e,r),n)};class gi extends O.Component{constructor(){super(...arguments),this.state={wasPropertyKeyModified:!1,additionalProperties:{}},this.onPropertyChange=(e,r=!1)=>(n,s,a)=>{const{formData:o,onChange:l,errorSchema:c}=this.props;n===void 0&&r&&(n="");const d={...o,[e]:n};l(d,c&&c&&{...c,[e]:s},a)},this.onDropPropertyClick=e=>r=>{r.preventDefault();const{onChange:n,formData:s}=this.props,a={...s};Dn(a,e),n(a)},this.getAvailableKey=(e,r)=>{const{uiSchema:n,registry:s}=this.props,{duplicateKeySuffixSeparator:a="-"}=_(n,s.globalUiOptions);let o=0,l=e;for(;Et(r,l);)l=`${e}${a}${++o}`;return l},this.onKeyChange=e=>(r,n)=>{if(e===r)return;const{formData:s,onChange:a,errorSchema:o}=this.props;r=this.getAvailableKey(r,s);const l={...s},c={[e]:r},d=Object.keys(l).map(p=>({[c[p]||p]:l[p]})),h=Object.assign({},...d);this.setState({wasPropertyKeyModified:!0}),a(h,o&&o&&{...o,[r]:n})},this.handleAddClick=e=>()=>{var r;if(!e.additionalProperties)return;const{formData:n,onChange:s,registry:a}=this.props,o={...n};let l,c,d;if(me(e.additionalProperties)){l=e.additionalProperties.type,c=e.additionalProperties.const,d=e.additionalProperties.default;let i=e.additionalProperties;if(ne in i){const{schemaUtils:u}=a;i=u.retrieveSchema({$ref:i[ne]},n),l=i.type,c=i.const,d=i.default}!l&&(X in i||Q in i)&&(l="object")}const h=this.getAvailableKey("newKey",o),p=(r=c??d)!==null&&r!==void 0?r:this.getDefaultValue(l);Z(o,h,p),s(o)}}isRequired(e){const{schema:r}=this.props;return Array.isArray(r.required)&&r.required.indexOf(e)!==-1}getDefaultValue(e){const{registry:{translateString:r}}=this.props;switch(e){case"array":return[];case"boolean":return!1;case"null":return null;case"number":return 0;case"object":return{};case"string":default:return r(W.NewStringDefault)}}render(){var e,r,n,s;const{schema:a,uiSchema:o={},formData:l,errorSchema:c,idSchema:d,name:h,required:p=!1,disabled:i,readonly:u,hideError:f,idPrefix:y,idSeparator:g,onBlur:b,onFocus:S,registry:x,title:C}=this.props,{fields:v,formContext:F,schemaUtils:w,translateString:k,globalUiOptions:E}=x,{SchemaField:j}=v,T=w.retrieveSchema(a,l),B=_(o,E),{properties:I={}}=T,L=(n=(r=(e=B.title)!==null&&e!==void 0?e:T.title)!==null&&r!==void 0?r:C)!==null&&n!==void 0?n:h,N=(s=B.description)!==null&&s!==void 0?s:T.description;let P;try{const D=Object.keys(I);P=rs(D,B.order)}catch(D){return m.jsxs("div",{children:[m.jsx("p",{className:"config-error",style:{color:"red"},children:m.jsx(Je,{options:{disableParsingRawHTML:!0},children:k(W.InvalidObjectField,[h||"root",D.message])})}),m.jsx("pre",{children:JSON.stringify(T)})]})}const V=U("ObjectFieldTemplate",x,B),$={title:B.label===!1?"":L,description:B.label===!1?void 0:N,properties:P.map(D=>{const q=Et(T,[J,D,He]),H=q?o.additionalProperties:o[D],se=_(H).widget==="hidden",G=ue(d,[D],{});return{content:m.jsx(j,{name:D,required:this.isRequired(D),schema:ue(T,[J,D],{}),uiSchema:H,errorSchema:ue(c,D),idSchema:G,idPrefix:y,idSeparator:g,formData:ue(l,D),formContext:F,wasPropertyKeyModified:this.state.wasPropertyKeyModified,onKeyChange:this.onKeyChange(D),onChange:this.onPropertyChange(D,q),onBlur:b,onFocus:S,registry:x,disabled:i,readonly:u,hideError:f,onDropPropertyClick:this.onDropPropertyClick},D),name:D,readonly:u,disabled:i,required:p,hidden:se}}),readonly:u,disabled:i,required:p,idSchema:d,uiSchema:o,errorSchema:c,schema:T,formData:l,formContext:F,registry:x};return m.jsx(V,{...$,onAddClick:this.handleAddClick})}}const yi={array:"ArrayField",boolean:"BooleanField",integer:"NumberField",number:"NumberField",object:"ObjectField",string:"StringField",null:"NullField"};function bi(t,e,r,n){const s=e.field,{fields:a,translateString:o}=n;if(typeof s=="function")return s;if(typeof s=="string"&&s in a)return a[s];const l=Ee(t),c=Array.isArray(l)?l[0]:l||"",d=t.$id;let h=yi[c];return d&&d in a&&(h=d),!h&&(t.anyOf||t.oneOf)?()=>null:h in a?a[h]:()=>{const p=U("UnsupportedFieldTemplate",n,e);return m.jsx(p,{schema:t,idSchema:r,reason:o(W.UnknownFieldType,[String(t.type)]),registry:n})}}function xi(t){var e,r,n;const{schema:s,idSchema:a,uiSchema:o,formData:l,errorSchema:c,idPrefix:d,idSeparator:h,name:p,onChange:i,onKeyChange:u,onDropPropertyClick:f,required:y,registry:g,wasPropertyKeyModified:b=!1}=t,{formContext:S,schemaUtils:x,globalUiOptions:C}=g,v=_(o,C),F=U("FieldTemplate",g,v),w=U("DescriptionFieldTemplate",g,v),k=U("FieldHelpTemplate",g,v),E=U("FieldErrorTemplate",g,v),j=x.retrieveSchema(s,l),T=a[ct],B=Ce(x.toIdSchema(j,T,l,d,h),a),I=O.useCallback((fe,$r,Ur)=>i(fe,$r,Ur||T),[T,i]),L=bi(j,v,B,g),N=!!((e=v.disabled)!==null&&e!==void 0?e:t.disabled),P=!!((r=v.readonly)!==null&&r!==void 0?r:t.readonly||t.schema.const||t.schema.readOnly||j.readOnly),V=v.hideError,$=V===void 0?t.hideError:!!V,D=!!((n=v.autofocus)!==null&&n!==void 0?n:t.autofocus);if(Object.keys(j).length===0)return null;const q=x.getDisplayLabel(j,o,C),{__errors:H,...se}=c||{},G=dt(o,["ui:classNames","classNames","ui:style"]);Pe in G&&(G[Pe]=dt(G[Pe],["classNames","style"]));const ie=m.jsx(L,{...t,onChange:I,idSchema:B,schema:j,uiSchema:G,disabled:N,readonly:P,hideError:$,autofocus:D,errorSchema:se,formContext:S,rawErrors:H}),xe=B[ct];let we;b?we=p:we=He in j?p:v.title||t.schema.title||j.title||t.title||p;const Qe=v.description||t.schema.description||j.description||"",Dr=v.enableMarkdownInDescription?m.jsx(Je,{options:{disableParsingRawHTML:!0},children:Qe}):Qe,Ze=v.help,Ar=v.widget==="hidden",$e=["form-group","field",`field-${Ee(j)}`];!$&&H&&H.length>0&&$e.push("field-error has-error has-danger"),o!=null&&o.classNames&&$e.push(o.classNames),v.classNames&&$e.push(v.classNames);const Er=m.jsx(k,{help:Ze,idSchema:B,schema:j,uiSchema:o,hasErrors:!$&&H&&H.length>0,registry:g}),Ir=$||(j.anyOf||j.oneOf)&&!x.isSelect(j)?void 0:m.jsx(E,{errors:H,errorSchema:c,idSchema:B,schema:j,uiSchema:o,registry:g}),Nr={description:m.jsx(w,{id:Ie(xe),description:Dr,schema:j,uiSchema:o,registry:g}),rawDescription:Qe,help:Er,rawHelp:typeof Ze=="string"?Ze:void 0,errors:Ir,rawErrors:$?void 0:H,id:xe,label:we,hidden:Ar,onChange:i,onKeyChange:u,onDropPropertyClick:f,required:y,disabled:N,readonly:P,hideError:$,displayLabel:q,classNames:$e.join(" ").trim(),style:v.style,formContext:S,formData:l,schema:j,uiSchema:o,registry:g},Tr=g.fields.AnyOfField,Br=g.fields.OneOfField,jt=(o==null?void 0:o["ui:field"])&&(o==null?void 0:o["ui:fieldReplacesAnyOrOneOf"])===!0;return m.jsx(F,{...Nr,children:m.jsxs(m.Fragment,{children:[ie,j.anyOf&&!jt&&!x.isSelect(j)&&m.jsx(Tr,{name:p,disabled:N,readonly:P,hideError:$,errorSchema:c,formData:l,formContext:S,idPrefix:d,idSchema:B,idSeparator:h,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:j.anyOf.map(fe=>x.retrieveSchema(me(fe)?fe:{},l)),registry:g,required:y,schema:j,uiSchema:o}),j.oneOf&&!jt&&!x.isSelect(j)&&m.jsx(Br,{name:p,disabled:N,readonly:P,hideError:$,errorSchema:c,formData:l,formContext:S,idPrefix:d,idSchema:B,idSeparator:h,onBlur:t.onBlur,onChange:t.onChange,onFocus:t.onFocus,options:j.oneOf.map(fe=>x.retrieveSchema(me(fe)?fe:{},l)),registry:g,required:y,schema:j,uiSchema:o})]})})}class Si extends O.Component{shouldComponentUpdate(e){return!M(this.props,e)}render(){return m.jsx(xi,{...this.props})}}function Fi(t){var e;const{schema:r,name:n,uiSchema:s,idSchema:a,formData:o,required:l,disabled:c=!1,readonly:d=!1,autofocus:h=!1,onChange:p,onBlur:i,onFocus:u,registry:f,rawErrors:y,hideError:g}=t,{title:b,format:S}=r,{widgets:x,formContext:C,schemaUtils:v,globalUiOptions:F}=f,w=v.isSelect(r)?Ve(r,s):void 0;let k=w?"select":"text";S&&Xn(r,S,x)&&(k=S);const{widget:E=k,placeholder:j="",title:T,...B}=_(s),I=v.getDisplayLabel(r,s,F),L=(e=T??b)!==null&&e!==void 0?e:n,N=ee(r,E,x);return m.jsx(N,{options:{...B,enumOptions:w},schema:r,uiSchema:s,id:a.$id,name:n,label:L,hideLabel:!I,hideError:g,value:o,onChange:p,onBlur:i,onFocus:u,required:l,disabled:c,readonly:d,formContext:C,autofocus:h,registry:f,placeholder:j,rawErrors:y})}function Ci(t){const{formData:e,onChange:r}=t;return O.useEffect(()=>{e===void 0&&r(null)},[e,r]),null}function vi(){return{AnyOfField:Ut,ArrayField:os,BooleanField:ls,NumberField:us,ObjectField:gi,OneOfField:Ut,SchemaField:Si,StringField:Fi,NullField:Ci}}function ji(t){const{idSchema:e,description:r,registry:n,schema:s,uiSchema:a}=t,o=_(a,n.globalUiOptions),{label:l=!0}=o;if(!r||!l)return null;const c=U("DescriptionFieldTemplate",n,o);return m.jsx(c,{id:Ie(e),description:r,schema:s,uiSchema:a,registry:n})}function wi(t){const{children:e,className:r,disabled:n,hasToolbar:s,hasMoveDown:a,hasMoveUp:o,hasRemove:l,hasCopy:c,index:d,onCopyIndexClick:h,onDropIndexClick:p,onReorderClick:i,readonly:u,registry:f,uiSchema:y}=t,{CopyButton:g,MoveDownButton:b,MoveUpButton:S,RemoveButton:x}=f.templates.ButtonTemplates,C={flex:1,paddingLeft:6,paddingRight:6,fontWeight:"bold"};return m.jsxs("div",{className:r,children:[m.jsx("div",{className:s?"col-xs-9":"col-xs-12",children:e}),s&&m.jsx("div",{className:"col-xs-3 array-item-toolbox",children:m.jsxs("div",{className:"btn-group",style:{display:"flex",justifyContent:"space-around"},children:[(o||a)&&m.jsx(S,{style:C,disabled:n||u||!o,onClick:i(d,d-1),uiSchema:y,registry:f}),(o||a)&&m.jsx(b,{style:C,disabled:n||u||!a,onClick:i(d,d+1),uiSchema:y,registry:f}),c&&m.jsx(g,{style:C,disabled:n||u,onClick:h(d),uiSchema:y,registry:f}),l&&m.jsx(x,{style:C,disabled:n||u,onClick:p(d),uiSchema:y,registry:f})]})})]})}function ki(t){const{canAdd:e,className:r,disabled:n,idSchema:s,uiSchema:a,items:o,onAddClick:l,readonly:c,registry:d,required:h,schema:p,title:i}=t,u=_(a),f=U("ArrayFieldDescriptionTemplate",d,u),y=U("ArrayFieldItemTemplate",d,u),g=U("ArrayFieldTitleTemplate",d,u),{ButtonTemplates:{AddButton:b}}=d.templates;return m.jsxs("fieldset",{className:r,id:s.$id,children:[m.jsx(g,{idSchema:s,title:u.title||i,required:h,schema:p,uiSchema:a,registry:d}),m.jsx(f,{idSchema:s,description:u.description||p.description,schema:p,uiSchema:a,registry:d}),m.jsx("div",{className:"row array-item-list",children:o&&o.map(({key:S,...x})=>m.jsx(y,{...x},S))}),e&&m.jsx(b,{className:"array-item-add",onClick:l,disabled:n||c,uiSchema:a,registry:d})]})}function Oi(t){const{idSchema:e,title:r,schema:n,uiSchema:s,required:a,registry:o}=t,l=_(s,o.globalUiOptions),{label:c=!0}=l;if(!r||!c)return null;const d=U("TitleFieldTemplate",o,l);return m.jsx(d,{id:Ft(e),title:r,required:a,schema:n,uiSchema:s,registry:o})}function Di(t){const{id:e,name:r,value:n,readonly:s,disabled:a,autofocus:o,onBlur:l,onFocus:c,onChange:d,onChangeOverride:h,options:p,schema:i,uiSchema:u,formContext:f,registry:y,rawErrors:g,type:b,hideLabel:S,hideError:x,...C}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const v={...C,...cr(i,b,p)};let F;v.type==="number"||v.type==="integer"?F=n||n===0?n:"":F=n??"";const w=O.useCallback(({target:{value:j}})=>d(j===""?p.emptyValue:j),[d,p]),k=O.useCallback(({target:j})=>l(e,j&&j.value),[l,e]),E=O.useCallback(({target:j})=>c(e,j&&j.value),[c,e]);return m.jsxs(m.Fragment,{children:[m.jsx("input",{id:e,name:e,className:"form-control",readOnly:s,disabled:a,autoFocus:o,value:F,...v,list:i.examples?qe(e):void 0,onChange:h||w,onBlur:k,onFocus:E,"aria-describedby":te(e,!!i.examples)}),Array.isArray(i.examples)&&m.jsx("datalist",{id:qe(e),children:i.examples.concat(i.default&&!i.examples.includes(i.default)?[i.default]:[]).map(j=>m.jsx("option",{value:j},j))},`datalist_${e}`)]})}function Ai({uiSchema:t}){const{submitText:e,norender:r,props:n={}}=Qn(t);return r?null:m.jsx("div",{children:m.jsx("button",{type:"submit",...n,className:`btn btn-info ${n.className||""}`,children:e})})}function Te(t){const{iconType:e="default",icon:r,className:n,uiSchema:s,registry:a,...o}=t;return m.jsx("button",{type:"button",className:`btn btn-${e} ${n}`,...o,children:m.jsx("i",{className:`glyphicon glyphicon-${r}`})})}function Ei(t){const{registry:{translateString:e}}=t;return m.jsx(Te,{title:e(W.CopyButton),className:"array-item-copy",...t,icon:"copy"})}function Ii(t){const{registry:{translateString:e}}=t;return m.jsx(Te,{title:e(W.MoveDownButton),className:"array-item-move-down",...t,icon:"arrow-down"})}function Ni(t){const{registry:{translateString:e}}=t;return m.jsx(Te,{title:e(W.MoveUpButton),className:"array-item-move-up",...t,icon:"arrow-up"})}function Ti(t){const{registry:{translateString:e}}=t;return m.jsx(Te,{title:e(W.RemoveButton),className:"array-item-remove",...t,iconType:"danger",icon:"remove"})}function Bi({className:t,onClick:e,disabled:r,registry:n}){const{translateString:s}=n;return m.jsx("div",{className:"row",children:m.jsx("p",{className:`col-xs-3 col-xs-offset-9 text-right ${t}`,children:m.jsx(Te,{iconType:"info",icon:"plus",className:"btn-add col-xs-12",title:s(W.AddButton),onClick:e,disabled:r,registry:n})})})}function $i(){return{SubmitButton:Ai,AddButton:Bi,CopyButton:Ei,MoveDownButton:Ii,MoveUpButton:Ni,RemoveButton:Ti}}function Ui(t){const{id:e,description:r}=t;return r?typeof r=="string"?m.jsx("p",{id:e,className:"field-description",children:r}):m.jsx("div",{id:e,className:"field-description",children:r}):null}function _i({errors:t,registry:e}){const{translateString:r}=e;return m.jsxs("div",{className:"panel panel-danger errors",children:[m.jsx("div",{className:"panel-heading",children:m.jsx("h3",{className:"panel-title",children:r(W.ErrorsLabel)})}),m.jsx("ul",{className:"list-group",children:t.map((n,s)=>m.jsx("li",{className:"list-group-item text-danger",children:n.stack},s))})]})}const Pi="*";function Or(t){const{label:e,required:r,id:n}=t;return e?m.jsxs("label",{className:"control-label",htmlFor:n,children:[e,r&&m.jsx("span",{className:"required",children:Pi})]}):null}function Ri(t){const{id:e,label:r,children:n,errors:s,help:a,description:o,hidden:l,required:c,displayLabel:d,registry:h,uiSchema:p}=t,i=_(p),u=U("WrapIfAdditionalTemplate",h,i);return l?m.jsx("div",{className:"hidden",children:n}):m.jsxs(u,{...t,children:[d&&m.jsx(Or,{label:r,required:c,id:e}),d&&o?o:null,n,s,a]})}function Wi(t){const{errors:e=[],idSchema:r}=t;if(e.length===0)return null;const n=An(r);return m.jsx("div",{children:m.jsx("ul",{id:n,className:"error-detail bs-callout bs-callout-info",children:e.filter(s=>!!s).map((s,a)=>m.jsx("li",{className:"text-danger",children:s},a))})})}function Li(t){const{idSchema:e,help:r}=t;if(!r)return null;const n=En(e);return typeof r=="string"?m.jsx("p",{id:n,className:"help-block",children:r}):m.jsx("div",{id:n,className:"help-block",children:r})}function Mi(t){const{description:e,disabled:r,formData:n,idSchema:s,onAddClick:a,properties:o,readonly:l,registry:c,required:d,schema:h,title:p,uiSchema:i}=t,u=_(i),f=U("TitleFieldTemplate",c,u),y=U("DescriptionFieldTemplate",c,u),{ButtonTemplates:{AddButton:g}}=c.templates;return m.jsxs("fieldset",{id:s.$id,children:[p&&m.jsx(f,{id:Ft(s),title:p,required:d,schema:h,uiSchema:i,registry:c}),e&&m.jsx(y,{id:Ie(s),description:e,schema:h,uiSchema:i,registry:c}),o.map(b=>b.content),rr(h,i,n)&&m.jsx(g,{className:"object-property-expand",onClick:a(h),disabled:r||l,uiSchema:i,registry:c})]})}const Vi="*";function qi(t){const{id:e,title:r,required:n}=t;return m.jsxs("legend",{id:e,children:[r,n&&m.jsx("span",{className:"required",children:Vi})]})}function Ki(t){const{schema:e,idSchema:r,reason:n,registry:s}=t,{translateString:a}=s;let o=W.UnsupportedField;const l=[];return r&&r.$id&&(o=W.UnsupportedFieldWithId,l.push(r.$id)),n&&(o=o===W.UnsupportedField?W.UnsupportedFieldWithReason:W.UnsupportedFieldWithIdAndReason,l.push(n)),m.jsxs("div",{className:"unsupported-field",children:[m.jsx("p",{children:m.jsx(Je,{options:{disableParsingRawHTML:!0},children:a(o,l)})}),e&&m.jsx("pre",{children:JSON.stringify(e,null,2)})]})}function Hi(t){const{id:e,classNames:r,style:n,disabled:s,label:a,onKeyChange:o,onDropPropertyClick:l,readonly:c,required:d,schema:h,children:p,uiSchema:i,registry:u}=t,{templates:f,translateString:y}=u,{RemoveButton:g}=f.ButtonTemplates,b=y(W.KeyLabel,[a]);return He in h?m.jsx("div",{className:r,style:n,children:m.jsxs("div",{className:"row",children:[m.jsx("div",{className:"col-xs-5 form-additional",children:m.jsxs("div",{className:"form-group",children:[m.jsx(Or,{label:b,required:d,id:`${e}-key`}),m.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:({target:x})=>o(x&&x.value),defaultValue:a})]})}),m.jsx("div",{className:"form-additional form-group col-xs-5",children:p}),m.jsx("div",{className:"col-xs-2",children:m.jsx(g,{className:"array-item-remove btn-block",style:{border:"0"},disabled:s||c,onClick:l(a),uiSchema:i,registry:u})})]})}):m.jsx("div",{className:r,style:n,children:p})}function Yi(){return{ArrayFieldDescriptionTemplate:ji,ArrayFieldItemTemplate:wi,ArrayFieldTemplate:ki,ArrayFieldTitleTemplate:Oi,ButtonTemplates:$i(),BaseInputTemplate:Di,DescriptionFieldTemplate:Ui,ErrorListTemplate:_i,FieldTemplate:Ri,FieldErrorTemplate:Wi,FieldHelpTemplate:Li,ObjectFieldTemplate:Mi,TitleFieldTemplate:qi,UnsupportedFieldTemplate:Ki,WrapIfAdditionalTemplate:Hi}}function zi(t){return Object.values(t).every(e=>e!==-1)}function Ji({type:t,range:e,value:r,select:n,rootId:s,name:a,disabled:o,readonly:l,autofocus:c,registry:d,onBlur:h,onFocus:p}){const i=s+"_"+t,{SelectWidget:u}=d.widgets;return m.jsx(u,{schema:{type:"integer"},id:i,name:a,className:"form-control",options:{enumOptions:ir(e[0],e[1])},placeholder:t,value:r,disabled:o,readonly:l,autofocus:c,onChange:f=>n(t,f),onBlur:h,onFocus:p,registry:d,label:"","aria-describedby":te(s)})}function Gi({time:t=!1,disabled:e=!1,readonly:r=!1,autofocus:n=!1,options:s,id:a,name:o,registry:l,onBlur:c,onFocus:d,onChange:h,value:p}){const{translateString:i}=l,[u,f]=O.useState(p),[y,g]=O.useReducer((C,v)=>({...C,...v}),et(p,t));O.useEffect(()=>{const C=Bt(y,t);zi(y)&&C!==p?h(C):u!==p&&(f(p),g(et(p,t)))},[t,p,h,y,u]);const b=O.useCallback((C,v)=>{g({[C]:v})},[]),S=O.useCallback(C=>{if(C.preventDefault(),e||r)return;const v=et(new Date().toJSON(),t);h(Bt(v,t))},[e,r,t]),x=O.useCallback(C=>{C.preventDefault(),!(e||r)&&h(void 0)},[e,r,h]);return m.jsxs("ul",{className:"list-inline",children:[Jn(y,t,s.yearsRange,s.format).map((C,v)=>m.jsx("li",{className:"list-inline-item",children:m.jsx(Ji,{rootId:a,name:o,select:b,...C,disabled:e,readonly:r,registry:l,onBlur:c,onFocus:d,autofocus:n&&v===0})},v)),(s.hideNowButton!=="undefined"?!s.hideNowButton:!0)&&m.jsx("li",{className:"list-inline-item",children:m.jsx("a",{href:"#",className:"btn btn-info btn-now",onClick:S,children:i(W.NowLabel)})}),(s.hideClearButton!=="undefined"?!s.hideClearButton:!0)&&m.jsx("li",{className:"list-inline-item",children:m.jsx("a",{href:"#",className:"btn btn-warning btn-clear",onClick:x,children:i(W.ClearLabel)})})]})}function Qi({time:t=!0,...e}){const{AltDateWidget:r}=e.registry.widgets;return m.jsx(r,{time:t,...e})}function Zi({schema:t,uiSchema:e,options:r,id:n,value:s,disabled:a,readonly:o,label:l,hideLabel:c,autofocus:d=!1,onBlur:h,onFocus:p,onChange:i,registry:u}){var f;const y=U("DescriptionFieldTemplate",u,r),g=We(t),b=O.useCallback(v=>i(v.target.checked),[i]),S=O.useCallback(v=>h(n,v.target.checked),[h,n]),x=O.useCallback(v=>p(n,v.target.checked),[p,n]),C=(f=r.description)!==null&&f!==void 0?f:t.description;return m.jsxs("div",{className:`checkbox ${a||o?"disabled":""}`,children:[!c&&!!C&&m.jsx(y,{id:Ie(n),description:C,schema:t,uiSchema:e,registry:u}),m.jsxs("label",{children:[m.jsx("input",{type:"checkbox",id:n,name:n,checked:typeof s>"u"?!1:s,required:g,disabled:a||o,autoFocus:d,onChange:b,onBlur:S,onFocus:x,"aria-describedby":te(n)}),es(m.jsx("span",{children:l}),c)]})]})}function Xi({id:t,disabled:e,options:{inline:r=!1,enumOptions:n,enumDisabled:s,emptyValue:a},value:o,autofocus:l=!1,readonly:c,onChange:d,onBlur:h,onFocus:p}){const i=Array.isArray(o)?o:[o],u=O.useCallback(({target:y})=>h(t,K(y&&y.value,n,a)),[h,t]),f=O.useCallback(({target:y})=>p(t,K(y&&y.value,n,a)),[p,t]);return m.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(n)&&n.map((y,g)=>{const b=Ne(y.value,i),S=Array.isArray(s)&&s.indexOf(y.value)!==-1,x=e||S||c?"disabled":"",C=F=>{F.target.checked?d(lr(g,i,n)):d(ar(g,i,n))},v=m.jsxs("span",{children:[m.jsx("input",{type:"checkbox",id:Ye(t,g),name:t,checked:b,value:String(g),disabled:e||S||c,autoFocus:l&&g===0,onChange:C,onBlur:u,onFocus:f,"aria-describedby":te(t)}),m.jsx("span",{children:y.label})]});return r?m.jsx("label",{className:`checkbox-inline ${x}`,children:v},g):m.jsx("div",{className:`checkbox ${x}`,children:m.jsx("label",{children:v})},g)})})}function ea(t){const{disabled:e,readonly:r,options:n,registry:s}=t,a=U("BaseInputTemplate",s,n);return m.jsx(a,{type:"color",...t,disabled:e||r})}function ta(t){const{onChange:e,options:r,registry:n}=t,s=U("BaseInputTemplate",n,r),a=O.useCallback(o=>e(o||void 0),[e]);return m.jsx(s,{type:"date",...t,onChange:a})}function ra(t){const{onChange:e,value:r,options:n,registry:s}=t,a=U("BaseInputTemplate",s,n);return m.jsx(a,{type:"datetime-local",...t,value:is(r),onChange:o=>e(ts(o))})}function na(t){const{options:e,registry:r}=t,n=U("BaseInputTemplate",r,e);return m.jsx(n,{type:"email",...t})}function sa(t,e){return t===null?null:t.replace(";base64",`;name=${encodeURIComponent(e)};base64`)}function ia(t){const{name:e,size:r,type:n}=t;return new Promise((s,a)=>{const o=new window.FileReader;o.onerror=a,o.onload=l=>{var c;typeof((c=l.target)===null||c===void 0?void 0:c.result)=="string"?s({dataURL:sa(l.target.result,e),name:e,size:r,type:n}):s({dataURL:null,name:e,size:r,type:n})},o.readAsDataURL(t)})}function aa(t){return Promise.all(Array.from(t).map(ia))}function oa({fileInfo:t,registry:e}){const{translateString:r}=e,{dataURL:n,type:s,name:a}=t;return n?["image/jpeg","image/png"].includes(s)?m.jsx("img",{src:n,style:{maxWidth:"100%"},className:"file-preview"}):m.jsxs(m.Fragment,{children:[" ",m.jsx("a",{download:`preview-${a}`,href:n,className:"file-download",children:r(W.PreviewLabel)})]}):null}function la({filesInfo:t,registry:e,preview:r,onRemove:n,options:s}){if(t.length===0)return null;const{translateString:a}=e,{RemoveButton:o}=U("ButtonTemplates",e,s);return m.jsx("ul",{className:"file-info",children:t.map((l,c)=>{const{name:d,size:h,type:p}=l,i=()=>n(c);return m.jsxs("li",{children:[m.jsx(Je,{children:a(W.FilesInfo,[d,p,String(h)])}),r&&m.jsx(oa,{fileInfo:l,registry:e}),m.jsx(o,{onClick:i,registry:e})]},c)})})}function ca(t){return t.reduce((e,r)=>{if(!r)return e;try{const{blob:n,name:s}=Kn(r);return[...e,{dataURL:r,name:s,size:n.size,type:n.type}]}catch{return e}},[])}function da(t){const{disabled:e,readonly:r,required:n,multiple:s,onChange:a,value:o,options:l,registry:c}=t,d=U("BaseInputTemplate",c,l),h=O.useCallback(u=>{u.target.files&&aa(u.target.files).then(f=>{const y=f.map(g=>g.dataURL);a(s?o.concat(y):y[0])})},[s,o,a]),p=O.useMemo(()=>ca(Array.isArray(o)?o:[o]),[o]),i=O.useCallback(u=>{if(s){const f=o.filter((y,g)=>g!==u);a(f)}else a(void 0)},[s,o,a]);return m.jsxs("div",{children:[m.jsx(d,{...t,disabled:e||r,type:"file",required:o?!1:n,onChangeOverride:h,value:"",accept:l.accept?String(l.accept):void 0}),m.jsx(la,{filesInfo:p,onRemove:i,registry:c,preview:l.filePreview,options:l})]})}function ua({id:t,value:e}){return m.jsx("input",{type:"hidden",id:t,name:t,value:typeof e>"u"?"":e})}function ma(t){const{options:e,registry:r}=t,n=U("BaseInputTemplate",r,e);return m.jsx(n,{type:"password",...t})}function ha({options:t,value:e,required:r,disabled:n,readonly:s,autofocus:a=!1,onBlur:o,onFocus:l,onChange:c,id:d}){const{enumOptions:h,enumDisabled:p,inline:i,emptyValue:u}=t,f=O.useCallback(({target:g})=>o(d,K(g&&g.value,h,u)),[o,d]),y=O.useCallback(({target:g})=>l(d,K(g&&g.value,h,u)),[l,d]);return m.jsx("div",{className:"field-radio-group",id:d,children:Array.isArray(h)&&h.map((g,b)=>{const S=Ne(g.value,e),x=Array.isArray(p)&&p.indexOf(g.value)!==-1,C=n||x||s?"disabled":"",v=()=>c(g.value),F=m.jsxs("span",{children:[m.jsx("input",{type:"radio",id:Ye(d,b),checked:S,name:d,required:r,value:String(b),disabled:n||x||s,autoFocus:a&&b===0,onChange:v,onBlur:f,onFocus:y,"aria-describedby":te(d)}),m.jsx("span",{children:g.label})]});return i?m.jsx("label",{className:`radio-inline ${C}`,children:F},b):m.jsx("div",{className:`radio ${C}`,children:m.jsx("label",{children:F})},b)})})}function fa(t){const{value:e,registry:{templates:{BaseInputTemplate:r}}}=t;return m.jsxs("div",{className:"field-range-wrapper",children:[m.jsx(r,{type:"range",...t}),m.jsx("span",{className:"range-view",children:e})]})}function ot(t,e){return e?Array.from(t.target.options).slice().filter(r=>r.selected).map(r=>r.value):t.target.value}function pa({schema:t,id:e,options:r,value:n,required:s,disabled:a,readonly:o,multiple:l=!1,autofocus:c=!1,onChange:d,onBlur:h,onFocus:p,placeholder:i}){const{enumOptions:u,enumDisabled:f,emptyValue:y}=r,g=l?[]:"",b=O.useCallback(F=>{const w=ot(F,l);return p(e,K(w,u,y))},[p,e,t,l,u,y]),S=O.useCallback(F=>{const w=ot(F,l);return h(e,K(w,u,y))},[h,e,t,l,u,y]),x=O.useCallback(F=>{const w=ot(F,l);return d(K(w,u,y))},[d,t,l,u,y]),C=or(n,u,l),v=!l&&t.default===void 0;return m.jsxs("select",{id:e,name:e,multiple:l,className:"form-control",value:typeof C>"u"?g:C,required:s,disabled:a||o,autoFocus:c,onBlur:S,onFocus:b,onChange:x,"aria-describedby":te(e),children:[v&&m.jsx("option",{value:"",children:i}),Array.isArray(u)&&u.map(({value:F,label:w},k)=>{const E=f&&f.indexOf(F)!==-1;return m.jsx("option",{value:String(k),disabled:E,children:w},k)})]})}function ga(t){const{options:e,registry:r}=t,n=U("BaseInputTemplate",r,e);return m.jsx(n,{...t})}function ya(t){const{onChange:e,options:r,registry:n}=t,s=U("BaseInputTemplate",n,r),a=O.useCallback(o=>e(o?`${o}:00`:void 0),[e]);return m.jsx(s,{type:"time",...t,onChange:a})}function ba(t){const{options:e,registry:r}=t,n=U("BaseInputTemplate",r,e);return m.jsx(n,{type:"url",...t})}function xa(t){const{options:e,registry:r}=t,n=U("BaseInputTemplate",r,e);return m.jsx(n,{type:"number",...t})}function Sa(){return{AltDateWidget:Gi,AltDateTimeWidget:Qi,CheckboxWidget:Zi,CheckboxesWidget:Xi,ColorWidget:ea,DateWidget:ta,DateTimeWidget:ra,EmailWidget:na,FileWidget:da,HiddenWidget:ua,PasswordWidget:ma,RadioWidget:ha,RangeWidget:fa,SelectWidget:pa,TextWidget:ga,TextareaWidget:In,TimeWidget:ya,UpDownWidget:xa,URLWidget:ba}}function Fa(){return{fields:vi(),templates:Yi(),widgets:Sa(),rootSchema:{},formContext:{},translateString:Yn}}class Ca extends O.Component{constructor(e){if(super(e),this.getUsedFormData=(r,n)=>{if(n.length===0&&typeof r!="object")return r;const s=It(r,n);return Array.isArray(r)?Object.keys(s).map(a=>s[a]):s},this.getFieldNames=(r,n)=>{const s=(a,o=[],l=[[]])=>(Object.keys(a).forEach(c=>{if(typeof a[c]=="object"){const d=l.map(h=>[...h,c]);a[c][Xt]&&a[c][_e]!==""?o.push(a[c][_e]):s(a[c],o,d)}else c===_e&&a[c]!==""&&l.forEach(d=>{const h=ue(n,d);(typeof h!="object"||tr(h)||Array.isArray(h)&&h.every(p=>typeof p!="object"))&&o.push(d)})}),o);return s(r)},this.omitExtraData=r=>{const{schema:n,schemaUtils:s}=this.state,a=s.retrieveSchema(n,r),o=s.toPathSchema(a,"",r),l=this.getFieldNames(o,r);return this.getUsedFormData(r,l)},this.onChange=(r,n,s)=>{const{extraErrors:a,omitExtraData:o,liveOmit:l,noValidate:c,liveValidate:d,onChange:h}=this.props,{schemaUtils:p,schema:i,retrievedSchema:u}=this.state;(bt(r)||Array.isArray(r))&&(r=this.getStateFromProps(this.props,r,u).formData);const f=!c&&d;let y={formData:r,schema:i},g=r;if(o===!0&&l===!0&&(g=this.omitExtraData(r),y={formData:g}),f){const b=this.validate(g,i,p,u);let S=b.errors,x=b.errorSchema;const C=S,v=x;if(a){const F=tt(b,a);x=F.errorSchema,S=F.errors}if(n){const F=this.filterErrorsBasedOnSchema(n,u,g);x=Ce(x,F,"preventDuplicates")}y={formData:g,errors:S,errorSchema:x,schemaValidationErrors:C,schemaValidationErrorSchema:v}}else if(!c&&n){const b=a?Ce(n,a,"preventDuplicates"):n;y={formData:g,errorSchema:b,errors:Ke(b)}}this.setState(y,()=>h&&h({...this.state,...y},s))},this.reset=()=>{const{onChange:r}=this.props,a={formData:this.getStateFromProps(this.props,void 0).formData,errorSchema:{},errors:[],schemaValidationErrors:[],schemaValidationErrorSchema:{}};this.setState(a,()=>r&&r({...this.state,...a}))},this.onBlur=(r,n)=>{const{onBlur:s}=this.props;s&&s(r,n)},this.onFocus=(r,n)=>{const{onFocus:s}=this.props;s&&s(r,n)},this.onSubmit=r=>{if(r.preventDefault(),r.target!==r.currentTarget)return;r.persist();const{omitExtraData:n,extraErrors:s,noValidate:a,onSubmit:o}=this.props;let{formData:l}=this.state;if(n===!0&&(l=this.omitExtraData(l)),a||this.validateFormWithFormData(l)){const c=s||{},d=s?Ke(s):[];this.setState({formData:l,errors:d,errorSchema:c,schemaValidationErrors:[],schemaValidationErrorSchema:{}},()=>{o&&o({...this.state,formData:l,status:"submitted"},r)})}},this.submit=()=>{if(this.formElement.current){const r=new CustomEvent("submit",{cancelable:!0});r.preventDefault(),this.formElement.current.dispatchEvent(r),this.formElement.current.requestSubmit()}},this.validateFormWithFormData=r=>{const{extraErrors:n,extraErrorsBlockSubmit:s,focusOnFirstError:a,onError:o}=this.props,{errors:l}=this.state,c=this.validate(r);let d=c.errors,h=c.errorSchema;const p=d,i=h,u=d.length>0||n&&s;if(u){if(n){const f=tt(c,n);h=f.errorSchema,d=f.errors}a&&(typeof a=="function"?a(d[0]):this.focusOnError(d[0])),this.setState({errors:d,errorSchema:h,schemaValidationErrors:p,schemaValidationErrorSchema:i},()=>{o?o(d):console.error("Form validation failed",d)})}else l.length>0&&this.setState({errors:[],errorSchema:{},schemaValidationErrors:[],schemaValidationErrorSchema:{}});return!u},!e.validator)throw new Error("A validator is required for Form functionality to work");this.state=this.getStateFromProps(e,e.formData),this.props.onChange&&!M(this.state.formData,this.props.formData)&&this.props.onChange(this.state),this.formElement=O.createRef()}getSnapshotBeforeUpdate(e,r){if(!M(this.props,e)){const n=!M(e.schema,this.props.schema),s=!M(e.formData,this.props.formData),a=this.getStateFromProps(this.props,this.props.formData,n||s?void 0:this.state.retrievedSchema,n),o=!M(a,r);return{nextState:a,shouldUpdate:o}}return{shouldUpdate:!1}}componentDidUpdate(e,r,n){if(n.shouldUpdate){const{nextState:s}=n;!M(s.formData,this.props.formData)&&!M(s.formData,r.formData)&&this.props.onChange&&this.props.onChange(s),this.setState(s)}}getStateFromProps(e,r,n,s=!1){var a;const o=this.state||{},l="schema"in e?e.schema:this.props.schema,c=("uiSchema"in e?e.uiSchema:this.props.uiSchema)||{},d=typeof r<"u",h="liveValidate"in e?e.liveValidate:this.props.liveValidate,p=d&&!e.noValidate&&h,i=l,u="experimental_defaultFormStateBehavior"in e?e.experimental_defaultFormStateBehavior:this.props.experimental_defaultFormStateBehavior,f="experimental_customMergeAllOf"in e?e.experimental_customMergeAllOf:this.props.experimental_customMergeAllOf;let y=o.schemaUtils;(!y||y.doesSchemaUtilsDiffer(e.validator,i,u,f))&&(y=qn(e.validator,i,u,f));const g=y.getDefaultFormState(l,r),b=n??y.retrieveSchema(l,g),S=()=>e.noValidate||s?{errors:[],errorSchema:{}}:e.liveValidate?{errors:o.errors||[],errorSchema:o.errorSchema||{}}:{errors:o.schemaValidationErrors||[],errorSchema:o.schemaValidationErrorSchema||{}};let x,C,v=o.schemaValidationErrors,F=o.schemaValidationErrorSchema;if(p){const E=this.validate(g,l,y,b);x=E.errors,n===void 0?C=E.errorSchema:C=Ce((a=this.state)===null||a===void 0?void 0:a.errorSchema,E.errorSchema,"preventDuplicates"),v=x,F=C}else{const E=S();x=E.errors,C=E.errorSchema}if(e.extraErrors){const E=tt({errorSchema:C,errors:x},e.extraErrors);C=E.errorSchema,x=E.errors}const w=y.toIdSchema(b,c["ui:rootFieldId"],g,e.idPrefix,e.idSeparator);return{schemaUtils:y,schema:l,uiSchema:c,idSchema:w,formData:g,edit:d,errors:x,errorSchema:C,schemaValidationErrors:v,schemaValidationErrorSchema:F,retrievedSchema:b}}shouldComponentUpdate(e,r){return ns(this,e,r)}validate(e,r=this.props.schema,n,s){const a=n||this.state.schemaUtils,{customValidate:o,transformErrors:l,uiSchema:c}=this.props,d=s??a.retrieveSchema(r,e);return a.getValidator().validateFormData(e,d,o,l,c)}renderErrors(e){const{errors:r,errorSchema:n,schema:s,uiSchema:a}=this.state,{formContext:o}=this.props,l=_(a),c=U("ErrorListTemplate",e,l);return r&&r.length?m.jsx(c,{errors:r,errorSchema:n||{},schema:s,uiSchema:a,formContext:o,registry:e}):null}filterErrorsBasedOnSchema(e,r,n){const{retrievedSchema:s,schemaUtils:a}=this.state,o=r??s,l=a.toPathSchema(o,"",n),c=this.getFieldNames(l,n),d=It(e,c);(r==null?void 0:r.type)!=="object"&&(r==null?void 0:r.type)!=="array"&&(d.__errors=e.__errors);const h=p=>(Bn(p,(i,u)=>{$n(i)?delete p[u]:typeof i=="object"&&!Array.isArray(i.__errors)&&h(i)}),p);return h(d)}getRegistry(){var e;const{translateString:r,uiSchema:n={}}=this.props,{schemaUtils:s}=this.state,{fields:a,templates:o,widgets:l,formContext:c,translateString:d}=Fa();return{fields:{...a,...this.props.fields},templates:{...o,...this.props.templates,ButtonTemplates:{...o.ButtonTemplates,...(e=this.props.templates)===null||e===void 0?void 0:e.ButtonTemplates}},widgets:{...l,...this.props.widgets},rootSchema:this.props.schema,formContext:this.props.formContext||c,schemaUtils:s,translateString:r||d,globalUiOptions:n[Nn]}}focusOnError(e){const{idPrefix:r="root",idSeparator:n="_"}=this.props,{property:s}=e,a=Tn(s);a[0]===""?a[0]=r:a.unshift(r);const o=a.join(n);let l=this.formElement.current.elements[o];l||(l=this.formElement.current.querySelector(`input[id^="${o}"`)),l&&l.length&&(l=l[0]),l&&l.focus()}validateForm(){const{omitExtraData:e}=this.props;let{formData:r}=this.state;return e===!0&&(r=this.omitExtraData(r)),this.validateFormWithFormData(r)}render(){const{children:e,id:r,idPrefix:n,idSeparator:s,className:a="",tagName:o,name:l,method:c,target:d,action:h,autoComplete:p,enctype:i,acceptcharset:u,acceptCharset:f,noHtml5Validate:y=!1,disabled:g,readonly:b,formContext:S,showErrorList:x="top",_internalFormWrapper:C}=this.props,{schema:v,uiSchema:F,formData:w,errorSchema:k,idSchema:E}=this.state,j=this.getRegistry(),{SchemaField:T}=j.fields,{SubmitButton:B}=j.templates.ButtonTemplates,I=C?o:void 0,L=C||o||"form";let{[Me]:N={}}=_(F);g&&(N={...N,props:{...N.props,disabled:!0}});const P={[Pe]:{[Me]:N}};return m.jsxs(L,{className:a||"rjsf",id:r,name:l,method:c,target:d,action:h,autoComplete:p,encType:i,acceptCharset:f||u,noValidate:y,onSubmit:this.onSubmit,as:I,ref:this.formElement,children:[x==="top"&&this.renderErrors(j),m.jsx(T,{name:"",schema:v,uiSchema:F,errorSchema:k,idSchema:E,idPrefix:n,idSeparator:s,formContext:S,formData:w,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,registry:j,disabled:g,readonly:b}),e||m.jsx(B,{uiSchema:P,registry:j}),x==="bottom"&&this.renderErrors(j)]})}}const va="*";function Be(t){const{label:e,required:r,id:n}=t;return e?m.jsxs("label",{className:"control-label",htmlFor:n,children:[Jr(e),r&&m.jsx("span",{className:"required",children:va})]}):null}function ja(t){const{id:e,label:r,children:n,errors:s,help:a,description:o,hidden:l,required:c,displayLabel:d,registry:h,uiSchema:p}=t,i=_(p,h.globalUiOptions),u=U("WrapIfAdditionalTemplate",h,i);return l?m.jsx("div",{className:"hidden",children:n}):m.jsxs(u,{...t,children:[m.jsxs("div",{className:"flex flex-col flex-grow gap-2 additional",children:[m.jsx("div",{className:pt("flex flex-grow additional-children",i.flexDirection==="row"?"flex-row items-center gap-3":"flex-col flex-grow gap-2"),children:n}),d&&o?o:null]}),s,a]})}function wa({formData:t,onChange:e,disabled:r,readonly:n,...s}){const a=JSON.stringify(t,null,2);function o(d){try{e(JSON.parse(d))}catch(h){console.error(h)}}const l=r||n,c=s.idSchema.$id;return m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(Be,{label:s.name,id:c}),m.jsx(Gr,{value:a,editable:!l,onChange:o})]})}class qt extends O.Component{constructor(r){super(r);wt(this,"onOptionChange",r=>{const{selectedOption:n,retrievedOptions:s}=this.state,{formData:a,onChange:o,registry:l}=this.props;console.log("onOptionChange",{state:{selectedOption:n,retrievedOptions:s},option:r});const{schemaUtils:c}=l,d=r!==void 0?Number.parseInt(r,10):-1;if(d===n)return;const h=d>=0?s[d]:void 0,p=n>=0?s[n]:void 0;let i=c.sanitizeDataForNewSchema(h,p,a);i&&h&&(i=c.getDefaultFormState(h,i,"excludeObjectChildren")),o(i,void 0,this.getFieldId()),this.setState({selectedOption:d})});const{formData:n,options:s,registry:{schemaUtils:a}}=this.props,o=s.map(l=>a.retrieveSchema(l,n));this.state={retrievedOptions:o,selectedOption:this.getMatchingOption(0,n,o)}}componentDidUpdate(r,n){const{formData:s,options:a,idSchema:o}=this.props,{selectedOption:l}=this.state;let c=this.state;if(!M(r.options,a)){const{registry:{schemaUtils:d}}=this.props,h=a.map(p=>d.retrieveSchema(p,s));c={selectedOption:l,retrievedOptions:h}}if(!M(s,r.formData)&&o.$id===r.idSchema.$id){const{retrievedOptions:d}=c,h=this.getMatchingOption(l,s,d);n&&h!==l&&(c={selectedOption:h,retrievedOptions:d})}c!==this.state&&this.setState(c)}getMatchingOption(r,n,s){const{schema:a,registry:{schemaUtils:o}}=this.props,l=St(a);return o.getClosestMatchingOption(n,s,r,l)}getFieldId(){const{idSchema:r,schema:n}=this.props;return`${r.$id}${n.oneOf?"__oneof_select":"__anyof_select"}`}render(){const{name:r,disabled:n=!1,errorSchema:s={},formContext:a,onBlur:o,onFocus:l,registry:c,schema:d,uiSchema:h,readonly:p}=this.props,{widgets:i,fields:u,translateString:f,globalUiOptions:y,schemaUtils:g}=c,{SchemaField:b}=u,{selectedOption:S,retrievedOptions:x}=this.state,{widget:C="select",placeholder:v,autofocus:F,autocomplete:w,title:k=d.title,flexDirection:E,wrap:j,...T}=_(h,y),B=ee({type:"number"},C,i),I=R(s,z,[]),L=Qr(s,[z]),N=g.getDisplayLabel(d,h,y),P=S>=0&&x[S]||null;let V;if(P){const{required:ie}=d;V=ie?er({required:ie},P):P}let $=[];Q in d&&h&&Q in h?Array.isArray(h[Q])?$=h[Q]:console.warn(`uiSchema.oneOf is not an array for "${k||r}"`):X in d&&h&&X in h&&(Array.isArray(h[X])?$=h[X]:console.warn(`uiSchema.anyOf is not an array for "${k||r}"`));let D=h;S>=0&&$.length>S&&(D=$[S]);const q=k?W.TitleOptionPrefix:W.OptionPrefix,H=k?[k]:[],se=x.map((ie,xe)=>{const{title:we=ie.title}=_($[xe]);return{label:we||f(q,H.concat(String(xe+1))),value:xe}}),G=V&&m.jsx(b,{...this.props,schema:V,uiSchema:{...D,"ui:options":{...D==null?void 0:D["ui:options"],hideLabel:!0}}});return m.jsxs("div",{className:pt("panel multischema flex",E==="row"?"flex-row gap-3":"flex-col gap-2"),children:[m.jsxs("div",{className:"flex flex-row gap-2 items-center panel-select",children:[m.jsx(Be,{label:this.props.name,required:this.props.required,id:this.getFieldId()}),m.jsx(B,{id:this.getFieldId(),name:`${r}${d.oneOf?"__oneof_select":"__anyof_select"}`,schema:{type:"number",default:0},onChange:this.onOptionChange,onBlur:o,onFocus:l,disabled:n||xt(se)||p,multiple:!1,rawErrors:I,errorSchema:L,value:S>=0?S:void 0,options:{enumOptions:se,...T},registry:c,formContext:a,placeholder:v,autocomplete:w,autofocus:F,label:"",hideLabel:!N})]}),j?m.jsx("fieldset",{children:G}):G]})}}function ka({formData:t,onChange:e,disabled:r,readonly:n,...s}){function a(c){e(c)}const o=r||n,l=s.idSchema.$id;return m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsx(Be,{label:s.name,id:l}),m.jsx(Zr,{value:t,editable:!o,onChange:a})]})}const Oa={AnyOfField:qt,OneOfField:qt,JsonField:wa,HtmlField:ka};function Da(t){const{children:e,className:r,disabled:n,hasToolbar:s,hasMoveDown:a,hasMoveUp:o,hasRemove:l,hasCopy:c,index:d,onCopyIndexClick:h,onDropIndexClick:p,onReorderClick:i,readonly:u,registry:f,uiSchema:y}=t,{CopyButton:g,MoveDownButton:b,MoveUpButton:S,RemoveButton:x}=f.templates.ButtonTemplates;return m.jsxs("div",{className:pt("flex flex-row w-full overflow-hidden",r),children:[s&&m.jsxs("div",{className:"flex flex-col gap-1 p-1 mr-2",children:[(o||a)&&m.jsx(S,{disabled:n||u||!o,onClick:i(d,d-1),uiSchema:y,registry:f}),(o||a)&&m.jsx(b,{disabled:n||u||!a,onClick:i(d,d+1),uiSchema:y,registry:f}),c&&m.jsx(g,{disabled:n||u,onClick:h(d),uiSchema:y,registry:f}),l&&m.jsx(x,{disabled:n||u,onClick:p(d),uiSchema:y,registry:f})]}),m.jsx("div",{className:"flex flex-col flex-grow",children:e})]})}function Aa(t){const{canAdd:e,className:r,disabled:n,idSchema:s,uiSchema:a,items:o,onAddClick:l,readonly:c,registry:d,required:h,schema:p,title:i}=t,u=_(a),f=U("ArrayFieldDescriptionTemplate",d,u),y=U("ArrayFieldItemTemplate",d,u),g=U("ArrayFieldTitleTemplate",d,u),{ButtonTemplates:{AddButton:b}}=d.templates;return m.jsxs("fieldset",{className:r,id:s.$id,children:[m.jsx(g,{idSchema:s,title:u.title||i,required:h,schema:p,uiSchema:a,registry:d}),m.jsx(f,{idSchema:s,description:u.description||p.description,schema:p,uiSchema:a,registry:d}),o&&o.length>0&&m.jsx("div",{className:"flex flex-col gap-3 array-items",children:o.map(({key:S,children:x,...C})=>{const v=O.cloneElement(x,{...x.props,name:void 0,title:void 0});return m.jsx(y,{...C,children:v},S)})}),e&&m.jsx(b,{className:"array-item-add",onClick:l,disabled:n||c,uiSchema:a,registry:d})]})}function Ea(t){var T,B;const{id:e,name:r,value:n,readonly:s,disabled:a,autofocus:o,onBlur:l,onFocus:c,onChange:d,onChangeOverride:h,options:p,schema:i,uiSchema:u,formContext:f,registry:y,rawErrors:g,type:b,hideLabel:S,hideError:x,...C}=t;if(!e)throw console.log("No id for",t),new Error(`no id for props ${JSON.stringify(t)}`);const v={...C,...cr(i,b,p)};let F;v.type==="number"||v.type==="integer"?F=n||n===0?n:"":F=n??"";const w=O.useCallback(({target:{value:I}})=>d(I===""?p.emptyValue:I),[d,p]),k=O.useCallback(({target:I})=>l(e,I==null?void 0:I.value),[l,e]),E=O.useCallback(({target:I})=>c(e,I==null?void 0:I.value),[c,e]),j=!t.label||((T=u["ui:options"])==null?void 0:T.hideLabel)||((B=t.options)==null?void 0:B.hideLabel)||t.hideLabel;return m.jsxs(m.Fragment,{children:[!j&&m.jsx(Be,{label:t.label,required:t.required,id:e}),m.jsx("input",{id:e,name:e,className:"form-control",readOnly:s,disabled:a,autoFocus:o,value:F,...v,placeholder:t.label,list:i.examples?qe(e):void 0,onChange:h||w,onBlur:k,onFocus:E,"aria-describedby":te(e,!!i.examples)}),Array.isArray(i.examples)&&m.jsx("datalist",{id:qe(e),children:i.examples.concat(i.default&&!i.examples.includes(i.default)?[i.default]:[]).map(I=>m.jsx("option",{value:I},I))},`datalist_${e}`)]})}const Ia=({onClick:t,disabled:e,...r})=>m.jsx("div",{className:"flex flex-row",children:m.jsx(Xr,{onClick:t,disabled:e,IconLeft:en,children:"Add"})}),Na=({onClick:t,disabled:e,...r})=>m.jsx("div",{className:"flex flex-row",children:m.jsx(gt,{onClick:t,disabled:e,Icon:tn})}),Ta=({onClick:t,disabled:e,...r})=>m.jsx("div",{className:"flex flex-row",children:m.jsx(gt,{onClick:t,disabled:e,Icon:rn})}),Ba=({onClick:t,disabled:e,...r})=>m.jsx("div",{className:"flex flex-row",children:m.jsx(gt,{onClick:t,disabled:e,Icon:nn})}),$a=Object.freeze(Object.defineProperty({__proto__:null,AddButton:Ia,MoveDownButton:Ba,MoveUpButton:Ta,RemoveButton:Na},Symbol.toStringTag,{value:"Module"}));function Ua(t){const{description:e,disabled:r,formData:n,idSchema:s,onAddClick:a,properties:o,readonly:l,registry:c,required:d,schema:h,title:p,uiSchema:i}=t,u=_(i),f=U("TitleFieldTemplate",c,u),y=U("DescriptionFieldTemplate",c,u),g=rr(h,i,n);if(o.length===0&&!g)return null;const{ButtonTemplates:{AddButton:b}}=c.templates;return m.jsx(m.Fragment,{children:m.jsxs("fieldset",{id:s.$id,className:"object-field",children:[p&&m.jsx(f,{id:Ft(s),title:p,required:d,schema:h,uiSchema:i,registry:c}),e&&m.jsx(y,{id:Ie(s),description:e,schema:h,uiSchema:i,registry:c}),o.map(S=>S.content),g&&m.jsx(b,{className:"object-property-expand",onClick:a(h),disabled:r||l,uiSchema:i,registry:c})]})})}function _a(t){const{id:e,title:r,required:n}=t;return m.jsx("legend",{id:e,className:"title-field",children:sn(r)})}function Pa(t){const{id:e,classNames:r,style:n,disabled:s,label:a,onKeyChange:o,onDropPropertyClick:l,readonly:c,required:d,schema:h,children:p,uiSchema:i,registry:u}=t,{templates:f,translateString:y}=u,{RemoveButton:g}=f.ButtonTemplates;y(W.KeyLabel,[a]);const b=He in h,[S,x]=O.useState(!0);return b?m.jsx("div",{className:r,style:n,children:m.jsx("div",{className:"flex flex-col",children:m.jsxs("fieldset",{children:[m.jsxs("legend",{className:"flex flex-row justify-between gap-3",children:[m.jsx(g,{className:"array-item-remove btn-block",style:{border:"0"},disabled:s||c,onClick:l(a),uiSchema:i,registry:u}),m.jsx("div",{className:"form-group",children:m.jsx("input",{className:"form-control",type:"text",id:`${e}-key`,onBlur:C=>o(C.target.value),defaultValue:a})}),m.jsx("button",{onClick:()=>x(C=>!C),children:S?"collapse":"expand"})]}),S&&m.jsx("div",{className:"form-additional additional-start form-group",children:p})]})})}):m.jsx("div",{className:r,style:n,children:p})}const Ra={ButtonTemplates:$a,ArrayFieldItemTemplate:Da,ArrayFieldTemplate:Aa,FieldTemplate:ja,TitleFieldTemplate:_a,ObjectFieldTemplate:Ua,BaseInputTemplate:Ea,WrapIfAdditionalTemplate:Pa},he=(t,e)=>t===e,Wa=t=>Yt(t)||gn(t)||yn(t),La=t=>Y(t)&&be(t.enum)&&t.enum.every(e=>Wa(e)),Ma=t=>Y(t)&&be(t.allOf),Va=t=>Y(t)&&be(t.anyOf),qa=t=>Y(t)&&be(t.oneOf),Ka=t=>Y(t)&&he(t.type,"array")&&be(t.items),Ha=t=>Y(t)&&he(t.type,"array")&&!be(t.items)&&Y(t.items),Ya=t=>Y(t)&&Y(t.const),za=t=>Y(t)&&he(t.type,"string"),Ja=t=>Y(t)&&he(t.type,"number"),Ga=t=>Y(t)&&he(t.type,"integer"),Qa=t=>Y(t)&&he(t.type,"boolean"),Za=t=>Y(t)&&he(t.type,"null"),Xa=t=>Y(t),eo=t=>Y(t)&&he(t.type,"object")&&Xa(t.properties)&&(t.required===void 0||be(t.required)&&t.required.every(e=>Yt(e)));function Ge(t){return t.map(e=>ve(e))}function to(t){return t.map(e=>Ht(e))}function ro(t){return mn(Ge(t.allOf),t)}function no(t){return yt(Ge(t.anyOf),t)}function so(t){return yt(Ge(t.oneOf),t)}function io(t){return yt(to(t.enum))}function ao(t){return fn(Ge(t.items),t)}function oo(t){return pn(ve(t.items),t)}function lo(t){return Ht(t.const,t)}function co(t){const e=globalThis.Object.getOwnPropertyNames(t.properties).reduce((r,n)=>({...r,[n]:t.required&&t.required.includes(n)?ve(t.properties[n]):hn(ve(t.properties[n]))}),{});return"additionalProperties"in t?kt(e,{additionalProperties:ve(t.additionalProperties)}):kt(e,t)}function ve(t){return Ma(t)?ro(t):Va(t)?no(t):qa(t)?so(t):La(t)?io(t):eo(t)?co(t):Ka(t)?ao(t):Ha(t)?oo(t):Ya(t)?lo(t):za(t)?an(t):Ja(t)?on(t):Ga(t)?ln(t):Qa(t)?cn(t):Za(t)?dn(t):un(t||{})}class uo{rawValidation(e,r){const n=ve(e);return bn(n,r)?{errors:[],validationError:null}:{errors:[...xn(n,r)],validationError:null}}validateFormData(e,r,n,s,a){const{errors:o}=this.rawValidation(r,e),l=o.map(c=>{const d=c.path.substring(1).split("/").join(".");return{name:"any",message:c.message,property:"."+d,schemaPath:c.path,stack:c.message}});return{errors:l,errorSchema:ss(l)}}isValid(e,r,n){return this.rawValidation(e,r).errors.length===0}toErrorList(){return[]}}function mo({schema:t,uiSchema:e,options:r,id:n,value:s,disabled:a,readonly:o,label:l,hideLabel:c,autofocus:d=!1,onBlur:h,onFocus:p,onChange:i,registry:u,...f}){const y=O.useCallback(g=>i(g.target.checked),[i]);return m.jsx(Sn,{id:n,onChange:y,defaultChecked:s,disabled:a||o,label:l.toLowerCase()===f.name.toLowerCase()?void 0:l})}function ho({id:t,disabled:e,options:{inline:r=!1,enumOptions:n,enumDisabled:s,emptyValue:a},value:o,autofocus:l=!1,readonly:c,onChange:d,onBlur:h,onFocus:p}){const i=Array.isArray(o)?o:[o],u=O.useCallback(({target:y})=>h(t,K(y==null?void 0:y.value,n,a)),[h,t]),f=O.useCallback(({target:y})=>p(t,K(y==null?void 0:y.value,n,a)),[p,t]);return m.jsx("div",{className:"checkboxes",id:t,children:Array.isArray(n)&&n.map((y,g)=>{const b=Ne(y.value,i),S=Array.isArray(s)&&s.indexOf(y.value)!==-1,x=e||S||c?"disabled":"",C=F=>{F.target.checked?d(lr(g,i,n)):d(ar(g,i,n))},v=m.jsxs("span",{children:[m.jsx("input",{type:"checkbox",id:Ye(t,g),name:t,checked:b,value:String(g),disabled:e||S||c,autoFocus:l&&g===0,onChange:C,onBlur:u,onFocus:f,"aria-describedby":te(t)}),m.jsx("span",{children:y.label})]});return r?m.jsx("label",{className:`checkbox-inline ${x}`,children:v},g):m.jsx("div",{className:`checkbox ${x}`,children:m.jsx("label",{children:v})},g)})})}function fo({value:t,onChange:e,disabled:r,readonly:n,...s}){const[a,o]=O.useState(JSON.stringify(t,null,2));function l(c){o(c.target.value);try{e(JSON.parse(c.target.value))}catch(d){console.error(d)}}return m.jsx("textarea",{value:a,rows:10,disabled:r||n,onChange:l})}function po({options:t,value:e,required:r,disabled:n,readonly:s,autofocus:a=!1,onBlur:o,onFocus:l,onChange:c,id:d}){const{enumOptions:h,enumDisabled:p,inline:i,emptyValue:u}=t,f=O.useCallback(({target:{value:g}})=>o(d,K(g,h,u)),[o,d]),y=O.useCallback(({target:{value:g}})=>l(d,K(g,h,u)),[l,d]);return m.jsx("div",{className:"field-radio-group",id:d,children:Array.isArray(h)&&h.map((g,b)=>{const S=Ne(g.value,e),x=Array.isArray(p)&&p.indexOf(g.value)!==-1,C=n||x||s?"disabled":"",v=()=>c(g.value),F=m.jsxs("span",{children:[m.jsx("input",{type:"radio",id:Ye(d,b),checked:S,name:d,required:r,value:String(b),disabled:n||x||s,autoFocus:a&&b===0,onChange:v,onBlur:f,onFocus:y,"aria-describedby":te(d)}),m.jsx("span",{children:g.label})]});return i?m.jsx("label",{className:`radio-inline ${S?"checked":""} ${C}`,children:F},b):m.jsx("div",{className:`radio ${S?"checked":""} ${C}`,children:m.jsx("label",{children:F})},b)})})}function lt(t,e){return e?Array.from(t.target.options).slice().filter(r=>r.selected).map(r=>r.value):t.target.value}function go({schema:t,id:e,options:r,value:n,required:s,disabled:a,readonly:o,multiple:l=!1,autofocus:c=!1,onChange:d,onBlur:h,onFocus:p,placeholder:i}){const{enumOptions:u,enumDisabled:f,emptyValue:y}=r,g=l?[]:"",b=O.useCallback(F=>{const w=lt(F,l);return p(e,K(w,u,y))},[p,e,t,l,u,y]),S=O.useCallback(F=>{const w=lt(F,l);return h(e,K(w,u,y))},[h,e,t,l,u,y]),x=O.useCallback(F=>{const w=lt(F,l);return d(K(w,u,y))},[d,t,l,u,y]),C=or(n,u,l),v=!l&&t.default===void 0;return m.jsxs("select",{id:e,name:e,multiple:l,className:"form-control",value:typeof C>"u"?g:C,required:s,disabled:a||o,autoFocus:c,onBlur:S,onFocus:b,onChange:x,"aria-describedby":te(e),children:[v&&m.jsx("option",{value:"",children:i}),Array.isArray(u)&&u.map(({value:F,label:w},k)=>{const E=f&&f.indexOf(F)!==-1;return m.jsx("option",{value:String(k),disabled:E,children:w},k)})]})}const Ue=(t,e)=>r=>{var s,a;const n=!r.label||((s=r.uiSchema["ui:options"])==null?void 0:s.hideLabel)||((a=r.options)==null?void 0:a.hideLabel)||r.hideLabel;return m.jsxs(m.Fragment,{children:[!n&&m.jsx(Be,{label:r.label,required:r.required,id:r.id}),m.jsx(t,{...r})]})},yo={RadioWidget:po,CheckboxWidget:Ue(mo),SelectWidget:Ue(go),CheckboxesWidget:Ue(ho),JsonWidget:Ue(fo)},Kt=new uo,Co=O.forwardRef(({className:t,direction:e="vertical",schema:r,onChange:n,uiSchema:s,templates:a,fields:o,widgets:l,cleanOnChange:c,...d},h)=>{const p=O.useRef(null),i=O.useId(),[u,f]=O.useState(d.formData),y=({formData:F},w)=>{var k;return w.preventDefault(),console.log("Data submitted: ",F),(k=d.onSubmit)==null||k.call(d,F),!1},g=({formData:F},w)=>{const k=c!==!1?JSON.parse(JSON.stringify(F)):F;console.log("Data changed: ",k,{cleanOnChange:c}),f(k),n==null||n(k,()=>b(k))},b=F=>Kt.validateFormData(F,r).errors.length===0;O.useImperativeHandle(h,()=>({formData:()=>u,validateForm:()=>p.current.validateForm(),silentValidate:()=>b(u),cancel:()=>p.current.reset()}),[u]);const S={...s,"ui:globalOptions":{...s==null?void 0:s["ui:globalOptions"],enableMarkdownInDescription:!0},"ui:submitButtonOptions":{norender:!0}},x={...Oa,...o},C={...Ra,...a},v={...yo,...l};return m.jsx(Ca,{tagName:"div",idSeparator:"--",idPrefix:i,...d,ref:p,className:["json-form",e,t].join(" "),showErrorList:!1,schema:r,fields:x,templates:C,widgets:v,uiSchema:S,onChange:g,onSubmit:y,validator:Kt})});export{Co as JsonSchemaForm};
